ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 1
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"Srv_Actuator.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.SrvActuator_SetMotoSpinDir,"ax",%progbits
  17              		.align	1
  18              		.arch armv7e-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv5-d16
  24              	SrvActuator_SetMotoSpinDir:
  25              	.LVL0:
  26              	.LFB156:
  27              		.file 1 "Service/Srv_Actuator.c"
   1:Service/Srv_Actuator.c **** /*
   2:Service/Srv_Actuator.c ****  * For MATEK H743 Flight Controller Hardware
   3:Service/Srv_Actuator.c ****  * S1   PB0     TIM3    CH3 DMA1 Stream0
   4:Service/Srv_Actuator.c ****  * S2   PB1     TIM3    CH4 DMA1 Stream1
   5:Service/Srv_Actuator.c ****  * S3   PA0     TIM5    CH1 DMA1 Stream2
   6:Service/Srv_Actuator.c ****  * S4   PA1     TIM5    CH2 DMA1 Stream3
   7:Service/Srv_Actuator.c ****  * S5   PA2     TIM5    CH3
   8:Service/Srv_Actuator.c ****  * S6   PA3     TIM5    CH4
   9:Service/Srv_Actuator.c ****  * S7   PD12    TIM4    CH1
  10:Service/Srv_Actuator.c ****  * S8   PD13    TIM4    CH2
  11:Service/Srv_Actuator.c ****  * S9   PD14    TIM4    CH3
  12:Service/Srv_Actuator.c ****  * S10  PD15    TIM4    CH4 NO DMA
  13:Service/Srv_Actuator.c ****  * S11  PE5     TIM15   CH1
  14:Service/Srv_Actuator.c ****  * S12  PE6     TIM15   CH2
  15:Service/Srv_Actuator.c ****  */
  16:Service/Srv_Actuator.c **** #include "Srv_Actuator.h"
  17:Service/Srv_Actuator.c **** #include "Srv_DataHub.h"
  18:Service/Srv_Actuator.c **** #include "runtime.h"
  19:Service/Srv_Actuator.c **** #include "datapipe.h"
  20:Service/Srv_Actuator.c **** #include "mmu.h"
  21:Service/Srv_Actuator.c **** 
  22:Service/Srv_Actuator.c **** const SrvActuator_PeriphSet_TypeDef SrvActuator_Periph_List[Actuator_PWM_SigSUM] = {
  23:Service/Srv_Actuator.c ****     SRVACTUATOR_PB0_SIG_1,
  24:Service/Srv_Actuator.c ****     SRVACTUATOR_PB1_SIG_2,
  25:Service/Srv_Actuator.c ****     SRVACTUATOR_PA0_SIG_3,
  26:Service/Srv_Actuator.c ****     SRVACTUATOR_PA1_SIG_4,
  27:Service/Srv_Actuator.c ****     SRVACTUATOR_PA2_SIG_5,
  28:Service/Srv_Actuator.c ****     SRVACTUATOR_PA3_SIG_6,
  29:Service/Srv_Actuator.c ****     SRVACTUATOR_PD12_SIG_7,
  30:Service/Srv_Actuator.c ****     SRVACTUATOR_PD13_SIG_8,
  31:Service/Srv_Actuator.c ****     SRVACTUATOR_PD14_SIG_9,
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 2


  32:Service/Srv_Actuator.c ****     SRVACTUATOR_PD15_SIG_10,
  33:Service/Srv_Actuator.c ****     SRVACTUATOR_PE5_SIG_11,
  34:Service/Srv_Actuator.c ****     SRVACTUATOR_PE6_SIG_12};
  35:Service/Srv_Actuator.c **** 
  36:Service/Srv_Actuator.c **** const uint8_t default_sig_serial[Actuator_PWM_SigSUM] = {
  37:Service/Srv_Actuator.c ****     Actuator_PWM_Sig1,
  38:Service/Srv_Actuator.c ****     Actuator_PWM_Sig2,
  39:Service/Srv_Actuator.c ****     Actuator_PWM_Sig3,
  40:Service/Srv_Actuator.c ****     Actuator_PWM_Sig4,
  41:Service/Srv_Actuator.c ****     Actuator_PWM_Sig5,
  42:Service/Srv_Actuator.c ****     Actuator_PWM_Sig6,
  43:Service/Srv_Actuator.c ****     Actuator_PWM_Sig7,
  44:Service/Srv_Actuator.c ****     Actuator_PWM_Sig8,
  45:Service/Srv_Actuator.c ****     Actuator_PWM_Sig9,
  46:Service/Srv_Actuator.c ****     Actuator_PWM_Sig10,
  47:Service/Srv_Actuator.c ****     Actuator_PWM_Sig11,
  48:Service/Srv_Actuator.c ****     Actuator_PWM_Sig12,
  49:Service/Srv_Actuator.c **** };
  50:Service/Srv_Actuator.c **** 
  51:Service/Srv_Actuator.c **** /* internal variable */
  52:Service/Srv_Actuator.c **** SrvActuatorObj_TypeDef SrvActuator_Obj;
  53:Service/Srv_Actuator.c **** SrcActuatorCTL_Obj_TypeDef SrvActuator_ControlStream;
  54:Service/Srv_Actuator.c **** SrvActuatorPipeData_TypeDef Proto_Actuator_Data;
  55:Service/Srv_Actuator.c **** 
  56:Service/Srv_Actuator.c **** DataPipe_CreateDataObj(SrvActuatorPipeData_TypeDef, Actuator_Data);
  57:Service/Srv_Actuator.c **** 
  58:Service/Srv_Actuator.c **** /* internal function */
  59:Service/Srv_Actuator.c **** static void SrcActuator_Get_ChannelRemap(void);
  60:Service/Srv_Actuator.c **** static bool SrvActuator_Config_MotoSpinDir(void);
  61:Service/Srv_Actuator.c **** static void SrvActuator_PipeData(void);
  62:Service/Srv_Actuator.c **** static bool SrvActuator_QuadDrone_MotoMixControl(uint16_t *rc_ctl);
  63:Service/Srv_Actuator.c **** 
  64:Service/Srv_Actuator.c **** /* external function */
  65:Service/Srv_Actuator.c **** static bool SrvActuator_Init(SrvActuator_Model_List model, uint8_t esc_type);
  66:Service/Srv_Actuator.c **** static void SrvActuator_MotoControl(uint16_t *p_val);
  67:Service/Srv_Actuator.c **** static bool SrvActuator_InvertMotoSpinDir(uint8_t component_index);
  68:Service/Srv_Actuator.c **** static bool SrvActuator_Lock(void);
  69:Service/Srv_Actuator.c **** static SrvActuator_ModelComponentNum_TypeDef SrvActuator_Get_NumData(void);
  70:Service/Srv_Actuator.c **** static SrvActuator_Model_List SrvActuator_GetModel(void);
  71:Service/Srv_Actuator.c **** 
  72:Service/Srv_Actuator.c **** /* external variable */
  73:Service/Srv_Actuator.c **** SrvActuator_TypeDef SrvActuator = {
  74:Service/Srv_Actuator.c ****     .init = SrvActuator_Init,
  75:Service/Srv_Actuator.c ****     .lock = SrvActuator_Lock,
  76:Service/Srv_Actuator.c ****     .moto_control = SrvActuator_MotoControl,
  77:Service/Srv_Actuator.c ****     .invert_spin = SrvActuator_InvertMotoSpinDir,
  78:Service/Srv_Actuator.c ****     .get_cnt = SrvActuator_Get_NumData,
  79:Service/Srv_Actuator.c ****     .get_model = SrvActuator_GetModel,
  80:Service/Srv_Actuator.c **** };
  81:Service/Srv_Actuator.c **** 
  82:Service/Srv_Actuator.c **** static bool SrvActuator_Init(SrvActuator_Model_List model, uint8_t esc_type)
  83:Service/Srv_Actuator.c **** {
  84:Service/Srv_Actuator.c ****     uint8_t i = 0;
  85:Service/Srv_Actuator.c ****     memset(&SrvActuator_Obj, 0, sizeof(SrvActuator_Obj));
  86:Service/Srv_Actuator.c ****     memset(&SrvActuator_ControlStream, 0, sizeof(SrvActuator_ControlStream));
  87:Service/Srv_Actuator.c **** 
  88:Service/Srv_Actuator.c ****     switch (model)
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 3


  89:Service/Srv_Actuator.c ****     {
  90:Service/Srv_Actuator.c ****     case Model_Quad:
  91:Service/Srv_Actuator.c ****         SrvActuator_Obj.drive_module.num = QUAD_CONTROL_COMPONENT;
  92:Service/Srv_Actuator.c ****         break;
  93:Service/Srv_Actuator.c **** 
  94:Service/Srv_Actuator.c ****     case Model_Hex:
  95:Service/Srv_Actuator.c ****         SrvActuator_Obj.drive_module.num = HEX_CONTROL_COMPONENT;
  96:Service/Srv_Actuator.c ****         break;
  97:Service/Srv_Actuator.c **** 
  98:Service/Srv_Actuator.c ****     case Model_Oct:
  99:Service/Srv_Actuator.c ****         SrvActuator_Obj.drive_module.num = OCT_CONTROL_COMPONENT;
 100:Service/Srv_Actuator.c ****         break;
 101:Service/Srv_Actuator.c **** 
 102:Service/Srv_Actuator.c ****     case Model_X8:
 103:Service/Srv_Actuator.c ****         SrvActuator_Obj.drive_module.num = X8_CONTROL_COMPONENT;
 104:Service/Srv_Actuator.c ****         break;
 105:Service/Srv_Actuator.c **** 
 106:Service/Srv_Actuator.c ****     case Model_Y6:
 107:Service/Srv_Actuator.c ****         SrvActuator_Obj.drive_module.num = Y6_CONTROL_CONPONENT;
 108:Service/Srv_Actuator.c ****         break;
 109:Service/Srv_Actuator.c **** 
 110:Service/Srv_Actuator.c ****     case Model_Tri:
 111:Service/Srv_Actuator.c ****         SrvActuator_Obj.drive_module.num = TRI_CONTROL_COMPONENT;
 112:Service/Srv_Actuator.c ****         break;
 113:Service/Srv_Actuator.c **** 
 114:Service/Srv_Actuator.c ****     case Model_TDrone:
 115:Service/Srv_Actuator.c ****         SrvActuator_Obj.drive_module.num = TDRONE_CONTROL_COMPONENT;
 116:Service/Srv_Actuator.c ****         break;
 117:Service/Srv_Actuator.c **** 
 118:Service/Srv_Actuator.c ****     default:
 119:Service/Srv_Actuator.c ****         return false;
 120:Service/Srv_Actuator.c ****     }
 121:Service/Srv_Actuator.c **** 
 122:Service/Srv_Actuator.c ****     /* read in storage */
 123:Service/Srv_Actuator.c ****     /* current use default */
 124:Service/Srv_Actuator.c ****     SrvActuator_Obj.model = model;
 125:Service/Srv_Actuator.c **** 
 126:Service/Srv_Actuator.c ****     /* malloc dshot esc driver obj for using */
 127:Service/Srv_Actuator.c ****     SrvActuator_Obj.drive_module.obj_list = (SrvActuator_PWMOutObj_TypeDef *)MMU_Malloc(sizeof(SrvA
 128:Service/Srv_Actuator.c **** 
 129:Service/Srv_Actuator.c ****     if (SrvActuator_Obj.drive_module.obj_list == NULL)
 130:Service/Srv_Actuator.c ****     {
 131:Service/Srv_Actuator.c ****         MMU_Free(SrvActuator_Obj.drive_module.obj_list);
 132:Service/Srv_Actuator.c ****         return false;
 133:Service/Srv_Actuator.c ****     }
 134:Service/Srv_Actuator.c **** 
 135:Service/Srv_Actuator.c ****     if (SrvActuator_Obj.drive_module.num.moto_cnt)
 136:Service/Srv_Actuator.c ****     {
 137:Service/Srv_Actuator.c ****         /* default init */
 138:Service/Srv_Actuator.c ****         for (uint8_t i = 0; i < SrvActuator_Obj.drive_module.num.moto_cnt; i++)
 139:Service/Srv_Actuator.c ****         {
 140:Service/Srv_Actuator.c ****             switch (esc_type)
 141:Service/Srv_Actuator.c ****             {
 142:Service/Srv_Actuator.c ****             case Actuator_DevType_DShot150:
 143:Service/Srv_Actuator.c ****             case Actuator_DevType_DShot300:
 144:Service/Srv_Actuator.c ****             case Actuator_DevType_DShot600:
 145:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].drv_type = esc_type;
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 4


 146:Service/Srv_Actuator.c **** 
 147:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].ctl_val = DSHOT_LOCK_THROTTLE;
 148:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].min_val = DSHOT_MIN_THROTTLE;
 149:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].max_val = DSHOT_MAX_THROTTLE;
 150:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].idle_val = DSHOT_IDLE_THROTTLE;
 151:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].lock_val = DSHOT_LOCK_THROTTLE;
 152:Service/Srv_Actuator.c **** 
 153:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].drv_obj = (DevDshotObj_TypeDef *)MMU_Mallo
 154:Service/Srv_Actuator.c ****                 break;
 155:Service/Srv_Actuator.c **** 
 156:Service/Srv_Actuator.c ****             case Actuator_DevType_ServoPWM:
 157:Service/Srv_Actuator.c ****                 break;
 158:Service/Srv_Actuator.c **** 
 159:Service/Srv_Actuator.c ****             default:
 160:Service/Srv_Actuator.c ****                 MMU_Free(SrvActuator_Obj.drive_module.obj_list);
 161:Service/Srv_Actuator.c ****                 return false;
 162:Service/Srv_Actuator.c ****             }
 163:Service/Srv_Actuator.c **** 
 164:Service/Srv_Actuator.c ****             if (SrvActuator_Obj.drive_module.obj_list[i].drv_obj == NULL)
 165:Service/Srv_Actuator.c ****             {
 166:Service/Srv_Actuator.c ****                 for (uint8_t j = 0; j < i; j++)
 167:Service/Srv_Actuator.c ****                 {
 168:Service/Srv_Actuator.c ****                     MMU_Free(SrvActuator_Obj.drive_module.obj_list[j].drv_obj);
 169:Service/Srv_Actuator.c ****                 }
 170:Service/Srv_Actuator.c **** 
 171:Service/Srv_Actuator.c ****                 MMU_Free(SrvActuator_Obj.drive_module.obj_list);
 172:Service/Srv_Actuator.c ****                 return false;
 173:Service/Srv_Actuator.c ****             }
 174:Service/Srv_Actuator.c ****         }
 175:Service/Srv_Actuator.c ****     }
 176:Service/Srv_Actuator.c **** 
 177:Service/Srv_Actuator.c ****     /* create servo object */
 178:Service/Srv_Actuator.c ****     if (SrvActuator_Obj.drive_module.num.servo_cnt)
 179:Service/Srv_Actuator.c ****     {
 180:Service/Srv_Actuator.c ****     }
 181:Service/Srv_Actuator.c **** 
 182:Service/Srv_Actuator.c ****     /* check value remap relationship */
 183:Service/Srv_Actuator.c ****     /* we can read this info from storage module */
 184:Service/Srv_Actuator.c ****     SrcActuator_Get_ChannelRemap();
 185:Service/Srv_Actuator.c ****     SrvActuator_Config_MotoSpinDir();
 186:Service/Srv_Actuator.c **** 
 187:Service/Srv_Actuator.c ****     SrvActuator_Lock();
 188:Service/Srv_Actuator.c **** 
 189:Service/Srv_Actuator.c ****     // init actuator data pipe
 190:Service/Srv_Actuator.c ****     memset(&Actuator_cal_DataPipe, 0, sizeof(Actuator_cal_DataPipe));
 191:Service/Srv_Actuator.c ****     memset(DataPipe_DataObjAddr(Actuator_Data), NULL, sizeof(DataPipe_DataObj(Actuator_Data)));
 192:Service/Srv_Actuator.c **** 
 193:Service/Srv_Actuator.c ****     Actuator_cal_DataPipe.data_addr = (uint32_t)DataPipe_DataObjAddr(Actuator_Data);
 194:Service/Srv_Actuator.c ****     Actuator_cal_DataPipe.data_size = sizeof(DataPipe_DataObj(Actuator_Data));
 195:Service/Srv_Actuator.c ****     DataPipe_Enable(&Actuator_cal_DataPipe);
 196:Service/Srv_Actuator.c **** 
 197:Service/Srv_Actuator.c ****     SrvActuator_Obj.init = true;
 198:Service/Srv_Actuator.c ****     return true;
 199:Service/Srv_Actuator.c **** }
 200:Service/Srv_Actuator.c **** 
 201:Service/Srv_Actuator.c **** static void SrcActuator_Get_ChannelRemap(void)
 202:Service/Srv_Actuator.c **** {
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 5


 203:Service/Srv_Actuator.c ****     uint8_t storage_serial[SrvActuator_Obj.drive_module.num.moto_cnt + SrvActuator_Obj.drive_module
 204:Service/Srv_Actuator.c ****     SrvActuator_PeriphSet_TypeDef *periph_ptr = NULL;
 205:Service/Srv_Actuator.c **** 
 206:Service/Srv_Actuator.c ****     /* get remap relationship */
 207:Service/Srv_Actuator.c ****     memcpy(storage_serial, default_sig_serial, sizeof(storage_serial)); // only for develop stage..
 208:Service/Srv_Actuator.c **** 
 209:Service/Srv_Actuator.c ****     /* moto section */
 210:Service/Srv_Actuator.c ****     if (SrvActuator_Obj.drive_module.num.moto_cnt)
 211:Service/Srv_Actuator.c ****     {
 212:Service/Srv_Actuator.c ****         for (uint8_t i = 0; i < SrvActuator_Obj.drive_module.num.moto_cnt; i++)
 213:Service/Srv_Actuator.c ****         {
 214:Service/Srv_Actuator.c ****             SrvActuator_Obj.drive_module.obj_list[i].sig_id = storage_serial[storage_serial[i]];
 215:Service/Srv_Actuator.c ****             SrvActuator_Obj.drive_module.obj_list[i].periph_ptr = &SrvActuator_Periph_List[storage_
 216:Service/Srv_Actuator.c ****             periph_ptr = SrvActuator_Obj.drive_module.obj_list[i].periph_ptr;
 217:Service/Srv_Actuator.c **** 
 218:Service/Srv_Actuator.c ****             DevDshot.init(SrvActuator_Obj.drive_module.obj_list[i].drv_obj,
 219:Service/Srv_Actuator.c ****                           periph_ptr->tim_base, periph_ptr->tim_channel, periph_ptr->pin,
 220:Service/Srv_Actuator.c ****                           periph_ptr->dma, periph_ptr->dma_channel);
 221:Service/Srv_Actuator.c ****         }
 222:Service/Srv_Actuator.c ****     }
 223:Service/Srv_Actuator.c **** 
 224:Service/Srv_Actuator.c ****     /* servo section */
 225:Service/Srv_Actuator.c ****     if (SrvActuator_Obj.drive_module.num.servo_cnt)
 226:Service/Srv_Actuator.c ****     {
 227:Service/Srv_Actuator.c ****         for (uint8_t i = SrvActuator_Obj.drive_module.num.moto_cnt; i < SrvActuator_Obj.drive_modul
 228:Service/Srv_Actuator.c ****         {
 229:Service/Srv_Actuator.c ****         }
 230:Service/Srv_Actuator.c ****     }
 231:Service/Srv_Actuator.c **** }
 232:Service/Srv_Actuator.c **** 
 233:Service/Srv_Actuator.c **** static bool SrvActuator_Lock(void)
 234:Service/Srv_Actuator.c **** {
 235:Service/Srv_Actuator.c ****     uint8_t i = 0;
 236:Service/Srv_Actuator.c **** 
 237:Service/Srv_Actuator.c ****     if (!SrvActuator_Obj.init)
 238:Service/Srv_Actuator.c ****         return false;
 239:Service/Srv_Actuator.c **** 
 240:Service/Srv_Actuator.c ****     for (i = 0; i < SrvActuator_Obj.drive_module.num.total_cnt; i++)
 241:Service/Srv_Actuator.c ****     {
 242:Service/Srv_Actuator.c ****         switch (SrvActuator_Obj.drive_module.obj_list[i].drv_type)
 243:Service/Srv_Actuator.c ****         {
 244:Service/Srv_Actuator.c ****         case Actuator_DevType_DShot150:
 245:Service/Srv_Actuator.c ****         case Actuator_DevType_DShot300:
 246:Service/Srv_Actuator.c ****         case Actuator_DevType_DShot600:
 247:Service/Srv_Actuator.c ****             DevDshot.control(SrvActuator_Obj.drive_module.obj_list[i].drv_obj, SrvActuator_Obj.driv
 248:Service/Srv_Actuator.c ****             return true;
 249:Service/Srv_Actuator.c **** 
 250:Service/Srv_Actuator.c ****         case Actuator_DevType_ServoPWM:
 251:Service/Srv_Actuator.c ****             break;
 252:Service/Srv_Actuator.c **** 
 253:Service/Srv_Actuator.c ****         default:
 254:Service/Srv_Actuator.c ****             return false;
 255:Service/Srv_Actuator.c ****         }
 256:Service/Srv_Actuator.c ****     }
 257:Service/Srv_Actuator.c **** 
 258:Service/Srv_Actuator.c ****     SrvActuator_PipeData();
 259:Service/Srv_Actuator.c **** }
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 6


 260:Service/Srv_Actuator.c **** 
 261:Service/Srv_Actuator.c **** static void SrvActuator_MotoControl(uint16_t *p_val)
 262:Service/Srv_Actuator.c **** {
 263:Service/Srv_Actuator.c ****     uint8_t i = 0;
 264:Service/Srv_Actuator.c **** 
 265:Service/Srv_Actuator.c ****     if ((p_val == NULL) || !SrvActuator_Obj.init)
 266:Service/Srv_Actuator.c ****         return;
 267:Service/Srv_Actuator.c **** 
 268:Service/Srv_Actuator.c ****     switch (SrvActuator_Obj.model)
 269:Service/Srv_Actuator.c ****     {
 270:Service/Srv_Actuator.c ****     case Model_Quad:
 271:Service/Srv_Actuator.c ****         SrvActuator_QuadDrone_MotoMixControl(p_val);
 272:Service/Srv_Actuator.c ****         break;
 273:Service/Srv_Actuator.c **** 
 274:Service/Srv_Actuator.c ****     default:
 275:Service/Srv_Actuator.c ****         return;
 276:Service/Srv_Actuator.c ****     }
 277:Service/Srv_Actuator.c **** 
 278:Service/Srv_Actuator.c ****     SrvActuator_PipeData();
 279:Service/Srv_Actuator.c **** }
 280:Service/Srv_Actuator.c **** 
 281:Service/Srv_Actuator.c **** static void SrvActuator_ServoControl(uint8_t index, uint16_t val)
 282:Service/Srv_Actuator.c **** {
 283:Service/Srv_Actuator.c **** }
 284:Service/Srv_Actuator.c **** 
 285:Service/Srv_Actuator.c **** /* mast set spin direction when moto under halt statement */
 286:Service/Srv_Actuator.c **** static bool SrvActuator_SetMotoSpinDir(uint8_t component_index, SrvActuator_SpinDir_List dir)
 287:Service/Srv_Actuator.c **** {
  28              		.loc 1 287 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		.loc 1 287 1 is_stmt 0 view .LVU1
  33 0000 70B5     		push	{r4, r5, r6, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 16
  36              		.cfi_offset 4, -16
  37              		.cfi_offset 5, -12
  38              		.cfi_offset 6, -8
  39              		.cfi_offset 14, -4
 288:Service/Srv_Actuator.c ****     uint32_t dir_cmd = 0;
  40              		.loc 1 288 5 is_stmt 1 view .LVU2
  41              	.LVL1:
 289:Service/Srv_Actuator.c **** 
 290:Service/Srv_Actuator.c ****     if (!SrvActuator_Obj.init ||
  42              		.loc 1 290 5 view .LVU3
  43              		.loc 1 290 25 is_stmt 0 view .LVU4
  44 0002 1E4B     		ldr	r3, .L13
  45 0004 5D78     		ldrb	r5, [r3, #1]	@ zero_extendqisi2
  46              		.loc 1 290 8 view .LVU5
  47 0006 9DB3     		cbz	r5, .L2
 291:Service/Srv_Actuator.c ****         (component_index >= SrvActuator_Obj.drive_module.num.moto_cnt) ||
  48              		.loc 1 291 61 discriminator 1 view .LVU6
  49 0008 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 290:Service/Srv_Actuator.c ****         (component_index >= SrvActuator_Obj.drive_module.num.moto_cnt) ||
  50              		.loc 1 290 31 discriminator 1 view .LVU7
  51 000a 8342     		cmp	r3, r0
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 7


  52 000c 2FD9     		bls	.L6
 292:Service/Srv_Actuator.c ****         (SrvActuator_Obj.drive_module.obj_list[component_index].ctl_val !=
  53              		.loc 1 292 38 view .LVU8
  54 000e 1B4B     		ldr	r3, .L13
  55 0010 D3F80520 		ldr	r2, [r3, #5]	@ unaligned
  56              		.loc 1 292 47 view .LVU9
  57 0014 00EB4000 		add	r0, r0, r0, lsl #1
  58              	.LVL2:
  59              		.loc 1 292 47 view .LVU10
  60 0018 C0EBC004 		rsb	r4, r0, r0, lsl #3
  61 001c 1319     		adds	r3, r2, r4
  62              		.loc 1 292 64 view .LVU11
  63 001e B3F802C0 		ldrh	ip, [r3, #2]	@ unaligned
 293:Service/Srv_Actuator.c ****          SrvActuator_Obj.drive_module.obj_list[component_index].lock_val) ||
  64              		.loc 1 293 64 view .LVU12
  65 0022 5889     		ldrh	r0, [r3, #10]	@ unaligned
 291:Service/Srv_Actuator.c ****         (SrvActuator_Obj.drive_module.obj_list[component_index].ctl_val !=
  66              		.loc 1 291 72 view .LVU13
  67 0024 8445     		cmp	ip, r0
  68 0026 25D1     		bne	.L7
 294:Service/Srv_Actuator.c ****         (dir == Actuator_SS_CW) ||
  69              		.loc 1 294 33 view .LVU14
  70 0028 881E     		subs	r0, r1, #2
  71 002a C0B2     		uxtb	r0, r0
  72 002c 0128     		cmp	r0, #1
  73 002e 23D9     		bls	.L8
 295:Service/Srv_Actuator.c ****         (dir == Actuator_SS_ACW))
 296:Service/Srv_Actuator.c ****         return false;
 297:Service/Srv_Actuator.c **** 
 298:Service/Srv_Actuator.c ****     switch (SrvActuator_Obj.drive_module.obj_list[component_index].drv_type)
  74              		.loc 1 298 5 is_stmt 1 view .LVU15
  75              		.loc 1 298 67 is_stmt 0 view .LVU16
  76 0030 125D     		ldrb	r2, [r2, r4]	@ zero_extendqisi2
  77              		.loc 1 298 5 view .LVU17
  78 0032 032A     		cmp	r2, #3
  79 0034 03D9     		bls	.L12
  80 0036 042A     		cmp	r2, #4
  81 0038 1AD0     		beq	.L2
  82 003a 0025     		movs	r5, #0
  83 003c 18E0     		b	.L2
  84              	.L12:
  85 003e 52B2     		sxtb	r2, r2
  86 0040 0AB9     		cbnz	r2, .L4
  87 0042 0025     		movs	r5, #0
  88 0044 14E0     		b	.L2
  89              	.L4:
 299:Service/Srv_Actuator.c ****     {
 300:Service/Srv_Actuator.c ****     case Actuator_DevType_DShot150:
 301:Service/Srv_Actuator.c ****     case Actuator_DevType_DShot300:
 302:Service/Srv_Actuator.c ****     case Actuator_DevType_DShot600:
 303:Service/Srv_Actuator.c ****         if (dir == Actuator_MS_CW)
  90              		.loc 1 303 9 is_stmt 1 view .LVU18
  91              		.loc 1 303 12 is_stmt 0 view .LVU19
  92 0046 79B9     		cbnz	r1, .L10
 304:Service/Srv_Actuator.c ****         {
 305:Service/Srv_Actuator.c ****             dir_cmd = DSHOT_CMD_SET_SPIN_CLOCKWISE;
  93              		.loc 1 305 21 view .LVU20
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 8


  94 0048 8021     		movs	r1, #128
  95              	.LVL3:
  96              	.L5:
 306:Service/Srv_Actuator.c ****         }
 307:Service/Srv_Actuator.c ****         else
 308:Service/Srv_Actuator.c ****             dir_cmd = DSHOT_CMD_SET_SPIN_ANTICLOCKWISE;
 309:Service/Srv_Actuator.c **** 
 310:Service/Srv_Actuator.c ****         DevDshot.command(SrvActuator_Obj.drive_module.obj_list[component_index].drv_obj, dir_cmd);
  97              		.loc 1 310 9 is_stmt 1 view .LVU21
  98              		.loc 1 310 17 is_stmt 0 view .LVU22
  99 004a 0D4E     		ldr	r6, .L13+4
 100 004c 7268     		ldr	r2, [r6, #4]
 101              		.loc 1 310 9 view .LVU23
 102 004e 01F08001 		and	r1, r1, #128
 103              	.LVL4:
 104              		.loc 1 310 9 view .LVU24
 105 0052 1869     		ldr	r0, [r3, #16]	@ unaligned
 106 0054 9047     		blx	r2
 107              	.LVL5:
 311:Service/Srv_Actuator.c ****         DevDshot.command(SrvActuator_Obj.drive_module.obj_list[component_index].drv_obj, DSHOT_CMD_
 108              		.loc 1 311 9 is_stmt 1 view .LVU25
 109              		.loc 1 311 17 is_stmt 0 view .LVU26
 110 0056 7368     		ldr	r3, [r6, #4]
 111              		.loc 1 311 54 view .LVU27
 112 0058 084A     		ldr	r2, .L13
 113 005a D2F80500 		ldr	r0, [r2, #5]	@ unaligned
 114              		.loc 1 311 63 view .LVU28
 115 005e 2044     		add	r0, r0, r4
 116              		.loc 1 311 9 view .LVU29
 117 0060 0021     		movs	r1, #0
 118 0062 0069     		ldr	r0, [r0, #16]	@ unaligned
 119 0064 9847     		blx	r3
 120              	.LVL6:
 312:Service/Srv_Actuator.c ****         break;
 121              		.loc 1 312 9 is_stmt 1 view .LVU30
 122 0066 03E0     		b	.L2
 123              	.LVL7:
 124              	.L10:
 308:Service/Srv_Actuator.c **** 
 125              		.loc 1 308 21 is_stmt 0 view .LVU31
 126 0068 4FF48071 		mov	r1, #256
 127              	.LVL8:
 308:Service/Srv_Actuator.c **** 
 128              		.loc 1 308 21 view .LVU32
 129 006c EDE7     		b	.L5
 130              	.LVL9:
 131              	.L6:
 296:Service/Srv_Actuator.c **** 
 132              		.loc 1 296 16 view .LVU33
 133 006e 0025     		movs	r5, #0
 134              	.LVL10:
 135              	.L2:
 313:Service/Srv_Actuator.c **** 
 314:Service/Srv_Actuator.c ****     case Actuator_DevType_ServoPWM:
 315:Service/Srv_Actuator.c ****         break;
 316:Service/Srv_Actuator.c **** 
 317:Service/Srv_Actuator.c ****     default:
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 9


 318:Service/Srv_Actuator.c ****         return false;
 319:Service/Srv_Actuator.c ****     }
 320:Service/Srv_Actuator.c **** 
 321:Service/Srv_Actuator.c ****     return true;
 322:Service/Srv_Actuator.c **** }
 136              		.loc 1 322 1 view .LVU34
 137 0070 2846     		mov	r0, r5
 138 0072 70BD     		pop	{r4, r5, r6, pc}
 139              	.LVL11:
 140              	.L7:
 296:Service/Srv_Actuator.c **** 
 141              		.loc 1 296 16 view .LVU35
 142 0074 0025     		movs	r5, #0
 143 0076 FBE7     		b	.L2
 144              	.L8:
 145 0078 0025     		movs	r5, #0
 146 007a F9E7     		b	.L2
 147              	.L14:
 148              		.align	2
 149              	.L13:
 150 007c 00000000 		.word	.LANCHOR0
 151 0080 00000000 		.word	DevDshot
 152              		.cfi_endproc
 153              	.LFE156:
 155              		.section	.text.SrvActuator_Config_MotoSpinDir,"ax",%progbits
 156              		.align	1
 157              		.syntax unified
 158              		.thumb
 159              		.thumb_func
 160              		.fpu fpv5-d16
 162              	SrvActuator_Config_MotoSpinDir:
 163              	.LFB157:
 323:Service/Srv_Actuator.c **** 
 324:Service/Srv_Actuator.c **** static bool SrvActuator_Config_MotoSpinDir(void)
 325:Service/Srv_Actuator.c **** {
 164              		.loc 1 325 1 is_stmt 1 view -0
 165              		.cfi_startproc
 166              		@ args = 0, pretend = 0, frame = 0
 167              		@ frame_needed = 0, uses_anonymous_args = 0
 168 0000 10B5     		push	{r4, lr}
 169              	.LCFI1:
 170              		.cfi_def_cfa_offset 8
 171              		.cfi_offset 4, -8
 172              		.cfi_offset 14, -4
 326:Service/Srv_Actuator.c ****     /* we should read moto spin direction info from storage module */
 327:Service/Srv_Actuator.c ****     /* if read failed use default setting down below */
 328:Service/Srv_Actuator.c ****     switch (SrvActuator_Obj.model)
 173              		.loc 1 328 5 view .LVU37
 174              		.loc 1 328 28 is_stmt 0 view .LVU38
 175 0002 1A4B     		ldr	r3, .L23
 176 0004 1C78     		ldrb	r4, [r3]	@ zero_extendqisi2
 177              		.loc 1 328 5 view .LVU39
 178 0006 9CB1     		cbz	r4, .L16
 179              	.L17:
 329:Service/Srv_Actuator.c ****     {
 330:Service/Srv_Actuator.c ****     case Model_Quad:
 331:Service/Srv_Actuator.c ****         for (uint8_t i = 0; i < SrvActuator_Obj.drive_module.num.moto_cnt; i++)
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 10


 332:Service/Srv_Actuator.c ****         {
 333:Service/Srv_Actuator.c ****             if ((i == 0) || (i == 3))
 334:Service/Srv_Actuator.c ****             {
 335:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].spin_dir = Actuator_MS_ACW;
 336:Service/Srv_Actuator.c ****             }
 337:Service/Srv_Actuator.c ****             else if ((i == 1) || (i == 2))
 338:Service/Srv_Actuator.c ****             {
 339:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].spin_dir = Actuator_MS_CW;
 340:Service/Srv_Actuator.c ****             }
 341:Service/Srv_Actuator.c **** 
 342:Service/Srv_Actuator.c ****             SrvActuator_SetMotoSpinDir(i, SrvActuator_Obj.drive_module.obj_list[i].spin_dir);
 343:Service/Srv_Actuator.c ****         }
 344:Service/Srv_Actuator.c ****         break;
 345:Service/Srv_Actuator.c **** 
 346:Service/Srv_Actuator.c ****     default:
 347:Service/Srv_Actuator.c ****         break;
 348:Service/Srv_Actuator.c ****     }
 349:Service/Srv_Actuator.c **** 
 350:Service/Srv_Actuator.c ****     return true;
 180              		.loc 1 350 5 is_stmt 1 view .LVU40
 351:Service/Srv_Actuator.c **** }
 181              		.loc 1 351 1 is_stmt 0 view .LVU41
 182 0008 0120     		movs	r0, #1
 183 000a 10BD     		pop	{r4, pc}
 184              	.LVL12:
 185              	.L18:
 186              	.LBB7:
 337:Service/Srv_Actuator.c ****             {
 187              		.loc 1 337 18 is_stmt 1 view .LVU42
 337:Service/Srv_Actuator.c ****             {
 188              		.loc 1 337 31 is_stmt 0 view .LVU43
 189 000c 631E     		subs	r3, r4, #1
 190 000e DBB2     		uxtb	r3, r3
 337:Service/Srv_Actuator.c ****             {
 191              		.loc 1 337 21 view .LVU44
 192 0010 012B     		cmp	r3, #1
 193 0012 20D9     		bls	.L22
 194              	.L19:
 342:Service/Srv_Actuator.c ****         }
 195              		.loc 1 342 13 is_stmt 1 discriminator 2 view .LVU45
 342:Service/Srv_Actuator.c ****         }
 196              		.loc 1 342 71 is_stmt 0 discriminator 2 view .LVU46
 197 0014 154B     		ldr	r3, .L23
 198 0016 D3F80520 		ldr	r2, [r3, #5]	@ unaligned
 342:Service/Srv_Actuator.c ****         }
 199              		.loc 1 342 80 discriminator 2 view .LVU47
 200 001a 04EB4403 		add	r3, r4, r4, lsl #1
 201 001e C3EBC303 		rsb	r3, r3, r3, lsl #3
 202 0022 1344     		add	r3, r3, r2
 342:Service/Srv_Actuator.c ****         }
 203              		.loc 1 342 13 discriminator 2 view .LVU48
 204 0024 197D     		ldrb	r1, [r3, #20]	@ zero_extendqisi2
 205 0026 2046     		mov	r0, r4
 206 0028 FFF7FEFF 		bl	SrvActuator_SetMotoSpinDir
 207              	.LVL13:
 331:Service/Srv_Actuator.c ****         {
 208              		.loc 1 331 76 is_stmt 1 discriminator 2 view .LVU49
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 11


 331:Service/Srv_Actuator.c ****         {
 209              		.loc 1 331 77 is_stmt 0 discriminator 2 view .LVU50
 210 002c 0134     		adds	r4, r4, #1
 211              	.LVL14:
 331:Service/Srv_Actuator.c ****         {
 212              		.loc 1 331 77 discriminator 2 view .LVU51
 213 002e E4B2     		uxtb	r4, r4
 214              	.LVL15:
 215              	.L16:
 331:Service/Srv_Actuator.c ****         {
 216              		.loc 1 331 29 is_stmt 1 discriminator 1 view .LVU52
 331:Service/Srv_Actuator.c ****         {
 217              		.loc 1 331 65 is_stmt 0 discriminator 1 view .LVU53
 218 0030 0E4B     		ldr	r3, .L23
 219 0032 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 331:Service/Srv_Actuator.c ****         {
 220              		.loc 1 331 9 discriminator 1 view .LVU54
 221 0034 A342     		cmp	r3, r4
 222 0036 E7D9     		bls	.L17
 333:Service/Srv_Actuator.c ****             {
 223              		.loc 1 333 13 is_stmt 1 view .LVU55
 333:Service/Srv_Actuator.c ****             {
 224              		.loc 1 333 16 is_stmt 0 view .LVU56
 225 0038 032C     		cmp	r4, #3
 226 003a 18BF     		it	ne
 227 003c 002C     		cmpne	r4, #0
 228 003e E5D1     		bne	.L18
 335:Service/Srv_Actuator.c ****             }
 229              		.loc 1 335 17 is_stmt 1 view .LVU57
 335:Service/Srv_Actuator.c ****             }
 230              		.loc 1 335 45 is_stmt 0 view .LVU58
 231 0040 0A4B     		ldr	r3, .L23
 232 0042 D3F80520 		ldr	r2, [r3, #5]	@ unaligned
 335:Service/Srv_Actuator.c ****             }
 233              		.loc 1 335 54 view .LVU59
 234 0046 04EB4403 		add	r3, r4, r4, lsl #1
 235 004a C3EBC303 		rsb	r3, r3, r3, lsl #3
 236 004e 1344     		add	r3, r3, r2
 335:Service/Srv_Actuator.c ****             }
 237              		.loc 1 335 67 view .LVU60
 238 0050 0122     		movs	r2, #1
 239 0052 1A75     		strb	r2, [r3, #20]
 240 0054 DEE7     		b	.L19
 241              	.L22:
 339:Service/Srv_Actuator.c ****             }
 242              		.loc 1 339 17 is_stmt 1 view .LVU61
 339:Service/Srv_Actuator.c ****             }
 243              		.loc 1 339 45 is_stmt 0 view .LVU62
 244 0056 054B     		ldr	r3, .L23
 245 0058 D3F80520 		ldr	r2, [r3, #5]	@ unaligned
 339:Service/Srv_Actuator.c ****             }
 246              		.loc 1 339 54 view .LVU63
 247 005c 04EB4403 		add	r3, r4, r4, lsl #1
 248 0060 C3EBC303 		rsb	r3, r3, r3, lsl #3
 249 0064 1344     		add	r3, r3, r2
 339:Service/Srv_Actuator.c ****             }
 250              		.loc 1 339 67 view .LVU64
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 12


 251 0066 0022     		movs	r2, #0
 252 0068 1A75     		strb	r2, [r3, #20]
 253 006a D3E7     		b	.L19
 254              	.L24:
 255              		.align	2
 256              	.L23:
 257 006c 00000000 		.word	.LANCHOR0
 258              	.LBE7:
 259              		.cfi_endproc
 260              	.LFE157:
 262              		.section	.text.SrvActuator_InvertMotoSpinDir,"ax",%progbits
 263              		.align	1
 264              		.syntax unified
 265              		.thumb
 266              		.thumb_func
 267              		.fpu fpv5-d16
 269              	SrvActuator_InvertMotoSpinDir:
 270              	.LVL16:
 271              	.LFB158:
 352:Service/Srv_Actuator.c **** 
 353:Service/Srv_Actuator.c **** static bool SrvActuator_InvertMotoSpinDir(uint8_t component_index)
 354:Service/Srv_Actuator.c **** {
 272              		.loc 1 354 1 is_stmt 1 view -0
 273              		.cfi_startproc
 274              		@ args = 0, pretend = 0, frame = 0
 275              		@ frame_needed = 0, uses_anonymous_args = 0
 276              		.loc 1 354 1 is_stmt 0 view .LVU66
 277 0000 0346     		mov	r3, r0
 355:Service/Srv_Actuator.c ****     if (!SrvActuator_Obj.init ||
 278              		.loc 1 355 5 is_stmt 1 view .LVU67
 279              		.loc 1 355 25 is_stmt 0 view .LVU68
 280 0002 194A     		ldr	r2, .L34
 281 0004 5078     		ldrb	r0, [r2, #1]	@ zero_extendqisi2
 282              	.LVL17:
 283              		.loc 1 355 8 view .LVU69
 284 0006 68B3     		cbz	r0, .L31
 356:Service/Srv_Actuator.c ****         (component_index >= SrvActuator_Obj.drive_module.num.moto_cnt))
 285              		.loc 1 356 61 discriminator 1 view .LVU70
 286 0008 D278     		ldrb	r2, [r2, #3]	@ zero_extendqisi2
 355:Service/Srv_Actuator.c ****     if (!SrvActuator_Obj.init ||
 287              		.loc 1 355 31 discriminator 1 view .LVU71
 288 000a 9A42     		cmp	r2, r3
 289 000c 28D9     		bls	.L29
 354:Service/Srv_Actuator.c ****     if (!SrvActuator_Obj.init ||
 290              		.loc 1 354 1 view .LVU72
 291 000e 10B5     		push	{r4, lr}
 292              	.LCFI2:
 293              		.cfi_def_cfa_offset 8
 294              		.cfi_offset 4, -8
 295              		.cfi_offset 14, -4
 357:Service/Srv_Actuator.c ****         return false;
 358:Service/Srv_Actuator.c **** 
 359:Service/Srv_Actuator.c ****     switch (SrvActuator_Obj.drive_module.obj_list[component_index].spin_dir)
 296              		.loc 1 359 5 is_stmt 1 view .LVU73
 297              		.loc 1 359 41 is_stmt 0 view .LVU74
 298 0010 154A     		ldr	r2, .L34
 299 0012 D2F80520 		ldr	r2, [r2, #5]	@ unaligned
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 13


 300              		.loc 1 359 50 view .LVU75
 301 0016 03EB4301 		add	r1, r3, r3, lsl #1
 302 001a C1EBC104 		rsb	r4, r1, r1, lsl #3
 303 001e 2244     		add	r2, r2, r4
 304              		.loc 1 359 67 view .LVU76
 305 0020 127D     		ldrb	r2, [r2, #20]	@ zero_extendqisi2
 306              		.loc 1 359 5 view .LVU77
 307 0022 1AB1     		cbz	r2, .L27
 308 0024 012A     		cmp	r2, #1
 309 0026 0ED0     		beq	.L28
 310 0028 0020     		movs	r0, #0
 311              	.L26:
 360:Service/Srv_Actuator.c ****     {
 361:Service/Srv_Actuator.c ****     case Actuator_MS_CW:
 362:Service/Srv_Actuator.c ****         if (SrvActuator_SetMotoSpinDir(component_index, Actuator_MS_ACW))
 363:Service/Srv_Actuator.c ****         {
 364:Service/Srv_Actuator.c ****             SrvActuator_Obj.drive_module.obj_list[component_index].spin_dir = Actuator_MS_ACW;
 365:Service/Srv_Actuator.c ****             return true;
 366:Service/Srv_Actuator.c ****         }
 367:Service/Srv_Actuator.c ****         return false;
 368:Service/Srv_Actuator.c **** 
 369:Service/Srv_Actuator.c ****     case Actuator_MS_ACW:
 370:Service/Srv_Actuator.c ****         if (SrvActuator_SetMotoSpinDir(component_index, Actuator_MS_CW))
 371:Service/Srv_Actuator.c ****         {
 372:Service/Srv_Actuator.c ****             SrvActuator_Obj.drive_module.obj_list[component_index].spin_dir = Actuator_MS_CW;
 373:Service/Srv_Actuator.c ****             return true;
 374:Service/Srv_Actuator.c ****         }
 375:Service/Srv_Actuator.c ****         return false;
 376:Service/Srv_Actuator.c **** 
 377:Service/Srv_Actuator.c ****     default:
 378:Service/Srv_Actuator.c ****         return false;
 379:Service/Srv_Actuator.c ****     }
 380:Service/Srv_Actuator.c **** }
 312              		.loc 1 380 1 view .LVU78
 313 002a 10BD     		pop	{r4, pc}
 314              	.L27:
 362:Service/Srv_Actuator.c ****         {
 315              		.loc 1 362 9 is_stmt 1 view .LVU79
 362:Service/Srv_Actuator.c ****         {
 316              		.loc 1 362 13 is_stmt 0 view .LVU80
 317 002c 0121     		movs	r1, #1
 318 002e 1846     		mov	r0, r3
 319 0030 FFF7FEFF 		bl	SrvActuator_SetMotoSpinDir
 320              	.LVL18:
 362:Service/Srv_Actuator.c ****         {
 321              		.loc 1 362 12 view .LVU81
 322 0034 0028     		cmp	r0, #0
 323 0036 F8D0     		beq	.L26
 364:Service/Srv_Actuator.c ****             return true;
 324              		.loc 1 364 13 is_stmt 1 view .LVU82
 364:Service/Srv_Actuator.c ****             return true;
 325              		.loc 1 364 41 is_stmt 0 view .LVU83
 326 0038 0B4B     		ldr	r3, .L34
 327 003a D3F80510 		ldr	r1, [r3, #5]	@ unaligned
 364:Service/Srv_Actuator.c ****             return true;
 328              		.loc 1 364 50 view .LVU84
 329 003e 2144     		add	r1, r1, r4
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 14


 364:Service/Srv_Actuator.c ****             return true;
 330              		.loc 1 364 77 view .LVU85
 331 0040 0123     		movs	r3, #1
 332 0042 0B75     		strb	r3, [r1, #20]
 365:Service/Srv_Actuator.c ****         }
 333              		.loc 1 365 13 is_stmt 1 view .LVU86
 365:Service/Srv_Actuator.c ****         }
 334              		.loc 1 365 20 is_stmt 0 view .LVU87
 335 0044 F1E7     		b	.L26
 336              	.L28:
 370:Service/Srv_Actuator.c ****         {
 337              		.loc 1 370 9 is_stmt 1 view .LVU88
 370:Service/Srv_Actuator.c ****         {
 338              		.loc 1 370 13 is_stmt 0 view .LVU89
 339 0046 0021     		movs	r1, #0
 340 0048 1846     		mov	r0, r3
 341 004a FFF7FEFF 		bl	SrvActuator_SetMotoSpinDir
 342              	.LVL19:
 370:Service/Srv_Actuator.c ****         {
 343              		.loc 1 370 12 view .LVU90
 344 004e 0028     		cmp	r0, #0
 345 0050 EBD0     		beq	.L26
 372:Service/Srv_Actuator.c ****             return true;
 346              		.loc 1 372 13 is_stmt 1 view .LVU91
 372:Service/Srv_Actuator.c ****             return true;
 347              		.loc 1 372 41 is_stmt 0 view .LVU92
 348 0052 054B     		ldr	r3, .L34
 349 0054 D3F80510 		ldr	r1, [r3, #5]	@ unaligned
 372:Service/Srv_Actuator.c ****             return true;
 350              		.loc 1 372 50 view .LVU93
 351 0058 2144     		add	r1, r1, r4
 372:Service/Srv_Actuator.c ****             return true;
 352              		.loc 1 372 77 view .LVU94
 353 005a 0023     		movs	r3, #0
 354 005c 0B75     		strb	r3, [r1, #20]
 373:Service/Srv_Actuator.c ****         }
 355              		.loc 1 373 13 is_stmt 1 view .LVU95
 373:Service/Srv_Actuator.c ****         }
 356              		.loc 1 373 20 is_stmt 0 view .LVU96
 357 005e E4E7     		b	.L26
 358              	.L29:
 359              	.LCFI3:
 360              		.cfi_def_cfa_offset 0
 361              		.cfi_restore 4
 362              		.cfi_restore 14
 357:Service/Srv_Actuator.c **** 
 363              		.loc 1 357 16 view .LVU97
 364 0060 0020     		movs	r0, #0
 365 0062 7047     		bx	lr
 366              	.L31:
 367              		.loc 1 380 1 view .LVU98
 368 0064 7047     		bx	lr
 369              	.L35:
 370 0066 00BF     		.align	2
 371              	.L34:
 372 0068 00000000 		.word	.LANCHOR0
 373              		.cfi_endproc
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 15


 374              	.LFE158:
 376              		.section	.text.SrvActuator_Get_NumData,"ax",%progbits
 377              		.align	1
 378              		.syntax unified
 379              		.thumb
 380              		.thumb_func
 381              		.fpu fpv5-d16
 383              	SrvActuator_Get_NumData:
 384              	.LFB159:
 381:Service/Srv_Actuator.c **** 
 382:Service/Srv_Actuator.c **** static SrvActuator_ModelComponentNum_TypeDef SrvActuator_Get_NumData(void)
 383:Service/Srv_Actuator.c **** {
 385              		.loc 1 383 1 is_stmt 1 view -0
 386              		.cfi_startproc
 387              		@ args = 0, pretend = 0, frame = 8
 388              		@ frame_needed = 0, uses_anonymous_args = 0
 389              		@ link register save eliminated.
 390 0000 82B0     		sub	sp, sp, #8
 391              	.LCFI4:
 392              		.cfi_def_cfa_offset 8
 384:Service/Srv_Actuator.c ****     return SrvActuator_Obj.drive_module.num;
 393              		.loc 1 384 5 view .LVU100
 394              		.loc 1 384 40 is_stmt 0 view .LVU101
 395 0002 0B4B     		ldr	r3, .L38
 396 0004 5A88     		ldrh	r2, [r3, #2]	@ unaligned
 397 0006 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 398 0008 1946     		mov	r1, r3
 399 000a ADF80420 		strh	r2, [sp, #4]	@ unaligned
 400 000e 8DF80630 		strb	r3, [sp, #6]
 401 0012 0020     		movs	r0, #0
 402 0014 9DF80430 		ldrb	r3, [sp, #4]	@ zero_extendqisi2
 403 0018 63F30700 		bfi	r0, r3, #0, #8
 404 001c 9DF80530 		ldrb	r3, [sp, #5]	@ zero_extendqisi2
 405 0020 63F30F20 		bfi	r0, r3, #8, #8
 406 0024 CBB2     		uxtb	r3, r1
 407 0026 63F31740 		bfi	r0, r3, #16, #8
 385:Service/Srv_Actuator.c **** }
 408              		.loc 1 385 1 view .LVU102
 409 002a 02B0     		add	sp, sp, #8
 410              	.LCFI5:
 411              		.cfi_def_cfa_offset 0
 412              		@ sp needed
 413 002c 7047     		bx	lr
 414              	.L39:
 415 002e 00BF     		.align	2
 416              	.L38:
 417 0030 00000000 		.word	.LANCHOR0
 418              		.cfi_endproc
 419              	.LFE159:
 421              		.section	.text.SrvActuator_GetModel,"ax",%progbits
 422              		.align	1
 423              		.syntax unified
 424              		.thumb
 425              		.thumb_func
 426              		.fpu fpv5-d16
 428              	SrvActuator_GetModel:
 429              	.LFB160:
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 16


 386:Service/Srv_Actuator.c **** 
 387:Service/Srv_Actuator.c **** static SrvActuator_Model_List SrvActuator_GetModel(void)
 388:Service/Srv_Actuator.c **** {
 430              		.loc 1 388 1 is_stmt 1 view -0
 431              		.cfi_startproc
 432              		@ args = 0, pretend = 0, frame = 0
 433              		@ frame_needed = 0, uses_anonymous_args = 0
 434              		@ link register save eliminated.
 389:Service/Srv_Actuator.c ****     return SrvActuator_Obj.model;
 435              		.loc 1 389 5 view .LVU104
 390:Service/Srv_Actuator.c **** }
 436              		.loc 1 390 1 is_stmt 0 view .LVU105
 437 0000 014B     		ldr	r3, .L41
 438 0002 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 439 0004 7047     		bx	lr
 440              	.L42:
 441 0006 00BF     		.align	2
 442              	.L41:
 443 0008 00000000 		.word	.LANCHOR0
 444              		.cfi_endproc
 445              	.LFE160:
 447              		.section	.text.SrvActuator_QuadDrone_MotoMixControl,"ax",%progbits
 448              		.align	1
 449              		.syntax unified
 450              		.thumb
 451              		.thumb_func
 452              		.fpu fpv5-d16
 454              	SrvActuator_QuadDrone_MotoMixControl:
 455              	.LVL20:
 456              	.LFB162:
 391:Service/Srv_Actuator.c **** 
 392:Service/Srv_Actuator.c **** static void SrvActuator_PipeData(void)
 393:Service/Srv_Actuator.c **** {
 394:Service/Srv_Actuator.c ****     DataPipe_DataObj(Actuator_Data).time_stamp = Get_CurrentRunningMs();
 395:Service/Srv_Actuator.c ****     DataPipe_DataObj(Actuator_Data).moto_cnt = SrvActuator_Obj.drive_module.num.moto_cnt;
 396:Service/Srv_Actuator.c ****     DataPipe_DataObj(Actuator_Data).servo_cnt = SrvActuator_Obj.drive_module.num.servo_cnt;
 397:Service/Srv_Actuator.c **** 
 398:Service/Srv_Actuator.c ****     for (uint8_t i = 0; i < SrvActuator_Obj.drive_module.num.total_cnt; i++)
 399:Service/Srv_Actuator.c ****     {
 400:Service/Srv_Actuator.c ****         if (i < SrvActuator_Obj.drive_module.num.moto_cnt)
 401:Service/Srv_Actuator.c ****         {
 402:Service/Srv_Actuator.c ****             DataPipe_DataObj(Actuator_Data).moto[i] = SrvActuator_Obj.drive_module.obj_list[i].ctl_
 403:Service/Srv_Actuator.c ****             DataPipe_DataObj(Actuator_Data).moto_dir[i] = SrvActuator_Obj.drive_module.obj_list[i].
 404:Service/Srv_Actuator.c ****         }
 405:Service/Srv_Actuator.c ****         else
 406:Service/Srv_Actuator.c ****         {
 407:Service/Srv_Actuator.c ****             DataPipe_DataObj(Actuator_Data).servo_dir[i - SrvActuator_Obj.drive_module.num.moto_cnt
 408:Service/Srv_Actuator.c ****             DataPipe_DataObj(Actuator_Data).servo[i - SrvActuator_Obj.drive_module.num.moto_cnt] = 
 409:Service/Srv_Actuator.c ****         }
 410:Service/Srv_Actuator.c ****     }
 411:Service/Srv_Actuator.c **** 
 412:Service/Srv_Actuator.c ****     DataPipe_SendTo(&Actuator_cal_DataPipe, &Actuator_hub_DataPipe);
 413:Service/Srv_Actuator.c **** }
 414:Service/Srv_Actuator.c **** 
 415:Service/Srv_Actuator.c **** /*
 416:Service/Srv_Actuator.c ****  * X axis -> Roll
 417:Service/Srv_Actuator.c ****  * Y axis -> Pitch
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 17


 418:Service/Srv_Actuator.c ****  * Z axis -> Yaw
 419:Service/Srv_Actuator.c ****  *
 420:Service/Srv_Actuator.c ****  * M1    M2
 421:Service/Srv_Actuator.c ****  *   \  /
 422:Service/Srv_Actuator.c ****  *    \/
 423:Service/Srv_Actuator.c ****  *    /\
 424:Service/Srv_Actuator.c ****  *   /  \
 425:Service/Srv_Actuator.c ****  * M3    M4
 426:Service/Srv_Actuator.c ****  *
 427:Service/Srv_Actuator.c ****  */
 428:Service/Srv_Actuator.c **** static bool SrvActuator_QuadDrone_MotoMixControl(uint16_t *pid_ctl)
 429:Service/Srv_Actuator.c **** {
 457              		.loc 1 429 1 is_stmt 1 view -0
 458              		.cfi_startproc
 459              		@ args = 0, pretend = 0, frame = 0
 460              		@ frame_needed = 0, uses_anonymous_args = 0
 461              		.loc 1 429 1 is_stmt 0 view .LVU107
 462 0000 38B5     		push	{r3, r4, r5, lr}
 463              	.LCFI6:
 464              		.cfi_def_cfa_offset 16
 465              		.cfi_offset 3, -16
 466              		.cfi_offset 4, -12
 467              		.cfi_offset 5, -8
 468              		.cfi_offset 14, -4
 430:Service/Srv_Actuator.c ****     float throttle_base_percent = 0.0f;
 469              		.loc 1 430 5 is_stmt 1 view .LVU108
 470              	.LVL21:
 431:Service/Srv_Actuator.c **** 
 432:Service/Srv_Actuator.c ****     if ((!SrvActuator_Obj.init) ||
 471              		.loc 1 432 5 view .LVU109
 472              		.loc 1 432 26 is_stmt 0 view .LVU110
 473 0002 4B4B     		ldr	r3, .L55
 474 0004 5D78     		ldrb	r5, [r3, #1]	@ zero_extendqisi2
 475              		.loc 1 432 8 view .LVU111
 476 0006 002D     		cmp	r5, #0
 477 0008 00F08F80 		beq	.L43
 478              		.loc 1 432 33 discriminator 1 view .LVU112
 479 000c 0028     		cmp	r0, #0
 480 000e 00F08B80 		beq	.L53
 433:Service/Srv_Actuator.c ****         (pid_ctl == NULL))
 434:Service/Srv_Actuator.c ****         return false;
 435:Service/Srv_Actuator.c **** 
 436:Service/Srv_Actuator.c ****     /* limit throttle max output at 80% */
 437:Service/Srv_Actuator.c ****     if (pid_ctl[Actuator_CtlChannel_Throttle] >= SRV_ACTUATOR_MAX_THROTTLE_PERCENT)
 481              		.loc 1 437 5 is_stmt 1 view .LVU113
 482              		.loc 1 437 16 is_stmt 0 view .LVU114
 483 0012 0388     		ldrh	r3, [r0]
 484              		.loc 1 437 8 view .LVU115
 485 0014 4F2B     		cmp	r3, #79
 486 0016 01D9     		bls	.L45
 438:Service/Srv_Actuator.c ****         pid_ctl[Actuator_CtlChannel_Throttle] = SRV_ACTUATOR_MAX_THROTTLE_PERCENT;
 487              		.loc 1 438 9 is_stmt 1 view .LVU116
 488              		.loc 1 438 47 is_stmt 0 view .LVU117
 489 0018 5023     		movs	r3, #80
 490 001a 0380     		strh	r3, [r0]	@ movhi
 491              	.L45:
 439:Service/Srv_Actuator.c **** 
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 18


 440:Service/Srv_Actuator.c ****     throttle_base_percent = pid_ctl[Actuator_CtlChannel_Throttle] / 100.0f;
 492              		.loc 1 440 5 is_stmt 1 view .LVU118
 493              		.loc 1 440 36 is_stmt 0 view .LVU119
 494 001c 0388     		ldrh	r3, [r0]
 495 001e 07EE903A 		vmov	s15, r3	@ int
 496              		.loc 1 440 67 view .LVU120
 497 0022 F8EEE77A 		vcvt.f32.s32	s15, s15
 498              		.loc 1 440 27 view .LVU121
 499 0026 9FED437A 		vldr.32	s14, .L55+4
 500 002a C7EE876A 		vdiv.f32	s13, s15, s14
 501              	.LVL22:
 441:Service/Srv_Actuator.c **** 
 442:Service/Srv_Actuator.c ****     for (uint8_t i = 0; i < 4; i++)
 502              		.loc 1 442 5 is_stmt 1 view .LVU122
 503              	.LBB8:
 504              		.loc 1 442 10 view .LVU123
 505              		.loc 1 442 18 is_stmt 0 view .LVU124
 506 002e 0021     		movs	r1, #0
 507              		.loc 1 442 5 view .LVU125
 508 0030 1DE0     		b	.L46
 509              	.LVL23:
 510              	.L47:
 443:Service/Srv_Actuator.c ****     {
 444:Service/Srv_Actuator.c ****         SrvActuator_Obj.drive_module.obj_list[i].ctl_val = (SrvActuator_Obj.drive_module.obj_list[i
 511              		.loc 1 444 9 is_stmt 1 discriminator 3 view .LVU126
 512              		.loc 1 444 89 is_stmt 0 discriminator 3 view .LVU127
 513 0032 3F4B     		ldr	r3, .L55
 514 0034 D3F80540 		ldr	r4, [r3, #5]	@ unaligned
 515              		.loc 1 444 98 discriminator 3 view .LVU128
 516 0038 01EB4103 		add	r3, r1, r1, lsl #1
 517 003c C3EBC303 		rsb	r3, r3, r3, lsl #3
 518 0040 1C44     		add	r4, r4, r3
 519              		.loc 1 444 101 discriminator 3 view .LVU129
 520 0042 A288     		ldrh	r2, [r4, #4]	@ unaligned
 445:Service/Srv_Actuator.c ****                                                             SrvActuator_Obj.drive_module.obj_list[i
 521              		.loc 1 445 101 discriminator 3 view .LVU130
 522 0044 E388     		ldrh	r3, [r4, #6]	@ unaligned
 444:Service/Srv_Actuator.c ****                                                             SrvActuator_Obj.drive_module.obj_list[i
 523              		.loc 1 444 110 discriminator 3 view .LVU131
 524 0046 D21A     		subs	r2, r2, r3
 525 0048 07EE902A 		vmov	s15, r2	@ int
 526              		.loc 1 445 111 discriminator 3 view .LVU132
 527 004c F8EEE77A 		vcvt.f32.s32	s15, s15
 528 0050 27EEA67A 		vmul.f32	s14, s15, s13
 446:Service/Srv_Actuator.c ****                                                                throttle_base_percent +
 529              		.loc 1 446 86 discriminator 3 view .LVU133
 530 0054 07EE903A 		vmov	s15, r3	@ int
 531 0058 F8EEE77A 		vcvt.f32.s32	s15, s15
 532 005c 77EE877A 		vadd.f32	s15, s15, s14
 444:Service/Srv_Actuator.c ****                                                             SrvActuator_Obj.drive_module.obj_list[i
 533              		.loc 1 444 58 discriminator 3 view .LVU134
 534 0060 FCEEE77A 		vcvt.u32.f32	s15, s15
 535 0064 17EE903A 		vmov	r3, s15	@ int
 536 0068 6380     		strh	r3, [r4, #2]	@ unaligned
 442:Service/Srv_Actuator.c ****     {
 537              		.loc 1 442 32 is_stmt 1 discriminator 3 view .LVU135
 442:Service/Srv_Actuator.c ****     {
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 19


 538              		.loc 1 442 33 is_stmt 0 discriminator 3 view .LVU136
 539 006a 0131     		adds	r1, r1, #1
 540              	.LVL24:
 442:Service/Srv_Actuator.c ****     {
 541              		.loc 1 442 33 discriminator 3 view .LVU137
 542 006c C9B2     		uxtb	r1, r1
 543              	.LVL25:
 544              	.L46:
 442:Service/Srv_Actuator.c ****     {
 545              		.loc 1 442 25 is_stmt 1 discriminator 1 view .LVU138
 442:Service/Srv_Actuator.c ****     {
 546              		.loc 1 442 5 is_stmt 0 discriminator 1 view .LVU139
 547 006e 0329     		cmp	r1, #3
 548 0070 DFD9     		bls	.L47
 549              	.LBE8:
 447:Service/Srv_Actuator.c ****                                                            SrvActuator_Obj.drive_module.obj_list[i]
 448:Service/Srv_Actuator.c ****     }
 449:Service/Srv_Actuator.c **** 
 450:Service/Srv_Actuator.c ****     SrvActuator_Obj.drive_module.obj_list[0].ctl_val += pid_ctl[Actuator_CtlChannel_Roll] - pid_ctl
 550              		.loc 1 450 5 is_stmt 1 view .LVU140
 551              		.loc 1 450 33 is_stmt 0 view .LVU141
 552 0072 2F4A     		ldr	r2, .L55
 553 0074 D2F80510 		ldr	r1, [r2, #5]	@ unaligned
 554              	.LVL26:
 555              		.loc 1 450 64 view .LVU142
 556 0078 4388     		ldrh	r3, [r0, #2]
 557              		.loc 1 450 100 view .LVU143
 558 007a 8488     		ldrh	r4, [r0, #4]
 559              		.loc 1 450 91 view .LVU144
 560 007c 1B1B     		subs	r3, r3, r4
 561 007e 9BB2     		uxth	r3, r3
 562              		.loc 1 450 137 view .LVU145
 563 0080 C488     		ldrh	r4, [r0, #6]
 564              		.loc 1 450 128 view .LVU146
 565 0082 1B1B     		subs	r3, r3, r4
 566              		.loc 1 450 54 view .LVU147
 567 0084 4C88     		ldrh	r4, [r1, #2]	@ unaligned
 568 0086 14FA83F3 		uxtah	r3, r4, r3
 569 008a 4B80     		strh	r3, [r1, #2]	@ unaligned
 451:Service/Srv_Actuator.c ****     SrvActuator_Obj.drive_module.obj_list[1].ctl_val += pid_ctl[Actuator_CtlChannel_Roll] + pid_ctl
 570              		.loc 1 451 5 is_stmt 1 view .LVU148
 571              		.loc 1 451 33 is_stmt 0 view .LVU149
 572 008c D2F80520 		ldr	r2, [r2, #5]	@ unaligned
 573              		.loc 1 451 64 view .LVU150
 574 0090 4388     		ldrh	r3, [r0, #2]
 575              		.loc 1 451 100 view .LVU151
 576 0092 8188     		ldrh	r1, [r0, #4]
 577              		.loc 1 451 91 view .LVU152
 578 0094 0B44     		add	r3, r3, r1
 579              		.loc 1 451 137 view .LVU153
 580 0096 C188     		ldrh	r1, [r0, #6]
 581              		.loc 1 451 128 view .LVU154
 582 0098 11FA83F3 		uxtah	r3, r1, r3
 583              		.loc 1 451 54 view .LVU155
 584 009c B2F81710 		ldrh	r1, [r2, #23]	@ unaligned
 585 00a0 11FA83F3 		uxtah	r3, r1, r3
 586 00a4 A2F81730 		strh	r3, [r2, #23]	@ unaligned
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 20


 452:Service/Srv_Actuator.c ****     SrvActuator_Obj.drive_module.obj_list[2].ctl_val -= pid_ctl[Actuator_CtlChannel_Roll] + pid_ctl
 587              		.loc 1 452 5 is_stmt 1 view .LVU156
 588              		.loc 1 452 137 is_stmt 0 view .LVU157
 589 00a8 C488     		ldrh	r4, [r0, #6]
 590              		.loc 1 452 64 view .LVU158
 591 00aa 4388     		ldrh	r3, [r0, #2]
 592              		.loc 1 452 100 view .LVU159
 593 00ac 8188     		ldrh	r1, [r0, #4]
 594              		.loc 1 452 91 view .LVU160
 595 00ae 0B44     		add	r3, r3, r1
 596 00b0 9BB2     		uxth	r3, r3
 597              		.loc 1 452 54 view .LVU161
 598 00b2 918D     		ldrh	r1, [r2, #44]	@ unaligned
 599 00b4 E31A     		subs	r3, r4, r3
 600 00b6 0B44     		add	r3, r3, r1
 601 00b8 9385     		strh	r3, [r2, #44]	@ unaligned
 453:Service/Srv_Actuator.c ****     SrvActuator_Obj.drive_module.obj_list[3].ctl_val -= pid_ctl[Actuator_CtlChannel_Roll] - pid_ctl
 602              		.loc 1 453 5 is_stmt 1 view .LVU162
 603              		.loc 1 453 100 is_stmt 0 view .LVU163
 604 00ba 8388     		ldrh	r3, [r0, #4]
 605              		.loc 1 453 64 view .LVU164
 606 00bc 4188     		ldrh	r1, [r0, #2]
 607              		.loc 1 453 91 view .LVU165
 608 00be 5B1A     		subs	r3, r3, r1
 609 00c0 9BB2     		uxth	r3, r3
 610              		.loc 1 453 137 view .LVU166
 611 00c2 C188     		ldrh	r1, [r0, #6]
 612              		.loc 1 453 128 view .LVU167
 613 00c4 5B1A     		subs	r3, r3, r1
 614              		.loc 1 453 54 view .LVU168
 615 00c6 B2F84110 		ldrh	r1, [r2, #65]	@ unaligned
 616 00ca 11FA83F3 		uxtah	r3, r1, r3
 617 00ce A2F84130 		strh	r3, [r2, #65]	@ unaligned
 454:Service/Srv_Actuator.c **** 
 455:Service/Srv_Actuator.c ****     for (uint8_t i = 0; i < SrvActuator_Obj.drive_module.num.moto_cnt; i++)
 618              		.loc 1 455 5 is_stmt 1 view .LVU169
 619              	.LBB9:
 620              		.loc 1 455 10 view .LVU170
 621              	.LVL27:
 622              		.loc 1 455 18 is_stmt 0 view .LVU171
 623 00d2 0024     		movs	r4, #0
 624              		.loc 1 455 5 view .LVU172
 625 00d4 14E0     		b	.L48
 626              	.LVL28:
 627              	.L49:
 456:Service/Srv_Actuator.c ****     {
 457:Service/Srv_Actuator.c ****         if (SrvActuator_Obj.drive_module.obj_list[i].ctl_val <= SrvActuator_Obj.drive_module.obj_li
 458:Service/Srv_Actuator.c ****         {
 459:Service/Srv_Actuator.c ****             SrvActuator_Obj.drive_module.obj_list[i].ctl_val = SrvActuator_Obj.drive_module.obj_lis
 460:Service/Srv_Actuator.c ****         }
 461:Service/Srv_Actuator.c ****         else if (SrvActuator_Obj.drive_module.obj_list[i].ctl_val >= SrvActuator_Obj.drive_module.o
 628              		.loc 1 461 14 is_stmt 1 view .LVU173
 629              		.loc 1 461 110 is_stmt 0 view .LVU174
 630 00d6 9088     		ldrh	r0, [r2, #4]	@ unaligned
 631 00d8 1FFA80FC 		uxth	ip, r0
 632              		.loc 1 461 17 view .LVU175
 633 00dc 6145     		cmp	r1, ip
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 21


 634 00de 00D3     		bcc	.L50
 462:Service/Srv_Actuator.c ****             SrvActuator_Obj.drive_module.obj_list[i].ctl_val = SrvActuator_Obj.drive_module.obj_lis
 635              		.loc 1 462 13 is_stmt 1 view .LVU176
 636              		.loc 1 462 62 is_stmt 0 view .LVU177
 637 00e0 5080     		strh	r0, [r2, #2]	@ unaligned
 638              	.L50:
 463:Service/Srv_Actuator.c **** 
 464:Service/Srv_Actuator.c ****         switch (SrvActuator_Obj.drive_module.obj_list[i].drv_type)
 639              		.loc 1 464 9 is_stmt 1 view .LVU178
 640              		.loc 1 464 45 is_stmt 0 view .LVU179
 641 00e2 134A     		ldr	r2, .L55
 642 00e4 D2F80520 		ldr	r2, [r2, #5]	@ unaligned
 643              		.loc 1 464 54 view .LVU180
 644 00e8 D018     		adds	r0, r2, r3
 645              		.loc 1 464 57 view .LVU181
 646 00ea D35C     		ldrb	r3, [r2, r3]	@ zero_extendqisi2
 647              		.loc 1 464 9 view .LVU182
 648 00ec 013B     		subs	r3, r3, #1
 649 00ee 022B     		cmp	r3, #2
 650 00f0 1BD8     		bhi	.L43
 465:Service/Srv_Actuator.c ****         {
 466:Service/Srv_Actuator.c ****         case Actuator_DevType_DShot150:
 467:Service/Srv_Actuator.c ****         case Actuator_DevType_DShot300:
 468:Service/Srv_Actuator.c ****         case Actuator_DevType_DShot600:
 469:Service/Srv_Actuator.c ****             DevDshot.control(SrvActuator_Obj.drive_module.obj_list[i].drv_obj, SrvActuator_Obj.driv
 651              		.loc 1 469 13 is_stmt 1 view .LVU183
 652              		.loc 1 469 21 is_stmt 0 view .LVU184
 653 00f2 114B     		ldr	r3, .L55+8
 654 00f4 9B68     		ldr	r3, [r3, #8]
 655              		.loc 1 469 13 view .LVU185
 656 00f6 4188     		ldrh	r1, [r0, #2]	@ unaligned
 657 00f8 0069     		ldr	r0, [r0, #16]	@ unaligned
 658 00fa 9847     		blx	r3
 659              	.LVL29:
 470:Service/Srv_Actuator.c ****             break;
 660              		.loc 1 470 13 is_stmt 1 view .LVU186
 455:Service/Srv_Actuator.c ****     {
 661              		.loc 1 455 72 view .LVU187
 455:Service/Srv_Actuator.c ****     {
 662              		.loc 1 455 73 is_stmt 0 view .LVU188
 663 00fc 0134     		adds	r4, r4, #1
 664              	.LVL30:
 455:Service/Srv_Actuator.c ****     {
 665              		.loc 1 455 73 view .LVU189
 666 00fe E4B2     		uxtb	r4, r4
 667              	.LVL31:
 668              	.L48:
 455:Service/Srv_Actuator.c ****     {
 669              		.loc 1 455 25 is_stmt 1 discriminator 1 view .LVU190
 455:Service/Srv_Actuator.c ****     {
 670              		.loc 1 455 61 is_stmt 0 discriminator 1 view .LVU191
 671 0100 0B4B     		ldr	r3, .L55
 672 0102 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 455:Service/Srv_Actuator.c ****     {
 673              		.loc 1 455 5 discriminator 1 view .LVU192
 674 0104 A342     		cmp	r3, r4
 675 0106 10D9     		bls	.L43
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 22


 457:Service/Srv_Actuator.c ****         {
 676              		.loc 1 457 9 is_stmt 1 view .LVU193
 457:Service/Srv_Actuator.c ****         {
 677              		.loc 1 457 41 is_stmt 0 view .LVU194
 678 0108 094B     		ldr	r3, .L55
 679 010a D3F80520 		ldr	r2, [r3, #5]	@ unaligned
 457:Service/Srv_Actuator.c ****         {
 680              		.loc 1 457 50 view .LVU195
 681 010e 04EB4403 		add	r3, r4, r4, lsl #1
 682 0112 C3EBC303 		rsb	r3, r3, r3, lsl #3
 683 0116 1A44     		add	r2, r2, r3
 457:Service/Srv_Actuator.c ****         {
 684              		.loc 1 457 53 view .LVU196
 685 0118 5188     		ldrh	r1, [r2, #2]	@ unaligned
 457:Service/Srv_Actuator.c ****         {
 686              		.loc 1 457 105 view .LVU197
 687 011a D088     		ldrh	r0, [r2, #6]	@ unaligned
 688 011c 1FFA80FC 		uxth	ip, r0
 457:Service/Srv_Actuator.c ****         {
 689              		.loc 1 457 12 view .LVU198
 690 0120 6145     		cmp	r1, ip
 691 0122 D8D8     		bhi	.L49
 459:Service/Srv_Actuator.c ****         }
 692              		.loc 1 459 13 is_stmt 1 view .LVU199
 459:Service/Srv_Actuator.c ****         }
 693              		.loc 1 459 62 is_stmt 0 view .LVU200
 694 0124 5080     		strh	r0, [r2, #2]	@ unaligned
 695 0126 DCE7     		b	.L50
 696              	.LVL32:
 697              	.L53:
 459:Service/Srv_Actuator.c ****         }
 698              		.loc 1 459 62 view .LVU201
 699              	.LBE9:
 434:Service/Srv_Actuator.c **** 
 700              		.loc 1 434 16 view .LVU202
 701 0128 0025     		movs	r5, #0
 702              	.LVL33:
 703              	.L43:
 471:Service/Srv_Actuator.c **** 
 472:Service/Srv_Actuator.c ****         default:
 473:Service/Srv_Actuator.c ****             return;
 474:Service/Srv_Actuator.c ****         }
 475:Service/Srv_Actuator.c ****     }
 476:Service/Srv_Actuator.c **** 
 477:Service/Srv_Actuator.c ****     return true;
 478:Service/Srv_Actuator.c **** }...
 704              		.loc 1 478 1 view .LVU203
 705 012a 2846     		mov	r0, r5
 706 012c 38BD     		pop	{r3, r4, r5, pc}
 707              	.L56:
 708 012e 00BF     		.align	2
 709              	.L55:
 710 0130 00000000 		.word	.LANCHOR0
 711 0134 0000C842 		.word	1120403456
 712 0138 00000000 		.word	DevDshot
 713              		.cfi_endproc
 714              	.LFE162:
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 23


 716              		.section	.text.SrvActuator_PipeData,"ax",%progbits
 717              		.align	1
 718              		.syntax unified
 719              		.thumb
 720              		.thumb_func
 721              		.fpu fpv5-d16
 723              	SrvActuator_PipeData:
 724              	.LFB161:
 393:Service/Srv_Actuator.c **** {
 725              		.loc 1 393 1 is_stmt 1 view -0
 726              		.cfi_startproc
 727              		@ args = 0, pretend = 0, frame = 0
 728              		@ frame_needed = 0, uses_anonymous_args = 0
 729 0000 10B5     		push	{r4, lr}
 730              	.LCFI7:
 731              		.cfi_def_cfa_offset 8
 732              		.cfi_offset 4, -8
 733              		.cfi_offset 14, -4
 394:Service/Srv_Actuator.c ****     DataPipe_DataObj(Actuator_Data).time_stamp = Get_CurrentRunningMs();
 734              		.loc 1 394 5 view .LVU205
 394:Service/Srv_Actuator.c ****     DataPipe_DataObj(Actuator_Data).time_stamp = Get_CurrentRunningMs();
 735              		.loc 1 394 50 is_stmt 0 view .LVU206
 736 0002 FFF7FEFF 		bl	Get_CurrentRunningMs
 737              	.LVL34:
 394:Service/Srv_Actuator.c ****     DataPipe_DataObj(Actuator_Data).time_stamp = Get_CurrentRunningMs();
 738              		.loc 1 394 48 view .LVU207
 739 0006 204B     		ldr	r3, .L64
 740 0008 1860     		str	r0, [r3]
 741 000a 5960     		str	r1, [r3, #4]
 395:Service/Srv_Actuator.c ****     DataPipe_DataObj(Actuator_Data).moto_cnt = SrvActuator_Obj.drive_module.num.moto_cnt;
 742              		.loc 1 395 5 is_stmt 1 view .LVU208
 395:Service/Srv_Actuator.c ****     DataPipe_DataObj(Actuator_Data).moto_cnt = SrvActuator_Obj.drive_module.num.moto_cnt;
 743              		.loc 1 395 80 is_stmt 0 view .LVU209
 744 000c 1F4A     		ldr	r2, .L64+4
 745 000e 92F803C0 		ldrb	ip, [r2, #3]	@ zero_extendqisi2
 395:Service/Srv_Actuator.c ****     DataPipe_DataObj(Actuator_Data).moto_cnt = SrvActuator_Obj.drive_module.num.moto_cnt;
 746              		.loc 1 395 46 view .LVU210
 747 0012 83F808C0 		strb	ip, [r3, #8]
 396:Service/Srv_Actuator.c ****     DataPipe_DataObj(Actuator_Data).servo_cnt = SrvActuator_Obj.drive_module.num.servo_cnt;
 748              		.loc 1 396 5 is_stmt 1 view .LVU211
 396:Service/Srv_Actuator.c ****     DataPipe_DataObj(Actuator_Data).servo_cnt = SrvActuator_Obj.drive_module.num.servo_cnt;
 749              		.loc 1 396 81 is_stmt 0 view .LVU212
 750 0016 1279     		ldrb	r2, [r2, #4]	@ zero_extendqisi2
 396:Service/Srv_Actuator.c ****     DataPipe_DataObj(Actuator_Data).servo_cnt = SrvActuator_Obj.drive_module.num.servo_cnt;
 751              		.loc 1 396 47 view .LVU213
 752 0018 5A72     		strb	r2, [r3, #9]
 398:Service/Srv_Actuator.c ****     for (uint8_t i = 0; i < SrvActuator_Obj.drive_module.num.total_cnt; i++)
 753              		.loc 1 398 5 is_stmt 1 view .LVU214
 754              	.LBB10:
 398:Service/Srv_Actuator.c ****     for (uint8_t i = 0; i < SrvActuator_Obj.drive_module.num.total_cnt; i++)
 755              		.loc 1 398 10 view .LVU215
 756              	.LVL35:
 398:Service/Srv_Actuator.c ****     for (uint8_t i = 0; i < SrvActuator_Obj.drive_module.num.total_cnt; i++)
 757              		.loc 1 398 18 is_stmt 0 view .LVU216
 758 001a 0023     		movs	r3, #0
 398:Service/Srv_Actuator.c ****     for (uint8_t i = 0; i < SrvActuator_Obj.drive_module.num.total_cnt; i++)
 759              		.loc 1 398 5 view .LVU217
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 24


 760 001c 16E0     		b	.L58
 761              	.LVL36:
 762              	.L59:
 407:Service/Srv_Actuator.c ****             DataPipe_DataObj(Actuator_Data).servo_dir[i - SrvActuator_Obj.drive_module.num.moto_cnt
 763              		.loc 1 407 13 is_stmt 1 view .LVU218
 407:Service/Srv_Actuator.c ****             DataPipe_DataObj(Actuator_Data).servo_dir[i - SrvActuator_Obj.drive_module.num.moto_cnt
 764              		.loc 1 407 132 is_stmt 0 view .LVU219
 765 001e 1B4A     		ldr	r2, .L64+4
 766 0020 D2F80500 		ldr	r0, [r2, #5]	@ unaligned
 407:Service/Srv_Actuator.c ****             DataPipe_DataObj(Actuator_Data).servo_dir[i - SrvActuator_Obj.drive_module.num.moto_cnt
 767              		.loc 1 407 141 view .LVU220
 768 0024 03EB4302 		add	r2, r3, r3, lsl #1
 769 0028 C2EBC202 		rsb	r2, r2, r2, lsl #3
 770 002c 1044     		add	r0, r0, r2
 407:Service/Srv_Actuator.c ****             DataPipe_DataObj(Actuator_Data).servo_dir[i - SrvActuator_Obj.drive_module.num.moto_cnt
 771              		.loc 1 407 57 view .LVU221
 772 002e A3EB0C01 		sub	r1, r3, ip
 407:Service/Srv_Actuator.c ****             DataPipe_DataObj(Actuator_Data).servo_dir[i - SrvActuator_Obj.drive_module.num.moto_cnt
 773              		.loc 1 407 144 view .LVU222
 774 0032 047D     		ldrb	r4, [r0, #20]	@ zero_extendqisi2
 407:Service/Srv_Actuator.c ****             DataPipe_DataObj(Actuator_Data).servo_dir[i - SrvActuator_Obj.drive_module.num.moto_cnt
 775              		.loc 1 407 102 view .LVU223
 776 0034 144A     		ldr	r2, .L64
 777 0036 02EB010E 		add	lr, r2, r1
 778 003a 8EF83240 		strb	r4, [lr, #50]
 408:Service/Srv_Actuator.c ****             DataPipe_DataObj(Actuator_Data).servo[i - SrvActuator_Obj.drive_module.num.moto_cnt] = 
 779              		.loc 1 408 13 is_stmt 1 view .LVU224
 408:Service/Srv_Actuator.c ****             DataPipe_DataObj(Actuator_Data).servo[i - SrvActuator_Obj.drive_module.num.moto_cnt] = 
 780              		.loc 1 408 140 is_stmt 0 view .LVU225
 781 003e 4088     		ldrh	r0, [r0, #2]	@ unaligned
 408:Service/Srv_Actuator.c ****             DataPipe_DataObj(Actuator_Data).servo[i - SrvActuator_Obj.drive_module.num.moto_cnt] = 
 782              		.loc 1 408 98 view .LVU226
 783 0040 0C31     		adds	r1, r1, #12
 784 0042 02EB4102 		add	r2, r2, r1, lsl #1
 785 0046 5080     		strh	r0, [r2, #2]	@ movhi
 786              	.L60:
 398:Service/Srv_Actuator.c ****     for (uint8_t i = 0; i < SrvActuator_Obj.drive_module.num.total_cnt; i++)
 787              		.loc 1 398 73 is_stmt 1 discriminator 2 view .LVU227
 398:Service/Srv_Actuator.c ****     for (uint8_t i = 0; i < SrvActuator_Obj.drive_module.num.total_cnt; i++)
 788              		.loc 1 398 74 is_stmt 0 discriminator 2 view .LVU228
 789 0048 0133     		adds	r3, r3, #1
 790              	.LVL37:
 398:Service/Srv_Actuator.c ****     for (uint8_t i = 0; i < SrvActuator_Obj.drive_module.num.total_cnt; i++)
 791              		.loc 1 398 74 discriminator 2 view .LVU229
 792 004a DBB2     		uxtb	r3, r3
 793              	.LVL38:
 794              	.L58:
 398:Service/Srv_Actuator.c ****     for (uint8_t i = 0; i < SrvActuator_Obj.drive_module.num.total_cnt; i++)
 795              		.loc 1 398 25 is_stmt 1 discriminator 1 view .LVU230
 398:Service/Srv_Actuator.c ****     for (uint8_t i = 0; i < SrvActuator_Obj.drive_module.num.total_cnt; i++)
 796              		.loc 1 398 61 is_stmt 0 discriminator 1 view .LVU231
 797 004c 0F4A     		ldr	r2, .L64+4
 798 004e 9278     		ldrb	r2, [r2, #2]	@ zero_extendqisi2
 398:Service/Srv_Actuator.c ****     for (uint8_t i = 0; i < SrvActuator_Obj.drive_module.num.total_cnt; i++)
 799              		.loc 1 398 5 discriminator 1 view .LVU232
 800 0050 9A42     		cmp	r2, r3
 801 0052 14D9     		bls	.L63
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 25


 400:Service/Srv_Actuator.c ****         if (i < SrvActuator_Obj.drive_module.num.moto_cnt)
 802              		.loc 1 400 9 is_stmt 1 view .LVU233
 400:Service/Srv_Actuator.c ****         if (i < SrvActuator_Obj.drive_module.num.moto_cnt)
 803              		.loc 1 400 12 is_stmt 0 view .LVU234
 804 0054 9C45     		cmp	ip, r3
 805 0056 E2D9     		bls	.L59
 402:Service/Srv_Actuator.c ****             DataPipe_DataObj(Actuator_Data).moto[i] = SrvActuator_Obj.drive_module.obj_list[i].ctl_
 806              		.loc 1 402 13 is_stmt 1 view .LVU235
 402:Service/Srv_Actuator.c ****             DataPipe_DataObj(Actuator_Data).moto[i] = SrvActuator_Obj.drive_module.obj_list[i].ctl_
 807              		.loc 1 402 83 is_stmt 0 view .LVU236
 808 0058 0C4A     		ldr	r2, .L64+4
 809 005a D2F80510 		ldr	r1, [r2, #5]	@ unaligned
 402:Service/Srv_Actuator.c ****             DataPipe_DataObj(Actuator_Data).moto[i] = SrvActuator_Obj.drive_module.obj_list[i].ctl_
 810              		.loc 1 402 92 view .LVU237
 811 005e 03EB4302 		add	r2, r3, r3, lsl #1
 812 0062 C2EBC202 		rsb	r2, r2, r2, lsl #3
 813 0066 1144     		add	r1, r1, r2
 402:Service/Srv_Actuator.c ****             DataPipe_DataObj(Actuator_Data).moto[i] = SrvActuator_Obj.drive_module.obj_list[i].ctl_
 814              		.loc 1 402 95 view .LVU238
 815 0068 4C88     		ldrh	r4, [r1, #2]	@ unaligned
 402:Service/Srv_Actuator.c ****             DataPipe_DataObj(Actuator_Data).moto[i] = SrvActuator_Obj.drive_module.obj_list[i].ctl_
 816              		.loc 1 402 53 view .LVU239
 817 006a 074A     		ldr	r2, .L64
 818 006c 181D     		adds	r0, r3, #4
 819 006e 02EB4000 		add	r0, r2, r0, lsl #1
 820 0072 4480     		strh	r4, [r0, #2]	@ movhi
 403:Service/Srv_Actuator.c ****             DataPipe_DataObj(Actuator_Data).moto_dir[i] = SrvActuator_Obj.drive_module.obj_list[i].
 821              		.loc 1 403 13 is_stmt 1 view .LVU240
 403:Service/Srv_Actuator.c ****             DataPipe_DataObj(Actuator_Data).moto_dir[i] = SrvActuator_Obj.drive_module.obj_list[i].
 822              		.loc 1 403 99 is_stmt 0 view .LVU241
 823 0074 097D     		ldrb	r1, [r1, #20]	@ zero_extendqisi2
 403:Service/Srv_Actuator.c ****             DataPipe_DataObj(Actuator_Data).moto_dir[i] = SrvActuator_Obj.drive_module.obj_list[i].
 824              		.loc 1 403 57 view .LVU242
 825 0076 1A44     		add	r2, r2, r3
 826 0078 82F82A10 		strb	r1, [r2, #42]
 827 007c E4E7     		b	.L60
 828              	.L63:
 829              	.LBE10:
 412:Service/Srv_Actuator.c ****     DataPipe_SendTo(&Actuator_cal_DataPipe, &Actuator_hub_DataPipe);
 830              		.loc 1 412 5 is_stmt 1 view .LVU243
 831 007e 0449     		ldr	r1, .L64+8
 832 0080 0448     		ldr	r0, .L64+12
 833 0082 FFF7FEFF 		bl	DataPipe_SendTo
 834              	.LVL39:
 413:Service/Srv_Actuator.c **** }
 835              		.loc 1 413 1 is_stmt 0 view .LVU244
 836 0086 10BD     		pop	{r4, pc}
 837              	.L65:
 838              		.align	2
 839              	.L64:
 840 0088 00000000 		.word	.LANCHOR1
 841 008c 00000000 		.word	.LANCHOR0
 842 0090 00000000 		.word	Actuator_hub_DataPipe
 843 0094 00000000 		.word	Actuator_cal_DataPipe
 844              		.cfi_endproc
 845              	.LFE161:
 847              		.section	.text.SrvActuator_MotoControl,"ax",%progbits
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 26


 848              		.align	1
 849              		.syntax unified
 850              		.thumb
 851              		.thumb_func
 852              		.fpu fpv5-d16
 854              	SrvActuator_MotoControl:
 855              	.LVL40:
 856              	.LFB154:
 262:Service/Srv_Actuator.c **** {
 857              		.loc 1 262 1 is_stmt 1 view -0
 858              		.cfi_startproc
 859              		@ args = 0, pretend = 0, frame = 0
 860              		@ frame_needed = 0, uses_anonymous_args = 0
 263:Service/Srv_Actuator.c ****     uint8_t i = 0;
 861              		.loc 1 263 5 view .LVU246
 265:Service/Srv_Actuator.c ****     if ((p_val == NULL) || !SrvActuator_Obj.init)
 862              		.loc 1 265 5 view .LVU247
 265:Service/Srv_Actuator.c ****     if ((p_val == NULL) || !SrvActuator_Obj.init)
 863              		.loc 1 265 8 is_stmt 0 view .LVU248
 864 0000 60B1     		cbz	r0, .L69
 262:Service/Srv_Actuator.c **** {
 865              		.loc 1 262 1 discriminator 1 view .LVU249
 866 0002 08B5     		push	{r3, lr}
 867              	.LCFI8:
 868              		.cfi_def_cfa_offset 8
 869              		.cfi_offset 3, -8
 870              		.cfi_offset 14, -4
 265:Service/Srv_Actuator.c ****     if ((p_val == NULL) || !SrvActuator_Obj.init)
 871              		.loc 1 265 44 discriminator 1 view .LVU250
 872 0004 064B     		ldr	r3, .L73
 873 0006 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 265:Service/Srv_Actuator.c ****     if ((p_val == NULL) || !SrvActuator_Obj.init)
 874              		.loc 1 265 25 discriminator 1 view .LVU251
 875 0008 13B1     		cbz	r3, .L66
 268:Service/Srv_Actuator.c ****     switch (SrvActuator_Obj.model)
 876              		.loc 1 268 5 is_stmt 1 view .LVU252
 268:Service/Srv_Actuator.c ****     switch (SrvActuator_Obj.model)
 877              		.loc 1 268 28 is_stmt 0 view .LVU253
 878 000a 054B     		ldr	r3, .L73
 879 000c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 268:Service/Srv_Actuator.c ****     switch (SrvActuator_Obj.model)
 880              		.loc 1 268 5 view .LVU254
 881 000e 03B1     		cbz	r3, .L72
 882              	.LVL41:
 883              	.L66:
 279:Service/Srv_Actuator.c **** }
 884              		.loc 1 279 1 view .LVU255
 885 0010 08BD     		pop	{r3, pc}
 886              	.LVL42:
 887              	.L72:
 271:Service/Srv_Actuator.c ****         SrvActuator_QuadDrone_MotoMixControl(p_val);
 888              		.loc 1 271 9 is_stmt 1 view .LVU256
 889 0012 FFF7FEFF 		bl	SrvActuator_QuadDrone_MotoMixControl
 890              	.LVL43:
 272:Service/Srv_Actuator.c ****         break;
 891              		.loc 1 272 9 view .LVU257
 278:Service/Srv_Actuator.c ****     SrvActuator_PipeData();
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 27


 892              		.loc 1 278 5 view .LVU258
 893 0016 FFF7FEFF 		bl	SrvActuator_PipeData
 894              	.LVL44:
 895 001a F9E7     		b	.L66
 896              	.LVL45:
 897              	.L69:
 898              	.LCFI9:
 899              		.cfi_def_cfa_offset 0
 900              		.cfi_restore 3
 901              		.cfi_restore 14
 278:Service/Srv_Actuator.c ****     SrvActuator_PipeData();
 902              		.loc 1 278 5 is_stmt 0 view .LVU259
 903 001c 7047     		bx	lr
 904              	.L74:
 905 001e 00BF     		.align	2
 906              	.L73:
 907 0020 00000000 		.word	.LANCHOR0
 908              		.cfi_endproc
 909              	.LFE154:
 911              		.section	.text.SrvActuator_Lock,"ax",%progbits
 912              		.align	1
 913              		.syntax unified
 914              		.thumb
 915              		.thumb_func
 916              		.fpu fpv5-d16
 918              	SrvActuator_Lock:
 919              	.LFB153:
 234:Service/Srv_Actuator.c **** {
 920              		.loc 1 234 1 is_stmt 1 view -0
 921              		.cfi_startproc
 922              		@ args = 0, pretend = 0, frame = 0
 923              		@ frame_needed = 0, uses_anonymous_args = 0
 924 0000 10B5     		push	{r4, lr}
 925              	.LCFI10:
 926              		.cfi_def_cfa_offset 8
 927              		.cfi_offset 4, -8
 928              		.cfi_offset 14, -4
 235:Service/Srv_Actuator.c ****     uint8_t i = 0;
 929              		.loc 1 235 5 view .LVU261
 930              	.LVL46:
 237:Service/Srv_Actuator.c ****     if (!SrvActuator_Obj.init)
 931              		.loc 1 237 5 view .LVU262
 237:Service/Srv_Actuator.c ****     if (!SrvActuator_Obj.init)
 932              		.loc 1 237 25 is_stmt 0 view .LVU263
 933 0002 144B     		ldr	r3, .L87
 934 0004 5C78     		ldrb	r4, [r3, #1]	@ zero_extendqisi2
 237:Service/Srv_Actuator.c ****     if (!SrvActuator_Obj.init)
 935              		.loc 1 237 8 view .LVU264
 936 0006 BCB1     		cbz	r4, .L75
 240:Service/Srv_Actuator.c ****     for (i = 0; i < SrvActuator_Obj.drive_module.num.total_cnt; i++)
 937              		.loc 1 240 12 view .LVU265
 938 0008 0022     		movs	r2, #0
 939              	.LVL47:
 940              	.L76:
 240:Service/Srv_Actuator.c ****     for (i = 0; i < SrvActuator_Obj.drive_module.num.total_cnt; i++)
 941              		.loc 1 240 17 is_stmt 1 discriminator 1 view .LVU266
 240:Service/Srv_Actuator.c ****     for (i = 0; i < SrvActuator_Obj.drive_module.num.total_cnt; i++)
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 28


 942              		.loc 1 240 53 is_stmt 0 discriminator 1 view .LVU267
 943 000a 124B     		ldr	r3, .L87
 944 000c 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
 240:Service/Srv_Actuator.c ****     for (i = 0; i < SrvActuator_Obj.drive_module.num.total_cnt; i++)
 945              		.loc 1 240 5 discriminator 1 view .LVU268
 946 000e 9342     		cmp	r3, r2
 947 0010 1CD9     		bls	.L84
 242:Service/Srv_Actuator.c ****         switch (SrvActuator_Obj.drive_module.obj_list[i].drv_type)
 948              		.loc 1 242 9 is_stmt 1 view .LVU269
 242:Service/Srv_Actuator.c ****         switch (SrvActuator_Obj.drive_module.obj_list[i].drv_type)
 949              		.loc 1 242 45 is_stmt 0 view .LVU270
 950 0012 104B     		ldr	r3, .L87
 951 0014 D3F80510 		ldr	r1, [r3, #5]	@ unaligned
 242:Service/Srv_Actuator.c ****         switch (SrvActuator_Obj.drive_module.obj_list[i].drv_type)
 952              		.loc 1 242 54 view .LVU271
 953 0018 02EB4203 		add	r3, r2, r2, lsl #1
 954 001c C3EBC303 		rsb	r3, r3, r3, lsl #3
 955 0020 C818     		adds	r0, r1, r3
 242:Service/Srv_Actuator.c ****         switch (SrvActuator_Obj.drive_module.obj_list[i].drv_type)
 956              		.loc 1 242 57 view .LVU272
 957 0022 CB5C     		ldrb	r3, [r1, r3]	@ zero_extendqisi2
 242:Service/Srv_Actuator.c ****         switch (SrvActuator_Obj.drive_module.obj_list[i].drv_type)
 958              		.loc 1 242 9 view .LVU273
 959 0024 032B     		cmp	r3, #3
 960 0026 04D9     		bls	.L85
 961 0028 042B     		cmp	r3, #4
 962 002a 07D1     		bne	.L86
 251:Service/Srv_Actuator.c ****             break;
 963              		.loc 1 251 13 is_stmt 1 discriminator 2 view .LVU274
 240:Service/Srv_Actuator.c ****     for (i = 0; i < SrvActuator_Obj.drive_module.num.total_cnt; i++)
 964              		.loc 1 240 65 discriminator 2 view .LVU275
 240:Service/Srv_Actuator.c ****     for (i = 0; i < SrvActuator_Obj.drive_module.num.total_cnt; i++)
 965              		.loc 1 240 66 is_stmt 0 discriminator 2 view .LVU276
 966 002c 0132     		adds	r2, r2, #1
 967              	.LVL48:
 240:Service/Srv_Actuator.c ****     for (i = 0; i < SrvActuator_Obj.drive_module.num.total_cnt; i++)
 968              		.loc 1 240 66 discriminator 2 view .LVU277
 969 002e D2B2     		uxtb	r2, r2
 970              	.LVL49:
 240:Service/Srv_Actuator.c ****     for (i = 0; i < SrvActuator_Obj.drive_module.num.total_cnt; i++)
 971              		.loc 1 240 66 discriminator 2 view .LVU278
 972 0030 EBE7     		b	.L76
 973              	.L85:
 242:Service/Srv_Actuator.c ****         switch (SrvActuator_Obj.drive_module.obj_list[i].drv_type)
 974              		.loc 1 242 9 view .LVU279
 975 0032 5BB2     		sxtb	r3, r3
 976 0034 23B9     		cbnz	r3, .L79
 977 0036 0024     		movs	r4, #0
 978              	.LVL50:
 979              	.L75:
 259:Service/Srv_Actuator.c **** }
 980              		.loc 1 259 1 view .LVU280
 981 0038 2046     		mov	r0, r4
 982 003a 10BD     		pop	{r4, pc}
 983              	.LVL51:
 984              	.L86:
 242:Service/Srv_Actuator.c ****         switch (SrvActuator_Obj.drive_module.obj_list[i].drv_type)
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 29


 985              		.loc 1 242 9 view .LVU281
 986 003c 0024     		movs	r4, #0
 987 003e FBE7     		b	.L75
 988              	.L79:
 247:Service/Srv_Actuator.c ****             DevDshot.control(SrvActuator_Obj.drive_module.obj_list[i].drv_obj, SrvActuator_Obj.driv
 989              		.loc 1 247 13 is_stmt 1 view .LVU282
 247:Service/Srv_Actuator.c ****             DevDshot.control(SrvActuator_Obj.drive_module.obj_list[i].drv_obj, SrvActuator_Obj.driv
 990              		.loc 1 247 21 is_stmt 0 view .LVU283
 991 0040 054B     		ldr	r3, .L87+4
 992 0042 9B68     		ldr	r3, [r3, #8]
 247:Service/Srv_Actuator.c ****             DevDshot.control(SrvActuator_Obj.drive_module.obj_list[i].drv_obj, SrvActuator_Obj.driv
 993              		.loc 1 247 13 view .LVU284
 994 0044 4189     		ldrh	r1, [r0, #10]	@ unaligned
 995 0046 0069     		ldr	r0, [r0, #16]	@ unaligned
 996 0048 9847     		blx	r3
 997              	.LVL52:
 248:Service/Srv_Actuator.c ****             return true;
 998              		.loc 1 248 13 is_stmt 1 view .LVU285
 248:Service/Srv_Actuator.c ****             return true;
 999              		.loc 1 248 20 is_stmt 0 view .LVU286
 1000 004a F5E7     		b	.L75
 1001              	.LVL53:
 1002              	.L84:
 258:Service/Srv_Actuator.c ****     SrvActuator_PipeData();
 1003              		.loc 1 258 5 is_stmt 1 view .LVU287
 1004 004c FFF7FEFF 		bl	SrvActuator_PipeData
 1005              	.LVL54:
 259:Service/Srv_Actuator.c **** }
 1006              		.loc 1 259 1 is_stmt 0 view .LVU288
 1007 0050 F2E7     		b	.L75
 1008              	.L88:
 1009 0052 00BF     		.align	2
 1010              	.L87:
 1011 0054 00000000 		.word	.LANCHOR0
 1012 0058 00000000 		.word	DevDshot
 1013              		.cfi_endproc
 1014              	.LFE153:
 1016              		.section	.text.SrcActuator_Get_ChannelRemap,"ax",%progbits
 1017              		.align	1
 1018              		.syntax unified
 1019              		.thumb
 1020              		.thumb_func
 1021              		.fpu fpv5-d16
 1023              	SrcActuator_Get_ChannelRemap:
 1024              	.LFB152:
 202:Service/Srv_Actuator.c **** {
 1025              		.loc 1 202 1 is_stmt 1 view -0
 1026              		.cfi_startproc
 1027              		@ args = 0, pretend = 0, frame = 0
 1028              		@ frame_needed = 1, uses_anonymous_args = 0
 1029 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1030              	.LCFI11:
 1031              		.cfi_def_cfa_offset 24
 1032              		.cfi_offset 4, -24
 1033              		.cfi_offset 5, -20
 1034              		.cfi_offset 6, -16
 1035              		.cfi_offset 7, -12
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 30


 1036              		.cfi_offset 8, -8
 1037              		.cfi_offset 14, -4
 1038 0004 84B0     		sub	sp, sp, #16
 1039              	.LCFI12:
 1040              		.cfi_def_cfa_offset 40
 1041 0006 04AF     		add	r7, sp, #16
 1042              	.LCFI13:
 1043              		.cfi_def_cfa 7, 24
 203:Service/Srv_Actuator.c ****     uint8_t storage_serial[SrvActuator_Obj.drive_module.num.moto_cnt + SrvActuator_Obj.drive_module
 1044              		.loc 1 203 5 view .LVU290
 203:Service/Srv_Actuator.c ****     uint8_t storage_serial[SrvActuator_Obj.drive_module.num.moto_cnt + SrvActuator_Obj.drive_module
 1045              		.loc 1 203 60 is_stmt 0 view .LVU291
 1046 0008 2A4C     		ldr	r4, .L98
 1047 000a E278     		ldrb	r2, [r4, #3]	@ zero_extendqisi2
 203:Service/Srv_Actuator.c ****     uint8_t storage_serial[SrvActuator_Obj.drive_module.num.moto_cnt + SrvActuator_Obj.drive_module
 1048              		.loc 1 203 104 view .LVU292
 1049 000c 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
 203:Service/Srv_Actuator.c ****     uint8_t storage_serial[SrvActuator_Obj.drive_module.num.moto_cnt + SrvActuator_Obj.drive_module
 1050              		.loc 1 203 70 view .LVU293
 1051 000e 1A44     		add	r2, r2, r3
 1052              	.LVL55:
 203:Service/Srv_Actuator.c ****     uint8_t storage_serial[SrvActuator_Obj.drive_module.num.moto_cnt + SrvActuator_Obj.drive_module
 1053              		.loc 1 203 13 view .LVU294
 1054 0010 D31D     		adds	r3, r2, #7
 1055 0012 03F47E73 		and	r3, r3, #1016
 1056 0016 ADEB030D 		sub	sp, sp, r3
 1057 001a 04AD     		add	r5, sp, #16
 1058              	.LVL56:
 204:Service/Srv_Actuator.c ****     SrvActuator_PeriphSet_TypeDef *periph_ptr = NULL;
 1059              		.loc 1 204 5 is_stmt 1 view .LVU295
 207:Service/Srv_Actuator.c ****     memcpy(storage_serial, default_sig_serial, sizeof(storage_serial)); // only for develop stage..
 1060              		.loc 1 207 5 view .LVU296
 1061 001c 2649     		ldr	r1, .L98+4
 1062 001e 2846     		mov	r0, r5
 1063 0020 FFF7FEFF 		bl	memcpy
 1064              	.LVL57:
 210:Service/Srv_Actuator.c ****     if (SrvActuator_Obj.drive_module.num.moto_cnt)
 1065              		.loc 1 210 5 view .LVU297
 210:Service/Srv_Actuator.c ****     if (SrvActuator_Obj.drive_module.num.moto_cnt)
 1066              		.loc 1 210 41 is_stmt 0 view .LVU298
 1067 0024 E378     		ldrb	r3, [r4, #3]	@ zero_extendqisi2
 210:Service/Srv_Actuator.c ****     if (SrvActuator_Obj.drive_module.num.moto_cnt)
 1068              		.loc 1 210 8 view .LVU299
 1069 0026 002B     		cmp	r3, #0
 1070 0028 39D1     		bne	.L96
 1071              	.LVL58:
 1072              	.L91:
 225:Service/Srv_Actuator.c ****     if (SrvActuator_Obj.drive_module.num.servo_cnt)
 1073              		.loc 1 225 5 is_stmt 1 view .LVU300
 225:Service/Srv_Actuator.c ****     if (SrvActuator_Obj.drive_module.num.servo_cnt)
 1074              		.loc 1 225 41 is_stmt 0 view .LVU301
 1075 002a 224B     		ldr	r3, .L98
 1076 002c 1B79     		ldrb	r3, [r3, #4]	@ zero_extendqisi2
 225:Service/Srv_Actuator.c ****     if (SrvActuator_Obj.drive_module.num.servo_cnt)
 1077              		.loc 1 225 8 view .LVU302
 1078 002e 002B     		cmp	r3, #0
 1079 0030 3DD0     		beq	.L89
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 31


 227:Service/Srv_Actuator.c ****         for (uint8_t i = SrvActuator_Obj.drive_module.num.moto_cnt; i < SrvActuator_Obj.drive_modul
 1080              		.loc 1 227 9 is_stmt 1 view .LVU303
 1081              	.LBB11:
 227:Service/Srv_Actuator.c ****         for (uint8_t i = SrvActuator_Obj.drive_module.num.moto_cnt; i < SrvActuator_Obj.drive_modul
 1082              		.loc 1 227 14 view .LVU304
 227:Service/Srv_Actuator.c ****         for (uint8_t i = SrvActuator_Obj.drive_module.num.moto_cnt; i < SrvActuator_Obj.drive_modul
 1083              		.loc 1 227 22 is_stmt 0 view .LVU305
 1084 0032 204B     		ldr	r3, .L98
 1085 0034 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 1086              	.LVL59:
 227:Service/Srv_Actuator.c ****         for (uint8_t i = SrvActuator_Obj.drive_module.num.moto_cnt; i < SrvActuator_Obj.drive_modul
 1087              		.loc 1 227 9 view .LVU306
 1088 0036 36E0     		b	.L94
 1089              	.LVL60:
 1090              	.L92:
 227:Service/Srv_Actuator.c ****         for (uint8_t i = SrvActuator_Obj.drive_module.num.moto_cnt; i < SrvActuator_Obj.drive_modul
 1091              		.loc 1 227 9 view .LVU307
 1092              	.LBE11:
 1093              	.LBB12:
 214:Service/Srv_Actuator.c ****             SrvActuator_Obj.drive_module.obj_list[i].sig_id = storage_serial[storage_serial[i]];
 1094              		.loc 1 214 13 is_stmt 1 discriminator 3 view .LVU308
 214:Service/Srv_Actuator.c ****             SrvActuator_Obj.drive_module.obj_list[i].sig_id = storage_serial[storage_serial[i]];
 1095              		.loc 1 214 92 is_stmt 0 discriminator 3 view .LVU309
 1096 0038 285D     		ldrb	r0, [r5, r4]	@ zero_extendqisi2
 214:Service/Srv_Actuator.c ****             SrvActuator_Obj.drive_module.obj_list[i].sig_id = storage_serial[storage_serial[i]];
 1097              		.loc 1 214 41 discriminator 3 view .LVU310
 1098 003a 1E49     		ldr	r1, .L98
 1099 003c D1F80530 		ldr	r3, [r1, #5]	@ unaligned
 214:Service/Srv_Actuator.c ****             SrvActuator_Obj.drive_module.obj_list[i].sig_id = storage_serial[storage_serial[i]];
 1100              		.loc 1 214 50 discriminator 3 view .LVU311
 1101 0040 04EB4402 		add	r2, r4, r4, lsl #1
 1102 0044 C2EBC202 		rsb	r2, r2, r2, lsl #3
 1103 0048 1344     		add	r3, r3, r2
 214:Service/Srv_Actuator.c ****             SrvActuator_Obj.drive_module.obj_list[i].sig_id = storage_serial[storage_serial[i]];
 1104              		.loc 1 214 77 discriminator 3 view .LVU312
 1105 004a 285C     		ldrb	r0, [r5, r0]	@ zero_extendqisi2
 214:Service/Srv_Actuator.c ****             SrvActuator_Obj.drive_module.obj_list[i].sig_id = storage_serial[storage_serial[i]];
 1106              		.loc 1 214 61 discriminator 3 view .LVU313
 1107 004c 5870     		strb	r0, [r3, #1]
 215:Service/Srv_Actuator.c ****             SrvActuator_Obj.drive_module.obj_list[i].periph_ptr = &SrvActuator_Periph_List[storage_
 1108              		.loc 1 215 13 is_stmt 1 discriminator 3 view .LVU314
 215:Service/Srv_Actuator.c ****             SrvActuator_Obj.drive_module.obj_list[i].periph_ptr = &SrvActuator_Periph_List[storage_
 1109              		.loc 1 215 106 is_stmt 0 discriminator 3 view .LVU315
 1110 004e 2B5D     		ldrb	r3, [r5, r4]	@ zero_extendqisi2
 215:Service/Srv_Actuator.c ****             SrvActuator_Obj.drive_module.obj_list[i].periph_ptr = &SrvActuator_Periph_List[storage_
 1111              		.loc 1 215 41 discriminator 3 view .LVU316
 1112 0050 D1F80510 		ldr	r1, [r1, #5]	@ unaligned
 215:Service/Srv_Actuator.c ****             SrvActuator_Obj.drive_module.obj_list[i].periph_ptr = &SrvActuator_Periph_List[storage_
 1113              		.loc 1 215 50 discriminator 3 view .LVU317
 1114 0054 1144     		add	r1, r1, r2
 215:Service/Srv_Actuator.c ****             SrvActuator_Obj.drive_module.obj_list[i].periph_ptr = &SrvActuator_Periph_List[storage_
 1115              		.loc 1 215 67 discriminator 3 view .LVU318
 1116 0056 194E     		ldr	r6, .L98+8
 1117 0058 C3EBC303 		rsb	r3, r3, r3, lsl #3
 1118 005c 4FEA830C 		lsl	ip, r3, #2
 1119 0060 06EB0C02 		add	r2, r6, ip
 215:Service/Srv_Actuator.c ****             SrvActuator_Obj.drive_module.obj_list[i].periph_ptr = &SrvActuator_Periph_List[storage_
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 32


 1120              		.loc 1 215 65 discriminator 3 view .LVU319
 1121 0064 CA60     		str	r2, [r1, #12]	@ unaligned
 216:Service/Srv_Actuator.c ****             periph_ptr = SrvActuator_Obj.drive_module.obj_list[i].periph_ptr;
 1122              		.loc 1 216 13 is_stmt 1 discriminator 3 view .LVU320
 1123              	.LVL61:
 218:Service/Srv_Actuator.c ****             DevDshot.init(SrvActuator_Obj.drive_module.obj_list[i].drv_obj,
 1124              		.loc 1 218 13 discriminator 3 view .LVU321
 218:Service/Srv_Actuator.c ****             DevDshot.init(SrvActuator_Obj.drive_module.obj_list[i].drv_obj,
 1125              		.loc 1 218 21 is_stmt 0 discriminator 3 view .LVU322
 1126 0066 164B     		ldr	r3, .L98+12
 1127 0068 D3F80080 		ldr	r8, [r3]
 218:Service/Srv_Actuator.c ****             DevDshot.init(SrvActuator_Obj.drive_module.obj_list[i].drv_obj,
 1128              		.loc 1 218 67 discriminator 3 view .LVU323
 1129 006c D1F810E0 		ldr	lr, [r1, #16]	@ unaligned
 220:Service/Srv_Actuator.c ****                           periph_ptr->dma, periph_ptr->dma_channel);
 1130              		.loc 1 220 37 discriminator 3 view .LVU324
 1131 0070 9368     		ldr	r3, [r2, #8]	@ unaligned
 220:Service/Srv_Actuator.c ****                           periph_ptr->dma, periph_ptr->dma_channel);
 1132              		.loc 1 220 54 discriminator 3 view .LVU325
 1133 0072 D168     		ldr	r1, [r2, #12]	@ unaligned
 218:Service/Srv_Actuator.c ****             DevDshot.init(SrvActuator_Obj.drive_module.obj_list[i].drv_obj,
 1134              		.loc 1 218 13 discriminator 3 view .LVU326
 1135 0074 C9B2     		uxtb	r1, r1
 1136 0076 0391     		str	r1, [sp, #12]
 1137 0078 DBB2     		uxtb	r3, r3
 1138 007a 0293     		str	r3, [sp, #8]
 1139 007c 6B46     		mov	r3, sp
 1140 007e 5069     		ldr	r0, [r2, #20]	@ unaligned
 1141 0080 9169     		ldr	r1, [r2, #24]	@ unaligned
 1142 0082 03C3     		stmia	r3!, {r0, r1}
 1143 0084 1369     		ldr	r3, [r2, #16]	@ unaligned
 1144 0086 5268     		ldr	r2, [r2, #4]	@ unaligned
 1145              	.LVL62:
 218:Service/Srv_Actuator.c ****             DevDshot.init(SrvActuator_Obj.drive_module.obj_list[i].drv_obj,
 1146              		.loc 1 218 13 discriminator 3 view .LVU327
 1147 0088 56F80C10 		ldr	r1, [r6, ip]	@ unaligned
 1148 008c 7046     		mov	r0, lr
 1149 008e C047     		blx	r8
 1150              	.LVL63:
 212:Service/Srv_Actuator.c ****         for (uint8_t i = 0; i < SrvActuator_Obj.drive_module.num.moto_cnt; i++)
 1151              		.loc 1 212 76 is_stmt 1 discriminator 3 view .LVU328
 212:Service/Srv_Actuator.c ****         for (uint8_t i = 0; i < SrvActuator_Obj.drive_module.num.moto_cnt; i++)
 1152              		.loc 1 212 77 is_stmt 0 discriminator 3 view .LVU329
 1153 0090 0134     		adds	r4, r4, #1
 1154              	.LVL64:
 212:Service/Srv_Actuator.c ****         for (uint8_t i = 0; i < SrvActuator_Obj.drive_module.num.moto_cnt; i++)
 1155              		.loc 1 212 77 discriminator 3 view .LVU330
 1156 0092 E4B2     		uxtb	r4, r4
 1157              	.LVL65:
 1158              	.L90:
 212:Service/Srv_Actuator.c ****         for (uint8_t i = 0; i < SrvActuator_Obj.drive_module.num.moto_cnt; i++)
 1159              		.loc 1 212 29 is_stmt 1 discriminator 1 view .LVU331
 212:Service/Srv_Actuator.c ****         for (uint8_t i = 0; i < SrvActuator_Obj.drive_module.num.moto_cnt; i++)
 1160              		.loc 1 212 65 is_stmt 0 discriminator 1 view .LVU332
 1161 0094 074B     		ldr	r3, .L98
 1162 0096 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 212:Service/Srv_Actuator.c ****         for (uint8_t i = 0; i < SrvActuator_Obj.drive_module.num.moto_cnt; i++)
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 33


 1163              		.loc 1 212 9 discriminator 1 view .LVU333
 1164 0098 9C42     		cmp	r4, r3
 1165 009a CDD3     		bcc	.L92
 1166 009c C5E7     		b	.L91
 1167              	.LVL66:
 1168              	.L96:
 212:Service/Srv_Actuator.c ****         for (uint8_t i = 0; i < SrvActuator_Obj.drive_module.num.moto_cnt; i++)
 1169              		.loc 1 212 22 view .LVU334
 1170 009e 0024     		movs	r4, #0
 1171 00a0 F8E7     		b	.L90
 1172              	.LVL67:
 1173              	.L95:
 212:Service/Srv_Actuator.c ****         for (uint8_t i = 0; i < SrvActuator_Obj.drive_module.num.moto_cnt; i++)
 1174              		.loc 1 212 22 view .LVU335
 1175              	.LBE12:
 1176              	.LBB13:
 229:Service/Srv_Actuator.c ****         }
 1177              		.loc 1 229 9 is_stmt 1 discriminator 3 view .LVU336
 227:Service/Srv_Actuator.c ****         for (uint8_t i = SrvActuator_Obj.drive_module.num.moto_cnt; i < SrvActuator_Obj.drive_modul
 1178              		.loc 1 227 117 discriminator 3 view .LVU337
 227:Service/Srv_Actuator.c ****         for (uint8_t i = SrvActuator_Obj.drive_module.num.moto_cnt; i < SrvActuator_Obj.drive_modul
 1179              		.loc 1 227 118 is_stmt 0 discriminator 3 view .LVU338
 1180 00a2 0133     		adds	r3, r3, #1
 1181              	.LVL68:
 227:Service/Srv_Actuator.c ****         for (uint8_t i = SrvActuator_Obj.drive_module.num.moto_cnt; i < SrvActuator_Obj.drive_modul
 1182              		.loc 1 227 118 discriminator 3 view .LVU339
 1183 00a4 DBB2     		uxtb	r3, r3
 1184              	.LVL69:
 1185              	.L94:
 227:Service/Srv_Actuator.c ****         for (uint8_t i = SrvActuator_Obj.drive_module.num.moto_cnt; i < SrvActuator_Obj.drive_modul
 1186              		.loc 1 227 69 is_stmt 1 discriminator 1 view .LVU340
 227:Service/Srv_Actuator.c ****         for (uint8_t i = SrvActuator_Obj.drive_module.num.moto_cnt; i < SrvActuator_Obj.drive_modul
 1187              		.loc 1 227 105 is_stmt 0 discriminator 1 view .LVU341
 1188 00a6 034A     		ldr	r2, .L98
 1189 00a8 9278     		ldrb	r2, [r2, #2]	@ zero_extendqisi2
 227:Service/Srv_Actuator.c ****         for (uint8_t i = SrvActuator_Obj.drive_module.num.moto_cnt; i < SrvActuator_Obj.drive_modul
 1190              		.loc 1 227 9 discriminator 1 view .LVU342
 1191 00aa 9342     		cmp	r3, r2
 1192 00ac F9D3     		bcc	.L95
 1193              	.LVL70:
 1194              	.L89:
 227:Service/Srv_Actuator.c ****         for (uint8_t i = SrvActuator_Obj.drive_module.num.moto_cnt; i < SrvActuator_Obj.drive_modul
 1195              		.loc 1 227 9 discriminator 1 view .LVU343
 1196              	.LBE13:
 231:Service/Srv_Actuator.c **** }
 1197              		.loc 1 231 1 view .LVU344
 1198 00ae BD46     		mov	sp, r7
 1199              	.LCFI14:
 1200              		.cfi_def_cfa_register 13
 1201              		@ sp needed
 1202 00b0 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1203              	.LVL71:
 1204              	.L99:
 231:Service/Srv_Actuator.c **** }
 1205              		.loc 1 231 1 view .LVU345
 1206              		.align	2
 1207              	.L98:
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 34


 1208 00b4 00000000 		.word	.LANCHOR0
 1209 00b8 00000000 		.word	.LANCHOR2
 1210 00bc 00000000 		.word	.LANCHOR3
 1211 00c0 00000000 		.word	DevDshot
 1212              		.cfi_endproc
 1213              	.LFE152:
 1215              		.section	.text.SrvActuator_Init,"ax",%progbits
 1216              		.align	1
 1217              		.syntax unified
 1218              		.thumb
 1219              		.thumb_func
 1220              		.fpu fpv5-d16
 1222              	SrvActuator_Init:
 1223              	.LVL72:
 1224              	.LFB151:
  83:Service/Srv_Actuator.c **** {
 1225              		.loc 1 83 1 is_stmt 1 view -0
 1226              		.cfi_startproc
 1227              		@ args = 0, pretend = 0, frame = 0
 1228              		@ frame_needed = 0, uses_anonymous_args = 0
  83:Service/Srv_Actuator.c **** {
 1229              		.loc 1 83 1 is_stmt 0 view .LVU347
 1230 0000 70B5     		push	{r4, r5, r6, lr}
 1231              	.LCFI15:
 1232              		.cfi_def_cfa_offset 16
 1233              		.cfi_offset 4, -16
 1234              		.cfi_offset 5, -12
 1235              		.cfi_offset 6, -8
 1236              		.cfi_offset 14, -4
 1237 0002 0D46     		mov	r5, r1
  84:Service/Srv_Actuator.c ****     uint8_t i = 0;
 1238              		.loc 1 84 5 is_stmt 1 view .LVU348
 1239              	.LVL73:
  85:Service/Srv_Actuator.c ****     memset(&SrvActuator_Obj, 0, sizeof(SrvActuator_Obj));
 1240              		.loc 1 85 5 view .LVU349
 1241 0004 6D4A     		ldr	r2, .L131
 1242 0006 0023     		movs	r3, #0
 1243 0008 1360     		str	r3, [r2]
 1244 000a 5360     		str	r3, [r2, #4]
 1245 000c 1372     		strb	r3, [r2, #8]
  86:Service/Srv_Actuator.c ****     memset(&SrvActuator_ControlStream, 0, sizeof(SrvActuator_ControlStream));
 1246              		.loc 1 86 5 view .LVU350
 1247 000e 6C4A     		ldr	r2, .L131+4
 1248 0010 1360     		str	r3, [r2]
 1249 0012 C2F80330 		str	r3, [r2, #3]	@ unaligned
  88:Service/Srv_Actuator.c ****     switch (model)
 1250              		.loc 1 88 5 view .LVU351
 1251 0016 0628     		cmp	r0, #6
 1252 0018 00F2CE80 		bhi	.L122
 1253 001c DFE800F0 		tbb	[pc, r0]
 1254              	.L103:
 1255 0020 04       		.byte	(.L109-.L103)/2
 1256 0021 1F       		.byte	(.L108-.L103)/2
 1257 0022 26       		.byte	(.L107-.L103)/2
 1258 0023 2D       		.byte	(.L106-.L103)/2
 1259 0024 34       		.byte	(.L105-.L103)/2
 1260 0025 3B       		.byte	(.L104-.L103)/2
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 35


 1261 0026 42       		.byte	(.L102-.L103)/2
 1262 0027 00       		.p2align 1
 1263              	.L109:
 1264              	.LBB14:
  91:Service/Srv_Actuator.c ****         SrvActuator_Obj.drive_module.num = QUAD_CONTROL_COMPONENT;
 1265              		.loc 1 91 9 view .LVU352
  91:Service/Srv_Actuator.c ****         SrvActuator_Obj.drive_module.num = QUAD_CONTROL_COMPONENT;
 1266              		.loc 1 91 42 is_stmt 0 view .LVU353
 1267 0028 644B     		ldr	r3, .L131
 1268 002a 664A     		ldr	r2, .L131+8
 1269 002c 1188     		ldrh	r1, [r2]	@ unaligned
 1270              	.LVL74:
  91:Service/Srv_Actuator.c ****         SrvActuator_Obj.drive_module.num = QUAD_CONTROL_COMPONENT;
 1271              		.loc 1 91 42 view .LVU354
 1272 002e 9278     		ldrb	r2, [r2, #2]	@ zero_extendqisi2
 1273 0030 5980     		strh	r1, [r3, #2]	@ unaligned
 1274 0032 1A71     		strb	r2, [r3, #4]
  92:Service/Srv_Actuator.c ****         break;
 1275              		.loc 1 92 9 is_stmt 1 view .LVU355
 1276              	.L110:
 1277              	.LBE14:
 124:Service/Srv_Actuator.c ****     SrvActuator_Obj.model = model;
 1278              		.loc 1 124 5 view .LVU356
 124:Service/Srv_Actuator.c ****     SrvActuator_Obj.model = model;
 1279              		.loc 1 124 27 is_stmt 0 view .LVU357
 1280 0034 614C     		ldr	r4, .L131
 1281 0036 2070     		strb	r0, [r4]
 127:Service/Srv_Actuator.c ****     SrvActuator_Obj.drive_module.obj_list = (SrvActuator_PWMOutObj_TypeDef *)MMU_Malloc(sizeof(SrvA
 1282              		.loc 1 127 5 is_stmt 1 view .LVU358
 127:Service/Srv_Actuator.c ****     SrvActuator_Obj.drive_module.obj_list = (SrvActuator_PWMOutObj_TypeDef *)MMU_Malloc(sizeof(SrvA
 1283              		.loc 1 127 161 is_stmt 0 view .LVU359
 1284 0038 A078     		ldrb	r0, [r4, #2]	@ zero_extendqisi2
 1285              	.LVL75:
 127:Service/Srv_Actuator.c ****     SrvActuator_Obj.drive_module.obj_list = (SrvActuator_PWMOutObj_TypeDef *)MMU_Malloc(sizeof(SrvA
 1286              		.loc 1 127 78 view .LVU360
 1287 003a 00EB4000 		add	r0, r0, r0, lsl #1
 1288 003e C0EBC000 		rsb	r0, r0, r0, lsl #3
 1289 0042 80B2     		uxth	r0, r0
 1290 0044 FFF7FEFF 		bl	MMU_Malloc
 1291              	.LVL76:
 127:Service/Srv_Actuator.c ****     SrvActuator_Obj.drive_module.obj_list = (SrvActuator_PWMOutObj_TypeDef *)MMU_Malloc(sizeof(SrvA
 1292              		.loc 1 127 43 view .LVU361
 1293 0048 C4F80500 		str	r0, [r4, #5]	@ unaligned
 129:Service/Srv_Actuator.c ****     if (SrvActuator_Obj.drive_module.obj_list == NULL)
 1294              		.loc 1 129 5 is_stmt 1 view .LVU362
 129:Service/Srv_Actuator.c ****     if (SrvActuator_Obj.drive_module.obj_list == NULL)
 1295              		.loc 1 129 8 is_stmt 0 view .LVU363
 1296 004c 0028     		cmp	r0, #0
 1297 004e 30D0     		beq	.L127
 135:Service/Srv_Actuator.c ****     if (SrvActuator_Obj.drive_module.num.moto_cnt)
 1298              		.loc 1 135 5 is_stmt 1 view .LVU364
 135:Service/Srv_Actuator.c ****     if (SrvActuator_Obj.drive_module.num.moto_cnt)
 1299              		.loc 1 135 41 is_stmt 0 view .LVU365
 1300 0050 5A4B     		ldr	r3, .L131
 1301 0052 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 135:Service/Srv_Actuator.c ****     if (SrvActuator_Obj.drive_module.num.moto_cnt)
 1302              		.loc 1 135 8 view .LVU366
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 36


 1303 0054 002B     		cmp	r3, #0
 1304 0056 00F09280 		beq	.L113
 1305              	.LBB15:
 138:Service/Srv_Actuator.c ****         for (uint8_t i = 0; i < SrvActuator_Obj.drive_module.num.moto_cnt; i++)
 1306              		.loc 1 138 22 view .LVU367
 1307 005a 0024     		movs	r4, #0
 1308 005c 3CE0     		b	.L112
 1309              	.LVL77:
 1310              	.L108:
 138:Service/Srv_Actuator.c ****         for (uint8_t i = 0; i < SrvActuator_Obj.drive_module.num.moto_cnt; i++)
 1311              		.loc 1 138 22 view .LVU368
 1312              	.LBE15:
 1313              	.LBB17:
  95:Service/Srv_Actuator.c ****         SrvActuator_Obj.drive_module.num = HEX_CONTROL_COMPONENT;
 1314              		.loc 1 95 9 is_stmt 1 view .LVU369
  95:Service/Srv_Actuator.c ****         SrvActuator_Obj.drive_module.num = HEX_CONTROL_COMPONENT;
 1315              		.loc 1 95 42 is_stmt 0 view .LVU370
 1316 005e 574B     		ldr	r3, .L131
 1317 0060 584A     		ldr	r2, .L131+8
 1318 0062 9188     		ldrh	r1, [r2, #4]	@ unaligned
 1319              	.LVL78:
  95:Service/Srv_Actuator.c ****         SrvActuator_Obj.drive_module.num = HEX_CONTROL_COMPONENT;
 1320              		.loc 1 95 42 view .LVU371
 1321 0064 9279     		ldrb	r2, [r2, #6]	@ zero_extendqisi2
 1322 0066 5980     		strh	r1, [r3, #2]	@ unaligned
 1323 0068 1A71     		strb	r2, [r3, #4]
  96:Service/Srv_Actuator.c ****         break;
 1324              		.loc 1 96 9 is_stmt 1 view .LVU372
 1325 006a E3E7     		b	.L110
 1326              	.LVL79:
 1327              	.L107:
  99:Service/Srv_Actuator.c ****         SrvActuator_Obj.drive_module.num = OCT_CONTROL_COMPONENT;
 1328              		.loc 1 99 9 view .LVU373
  99:Service/Srv_Actuator.c ****         SrvActuator_Obj.drive_module.num = OCT_CONTROL_COMPONENT;
 1329              		.loc 1 99 42 is_stmt 0 view .LVU374
 1330 006c 534B     		ldr	r3, .L131
 1331 006e 554A     		ldr	r2, .L131+8
 1332 0070 1189     		ldrh	r1, [r2, #8]	@ unaligned
 1333              	.LVL80:
  99:Service/Srv_Actuator.c ****         SrvActuator_Obj.drive_module.num = OCT_CONTROL_COMPONENT;
 1334              		.loc 1 99 42 view .LVU375
 1335 0072 927A     		ldrb	r2, [r2, #10]	@ zero_extendqisi2
 1336 0074 5980     		strh	r1, [r3, #2]	@ unaligned
 1337 0076 1A71     		strb	r2, [r3, #4]
 100:Service/Srv_Actuator.c ****         break;
 1338              		.loc 1 100 9 is_stmt 1 view .LVU376
 1339 0078 DCE7     		b	.L110
 1340              	.LVL81:
 1341              	.L106:
 103:Service/Srv_Actuator.c ****         SrvActuator_Obj.drive_module.num = X8_CONTROL_COMPONENT;
 1342              		.loc 1 103 9 view .LVU377
 103:Service/Srv_Actuator.c ****         SrvActuator_Obj.drive_module.num = X8_CONTROL_COMPONENT;
 1343              		.loc 1 103 42 is_stmt 0 view .LVU378
 1344 007a 504B     		ldr	r3, .L131
 1345 007c 514A     		ldr	r2, .L131+8
 1346 007e 1189     		ldrh	r1, [r2, #8]	@ unaligned
 1347              	.LVL82:
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 37


 103:Service/Srv_Actuator.c ****         SrvActuator_Obj.drive_module.num = X8_CONTROL_COMPONENT;
 1348              		.loc 1 103 42 view .LVU379
 1349 0080 927A     		ldrb	r2, [r2, #10]	@ zero_extendqisi2
 1350 0082 5980     		strh	r1, [r3, #2]	@ unaligned
 1351 0084 1A71     		strb	r2, [r3, #4]
 104:Service/Srv_Actuator.c ****         break;
 1352              		.loc 1 104 9 is_stmt 1 view .LVU380
 1353 0086 D5E7     		b	.L110
 1354              	.LVL83:
 1355              	.L105:
 107:Service/Srv_Actuator.c ****         SrvActuator_Obj.drive_module.num = Y6_CONTROL_CONPONENT;
 1356              		.loc 1 107 9 view .LVU381
 107:Service/Srv_Actuator.c ****         SrvActuator_Obj.drive_module.num = Y6_CONTROL_CONPONENT;
 1357              		.loc 1 107 42 is_stmt 0 view .LVU382
 1358 0088 4C4B     		ldr	r3, .L131
 1359 008a 4E4A     		ldr	r2, .L131+8
 1360 008c 9188     		ldrh	r1, [r2, #4]	@ unaligned
 1361              	.LVL84:
 107:Service/Srv_Actuator.c ****         SrvActuator_Obj.drive_module.num = Y6_CONTROL_CONPONENT;
 1362              		.loc 1 107 42 view .LVU383
 1363 008e 9279     		ldrb	r2, [r2, #6]	@ zero_extendqisi2
 1364 0090 5980     		strh	r1, [r3, #2]	@ unaligned
 1365 0092 1A71     		strb	r2, [r3, #4]
 108:Service/Srv_Actuator.c ****         break;
 1366              		.loc 1 108 9 is_stmt 1 view .LVU384
 1367 0094 CEE7     		b	.L110
 1368              	.LVL85:
 1369              	.L104:
 111:Service/Srv_Actuator.c ****         SrvActuator_Obj.drive_module.num = TRI_CONTROL_COMPONENT;
 1370              		.loc 1 111 9 view .LVU385
 111:Service/Srv_Actuator.c ****         SrvActuator_Obj.drive_module.num = TRI_CONTROL_COMPONENT;
 1371              		.loc 1 111 42 is_stmt 0 view .LVU386
 1372 0096 494B     		ldr	r3, .L131
 1373 0098 4A4A     		ldr	r2, .L131+8
 1374 009a 9189     		ldrh	r1, [r2, #12]	@ unaligned
 1375              	.LVL86:
 111:Service/Srv_Actuator.c ****         SrvActuator_Obj.drive_module.num = TRI_CONTROL_COMPONENT;
 1376              		.loc 1 111 42 view .LVU387
 1377 009c 927B     		ldrb	r2, [r2, #14]	@ zero_extendqisi2
 1378 009e 5980     		strh	r1, [r3, #2]	@ unaligned
 1379 00a0 1A71     		strb	r2, [r3, #4]
 112:Service/Srv_Actuator.c ****         break;
 1380              		.loc 1 112 9 is_stmt 1 view .LVU388
 1381 00a2 C7E7     		b	.L110
 1382              	.LVL87:
 1383              	.L102:
 115:Service/Srv_Actuator.c ****         SrvActuator_Obj.drive_module.num = TDRONE_CONTROL_COMPONENT;
 1384              		.loc 1 115 9 view .LVU389
 115:Service/Srv_Actuator.c ****         SrvActuator_Obj.drive_module.num = TDRONE_CONTROL_COMPONENT;
 1385              		.loc 1 115 42 is_stmt 0 view .LVU390
 1386 00a4 454B     		ldr	r3, .L131
 1387 00a6 474A     		ldr	r2, .L131+8
 1388 00a8 118A     		ldrh	r1, [r2, #16]	@ unaligned
 1389              	.LVL88:
 115:Service/Srv_Actuator.c ****         SrvActuator_Obj.drive_module.num = TDRONE_CONTROL_COMPONENT;
 1390              		.loc 1 115 42 view .LVU391
 1391 00aa 927C     		ldrb	r2, [r2, #18]	@ zero_extendqisi2
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 38


 1392 00ac 5980     		strh	r1, [r3, #2]	@ unaligned
 1393 00ae 1A71     		strb	r2, [r3, #4]
 116:Service/Srv_Actuator.c ****         break;
 1394              		.loc 1 116 9 is_stmt 1 view .LVU392
 1395 00b0 C0E7     		b	.L110
 1396              	.LVL89:
 1397              	.L127:
 116:Service/Srv_Actuator.c ****         break;
 1398              		.loc 1 116 9 is_stmt 0 view .LVU393
 1399              	.LBE17:
 131:Service/Srv_Actuator.c ****         MMU_Free(SrvActuator_Obj.drive_module.obj_list);
 1400              		.loc 1 131 9 is_stmt 1 view .LVU394
 1401 00b2 FFF7FEFF 		bl	MMU_Free
 1402              	.LVL90:
 132:Service/Srv_Actuator.c ****         return false;
 1403              		.loc 1 132 9 view .LVU395
 132:Service/Srv_Actuator.c ****         return false;
 1404              		.loc 1 132 16 is_stmt 0 view .LVU396
 1405 00b6 0020     		movs	r0, #0
 1406 00b8 1CE0     		b	.L101
 1407              	.LVL91:
 1408              	.L114:
 1409              	.LBB18:
 140:Service/Srv_Actuator.c ****             switch (esc_type)
 1410              		.loc 1 140 13 view .LVU397
 1411 00ba 042D     		cmp	r5, #4
 1412 00bc 14D1     		bne	.L116
 1413              	.L117:
 164:Service/Srv_Actuator.c ****             if (SrvActuator_Obj.drive_module.obj_list[i].drv_obj == NULL)
 1414              		.loc 1 164 13 is_stmt 1 view .LVU398
 164:Service/Srv_Actuator.c ****             if (SrvActuator_Obj.drive_module.obj_list[i].drv_obj == NULL)
 1415              		.loc 1 164 45 is_stmt 0 view .LVU399
 1416 00be 3F4B     		ldr	r3, .L131
 1417 00c0 D3F80520 		ldr	r2, [r3, #5]	@ unaligned
 164:Service/Srv_Actuator.c ****             if (SrvActuator_Obj.drive_module.obj_list[i].drv_obj == NULL)
 1418              		.loc 1 164 54 view .LVU400
 1419 00c4 04EB4403 		add	r3, r4, r4, lsl #1
 1420 00c8 C3EBC303 		rsb	r3, r3, r3, lsl #3
 1421 00cc 1344     		add	r3, r3, r2
 164:Service/Srv_Actuator.c ****             if (SrvActuator_Obj.drive_module.obj_list[i].drv_obj == NULL)
 1422              		.loc 1 164 57 view .LVU401
 1423 00ce 1B69     		ldr	r3, [r3, #16]	@ unaligned
 164:Service/Srv_Actuator.c ****             if (SrvActuator_Obj.drive_module.obj_list[i].drv_obj == NULL)
 1424              		.loc 1 164 16 view .LVU402
 1425 00d0 002B     		cmp	r3, #0
 1426 00d2 3CD0     		beq	.L128
 138:Service/Srv_Actuator.c ****         for (uint8_t i = 0; i < SrvActuator_Obj.drive_module.num.moto_cnt; i++)
 1427              		.loc 1 138 76 is_stmt 1 discriminator 2 view .LVU403
 138:Service/Srv_Actuator.c ****         for (uint8_t i = 0; i < SrvActuator_Obj.drive_module.num.moto_cnt; i++)
 1428              		.loc 1 138 77 is_stmt 0 discriminator 2 view .LVU404
 1429 00d4 0134     		adds	r4, r4, #1
 1430              	.LVL92:
 138:Service/Srv_Actuator.c ****         for (uint8_t i = 0; i < SrvActuator_Obj.drive_module.num.moto_cnt; i++)
 1431              		.loc 1 138 77 discriminator 2 view .LVU405
 1432 00d6 E4B2     		uxtb	r4, r4
 1433              	.LVL93:
 1434              	.L112:
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 39


 138:Service/Srv_Actuator.c ****         for (uint8_t i = 0; i < SrvActuator_Obj.drive_module.num.moto_cnt; i++)
 1435              		.loc 1 138 29 is_stmt 1 discriminator 1 view .LVU406
 138:Service/Srv_Actuator.c ****         for (uint8_t i = 0; i < SrvActuator_Obj.drive_module.num.moto_cnt; i++)
 1436              		.loc 1 138 65 is_stmt 0 discriminator 1 view .LVU407
 1437 00d8 384B     		ldr	r3, .L131
 1438 00da DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
 138:Service/Srv_Actuator.c ****         for (uint8_t i = 0; i < SrvActuator_Obj.drive_module.num.moto_cnt; i++)
 1439              		.loc 1 138 9 discriminator 1 view .LVU408
 1440 00dc A342     		cmp	r3, r4
 1441 00de 4ED9     		bls	.L113
 140:Service/Srv_Actuator.c ****             switch (esc_type)
 1442              		.loc 1 140 13 is_stmt 1 view .LVU409
 1443 00e0 032D     		cmp	r5, #3
 1444 00e2 EAD8     		bhi	.L114
 1445 00e4 6BB2     		sxtb	r3, r5
 1446 00e6 33B9     		cbnz	r3, .L129
 1447              	.L116:
 160:Service/Srv_Actuator.c ****                 MMU_Free(SrvActuator_Obj.drive_module.obj_list);
 1448              		.loc 1 160 17 view .LVU410
 1449 00e8 344B     		ldr	r3, .L131
 1450 00ea D3F80500 		ldr	r0, [r3, #5]	@ unaligned
 1451 00ee FFF7FEFF 		bl	MMU_Free
 1452              	.LVL94:
 161:Service/Srv_Actuator.c ****                 return false;
 1453              		.loc 1 161 17 view .LVU411
 161:Service/Srv_Actuator.c ****                 return false;
 1454              		.loc 1 161 24 is_stmt 0 view .LVU412
 1455 00f2 0020     		movs	r0, #0
 1456              	.LVL95:
 1457              	.L101:
 161:Service/Srv_Actuator.c ****                 return false;
 1458              		.loc 1 161 24 view .LVU413
 1459              	.LBE18:
 199:Service/Srv_Actuator.c **** }
 1460              		.loc 1 199 1 view .LVU414
 1461 00f4 70BD     		pop	{r4, r5, r6, pc}
 1462              	.LVL96:
 1463              	.L129:
 1464              	.LBB19:
 145:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].drv_type = esc_type;
 1465              		.loc 1 145 17 is_stmt 1 view .LVU415
 145:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].drv_type = esc_type;
 1466              		.loc 1 145 45 is_stmt 0 view .LVU416
 1467 00f6 3148     		ldr	r0, .L131
 1468 00f8 D0F80530 		ldr	r3, [r0, #5]	@ unaligned
 145:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].drv_type = esc_type;
 1469              		.loc 1 145 54 view .LVU417
 1470 00fc 04EB4406 		add	r6, r4, r4, lsl #1
 1471 0100 C6EBC602 		rsb	r2, r6, r6, lsl #3
 145:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].drv_type = esc_type;
 1472              		.loc 1 145 67 view .LVU418
 1473 0104 9D54     		strb	r5, [r3, r2]
 147:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].ctl_val = DSHOT_LOCK_THROTTLE;
 1474              		.loc 1 147 17 is_stmt 1 view .LVU419
 147:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].ctl_val = DSHOT_LOCK_THROTTLE;
 1475              		.loc 1 147 45 is_stmt 0 view .LVU420
 1476 0106 D0F80530 		ldr	r3, [r0, #5]	@ unaligned
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 40


 147:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].ctl_val = DSHOT_LOCK_THROTTLE;
 1477              		.loc 1 147 54 view .LVU421
 1478 010a 1344     		add	r3, r3, r2
 147:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].ctl_val = DSHOT_LOCK_THROTTLE;
 1479              		.loc 1 147 66 view .LVU422
 1480 010c 0021     		movs	r1, #0
 1481 010e 9970     		strb	r1, [r3, #2]
 1482 0110 D970     		strb	r1, [r3, #3]
 148:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].min_val = DSHOT_MIN_THROTTLE;
 1483              		.loc 1 148 17 is_stmt 1 view .LVU423
 148:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].min_val = DSHOT_MIN_THROTTLE;
 1484              		.loc 1 148 45 is_stmt 0 view .LVU424
 1485 0112 D0F80530 		ldr	r3, [r0, #5]	@ unaligned
 148:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].min_val = DSHOT_MIN_THROTTLE;
 1486              		.loc 1 148 54 view .LVU425
 1487 0116 1344     		add	r3, r3, r2
 148:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].min_val = DSHOT_MIN_THROTTLE;
 1488              		.loc 1 148 66 view .LVU426
 1489 0118 3026     		movs	r6, #48
 1490 011a 9E71     		strb	r6, [r3, #6]
 1491 011c D971     		strb	r1, [r3, #7]
 149:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].max_val = DSHOT_MAX_THROTTLE;
 1492              		.loc 1 149 17 is_stmt 1 view .LVU427
 149:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].max_val = DSHOT_MAX_THROTTLE;
 1493              		.loc 1 149 45 is_stmt 0 view .LVU428
 1494 011e D0F80530 		ldr	r3, [r0, #5]	@ unaligned
 149:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].max_val = DSHOT_MAX_THROTTLE;
 1495              		.loc 1 149 54 view .LVU429
 1496 0122 1344     		add	r3, r3, r2
 149:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].max_val = DSHOT_MAX_THROTTLE;
 1497              		.loc 1 149 66 view .LVU430
 1498 0124 6C26     		movs	r6, #108
 1499 0126 1E71     		strb	r6, [r3, #4]
 1500 0128 0726     		movs	r6, #7
 1501 012a 5E71     		strb	r6, [r3, #5]
 150:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].idle_val = DSHOT_IDLE_THROTTLE;
 1502              		.loc 1 150 17 is_stmt 1 view .LVU431
 150:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].idle_val = DSHOT_IDLE_THROTTLE;
 1503              		.loc 1 150 45 is_stmt 0 view .LVU432
 1504 012c D0F80530 		ldr	r3, [r0, #5]	@ unaligned
 150:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].idle_val = DSHOT_IDLE_THROTTLE;
 1505              		.loc 1 150 54 view .LVU433
 1506 0130 1344     		add	r3, r3, r2
 150:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].idle_val = DSHOT_IDLE_THROTTLE;
 1507              		.loc 1 150 67 view .LVU434
 1508 0132 6426     		movs	r6, #100
 1509 0134 1E72     		strb	r6, [r3, #8]
 1510 0136 5972     		strb	r1, [r3, #9]
 151:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].lock_val = DSHOT_LOCK_THROTTLE;
 1511              		.loc 1 151 17 is_stmt 1 view .LVU435
 151:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].lock_val = DSHOT_LOCK_THROTTLE;
 1512              		.loc 1 151 45 is_stmt 0 view .LVU436
 1513 0138 D0F80560 		ldr	r6, [r0, #5]	@ unaligned
 151:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].lock_val = DSHOT_LOCK_THROTTLE;
 1514              		.loc 1 151 54 view .LVU437
 1515 013c 1644     		add	r6, r6, r2
 151:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].lock_val = DSHOT_LOCK_THROTTLE;
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 41


 1516              		.loc 1 151 67 view .LVU438
 1517 013e B172     		strb	r1, [r6, #10]
 1518 0140 F172     		strb	r1, [r6, #11]
 153:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].drv_obj = (DevDshotObj_TypeDef *)MMU_Mallo
 1519              		.loc 1 153 17 is_stmt 1 view .LVU439
 153:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].drv_obj = (DevDshotObj_TypeDef *)MMU_Mallo
 1520              		.loc 1 153 91 is_stmt 0 view .LVU440
 1521 0142 4FF49A70 		mov	r0, #308
 1522 0146 FFF7FEFF 		bl	MMU_Malloc
 1523              	.LVL97:
 153:Service/Srv_Actuator.c ****                 SrvActuator_Obj.drive_module.obj_list[i].drv_obj = (DevDshotObj_TypeDef *)MMU_Mallo
 1524              		.loc 1 153 66 view .LVU441
 1525 014a 3061     		str	r0, [r6, #16]	@ unaligned
 154:Service/Srv_Actuator.c ****                 break;
 1526              		.loc 1 154 17 is_stmt 1 view .LVU442
 1527 014c B7E7     		b	.L117
 1528              	.L128:
 1529              	.LBB16:
 166:Service/Srv_Actuator.c ****                 for (uint8_t j = 0; j < i; j++)
 1530              		.loc 1 166 30 is_stmt 0 view .LVU443
 1531 014e 0025     		movs	r5, #0
 1532              	.L118:
 1533              	.LVL98:
 166:Service/Srv_Actuator.c ****                 for (uint8_t j = 0; j < i; j++)
 1534              		.loc 1 166 37 is_stmt 1 discriminator 1 view .LVU444
 166:Service/Srv_Actuator.c ****                 for (uint8_t j = 0; j < i; j++)
 1535              		.loc 1 166 17 is_stmt 0 discriminator 1 view .LVU445
 1536 0150 AC42     		cmp	r4, r5
 1537 0152 0DD9     		bls	.L130
 168:Service/Srv_Actuator.c ****                     MMU_Free(SrvActuator_Obj.drive_module.obj_list[j].drv_obj);
 1538              		.loc 1 168 21 is_stmt 1 discriminator 3 view .LVU446
 168:Service/Srv_Actuator.c ****                     MMU_Free(SrvActuator_Obj.drive_module.obj_list[j].drv_obj);
 1539              		.loc 1 168 58 is_stmt 0 discriminator 3 view .LVU447
 1540 0154 194B     		ldr	r3, .L131
 1541 0156 D3F80520 		ldr	r2, [r3, #5]	@ unaligned
 168:Service/Srv_Actuator.c ****                     MMU_Free(SrvActuator_Obj.drive_module.obj_list[j].drv_obj);
 1542              		.loc 1 168 67 discriminator 3 view .LVU448
 1543 015a 05EB4503 		add	r3, r5, r5, lsl #1
 1544 015e C3EBC303 		rsb	r3, r3, r3, lsl #3
 1545 0162 1344     		add	r3, r3, r2
 168:Service/Srv_Actuator.c ****                     MMU_Free(SrvActuator_Obj.drive_module.obj_list[j].drv_obj);
 1546              		.loc 1 168 21 discriminator 3 view .LVU449
 1547 0164 1869     		ldr	r0, [r3, #16]	@ unaligned
 1548 0166 FFF7FEFF 		bl	MMU_Free
 1549              	.LVL99:
 166:Service/Srv_Actuator.c ****                 for (uint8_t j = 0; j < i; j++)
 1550              		.loc 1 166 44 is_stmt 1 discriminator 3 view .LVU450
 166:Service/Srv_Actuator.c ****                 for (uint8_t j = 0; j < i; j++)
 1551              		.loc 1 166 45 is_stmt 0 discriminator 3 view .LVU451
 1552 016a 0135     		adds	r5, r5, #1
 1553              	.LVL100:
 166:Service/Srv_Actuator.c ****                 for (uint8_t j = 0; j < i; j++)
 1554              		.loc 1 166 45 discriminator 3 view .LVU452
 1555 016c EDB2     		uxtb	r5, r5
 1556              	.LVL101:
 166:Service/Srv_Actuator.c ****                 for (uint8_t j = 0; j < i; j++)
 1557              		.loc 1 166 45 discriminator 3 view .LVU453
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 42


 1558 016e EFE7     		b	.L118
 1559              	.L130:
 166:Service/Srv_Actuator.c ****                 for (uint8_t j = 0; j < i; j++)
 1560              		.loc 1 166 45 discriminator 3 view .LVU454
 1561              	.LBE16:
 171:Service/Srv_Actuator.c ****                 MMU_Free(SrvActuator_Obj.drive_module.obj_list);
 1562              		.loc 1 171 17 is_stmt 1 view .LVU455
 1563 0170 124B     		ldr	r3, .L131
 1564 0172 D3F80500 		ldr	r0, [r3, #5]	@ unaligned
 1565 0176 FFF7FEFF 		bl	MMU_Free
 1566              	.LVL102:
 172:Service/Srv_Actuator.c ****                 return false;
 1567              		.loc 1 172 17 view .LVU456
 172:Service/Srv_Actuator.c ****                 return false;
 1568              		.loc 1 172 24 is_stmt 0 view .LVU457
 1569 017a 0020     		movs	r0, #0
 1570 017c BAE7     		b	.L101
 1571              	.LVL103:
 1572              	.L113:
 172:Service/Srv_Actuator.c ****                 return false;
 1573              		.loc 1 172 24 view .LVU458
 1574              	.LBE19:
 178:Service/Srv_Actuator.c ****     if (SrvActuator_Obj.drive_module.num.servo_cnt)
 1575              		.loc 1 178 5 is_stmt 1 view .LVU459
 180:Service/Srv_Actuator.c ****     }
 1576              		.loc 1 180 5 view .LVU460
 184:Service/Srv_Actuator.c ****     SrcActuator_Get_ChannelRemap();
 1577              		.loc 1 184 5 view .LVU461
 1578 017e FFF7FEFF 		bl	SrcActuator_Get_ChannelRemap
 1579              	.LVL104:
 185:Service/Srv_Actuator.c ****     SrvActuator_Config_MotoSpinDir();
 1580              		.loc 1 185 5 view .LVU462
 1581 0182 FFF7FEFF 		bl	SrvActuator_Config_MotoSpinDir
 1582              	.LVL105:
 187:Service/Srv_Actuator.c ****     SrvActuator_Lock();
 1583              		.loc 1 187 5 view .LVU463
 1584 0186 FFF7FEFF 		bl	SrvActuator_Lock
 1585              	.LVL106:
 190:Service/Srv_Actuator.c ****     memset(&Actuator_cal_DataPipe, 0, sizeof(Actuator_cal_DataPipe));
 1586              		.loc 1 190 5 view .LVU464
 1587 018a 0F4C     		ldr	r4, .L131+12
 1588 018c 2B22     		movs	r2, #43
 1589 018e 0021     		movs	r1, #0
 1590 0190 2046     		mov	r0, r4
 1591 0192 FFF7FEFF 		bl	memset
 1592              	.LVL107:
 191:Service/Srv_Actuator.c ****     memset(DataPipe_DataObjAddr(Actuator_Data), NULL, sizeof(DataPipe_DataObj(Actuator_Data)));
 1593              		.loc 1 191 5 view .LVU465
 1594 0196 0D4D     		ldr	r5, .L131+16
 1595 0198 3A22     		movs	r2, #58
 1596 019a 0021     		movs	r1, #0
 1597 019c 2846     		mov	r0, r5
 1598 019e FFF7FEFF 		bl	memset
 1599              	.LVL108:
 193:Service/Srv_Actuator.c ****     Actuator_cal_DataPipe.data_addr = (uint32_t)DataPipe_DataObjAddr(Actuator_Data);
 1600              		.loc 1 193 5 view .LVU466
 193:Service/Srv_Actuator.c ****     Actuator_cal_DataPipe.data_addr = (uint32_t)DataPipe_DataObjAddr(Actuator_Data);
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 43


 1601              		.loc 1 193 37 is_stmt 0 view .LVU467
 1602 01a2 C4F81150 		str	r5, [r4, #17]	@ unaligned
 194:Service/Srv_Actuator.c ****     Actuator_cal_DataPipe.data_size = sizeof(DataPipe_DataObj(Actuator_Data));
 1603              		.loc 1 194 5 is_stmt 1 view .LVU468
 194:Service/Srv_Actuator.c ****     Actuator_cal_DataPipe.data_size = sizeof(DataPipe_DataObj(Actuator_Data));
 1604              		.loc 1 194 37 is_stmt 0 view .LVU469
 1605 01a6 3A23     		movs	r3, #58
 1606 01a8 6375     		strb	r3, [r4, #21]
 1607 01aa 0023     		movs	r3, #0
 1608 01ac A375     		strb	r3, [r4, #22]
 195:Service/Srv_Actuator.c ****     DataPipe_Enable(&Actuator_cal_DataPipe);
 1609              		.loc 1 195 5 is_stmt 1 view .LVU470
 1610              	.LVL109:
 1611              	.LBB20:
 1612              	.LBI20:
 1613              		.file 2 "System/DataPipe/DataPipe.h"
   1:System/DataPipe/DataPipe.h **** #ifndef __DATAPIPE_H
   2:System/DataPipe/DataPipe.h **** #define __DATAPIPE_H
   3:System/DataPipe/DataPipe.h **** 
   4:System/DataPipe/DataPipe.h **** #include <stdint.h>
   5:System/DataPipe/DataPipe.h **** #include <string.h>
   6:System/DataPipe/DataPipe.h **** #include <stdbool.h>
   7:System/DataPipe/DataPipe.h **** 
   8:System/DataPipe/DataPipe.h **** typedef void (*Pipe_TransFinish_Callback)(void *pipe_obj);
   9:System/DataPipe/DataPipe.h **** typedef void (*Pipe_TransError_Callback)(void *pipe_obj);
  10:System/DataPipe/DataPipe.h **** typedef void (*Pipe_TimeOutProc_Callback)(void *pipe_obj);
  11:System/DataPipe/DataPipe.h **** 
  12:System/DataPipe/DataPipe.h **** #define DataPipeHandleToObj(x) ((DataPipeObj_TypeDef *)x)
  13:System/DataPipe/DataPipe.h **** #define DataPipe_CreateDataObj(type, name) static type name##_##PipeDataObj __attribute__((section(
  14:System/DataPipe/DataPipe.h **** #define DataPipe_DataObjAddr(name) (&name##_##PipeDataObj)
  15:System/DataPipe/DataPipe.h **** #define DataPipe_DataObj(name) name##_##PipeDataObj
  16:System/DataPipe/DataPipe.h **** #define DataPipe_DataSize(name) sizeof(name##_##PipeDataObj)
  17:System/DataPipe/DataPipe.h **** 
  18:System/DataPipe/DataPipe.h **** typedef enum
  19:System/DataPipe/DataPipe.h **** {
  20:System/DataPipe/DataPipe.h ****     Pipe_UnReady = 0,
  21:System/DataPipe/DataPipe.h ****     Pipe_Ready,
  22:System/DataPipe/DataPipe.h ****     Pipe_Busy,
  23:System/DataPipe/DataPipe.h ****     Pipe_Error,
  24:System/DataPipe/DataPipe.h **** } DataPipe_State_List;
  25:System/DataPipe/DataPipe.h **** 
  26:System/DataPipe/DataPipe.h **** #pragma pack(1)
  27:System/DataPipe/DataPipe.h **** typedef struct
  28:System/DataPipe/DataPipe.h **** {
  29:System/DataPipe/DataPipe.h ****     uint32_t min_rx_interval;
  30:System/DataPipe/DataPipe.h ****     uint32_t detect_interval;
  31:System/DataPipe/DataPipe.h ****     uint64_t rx_us_rt;
  32:System/DataPipe/DataPipe.h **** 
  33:System/DataPipe/DataPipe.h ****     bool enable;
  34:System/DataPipe/DataPipe.h **** 
  35:System/DataPipe/DataPipe.h ****     uint32_t data_addr;
  36:System/DataPipe/DataPipe.h ****     uint16_t data_size;
  37:System/DataPipe/DataPipe.h **** 
  38:System/DataPipe/DataPipe.h ****     Pipe_TransFinish_Callback trans_finish_cb;
  39:System/DataPipe/DataPipe.h ****     Pipe_TransError_Callback trans_error_cb;
  40:System/DataPipe/DataPipe.h **** 
  41:System/DataPipe/DataPipe.h ****     uint32_t tx_cnt;
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 44


  42:System/DataPipe/DataPipe.h ****     uint32_t rx_cnt;
  43:System/DataPipe/DataPipe.h ****     uint32_t er_cnt;
  44:System/DataPipe/DataPipe.h **** } DataPipeObj_TypeDef;
  45:System/DataPipe/DataPipe.h **** #pragma pack()
  46:System/DataPipe/DataPipe.h **** 
  47:System/DataPipe/DataPipe.h **** typedef struct
  48:System/DataPipe/DataPipe.h **** {
  49:System/DataPipe/DataPipe.h ****     DataPipeObj_TypeDef *org;
  50:System/DataPipe/DataPipe.h ****     DataPipeObj_TypeDef *dst;
  51:System/DataPipe/DataPipe.h **** } Data_PlugedPipeObj_TypeDef;
  52:System/DataPipe/DataPipe.h **** 
  53:System/DataPipe/DataPipe.h **** bool DataPipe_Init(void);
  54:System/DataPipe/DataPipe.h **** bool DataPipe_SendTo(DataPipeObj_TypeDef *p_org, DataPipeObj_TypeDef *p_dst);
  55:System/DataPipe/DataPipe.h **** bool DataPipe_DealError(void);
  56:System/DataPipe/DataPipe.h **** 
  57:System/DataPipe/DataPipe.h **** inline bool DataPipe_Enable(DataPipeObj_TypeDef *obj)
 1614              		.loc 2 57 13 view .LVU471
 1615              	.LBB21:
  58:System/DataPipe/DataPipe.h **** {
  59:System/DataPipe/DataPipe.h ****     if (obj == NULL)
 1616              		.loc 2 59 5 view .LVU472
  60:System/DataPipe/DataPipe.h ****         return false;
  61:System/DataPipe/DataPipe.h **** 
  62:System/DataPipe/DataPipe.h ****     obj->enable = true;
 1617              		.loc 2 62 5 view .LVU473
 1618              		.loc 2 62 17 is_stmt 0 view .LVU474
 1619 01ae 0120     		movs	r0, #1
 1620 01b0 2074     		strb	r0, [r4, #16]
  63:System/DataPipe/DataPipe.h **** 
  64:System/DataPipe/DataPipe.h ****     return true;
 1621              		.loc 2 64 5 is_stmt 1 view .LVU475
 1622              	.LVL110:
 1623              		.loc 2 64 5 is_stmt 0 view .LVU476
 1624              	.LBE21:
 1625              	.LBE20:
 197:Service/Srv_Actuator.c ****     SrvActuator_Obj.init = true;
 1626              		.loc 1 197 5 is_stmt 1 view .LVU477
 197:Service/Srv_Actuator.c ****     SrvActuator_Obj.init = true;
 1627              		.loc 1 197 26 is_stmt 0 view .LVU478
 1628 01b2 024B     		ldr	r3, .L131
 1629 01b4 5870     		strb	r0, [r3, #1]
 198:Service/Srv_Actuator.c ****     return true;
 1630              		.loc 1 198 5 is_stmt 1 view .LVU479
 198:Service/Srv_Actuator.c ****     return true;
 1631              		.loc 1 198 12 is_stmt 0 view .LVU480
 1632 01b6 9DE7     		b	.L101
 1633              	.LVL111:
 1634              	.L122:
  86:Service/Srv_Actuator.c ****     memset(&SrvActuator_ControlStream, 0, sizeof(SrvActuator_ControlStream));
 1635              		.loc 1 86 5 view .LVU481
 1636 01b8 0020     		movs	r0, #0
 1637              	.LVL112:
  86:Service/Srv_Actuator.c ****     memset(&SrvActuator_ControlStream, 0, sizeof(SrvActuator_ControlStream));
 1638              		.loc 1 86 5 view .LVU482
 1639 01ba 9BE7     		b	.L101
 1640              	.L132:
 1641              		.align	2
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 45


 1642              	.L131:
 1643 01bc 00000000 		.word	.LANCHOR0
 1644 01c0 00000000 		.word	.LANCHOR4
 1645 01c4 00000000 		.word	.LANCHOR5
 1646 01c8 00000000 		.word	Actuator_cal_DataPipe
 1647 01cc 00000000 		.word	.LANCHOR1
 1648              		.cfi_endproc
 1649              	.LFE151:
 1651              		.global	SrvActuator
 1652              		.global	Proto_Actuator_Data
 1653              		.global	SrvActuator_ControlStream
 1654              		.global	SrvActuator_Obj
 1655              		.global	default_sig_serial
 1656              		.global	SrvActuator_Periph_List
 1657              		.section	.rodata
 1658              		.align	2
 1659              		.set	.LANCHOR5,. + 0
 1660              	.LC0:
 1661 0000 04       		.byte	4
 1662 0001 04       		.byte	4
 1663 0002 00       		.byte	0
 1664 0003 00       		.space	1
 1665              	.LC1:
 1666 0004 06       		.byte	6
 1667 0005 06       		.byte	6
 1668 0006 00       		.byte	0
 1669 0007 00       		.space	1
 1670              	.LC2:
 1671 0008 08       		.byte	8
 1672 0009 08       		.byte	8
 1673 000a 00       		.byte	0
 1674 000b 00       		.space	1
 1675              	.LC3:
 1676 000c 04       		.byte	4
 1677 000d 03       		.byte	3
 1678 000e 01       		.byte	1
 1679 000f 00       		.space	1
 1680              	.LC4:
 1681 0010 05       		.byte	5
 1682 0011 02       		.byte	2
 1683 0012 03       		.byte	3
 1684              		.section	.Perph_Section,"aw"
 1685              		.align	2
 1686              		.set	.LANCHOR1,. + 0
 1689              	Actuator_Data_PipeDataObj:
 1690 0000 00000000 		.space	58
 1690      00000000 
 1690      00000000 
 1690      00000000 
 1690      00000000 
 1691              		.section	.bss.Proto_Actuator_Data,"aw",%nobits
 1692              		.align	2
 1695              	Proto_Actuator_Data:
 1696 0000 00000000 		.space	58
 1696      00000000 
 1696      00000000 
 1696      00000000 
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 46


 1696      00000000 
 1697              		.section	.bss.SrvActuator_ControlStream,"aw",%nobits
 1698              		.align	2
 1699              		.set	.LANCHOR4,. + 0
 1702              	SrvActuator_ControlStream:
 1703 0000 00000000 		.space	7
 1703      000000
 1704              		.section	.bss.SrvActuator_Obj,"aw",%nobits
 1705              		.align	2
 1706              		.set	.LANCHOR0,. + 0
 1709              	SrvActuator_Obj:
 1710 0000 00000000 		.space	9
 1710      00000000 
 1710      00
 1711              		.section	.data.SrvActuator,"aw"
 1712              		.align	2
 1715              	SrvActuator:
 1716 0000 00000000 		.word	SrvActuator_Init
 1717 0004 00000000 		.word	SrvActuator_Lock
 1718 0008 00000000 		.word	SrvActuator_MotoControl
 1719 000c 00000000 		.space	4
 1720 0010 00000000 		.word	SrvActuator_InvertMotoSpinDir
 1721 0014 00000000 		.word	SrvActuator_Get_NumData
 1722 0018 00000000 		.word	SrvActuator_GetModel
 1723              		.section	.rodata.SrvActuator_Periph_List,"a"
 1724              		.align	2
 1725              		.set	.LANCHOR3,. + 0
 1728              	SrvActuator_Periph_List:
 1729 0000 00040040 		.word	1073742848
 1730 0004 08000000 		.word	8
 1731 0008 00000000 		.word	0
 1732 000c 00000000 		.word	0
 1733 0010 00040258 		.word	1476527104
 1734 0014 0100     		.short	1
 1735 0016 00       		.byte	0
 1736 0017 00       		.space	1
 1737 0018 02000000 		.word	2
 1738 001c 00040040 		.word	1073742848
 1739 0020 0C000000 		.word	12
 1740 0024 00000000 		.word	0
 1741 0028 01000000 		.word	1
 1742 002c 00040258 		.word	1476527104
 1743 0030 0200     		.short	2
 1744 0032 00       		.byte	0
 1745 0033 00       		.space	1
 1746 0034 02000000 		.word	2
 1747 0038 000C0040 		.word	1073744896
 1748 003c 00000000 		.word	0
 1749 0040 00000000 		.word	0
 1750 0044 02000000 		.word	2
 1751 0048 00000258 		.word	1476526080
 1752 004c 0100     		.short	1
 1753 004e 00       		.byte	0
 1754 004f 00       		.space	1
 1755 0050 02000000 		.word	2
 1756 0054 000C0040 		.word	1073744896
 1757 0058 04000000 		.word	4
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 47


 1758 005c 00000000 		.word	0
 1759 0060 03000000 		.word	3
 1760 0064 00000258 		.word	1476526080
 1761 0068 0200     		.short	2
 1762 006a 00       		.byte	0
 1763 006b 00       		.space	1
 1764 006c 02000000 		.word	2
 1765 0070 000C0040 		.word	1073744896
 1766 0074 08000000 		.word	8
 1767 0078 FFFFFFFF 		.word	-1
 1768 007c FFFFFFFF 		.word	-1
 1769 0080 00000258 		.word	1476526080
 1770 0084 0400     		.short	4
 1771 0086 00       		.byte	0
 1772 0087 00       		.space	1
 1773 0088 02000000 		.word	2
 1774 008c 000C0040 		.word	1073744896
 1775 0090 0C000000 		.word	12
 1776 0094 FFFFFFFF 		.word	-1
 1777 0098 FFFFFFFF 		.word	-1
 1778 009c 00000258 		.word	1476526080
 1779 00a0 0800     		.short	8
 1780 00a2 00       		.byte	0
 1781 00a3 00       		.space	1
 1782 00a4 02000000 		.word	2
 1783 00a8 00080040 		.word	1073743872
 1784 00ac 00000000 		.word	0
 1785 00b0 FFFFFFFF 		.word	-1
 1786 00b4 FFFFFFFF 		.word	-1
 1787 00b8 000C0258 		.word	1476529152
 1788 00bc 0010     		.short	4096
 1789 00be 00       		.byte	0
 1790 00bf 00       		.space	1
 1791 00c0 02000000 		.word	2
 1792 00c4 00080040 		.word	1073743872
 1793 00c8 04000000 		.word	4
 1794 00cc FFFFFFFF 		.word	-1
 1795 00d0 FFFFFFFF 		.word	-1
 1796 00d4 000C0258 		.word	1476529152
 1797 00d8 0020     		.short	8192
 1798 00da 00       		.byte	0
 1799 00db 00       		.space	1
 1800 00dc 02000000 		.word	2
 1801 00e0 00080040 		.word	1073743872
 1802 00e4 08000000 		.word	8
 1803 00e8 FFFFFFFF 		.word	-1
 1804 00ec FFFFFFFF 		.word	-1
 1805 00f0 000C0258 		.word	1476529152
 1806 00f4 0040     		.short	16384
 1807 00f6 00       		.byte	0
 1808 00f7 00       		.space	1
 1809 00f8 02000000 		.word	2
 1810 00fc 00080040 		.word	1073743872
 1811 0100 0C000000 		.word	12
 1812 0104 FFFFFFFF 		.word	-1
 1813 0108 FFFFFFFF 		.word	-1
 1814 010c 000C0258 		.word	1476529152
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 48


 1815 0110 0080     		.short	-32768
 1816 0112 00       		.byte	0
 1817 0113 00       		.space	1
 1818 0114 02000000 		.word	2
 1819 0118 00400140 		.word	1073823744
 1820 011c 00000000 		.word	0
 1821 0120 FFFFFFFF 		.word	-1
 1822 0124 FFFFFFFF 		.word	-1
 1823 0128 00100258 		.word	1476530176
 1824 012c 2000     		.short	32
 1825 012e 00       		.byte	0
 1826 012f 00       		.space	1
 1827 0130 02000000 		.word	2
 1828 0134 00400140 		.word	1073823744
 1829 0138 04000000 		.word	4
 1830 013c FFFFFFFF 		.word	-1
 1831 0140 FFFFFFFF 		.word	-1
 1832 0144 00100258 		.word	1476530176
 1833 0148 4000     		.short	64
 1834 014a 00       		.byte	0
 1835 014b 00       		.space	1
 1836 014c 02000000 		.word	2
 1837              		.section	.rodata.default_sig_serial,"a"
 1838              		.align	2
 1839              		.set	.LANCHOR2,. + 0
 1842              	default_sig_serial:
 1843 0000 00010203 		.ascii	"\000\001\002\003\004\005\006\007\010\011\012\013"
 1843      04050607 
 1843      08090A0B 
 1844              		.text
 1845              	.Letext0:
 1846              		.file 3 "d:\\software\\zephyr_env_gcc\\gcc-arm-none-eabi-10-2020-q4-major\\arm-none-eabi\\include\
 1847              		.file 4 "d:\\software\\zephyr_env_gcc\\gcc-arm-none-eabi-10-2020-q4-major\\arm-none-eabi\\include\
 1848              		.file 5 "HAL_Lib/CMSIS/Device/ST/STM32H7xx/Include/stm32h743xx.h"
 1849              		.file 6 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 1850              		.file 7 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_gpio.h"
 1851              		.file 8 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_dma.h"
 1852              		.file 9 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_tim.h"
 1853              		.file 10 "Bsp/Bsp_GPIO.h"
 1854              		.file 11 "Bsp/Bsp_DMA.h"
 1855              		.file 12 "Bsp/Bsp_Timer.h"
 1856              		.file 13 "Device/Dev_Dshot.h"
 1857              		.file 14 "Service/Srv_Actuator.h"
 1858              		.file 15 "Service/imu_data.h"
 1859              		.file 16 "System/runtime/runtime.h"
 1860              		.file 17 "System/mmu/mmu.h"
 1861              		.file 18 "<built-in>"
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 49


DEFINED SYMBOLS
                            *ABS*:00000000 Srv_Actuator.c
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:17     .text.SrvActuator_SetMotoSpinDir:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:24     .text.SrvActuator_SetMotoSpinDir:00000000 SrvActuator_SetMotoSpinDir
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:150    .text.SrvActuator_SetMotoSpinDir:0000007c $d
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:156    .text.SrvActuator_Config_MotoSpinDir:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:162    .text.SrvActuator_Config_MotoSpinDir:00000000 SrvActuator_Config_MotoSpinDir
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:257    .text.SrvActuator_Config_MotoSpinDir:0000006c $d
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:263    .text.SrvActuator_InvertMotoSpinDir:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:269    .text.SrvActuator_InvertMotoSpinDir:00000000 SrvActuator_InvertMotoSpinDir
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:372    .text.SrvActuator_InvertMotoSpinDir:00000068 $d
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:377    .text.SrvActuator_Get_NumData:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:383    .text.SrvActuator_Get_NumData:00000000 SrvActuator_Get_NumData
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:417    .text.SrvActuator_Get_NumData:00000030 $d
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:422    .text.SrvActuator_GetModel:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:428    .text.SrvActuator_GetModel:00000000 SrvActuator_GetModel
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:443    .text.SrvActuator_GetModel:00000008 $d
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:448    .text.SrvActuator_QuadDrone_MotoMixControl:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:454    .text.SrvActuator_QuadDrone_MotoMixControl:00000000 SrvActuator_QuadDrone_MotoMixControl
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:710    .text.SrvActuator_QuadDrone_MotoMixControl:00000130 $d
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:717    .text.SrvActuator_PipeData:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:723    .text.SrvActuator_PipeData:00000000 SrvActuator_PipeData
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:840    .text.SrvActuator_PipeData:00000088 $d
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:848    .text.SrvActuator_MotoControl:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:854    .text.SrvActuator_MotoControl:00000000 SrvActuator_MotoControl
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:907    .text.SrvActuator_MotoControl:00000020 $d
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:912    .text.SrvActuator_Lock:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:918    .text.SrvActuator_Lock:00000000 SrvActuator_Lock
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:1011   .text.SrvActuator_Lock:00000054 $d
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:1017   .text.SrcActuator_Get_ChannelRemap:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:1023   .text.SrcActuator_Get_ChannelRemap:00000000 SrcActuator_Get_ChannelRemap
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:1208   .text.SrcActuator_Get_ChannelRemap:000000b4 $d
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:1216   .text.SrvActuator_Init:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:1222   .text.SrvActuator_Init:00000000 SrvActuator_Init
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:1255   .text.SrvActuator_Init:00000020 $d
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:1643   .text.SrvActuator_Init:000001bc $d
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:1715   .data.SrvActuator:00000000 SrvActuator
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:1695   .bss.Proto_Actuator_Data:00000000 Proto_Actuator_Data
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:1702   .bss.SrvActuator_ControlStream:00000000 SrvActuator_ControlStream
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:1709   .bss.SrvActuator_Obj:00000000 SrvActuator_Obj
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:1842   .rodata.default_sig_serial:00000000 default_sig_serial
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:1728   .rodata.SrvActuator_Periph_List:00000000 SrvActuator_Periph_List
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:1658   .rodata:00000000 $d
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:1685   .Perph_Section:00000000 $d
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:1689   .Perph_Section:00000000 Actuator_Data_PipeDataObj
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:1692   .bss.Proto_Actuator_Data:00000000 $d
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:1698   .bss.SrvActuator_ControlStream:00000000 $d
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:1705   .bss.SrvActuator_Obj:00000000 $d
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:1712   .data.SrvActuator:00000000 $d
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:1724   .rodata.SrvActuator_Periph_List:00000000 $d
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:1838   .rodata.default_sig_serial:00000000 $d
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:1262   .text.SrvActuator_Init:00000027 $d
C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s:1262   .text.SrvActuator_Init:00000028 $t

UNDEFINED SYMBOLS
DevDshot
Get_CurrentRunningMs
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccS9KcLc.s 			page 50


DataPipe_SendTo
Actuator_hub_DataPipe
Actuator_cal_DataPipe
memcpy
MMU_Malloc
MMU_Free
memset
