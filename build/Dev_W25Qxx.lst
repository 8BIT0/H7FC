ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 1
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"Dev_W25Qxx.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.DevW25Qxx_GetSspiInstance,"ax",%progbits
  17              		.align	1
  18              		.arch armv7e-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv5-d16
  24              	DevW25Qxx_GetSspiInstance:
  25              	.LFB144:
  26              		.file 1 "Device/Dev_W25Qxx.c"
   1:Device/Dev_W25Qxx.c **** #include "Dev_W25Qxx.h"
   2:Device/Dev_W25Qxx.c **** 
   3:Device/Dev_W25Qxx.c **** static DevW25Qxx_Error_List DevW25Qxx_Init(DevW25QxxObj_TypeDef dev, DevW25QxxPin_Config_TypeDef De
   4:Device/Dev_W25Qxx.c **** static DevW25Qxx_Error_List DevW25Qxx_Reset(DevW25QxxObj_TypeDef dev);
   5:Device/Dev_W25Qxx.c **** static DevW25Qxx_Error_List DevW25Qxx_Write(DevW25QxxObj_TypeDef dev, uint32_t WriteAddr, uint8_t *
   6:Device/Dev_W25Qxx.c **** static DevW25Qxx_Error_List DevW25Qxx_Read(DevW25QxxObj_TypeDef dev, uint32_t ReadAddr, uint32_t *p
   7:Device/Dev_W25Qxx.c **** static DevW25Qxx_Error_List DevW25Qxx_EraseBlock(DevW25QxxObj_TypeDef dev, uint32_t Address);
   8:Device/Dev_W25Qxx.c **** static DevW25Qxx_Error_List DevW25Qxx_EraseChip(DevW25QxxObj_TypeDef dev);
   9:Device/Dev_W25Qxx.c **** 
  10:Device/Dev_W25Qxx.c **** /* without pin config in this down */
  11:Device/Dev_W25Qxx.c **** static const BspSPI_NorModeConfig_TypeDef DevW25QxxSPI_Cfg = {
  12:Device/Dev_W25Qxx.c ****     .CLKPolarity = SPI_POLARITY_HIGH,
  13:Device/Dev_W25Qxx.c ****     .CLKPhase = SPI_PHASE_2EDGE,
  14:Device/Dev_W25Qxx.c ****     .BaudRatePrescaler = SPI_BAUDRATEPRESCALER_128,
  15:Device/Dev_W25Qxx.c **** };
  16:Device/Dev_W25Qxx.c **** 
  17:Device/Dev_W25Qxx.c **** DevW25Qxx_TypeDef DevW25Q64 = {
  18:Device/Dev_W25Qxx.c ****     .init = DevW25Qxx_Init,
  19:Device/Dev_W25Qxx.c ****     .reset = DevW25Qxx_Reset,
  20:Device/Dev_W25Qxx.c ****     .write = DevW25Qxx_Write,
  21:Device/Dev_W25Qxx.c ****     .read = DevW25Qxx_Read,
  22:Device/Dev_W25Qxx.c ****     .erase_block = DevW25Qxx_EraseBlock,
  23:Device/Dev_W25Qxx.c ****     .erase_chip = DevW25Qxx_EraseChip,
  24:Device/Dev_W25Qxx.c **** };
  25:Device/Dev_W25Qxx.c **** 
  26:Device/Dev_W25Qxx.c **** /* DevW25Qxx Base SPI communicate interface */
  27:Device/Dev_W25Qxx.c **** static BspSpi_TypeDef *DevW25Qxx_GetSspiInstance(DevW25QxxObj_TypeDef dev)
  28:Device/Dev_W25Qxx.c **** {
  27              		.loc 1 28 1 view -0
  28              		.cfi_startproc
  29              		@ args = 24, pretend = 16, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 2


  31              		@ link register save eliminated.
  32 0000 84B0     		sub	sp, sp, #16
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 16
  35 0002 8DE80F00 		stm	sp, {r0, r1, r2, r3}
  29:Device/Dev_W25Qxx.c ****     if (dev.bus_type == DevW25Qxx_Norm_SpiBus)
  36              		.loc 1 29 5 view .LVU1
  37              		.loc 1 29 12 is_stmt 0 view .LVU2
  38 0006 9DF80030 		ldrb	r3, [sp]	@ zero_extendqisi2
  39              		.loc 1 29 8 view .LVU3
  40 000a 0BB1     		cbz	r3, .L4
  41              	.L1:
  30:Device/Dev_W25Qxx.c ****         return (BspSpi_TypeDef *)(&BspSPI);
  31:Device/Dev_W25Qxx.c **** }
  42              		.loc 1 31 1 view .LVU4
  43 000c 04B0     		add	sp, sp, #16
  44              	.LCFI1:
  45              		.cfi_remember_state
  46              		.cfi_def_cfa_offset 0
  47 000e 7047     		bx	lr
  48              	.L4:
  49              	.LCFI2:
  50              		.cfi_restore_state
  30:Device/Dev_W25Qxx.c ****         return (BspSpi_TypeDef *)(&BspSPI);
  51              		.loc 1 30 9 is_stmt 1 view .LVU5
  30:Device/Dev_W25Qxx.c ****         return (BspSpi_TypeDef *)(&BspSPI);
  52              		.loc 1 30 16 is_stmt 0 view .LVU6
  53 0010 0048     		ldr	r0, .L5
  54 0012 FBE7     		b	.L1
  55              	.L6:
  56              		.align	2
  57              	.L5:
  58 0014 00000000 		.word	BspSPI
  59              		.cfi_endproc
  60              	.LFE144:
  62              		.section	.text.DevW25Qxx_BusTrans,"ax",%progbits
  63              		.align	1
  64              		.syntax unified
  65              		.thumb
  66              		.thumb_func
  67              		.fpu fpv5-d16
  69              	DevW25Qxx_BusTrans:
  70              	.LVL0:
  71              	.LFB145:
  32:Device/Dev_W25Qxx.c **** 
  33:Device/Dev_W25Qxx.c **** static bool DevW25Qxx_BusTrans(DevW25QxxObj_TypeDef dev, uint8_t *tx, uint16_t size)
  34:Device/Dev_W25Qxx.c **** {
  72              		.loc 1 34 1 is_stmt 1 view -0
  73              		.cfi_startproc
  74              		@ args = 32, pretend = 16, frame = 0
  75              		@ frame_needed = 0, uses_anonymous_args = 0
  76              		.loc 1 34 1 is_stmt 0 view .LVU8
  77 0000 84B0     		sub	sp, sp, #16
  78              	.LCFI3:
  79              		.cfi_def_cfa_offset 16
  80 0002 70B5     		push	{r4, r5, r6, lr}
  81              	.LCFI4:
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 3


  82              		.cfi_def_cfa_offset 32
  83              		.cfi_offset 4, -32
  84              		.cfi_offset 5, -28
  85              		.cfi_offset 6, -24
  86              		.cfi_offset 14, -20
  87 0004 82B0     		sub	sp, sp, #8
  88              	.LCFI5:
  89              		.cfi_def_cfa_offset 40
  90 0006 06AC     		add	r4, sp, #24
  91 0008 84E80F00 		stm	r4, {r0, r1, r2, r3}
  35:Device/Dev_W25Qxx.c ****     bool state = false;
  92              		.loc 1 35 5 is_stmt 1 view .LVU9
  93              	.LVL1:
  36:Device/Dev_W25Qxx.c **** 
  37:Device/Dev_W25Qxx.c ****     if (dev.bus_instance == DevW25Qxx_Norm_SpiBus)
  94              		.loc 1 37 5 view .LVU10
  95              		.loc 1 37 12 is_stmt 0 view .LVU11
  96 000c DDF81940 		ldr	r4, [sp, #25]	@ unaligned
  97              		.loc 1 37 8 view .LVU12
  98 0010 34B1     		cbz	r4, .L13
  35:Device/Dev_W25Qxx.c ****     bool state = false;
  99              		.loc 1 35 10 view .LVU13
 100 0012 0024     		movs	r4, #0
 101              	.LVL2:
 102              	.L8:
  38:Device/Dev_W25Qxx.c ****     {
  39:Device/Dev_W25Qxx.c ****         if ((DevW25Qxx_GetSspiInstance(dev) == NULL) || (DevW25Qxx_GetSspiInstance(dev)->trans == N
  40:Device/Dev_W25Qxx.c ****             return false;
  41:Device/Dev_W25Qxx.c **** 
  42:Device/Dev_W25Qxx.c ****         dev.CSPin.ctl(true);
  43:Device/Dev_W25Qxx.c **** 
  44:Device/Dev_W25Qxx.c ****         state = DevW25Qxx_GetSspiInstance(dev)->trans(dev.bus_instance, tx, size, W25Qx_TIMEOUT_VAL
  45:Device/Dev_W25Qxx.c **** 
  46:Device/Dev_W25Qxx.c ****         dev.CSPin.ctl(false);
  47:Device/Dev_W25Qxx.c ****     }
  48:Device/Dev_W25Qxx.c **** 
  49:Device/Dev_W25Qxx.c ****     return state;
  50:Device/Dev_W25Qxx.c **** }
 103              		.loc 1 50 1 view .LVU14
 104 0014 2046     		mov	r0, r4
 105 0016 02B0     		add	sp, sp, #8
 106              	.LCFI6:
 107              		.cfi_remember_state
 108              		.cfi_def_cfa_offset 32
 109              		@ sp needed
 110 0018 BDE87040 		pop	{r4, r5, r6, lr}
 111              	.LCFI7:
 112              		.cfi_restore 14
 113              		.cfi_restore 6
 114              		.cfi_restore 5
 115              		.cfi_restore 4
 116              		.cfi_def_cfa_offset 16
 117 001c 04B0     		add	sp, sp, #16
 118              	.LCFI8:
 119              		.cfi_def_cfa_offset 0
 120 001e 7047     		bx	lr
 121              	.LVL3:
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 4


 122              	.L13:
 123              	.LCFI9:
 124              		.cfi_restore_state
  39:Device/Dev_W25Qxx.c ****             return false;
 125              		.loc 1 39 9 is_stmt 1 view .LVU15
  39:Device/Dev_W25Qxx.c ****             return false;
 126              		.loc 1 39 14 is_stmt 0 view .LVU16
 127 0020 0AAB     		add	r3, sp, #40
 128 0022 93E80300 		ldm	r3, {r0, r1}
 129 0026 0090     		str	r0, [sp]
 130 0028 8DF80410 		strb	r1, [sp, #4]
 131 002c 06AB     		add	r3, sp, #24
 132 002e 0FCB     		ldm	r3, {r0, r1, r2, r3}
 133 0030 FFF7FEFF 		bl	DevW25Qxx_GetSspiInstance
 134              	.LVL4:
  39:Device/Dev_W25Qxx.c ****             return false;
 135              		.loc 1 39 12 view .LVU17
 136 0034 D8B1     		cbz	r0, .L10
  39:Device/Dev_W25Qxx.c ****             return false;
 137              		.loc 1 39 88 discriminator 1 view .LVU18
 138 0036 8368     		ldr	r3, [r0, #8]
  39:Device/Dev_W25Qxx.c ****             return false;
 139              		.loc 1 39 54 discriminator 1 view .LVU19
 140 0038 DBB1     		cbz	r3, .L11
  42:Device/Dev_W25Qxx.c **** 
 141              		.loc 1 42 9 is_stmt 1 view .LVU20
  42:Device/Dev_W25Qxx.c **** 
 142              		.loc 1 42 18 is_stmt 0 view .LVU21
 143 003a DDF82550 		ldr	r5, [sp, #37]	@ unaligned
  42:Device/Dev_W25Qxx.c **** 
 144              		.loc 1 42 9 view .LVU22
 145 003e 0120     		movs	r0, #1
 146 0040 A847     		blx	r5
 147              	.LVL5:
  44:Device/Dev_W25Qxx.c **** 
 148              		.loc 1 44 9 is_stmt 1 view .LVU23
  44:Device/Dev_W25Qxx.c **** 
 149              		.loc 1 44 17 is_stmt 0 view .LVU24
 150 0042 0AAB     		add	r3, sp, #40
 151 0044 93E80300 		ldm	r3, {r0, r1}
 152 0048 0090     		str	r0, [sp]
 153 004a 8DF80410 		strb	r1, [sp, #4]
 154 004e 06AB     		add	r3, sp, #24
 155 0050 0FCB     		ldm	r3, {r0, r1, r2, r3}
 156 0052 FFF7FEFF 		bl	DevW25Qxx_GetSspiInstance
 157              	.LVL6:
  44:Device/Dev_W25Qxx.c **** 
 158              		.loc 1 44 47 view .LVU25
 159 0056 8668     		ldr	r6, [r0, #8]
  44:Device/Dev_W25Qxx.c **** 
 160              		.loc 1 44 17 view .LVU26
 161 0058 4FF47A73 		mov	r3, #1000
 162 005c BDF83420 		ldrh	r2, [sp, #52]
 163 0060 0C99     		ldr	r1, [sp, #48]
 164 0062 2046     		mov	r0, r4
 165 0064 B047     		blx	r6
 166              	.LVL7:
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 5


 167 0066 0446     		mov	r4, r0
 168              	.LVL8:
  46:Device/Dev_W25Qxx.c ****     }
 169              		.loc 1 46 9 is_stmt 1 view .LVU27
 170 0068 0020     		movs	r0, #0
 171 006a A847     		blx	r5
 172              	.LVL9:
 173 006c D2E7     		b	.L8
 174              	.LVL10:
 175              	.L10:
  40:Device/Dev_W25Qxx.c **** 
 176              		.loc 1 40 20 is_stmt 0 view .LVU28
 177 006e 0024     		movs	r4, #0
 178 0070 D0E7     		b	.L8
 179              	.L11:
 180 0072 0024     		movs	r4, #0
 181 0074 CEE7     		b	.L8
 182              		.cfi_endproc
 183              	.LFE145:
 185              		.section	.text.DevW25Qxx_BusReceive,"ax",%progbits
 186              		.align	1
 187              		.syntax unified
 188              		.thumb
 189              		.thumb_func
 190              		.fpu fpv5-d16
 192              	DevW25Qxx_BusReceive:
 193              	.LVL11:
 194              	.LFB146:
  51:Device/Dev_W25Qxx.c **** 
  52:Device/Dev_W25Qxx.c **** static bool DevW25Qxx_BusReceive(DevW25QxxObj_TypeDef dev, uint8_t *rx, uint16_t size)
  53:Device/Dev_W25Qxx.c **** {
 195              		.loc 1 53 1 is_stmt 1 view -0
 196              		.cfi_startproc
 197              		@ args = 32, pretend = 16, frame = 0
 198              		@ frame_needed = 0, uses_anonymous_args = 0
 199              		.loc 1 53 1 is_stmt 0 view .LVU30
 200 0000 84B0     		sub	sp, sp, #16
 201              	.LCFI10:
 202              		.cfi_def_cfa_offset 16
 203 0002 70B5     		push	{r4, r5, r6, lr}
 204              	.LCFI11:
 205              		.cfi_def_cfa_offset 32
 206              		.cfi_offset 4, -32
 207              		.cfi_offset 5, -28
 208              		.cfi_offset 6, -24
 209              		.cfi_offset 14, -20
 210 0004 82B0     		sub	sp, sp, #8
 211              	.LCFI12:
 212              		.cfi_def_cfa_offset 40
 213 0006 06AC     		add	r4, sp, #24
 214 0008 84E80F00 		stm	r4, {r0, r1, r2, r3}
  54:Device/Dev_W25Qxx.c ****     bool state = false;
 215              		.loc 1 54 5 is_stmt 1 view .LVU31
 216              	.LVL12:
  55:Device/Dev_W25Qxx.c **** 
  56:Device/Dev_W25Qxx.c ****     if (dev.bus_instance == DevW25Qxx_Norm_SpiBus)
 217              		.loc 1 56 5 view .LVU32
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 6


 218              		.loc 1 56 12 is_stmt 0 view .LVU33
 219 000c DDF81940 		ldr	r4, [sp, #25]	@ unaligned
 220              		.loc 1 56 8 view .LVU34
 221 0010 34B1     		cbz	r4, .L20
  54:Device/Dev_W25Qxx.c ****     bool state = false;
 222              		.loc 1 54 10 view .LVU35
 223 0012 0024     		movs	r4, #0
 224              	.LVL13:
 225              	.L15:
  57:Device/Dev_W25Qxx.c ****     {
  58:Device/Dev_W25Qxx.c ****         if ((DevW25Qxx_GetSspiInstance(dev) == NULL) || (DevW25Qxx_GetSspiInstance(dev)->receive ==
  59:Device/Dev_W25Qxx.c ****             return false;
  60:Device/Dev_W25Qxx.c **** 
  61:Device/Dev_W25Qxx.c ****         dev.CSPin.ctl(true);
  62:Device/Dev_W25Qxx.c **** 
  63:Device/Dev_W25Qxx.c ****         state = DevW25Qxx_GetSspiInstance(dev)->receive(dev.bus_instance, rx, size, W25Qx_TIMEOUT_V
  64:Device/Dev_W25Qxx.c **** 
  65:Device/Dev_W25Qxx.c ****         dev.CSPin.ctl(false);
  66:Device/Dev_W25Qxx.c ****     }
  67:Device/Dev_W25Qxx.c **** 
  68:Device/Dev_W25Qxx.c ****     return state;
  69:Device/Dev_W25Qxx.c **** }
 226              		.loc 1 69 1 view .LVU36
 227 0014 2046     		mov	r0, r4
 228 0016 02B0     		add	sp, sp, #8
 229              	.LCFI13:
 230              		.cfi_remember_state
 231              		.cfi_def_cfa_offset 32
 232              		@ sp needed
 233 0018 BDE87040 		pop	{r4, r5, r6, lr}
 234              	.LCFI14:
 235              		.cfi_restore 14
 236              		.cfi_restore 6
 237              		.cfi_restore 5
 238              		.cfi_restore 4
 239              		.cfi_def_cfa_offset 16
 240 001c 04B0     		add	sp, sp, #16
 241              	.LCFI15:
 242              		.cfi_def_cfa_offset 0
 243 001e 7047     		bx	lr
 244              	.LVL14:
 245              	.L20:
 246              	.LCFI16:
 247              		.cfi_restore_state
  58:Device/Dev_W25Qxx.c ****             return false;
 248              		.loc 1 58 9 is_stmt 1 view .LVU37
  58:Device/Dev_W25Qxx.c ****             return false;
 249              		.loc 1 58 14 is_stmt 0 view .LVU38
 250 0020 0AAB     		add	r3, sp, #40
 251 0022 93E80300 		ldm	r3, {r0, r1}
 252 0026 0090     		str	r0, [sp]
 253 0028 8DF80410 		strb	r1, [sp, #4]
 254 002c 06AB     		add	r3, sp, #24
 255 002e 0FCB     		ldm	r3, {r0, r1, r2, r3}
 256 0030 FFF7FEFF 		bl	DevW25Qxx_GetSspiInstance
 257              	.LVL15:
  58:Device/Dev_W25Qxx.c ****             return false;
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 7


 258              		.loc 1 58 12 view .LVU39
 259 0034 D8B1     		cbz	r0, .L17
  58:Device/Dev_W25Qxx.c ****             return false;
 260              		.loc 1 58 88 discriminator 1 view .LVU40
 261 0036 C368     		ldr	r3, [r0, #12]
  58:Device/Dev_W25Qxx.c ****             return false;
 262              		.loc 1 58 54 discriminator 1 view .LVU41
 263 0038 DBB1     		cbz	r3, .L18
  61:Device/Dev_W25Qxx.c **** 
 264              		.loc 1 61 9 is_stmt 1 view .LVU42
  61:Device/Dev_W25Qxx.c **** 
 265              		.loc 1 61 18 is_stmt 0 view .LVU43
 266 003a DDF82550 		ldr	r5, [sp, #37]	@ unaligned
  61:Device/Dev_W25Qxx.c **** 
 267              		.loc 1 61 9 view .LVU44
 268 003e 0120     		movs	r0, #1
 269 0040 A847     		blx	r5
 270              	.LVL16:
  63:Device/Dev_W25Qxx.c **** 
 271              		.loc 1 63 9 is_stmt 1 view .LVU45
  63:Device/Dev_W25Qxx.c **** 
 272              		.loc 1 63 17 is_stmt 0 view .LVU46
 273 0042 0AAB     		add	r3, sp, #40
 274 0044 93E80300 		ldm	r3, {r0, r1}
 275 0048 0090     		str	r0, [sp]
 276 004a 8DF80410 		strb	r1, [sp, #4]
 277 004e 06AB     		add	r3, sp, #24
 278 0050 0FCB     		ldm	r3, {r0, r1, r2, r3}
 279 0052 FFF7FEFF 		bl	DevW25Qxx_GetSspiInstance
 280              	.LVL17:
  63:Device/Dev_W25Qxx.c **** 
 281              		.loc 1 63 47 view .LVU47
 282 0056 C668     		ldr	r6, [r0, #12]
  63:Device/Dev_W25Qxx.c **** 
 283              		.loc 1 63 17 view .LVU48
 284 0058 4FF47A73 		mov	r3, #1000
 285 005c BDF83420 		ldrh	r2, [sp, #52]
 286 0060 0C99     		ldr	r1, [sp, #48]
 287 0062 2046     		mov	r0, r4
 288 0064 B047     		blx	r6
 289              	.LVL18:
 290 0066 0446     		mov	r4, r0
 291              	.LVL19:
  65:Device/Dev_W25Qxx.c ****     }
 292              		.loc 1 65 9 is_stmt 1 view .LVU49
 293 0068 0020     		movs	r0, #0
 294 006a A847     		blx	r5
 295              	.LVL20:
 296 006c D2E7     		b	.L15
 297              	.LVL21:
 298              	.L17:
  59:Device/Dev_W25Qxx.c **** 
 299              		.loc 1 59 20 is_stmt 0 view .LVU50
 300 006e 0024     		movs	r4, #0
 301 0070 D0E7     		b	.L15
 302              	.L18:
 303 0072 0024     		movs	r4, #0
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 8


 304 0074 CEE7     		b	.L15
 305              		.cfi_endproc
 306              	.LFE146:
 308              		.section	.text.DevW25Qxx_BusTrans_Receive,"ax",%progbits
 309              		.align	1
 310              		.syntax unified
 311              		.thumb
 312              		.thumb_func
 313              		.fpu fpv5-d16
 315              	DevW25Qxx_BusTrans_Receive:
 316              	.LVL22:
 317              	.LFB147:
  70:Device/Dev_W25Qxx.c **** 
  71:Device/Dev_W25Qxx.c **** static bool DevW25Qxx_BusTrans_Receive(DevW25QxxObj_TypeDef dev, uint8_t *tx, uint8_t *rx, uint16_t
  72:Device/Dev_W25Qxx.c **** {
 318              		.loc 1 72 1 is_stmt 1 view -0
 319              		.cfi_startproc
 320              		@ args = 36, pretend = 16, frame = 0
 321              		@ frame_needed = 0, uses_anonymous_args = 0
 322              		.loc 1 72 1 is_stmt 0 view .LVU52
 323 0000 84B0     		sub	sp, sp, #16
 324              	.LCFI17:
 325              		.cfi_def_cfa_offset 16
 326 0002 70B5     		push	{r4, r5, r6, lr}
 327              	.LCFI18:
 328              		.cfi_def_cfa_offset 32
 329              		.cfi_offset 4, -32
 330              		.cfi_offset 5, -28
 331              		.cfi_offset 6, -24
 332              		.cfi_offset 14, -20
 333 0004 82B0     		sub	sp, sp, #8
 334              	.LCFI19:
 335              		.cfi_def_cfa_offset 40
 336 0006 06AC     		add	r4, sp, #24
 337 0008 84E80F00 		stm	r4, {r0, r1, r2, r3}
 338 000c 0024     		movs	r4, #0
  73:Device/Dev_W25Qxx.c ****     bool state;
 339              		.loc 1 73 5 is_stmt 1 view .LVU53
  74:Device/Dev_W25Qxx.c **** 
  75:Device/Dev_W25Qxx.c ****     if (dev.bus_instance == DevW25Qxx_Norm_SpiBus)
 340              		.loc 1 75 5 view .LVU54
 341              		.loc 1 75 12 is_stmt 0 view .LVU55
 342 000e DDF81950 		ldr	r5, [sp, #25]	@ unaligned
 343              		.loc 1 75 8 view .LVU56
 344 0012 2DB1     		cbz	r5, .L26
 345              	.L22:
  76:Device/Dev_W25Qxx.c ****     {
  77:Device/Dev_W25Qxx.c ****         if ((DevW25Qxx_GetSspiInstance(dev) == NULL) || (DevW25Qxx_GetSspiInstance(dev)->trans_rece
  78:Device/Dev_W25Qxx.c ****             return false;
  79:Device/Dev_W25Qxx.c **** 
  80:Device/Dev_W25Qxx.c ****         dev.CSPin.ctl(true);
  81:Device/Dev_W25Qxx.c **** 
  82:Device/Dev_W25Qxx.c ****         state = DevW25Qxx_GetSspiInstance(dev)->trans_receive(dev.bus_instance, tx, rx, size, W25Qx
  83:Device/Dev_W25Qxx.c **** 
  84:Device/Dev_W25Qxx.c ****         dev.CSPin.ctl(false);
  85:Device/Dev_W25Qxx.c ****     }
  86:Device/Dev_W25Qxx.c **** 
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 9


  87:Device/Dev_W25Qxx.c ****     return state;
  88:Device/Dev_W25Qxx.c **** }
 346              		.loc 1 88 1 view .LVU57
 347 0014 2046     		mov	r0, r4
 348 0016 02B0     		add	sp, sp, #8
 349              	.LCFI20:
 350              		.cfi_remember_state
 351              		.cfi_def_cfa_offset 32
 352              		@ sp needed
 353 0018 BDE87040 		pop	{r4, r5, r6, lr}
 354              	.LCFI21:
 355              		.cfi_restore 14
 356              		.cfi_restore 6
 357              		.cfi_restore 5
 358              		.cfi_restore 4
 359              		.cfi_def_cfa_offset 16
 360 001c 04B0     		add	sp, sp, #16
 361              	.LCFI22:
 362              		.cfi_def_cfa_offset 0
 363 001e 7047     		bx	lr
 364              	.L26:
 365              	.LCFI23:
 366              		.cfi_restore_state
  77:Device/Dev_W25Qxx.c ****             return false;
 367              		.loc 1 77 9 is_stmt 1 view .LVU58
  77:Device/Dev_W25Qxx.c ****             return false;
 368              		.loc 1 77 14 is_stmt 0 view .LVU59
 369 0020 0AAB     		add	r3, sp, #40
 370 0022 93E80300 		ldm	r3, {r0, r1}
 371 0026 0090     		str	r0, [sp]
 372 0028 8DF80410 		strb	r1, [sp, #4]
 373 002c 06AB     		add	r3, sp, #24
 374 002e 0FCB     		ldm	r3, {r0, r1, r2, r3}
 375 0030 FFF7FEFF 		bl	DevW25Qxx_GetSspiInstance
 376              	.LVL23:
  77:Device/Dev_W25Qxx.c ****             return false;
 377              		.loc 1 77 12 view .LVU60
 378 0034 E8B1     		cbz	r0, .L23
  77:Device/Dev_W25Qxx.c ****             return false;
 379              		.loc 1 77 88 discriminator 1 view .LVU61
 380 0036 0369     		ldr	r3, [r0, #16]
  77:Device/Dev_W25Qxx.c ****             return false;
 381              		.loc 1 77 54 discriminator 1 view .LVU62
 382 0038 EBB1     		cbz	r3, .L24
  80:Device/Dev_W25Qxx.c **** 
 383              		.loc 1 80 9 is_stmt 1 view .LVU63
  80:Device/Dev_W25Qxx.c **** 
 384              		.loc 1 80 18 is_stmt 0 view .LVU64
 385 003a DDF82560 		ldr	r6, [sp, #37]	@ unaligned
  80:Device/Dev_W25Qxx.c **** 
 386              		.loc 1 80 9 view .LVU65
 387 003e 0120     		movs	r0, #1
 388 0040 B047     		blx	r6
 389              	.LVL24:
  82:Device/Dev_W25Qxx.c **** 
 390              		.loc 1 82 9 is_stmt 1 view .LVU66
  82:Device/Dev_W25Qxx.c **** 
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 10


 391              		.loc 1 82 17 is_stmt 0 view .LVU67
 392 0042 0AAB     		add	r3, sp, #40
 393 0044 93E80300 		ldm	r3, {r0, r1}
 394 0048 0090     		str	r0, [sp]
 395 004a 8DF80410 		strb	r1, [sp, #4]
 396 004e 06AB     		add	r3, sp, #24
 397 0050 0FCB     		ldm	r3, {r0, r1, r2, r3}
 398 0052 FFF7FEFF 		bl	DevW25Qxx_GetSspiInstance
 399              	.LVL25:
  82:Device/Dev_W25Qxx.c **** 
 400              		.loc 1 82 47 view .LVU68
 401 0056 0469     		ldr	r4, [r0, #16]
  82:Device/Dev_W25Qxx.c **** 
 402              		.loc 1 82 17 view .LVU69
 403 0058 4FF47A73 		mov	r3, #1000
 404 005c 0093     		str	r3, [sp]
 405 005e BDF83830 		ldrh	r3, [sp, #56]
 406 0062 0D9A     		ldr	r2, [sp, #52]
 407 0064 0C99     		ldr	r1, [sp, #48]
 408 0066 2846     		mov	r0, r5
 409 0068 A047     		blx	r4
 410              	.LVL26:
 411 006a 0446     		mov	r4, r0
 412              	.LVL27:
  84:Device/Dev_W25Qxx.c ****     }
 413              		.loc 1 84 9 is_stmt 1 view .LVU70
 414 006c 0020     		movs	r0, #0
 415 006e B047     		blx	r6
 416              	.LVL28:
 417 0070 D0E7     		b	.L22
 418              	.LVL29:
 419              	.L23:
  78:Device/Dev_W25Qxx.c **** 
 420              		.loc 1 78 20 is_stmt 0 view .LVU71
 421 0072 0024     		movs	r4, #0
 422 0074 CEE7     		b	.L22
 423              	.L24:
 424 0076 0024     		movs	r4, #0
 425 0078 CCE7     		b	.L22
 426              		.cfi_endproc
 427              	.LFE147:
 429              		.section	.text.DevW25Qxx_Reset,"ax",%progbits
 430              		.align	1
 431              		.syntax unified
 432              		.thumb
 433              		.thumb_func
 434              		.fpu fpv5-d16
 436              	DevW25Qxx_Reset:
 437              	.LFB149:
  89:Device/Dev_W25Qxx.c **** 
  90:Device/Dev_W25Qxx.c **** /* W25Qxx device driver */
  91:Device/Dev_W25Qxx.c **** static bool DevW25Qxx_ReadID(DevW25QxxObj_TypeDef dev)
  92:Device/Dev_W25Qxx.c **** {
  93:Device/Dev_W25Qxx.c ****     uint8_t cmd[4] = {READ_ID_CMD, 0x00, 0x00, 0x00};
  94:Device/Dev_W25Qxx.c ****     uint8_t ID[2] = {0};
  95:Device/Dev_W25Qxx.c **** 
  96:Device/Dev_W25Qxx.c ****     /* Send the read ID command */
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 11


  97:Device/Dev_W25Qxx.c ****     DevW25Qxx_BusTrans(dev, cmd, sizeof(cmd));
  98:Device/Dev_W25Qxx.c ****     /* Reception of the data */
  99:Device/Dev_W25Qxx.c ****     DevW25Qxx_BusReceive(dev, ID, sizeof(ID));
 100:Device/Dev_W25Qxx.c **** 
 101:Device/Dev_W25Qxx.c ****     return true;
 102:Device/Dev_W25Qxx.c **** }
 103:Device/Dev_W25Qxx.c **** 
 104:Device/Dev_W25Qxx.c **** static DevW25Qxx_Error_List DevW25Qxx_Reset(DevW25QxxObj_TypeDef dev)
 105:Device/Dev_W25Qxx.c **** {
 438              		.loc 1 105 1 is_stmt 1 view -0
 439              		.cfi_startproc
 440              		@ args = 24, pretend = 16, frame = 8
 441              		@ frame_needed = 0, uses_anonymous_args = 0
 442 0000 84B0     		sub	sp, sp, #16
 443              	.LCFI24:
 444              		.cfi_def_cfa_offset 16
 445 0002 00B5     		push	{lr}
 446              	.LCFI25:
 447              		.cfi_def_cfa_offset 20
 448              		.cfi_offset 14, -20
 449 0004 87B0     		sub	sp, sp, #28
 450              	.LCFI26:
 451              		.cfi_def_cfa_offset 48
 452 0006 0DF1200C 		add	ip, sp, #32
 453 000a 8CE80F00 		stm	ip, {r0, r1, r2, r3}
 106:Device/Dev_W25Qxx.c ****     uint8_t cmd[2] = {RESET_ENABLE_CMD, RESET_MEMORY_CMD};
 454              		.loc 1 106 5 view .LVU73
 455              		.loc 1 106 13 is_stmt 0 view .LVU74
 456 000e 49F66613 		movw	r3, #39270
 457 0012 ADF81430 		strh	r3, [sp, #20]	@ movhi
 107:Device/Dev_W25Qxx.c **** 
 108:Device/Dev_W25Qxx.c ****     /* Send the reset command */
 109:Device/Dev_W25Qxx.c ****     if (DevW25Qxx_BusTrans(dev, cmd, sizeof(cmd)))
 458              		.loc 1 109 5 is_stmt 1 view .LVU75
 459              		.loc 1 109 9 is_stmt 0 view .LVU76
 460 0016 0223     		movs	r3, #2
 461 0018 0393     		str	r3, [sp, #12]
 462 001a 05AB     		add	r3, sp, #20
 463 001c 0293     		str	r3, [sp, #8]
 464 001e 0CAB     		add	r3, sp, #48
 465 0020 93E80300 		ldm	r3, {r0, r1}
 466 0024 0090     		str	r0, [sp]
 467 0026 8DF80410 		strb	r1, [sp, #4]
 468 002a 9CE80F00 		ldm	ip, {r0, r1, r2, r3}
 469 002e FFF7FEFF 		bl	DevW25Qxx_BusTrans
 470              	.LVL30:
 471              		.loc 1 109 8 view .LVU77
 472 0032 28B9     		cbnz	r0, .L29
 110:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Ok;
 111:Device/Dev_W25Qxx.c **** 
 112:Device/Dev_W25Qxx.c ****     return DevW25Qxx_Error;
 473              		.loc 1 112 12 view .LVU78
 474 0034 0120     		movs	r0, #1
 475              	.L28:
 113:Device/Dev_W25Qxx.c **** }
 476              		.loc 1 113 1 view .LVU79
 477 0036 07B0     		add	sp, sp, #28
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 12


 478              	.LCFI27:
 479              		.cfi_remember_state
 480              		.cfi_def_cfa_offset 20
 481              		@ sp needed
 482 0038 5DF804EB 		ldr	lr, [sp], #4
 483              	.LCFI28:
 484              		.cfi_restore 14
 485              		.cfi_def_cfa_offset 16
 486 003c 04B0     		add	sp, sp, #16
 487              	.LCFI29:
 488              		.cfi_def_cfa_offset 0
 489 003e 7047     		bx	lr
 490              	.L29:
 491              	.LCFI30:
 492              		.cfi_restore_state
 110:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Ok;
 493              		.loc 1 110 16 view .LVU80
 494 0040 0020     		movs	r0, #0
 495 0042 F8E7     		b	.L28
 496              		.cfi_endproc
 497              	.LFE149:
 499              		.section	.text.DevW25Qxx_GetStatue,"ax",%progbits
 500              		.align	1
 501              		.syntax unified
 502              		.thumb
 503              		.thumb_func
 504              		.fpu fpv5-d16
 506              	DevW25Qxx_GetStatue:
 507              	.LFB150:
 114:Device/Dev_W25Qxx.c **** 
 115:Device/Dev_W25Qxx.c **** static DevW25Qxx_Error_List DevW25Qxx_GetStatue(DevW25QxxObj_TypeDef dev)
 116:Device/Dev_W25Qxx.c **** {
 508              		.loc 1 116 1 is_stmt 1 view -0
 509              		.cfi_startproc
 510              		@ args = 24, pretend = 16, frame = 8
 511              		@ frame_needed = 0, uses_anonymous_args = 0
 512 0000 84B0     		sub	sp, sp, #16
 513              	.LCFI31:
 514              		.cfi_def_cfa_offset 16
 515 0002 00B5     		push	{lr}
 516              	.LCFI32:
 517              		.cfi_def_cfa_offset 20
 518              		.cfi_offset 14, -20
 519 0004 89B0     		sub	sp, sp, #36
 520              	.LCFI33:
 521              		.cfi_def_cfa_offset 56
 522 0006 0DF1280C 		add	ip, sp, #40
 523 000a 8CE80F00 		stm	ip, {r0, r1, r2, r3}
 117:Device/Dev_W25Qxx.c ****     uint8_t cmd = READ_STATUS_REG1_CMD;
 524              		.loc 1 117 5 view .LVU82
 525              		.loc 1 117 13 is_stmt 0 view .LVU83
 526 000e 0523     		movs	r3, #5
 527 0010 8DF81F30 		strb	r3, [sp, #31]
 118:Device/Dev_W25Qxx.c ****     bool trans_state = false;
 528              		.loc 1 118 5 is_stmt 1 view .LVU84
 529              	.LVL31:
 119:Device/Dev_W25Qxx.c ****     uint8_t dev_status;
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 13


 530              		.loc 1 119 5 view .LVU85
 120:Device/Dev_W25Qxx.c **** 
 121:Device/Dev_W25Qxx.c ****     trans_state = DevW25Qxx_BusTrans_Receive(dev, &cmd, &dev_status, sizeof(dev_status));
 531              		.loc 1 121 5 view .LVU86
 532              		.loc 1 121 19 is_stmt 0 view .LVU87
 533 0014 0123     		movs	r3, #1
 534 0016 0493     		str	r3, [sp, #16]
 535 0018 0DF11E03 		add	r3, sp, #30
 536 001c 0393     		str	r3, [sp, #12]
 537 001e 0DF11F03 		add	r3, sp, #31
 538 0022 0293     		str	r3, [sp, #8]
 539 0024 0EAB     		add	r3, sp, #56
 540 0026 93E80300 		ldm	r3, {r0, r1}
 541 002a 0090     		str	r0, [sp]
 542 002c 8DF80410 		strb	r1, [sp, #4]
 543 0030 9CE80F00 		ldm	ip, {r0, r1, r2, r3}
 544 0034 FFF7FEFF 		bl	DevW25Qxx_BusTrans_Receive
 545              	.LVL32:
 122:Device/Dev_W25Qxx.c **** 
 123:Device/Dev_W25Qxx.c ****     if (!trans_state)
 546              		.loc 1 123 5 is_stmt 1 view .LVU88
 547              		.loc 1 123 8 is_stmt 0 view .LVU89
 548 0038 48B1     		cbz	r0, .L33
 124:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 125:Device/Dev_W25Qxx.c **** 
 126:Device/Dev_W25Qxx.c ****     /* Check the value of the register */
 127:Device/Dev_W25Qxx.c ****     if ((dev_status & W25Q128FV_FSR_BUSY) != 0)
 549              		.loc 1 127 5 is_stmt 1 view .LVU90
 550              		.loc 1 127 21 is_stmt 0 view .LVU91
 551 003a 9DF81E00 		ldrb	r0, [sp, #30]	@ zero_extendqisi2
 552              	.LVL33:
 553              		.loc 1 127 8 view .LVU92
 554 003e 10F00100 		ands	r0, r0, #1
 555 0042 06D1     		bne	.L36
 556              	.L32:
 128:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Busy;
 129:Device/Dev_W25Qxx.c **** 
 130:Device/Dev_W25Qxx.c ****     return DevW25Qxx_Ok;
 131:Device/Dev_W25Qxx.c **** }
 557              		.loc 1 131 1 view .LVU93
 558 0044 09B0     		add	sp, sp, #36
 559              	.LCFI34:
 560              		.cfi_remember_state
 561              		.cfi_def_cfa_offset 20
 562              		@ sp needed
 563 0046 5DF804EB 		ldr	lr, [sp], #4
 564              	.LCFI35:
 565              		.cfi_restore 14
 566              		.cfi_def_cfa_offset 16
 567 004a 04B0     		add	sp, sp, #16
 568              	.LCFI36:
 569              		.cfi_def_cfa_offset 0
 570 004c 7047     		bx	lr
 571              	.LVL34:
 572              	.L33:
 573              	.LCFI37:
 574              		.cfi_restore_state
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 14


 124:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 575              		.loc 1 124 16 view .LVU94
 576 004e 0120     		movs	r0, #1
 577              	.LVL35:
 124:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 578              		.loc 1 124 16 view .LVU95
 579 0050 F8E7     		b	.L32
 580              	.L36:
 128:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Busy;
 581              		.loc 1 128 16 view .LVU96
 582 0052 0220     		movs	r0, #2
 583 0054 F6E7     		b	.L32
 584              		.cfi_endproc
 585              	.LFE150:
 587              		.section	.text.DevW25Qxx_WriteEnable,"ax",%progbits
 588              		.align	1
 589              		.syntax unified
 590              		.thumb
 591              		.thumb_func
 592              		.fpu fpv5-d16
 594              	DevW25Qxx_WriteEnable:
 595              	.LFB151:
 132:Device/Dev_W25Qxx.c **** 
 133:Device/Dev_W25Qxx.c **** static DevW25Qxx_Error_List DevW25Qxx_WriteEnable(DevW25QxxObj_TypeDef dev)
 134:Device/Dev_W25Qxx.c **** {
 596              		.loc 1 134 1 is_stmt 1 view -0
 597              		.cfi_startproc
 598              		@ args = 24, pretend = 16, frame = 8
 599              		@ frame_needed = 0, uses_anonymous_args = 0
 600 0000 84B0     		sub	sp, sp, #16
 601              	.LCFI38:
 602              		.cfi_def_cfa_offset 16
 603 0002 30B5     		push	{r4, r5, lr}
 604              	.LCFI39:
 605              		.cfi_def_cfa_offset 28
 606              		.cfi_offset 4, -28
 607              		.cfi_offset 5, -24
 608              		.cfi_offset 14, -20
 609 0004 87B0     		sub	sp, sp, #28
 610              	.LCFI40:
 611              		.cfi_def_cfa_offset 56
 612 0006 0AAC     		add	r4, sp, #40
 613 0008 84E80F00 		stm	r4, {r0, r1, r2, r3}
 135:Device/Dev_W25Qxx.c ****     uint8_t cmd = WRITE_ENABLE_CMD;
 614              		.loc 1 135 5 view .LVU98
 615              		.loc 1 135 13 is_stmt 0 view .LVU99
 616 000c 0623     		movs	r3, #6
 617 000e 8DF81730 		strb	r3, [sp, #23]
 136:Device/Dev_W25Qxx.c ****     uint32_t tickstart = dev.systick();
 618              		.loc 1 136 5 is_stmt 1 view .LVU100
 619              		.loc 1 136 29 is_stmt 0 view .LVU101
 620 0012 DDF83950 		ldr	r5, [sp, #57]	@ unaligned
 621              		.loc 1 136 26 view .LVU102
 622 0016 A847     		blx	r5
 623              	.LVL36:
 624 0018 0446     		mov	r4, r0
 625              	.LVL37:
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 15


 137:Device/Dev_W25Qxx.c ****     bool trans_state = false;
 626              		.loc 1 137 5 is_stmt 1 view .LVU103
 138:Device/Dev_W25Qxx.c **** 
 139:Device/Dev_W25Qxx.c ****     /* Send the read ID command */
 140:Device/Dev_W25Qxx.c ****     trans_state = DevW25Qxx_BusTrans(dev, &cmd, sizeof(cmd));
 627              		.loc 1 140 5 view .LVU104
 628              		.loc 1 140 19 is_stmt 0 view .LVU105
 629 001a 0123     		movs	r3, #1
 630 001c 0393     		str	r3, [sp, #12]
 631 001e 0DF11703 		add	r3, sp, #23
 632 0022 0293     		str	r3, [sp, #8]
 633 0024 0EAB     		add	r3, sp, #56
 634 0026 93E80300 		ldm	r3, {r0, r1}
 635              	.LVL38:
 636              		.loc 1 140 19 view .LVU106
 637 002a 0090     		str	r0, [sp]
 638 002c 8DF80410 		strb	r1, [sp, #4]
 639 0030 0AAB     		add	r3, sp, #40
 640 0032 0FCB     		ldm	r3, {r0, r1, r2, r3}
 641 0034 FFF7FEFF 		bl	DevW25Qxx_BusTrans
 642              	.LVL39:
 141:Device/Dev_W25Qxx.c **** 
 142:Device/Dev_W25Qxx.c ****     if (!trans_state)
 643              		.loc 1 142 5 is_stmt 1 view .LVU107
 644              		.loc 1 142 8 is_stmt 0 view .LVU108
 645 0038 90B1     		cbz	r0, .L43
 646              	.LVL40:
 647              	.L38:
 143:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 144:Device/Dev_W25Qxx.c **** 
 145:Device/Dev_W25Qxx.c ****     /* Wait the end of Flash writing */
 146:Device/Dev_W25Qxx.c ****     while (DevW25Qxx_GetStatue(dev) == DevW25Qxx_Busy)
 648              		.loc 1 146 11 is_stmt 1 view .LVU109
 649              		.loc 1 146 12 is_stmt 0 view .LVU110
 650 003a 0EAB     		add	r3, sp, #56
 651 003c 93E80300 		ldm	r3, {r0, r1}
 652 0040 0090     		str	r0, [sp]
 653 0042 8DF80410 		strb	r1, [sp, #4]
 654 0046 0AAB     		add	r3, sp, #40
 655 0048 0FCB     		ldm	r3, {r0, r1, r2, r3}
 656 004a FFF7FEFF 		bl	DevW25Qxx_GetStatue
 657              	.LVL41:
 658              		.loc 1 146 11 view .LVU111
 659 004e 0228     		cmp	r0, #2
 660 0050 0CD1     		bne	.L44
 147:Device/Dev_W25Qxx.c ****     {
 148:Device/Dev_W25Qxx.c ****         /* Check for the Timeout */
 149:Device/Dev_W25Qxx.c ****         if ((dev.systick() - tickstart) > W25Qx_TIMEOUT_VALUE)
 661              		.loc 1 149 9 is_stmt 1 view .LVU112
 662              		.loc 1 149 14 is_stmt 0 view .LVU113
 663 0052 A847     		blx	r5
 664              	.LVL42:
 665              		.loc 1 149 28 view .LVU114
 666 0054 001B     		subs	r0, r0, r4
 667              		.loc 1 149 12 view .LVU115
 668 0056 B0F57A7F 		cmp	r0, #1000
 669 005a EED9     		bls	.L38
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 16


 150:Device/Dev_W25Qxx.c ****             return DevW25Qxx_TimeOut;
 670              		.loc 1 150 20 view .LVU116
 671 005c 0320     		movs	r0, #3
 672 005e 00E0     		b	.L39
 673              	.LVL43:
 674              	.L43:
 143:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 675              		.loc 1 143 16 view .LVU117
 676 0060 0120     		movs	r0, #1
 677              	.LVL44:
 678              	.L39:
 151:Device/Dev_W25Qxx.c ****     }
 152:Device/Dev_W25Qxx.c **** 
 153:Device/Dev_W25Qxx.c ****     return DevW25Qxx_Ok;
 154:Device/Dev_W25Qxx.c **** }
 679              		.loc 1 154 1 view .LVU118
 680 0062 07B0     		add	sp, sp, #28
 681              	.LCFI41:
 682              		.cfi_remember_state
 683              		.cfi_def_cfa_offset 28
 684              		@ sp needed
 685 0064 BDE83040 		pop	{r4, r5, lr}
 686              	.LCFI42:
 687              		.cfi_restore 14
 688              		.cfi_restore 5
 689              		.cfi_restore 4
 690              		.cfi_def_cfa_offset 16
 691              	.LVL45:
 692              		.loc 1 154 1 view .LVU119
 693 0068 04B0     		add	sp, sp, #16
 694              	.LCFI43:
 695              		.cfi_def_cfa_offset 0
 696 006a 7047     		bx	lr
 697              	.LVL46:
 698              	.L44:
 699              	.LCFI44:
 700              		.cfi_restore_state
 153:Device/Dev_W25Qxx.c **** }
 701              		.loc 1 153 12 view .LVU120
 702 006c 0020     		movs	r0, #0
 703 006e F8E7     		b	.L39
 704              		.cfi_endproc
 705              	.LFE151:
 707              		.section	.text.DevW25Qxx_Init,"ax",%progbits
 708              		.align	1
 709              		.syntax unified
 710              		.thumb
 711              		.thumb_func
 712              		.fpu fpv5-d16
 714              	DevW25Qxx_Init:
 715              	.LFB152:
 155:Device/Dev_W25Qxx.c **** 
 156:Device/Dev_W25Qxx.c **** static DevW25Qxx_Error_List DevW25Qxx_Init(DevW25QxxObj_TypeDef dev, DevW25QxxPin_Config_TypeDef De
 157:Device/Dev_W25Qxx.c **** {
 716              		.loc 1 157 1 is_stmt 1 view -0
 717              		.cfi_startproc
 718              		@ args = 52, pretend = 16, frame = 48
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 17


 719              		@ frame_needed = 0, uses_anonymous_args = 0
 720 0000 84B0     		sub	sp, sp, #16
 721              	.LCFI45:
 722              		.cfi_def_cfa_offset 16
 723 0002 70B5     		push	{r4, r5, r6, lr}
 724              	.LCFI46:
 725              		.cfi_def_cfa_offset 32
 726              		.cfi_offset 4, -32
 727              		.cfi_offset 5, -28
 728              		.cfi_offset 6, -24
 729              		.cfi_offset 14, -20
 730 0004 94B0     		sub	sp, sp, #80
 731              	.LCFI47:
 732              		.cfi_def_cfa_offset 112
 733 0006 18AC     		add	r4, sp, #96
 734 0008 84E80F00 		stm	r4, {r0, r1, r2, r3}
 158:Device/Dev_W25Qxx.c ****     if ((dev.CSPin.init == NULL) ||
 735              		.loc 1 158 5 view .LVU122
 736              		.loc 1 158 19 is_stmt 0 view .LVU123
 737 000c DDF86940 		ldr	r4, [sp, #105]	@ unaligned
 738              		.loc 1 158 8 view .LVU124
 739 0010 002C     		cmp	r4, #0
 740 0012 66D0     		beq	.L51
 159:Device/Dev_W25Qxx.c ****         (dev.CSPin.ctl == NULL) ||
 741              		.loc 1 159 19 discriminator 1 view .LVU125
 742 0014 DDF86D30 		ldr	r3, [sp, #109]	@ unaligned
 158:Device/Dev_W25Qxx.c ****     if ((dev.CSPin.init == NULL) ||
 743              		.loc 1 158 34 discriminator 1 view .LVU126
 744 0018 002B     		cmp	r3, #0
 745 001a 64D0     		beq	.L52
 160:Device/Dev_W25Qxx.c ****         (dev.BusPort == NULL))
 746              		.loc 1 160 13 view .LVU127
 747 001c DDF86530 		ldr	r3, [sp, #101]	@ unaligned
 159:Device/Dev_W25Qxx.c ****         (dev.CSPin.ctl == NULL) ||
 748              		.loc 1 159 33 view .LVU128
 749 0020 002B     		cmp	r3, #0
 750 0022 62D0     		beq	.L53
 161:Device/Dev_W25Qxx.c ****         return false;
 162:Device/Dev_W25Qxx.c **** 
 163:Device/Dev_W25Qxx.c ****     if (dev.bus_instance == DevW25Qxx_Norm_SpiBus)
 751              		.loc 1 163 5 is_stmt 1 view .LVU129
 752              		.loc 1 163 12 is_stmt 0 view .LVU130
 753 0024 DDF86150 		ldr	r5, [sp, #97]	@ unaligned
 754              		.loc 1 163 8 view .LVU131
 755 0028 95B1     		cbz	r5, .L55
 756              	.L47:
 164:Device/Dev_W25Qxx.c ****     {
 165:Device/Dev_W25Qxx.c ****         BspSPI_NorModeConfig_TypeDef BspSPI_NorCfg = DevW25QxxSPI_Cfg;
 166:Device/Dev_W25Qxx.c ****         BspSPI_NorCfg.Pin = DevPin;
 167:Device/Dev_W25Qxx.c **** 
 168:Device/Dev_W25Qxx.c ****         if ((DevW25Qxx_GetSspiInstance(dev)->trans == NULL) ||
 169:Device/Dev_W25Qxx.c ****             (DevW25Qxx_GetSspiInstance(dev)->receive == NULL) ||
 170:Device/Dev_W25Qxx.c ****             (DevW25Qxx_GetSspiInstance(dev)->trans_receive == NULL))
 171:Device/Dev_W25Qxx.c ****             return DevW25Qxx_Error;
 172:Device/Dev_W25Qxx.c **** 
 173:Device/Dev_W25Qxx.c ****         DevW25Qxx_GetSspiInstance(dev)->init(BspSPI_NorCfg, dev.bus_instance);
 174:Device/Dev_W25Qxx.c ****     }
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 18


 175:Device/Dev_W25Qxx.c **** 
 176:Device/Dev_W25Qxx.c ****     dev.CSPin.init();
 757              		.loc 1 176 5 is_stmt 1 view .LVU132
 758 002a A047     		blx	r4
 759              	.LVL47:
 177:Device/Dev_W25Qxx.c **** 
 178:Device/Dev_W25Qxx.c ****     /* Reset W25Qxxx */
 179:Device/Dev_W25Qxx.c ****     if ((DevW25Qxx_Reset(dev) != DevW25Qxx_Ok) ||
 760              		.loc 1 179 5 view .LVU133
 761              		.loc 1 179 10 is_stmt 0 view .LVU134
 762 002c 1CAB     		add	r3, sp, #112
 763 002e 93E80300 		ldm	r3, {r0, r1}
 764 0032 0090     		str	r0, [sp]
 765 0034 8DF80410 		strb	r1, [sp, #4]
 766 0038 18AB     		add	r3, sp, #96
 767 003a 0FCB     		ldm	r3, {r0, r1, r2, r3}
 768 003c FFF7FEFF 		bl	DevW25Qxx_Reset
 769              	.LVL48:
 770              		.loc 1 179 8 view .LVU135
 771 0040 0028     		cmp	r0, #0
 772 0042 41D0     		beq	.L56
 773              	.L50:
 180:Device/Dev_W25Qxx.c ****         (DevW25Qxx_GetStatue(dev) != DevW25Qxx_Ok))
 181:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 774              		.loc 1 181 9 is_stmt 1 view .LVU136
 775              		.loc 1 181 16 is_stmt 0 view .LVU137
 776 0044 0120     		movs	r0, #1
 777              	.L46:
 182:Device/Dev_W25Qxx.c **** 
 183:Device/Dev_W25Qxx.c ****     return DevW25Qxx_Ok;
 184:Device/Dev_W25Qxx.c **** }
 778              		.loc 1 184 1 view .LVU138
 779 0046 14B0     		add	sp, sp, #80
 780              	.LCFI48:
 781              		.cfi_remember_state
 782              		.cfi_def_cfa_offset 32
 783              		@ sp needed
 784 0048 BDE87040 		pop	{r4, r5, r6, lr}
 785              	.LCFI49:
 786              		.cfi_restore 14
 787              		.cfi_restore 6
 788              		.cfi_restore 5
 789              		.cfi_restore 4
 790              		.cfi_def_cfa_offset 16
 791 004c 04B0     		add	sp, sp, #16
 792              	.LCFI50:
 793              		.cfi_def_cfa_offset 0
 794 004e 7047     		bx	lr
 795              	.L55:
 796              	.LCFI51:
 797              		.cfi_restore_state
 798              	.LBB2:
 165:Device/Dev_W25Qxx.c ****         BspSPI_NorCfg.Pin = DevPin;
 799              		.loc 1 165 9 is_stmt 1 view .LVU139
 165:Device/Dev_W25Qxx.c ****         BspSPI_NorCfg.Pin = DevPin;
 800              		.loc 1 165 38 is_stmt 0 view .LVU140
 801 0050 2C22     		movs	r2, #44
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 19


 802 0052 0021     		movs	r1, #0
 803 0054 09A8     		add	r0, sp, #36
 804 0056 FFF7FEFF 		bl	memset
 805              	.LVL49:
 806 005a 4FF00073 		mov	r3, #33554432
 807 005e 1193     		str	r3, [sp, #68]
 808 0060 4FF08073 		mov	r3, #16777216
 809 0064 1293     		str	r3, [sp, #72]
 810 0066 4FF0C043 		mov	r3, #1610612736
 811 006a 1393     		str	r3, [sp, #76]
 166:Device/Dev_W25Qxx.c **** 
 812              		.loc 1 166 9 is_stmt 1 view .LVU141
 166:Device/Dev_W25Qxx.c **** 
 813              		.loc 1 166 27 is_stmt 0 view .LVU142
 814 006c 0DF1240C 		add	ip, sp, #36
 815 0070 0DF1780E 		add	lr, sp, #120
 816 0074 BEE80F00 		ldmia	lr!, {r0, r1, r2, r3}
 817 0078 ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 818 007c 9EE80700 		ldm	lr, {r0, r1, r2}
 819 0080 8CE80700 		stm	ip, {r0, r1, r2}
 168:Device/Dev_W25Qxx.c ****             (DevW25Qxx_GetSspiInstance(dev)->receive == NULL) ||
 820              		.loc 1 168 9 is_stmt 1 view .LVU143
 168:Device/Dev_W25Qxx.c ****             (DevW25Qxx_GetSspiInstance(dev)->receive == NULL) ||
 821              		.loc 1 168 14 is_stmt 0 view .LVU144
 822 0084 1CAB     		add	r3, sp, #112
 823 0086 93E80300 		ldm	r3, {r0, r1}
 824 008a 0090     		str	r0, [sp]
 825 008c 8DF80410 		strb	r1, [sp, #4]
 826 0090 18AB     		add	r3, sp, #96
 827 0092 0FCB     		ldm	r3, {r0, r1, r2, r3}
 828 0094 FFF7FEFF 		bl	DevW25Qxx_GetSspiInstance
 829              	.LVL50:
 168:Device/Dev_W25Qxx.c ****             (DevW25Qxx_GetSspiInstance(dev)->receive == NULL) ||
 830              		.loc 1 168 44 view .LVU145
 831 0098 8368     		ldr	r3, [r0, #8]
 168:Device/Dev_W25Qxx.c ****             (DevW25Qxx_GetSspiInstance(dev)->receive == NULL) ||
 832              		.loc 1 168 12 view .LVU146
 833 009a 9BB1     		cbz	r3, .L48
 169:Device/Dev_W25Qxx.c ****             (DevW25Qxx_GetSspiInstance(dev)->trans_receive == NULL))
 834              		.loc 1 169 44 discriminator 1 view .LVU147
 835 009c C368     		ldr	r3, [r0, #12]
 168:Device/Dev_W25Qxx.c ****             (DevW25Qxx_GetSspiInstance(dev)->receive == NULL) ||
 836              		.loc 1 168 61 discriminator 1 view .LVU148
 837 009e 8BB1     		cbz	r3, .L48
 170:Device/Dev_W25Qxx.c ****             return DevW25Qxx_Error;
 838              		.loc 1 170 44 view .LVU149
 839 00a0 0369     		ldr	r3, [r0, #16]
 169:Device/Dev_W25Qxx.c ****             (DevW25Qxx_GetSspiInstance(dev)->trans_receive == NULL))
 840              		.loc 1 169 63 view .LVU150
 841 00a2 7BB1     		cbz	r3, .L48
 173:Device/Dev_W25Qxx.c ****     }
 842              		.loc 1 173 9 is_stmt 1 view .LVU151
 173:Device/Dev_W25Qxx.c ****     }
 843              		.loc 1 173 39 is_stmt 0 view .LVU152
 844 00a4 0668     		ldr	r6, [r0]
 173:Device/Dev_W25Qxx.c ****     }
 845              		.loc 1 173 9 view .LVU153
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 20


 846 00a6 0795     		str	r5, [sp, #28]
 847 00a8 6D46     		mov	r5, sp
 848 00aa 0DF1340C 		add	ip, sp, #52
 849 00ae BCE80F00 		ldmia	ip!, {r0, r1, r2, r3}
 850 00b2 0FC5     		stmia	r5!, {r0, r1, r2, r3}
 851 00b4 9CE80700 		ldm	ip, {r0, r1, r2}
 852 00b8 85E80700 		stm	r5, {r0, r1, r2}
 853 00bc 09AB     		add	r3, sp, #36
 854 00be 0FCB     		ldm	r3, {r0, r1, r2, r3}
 855 00c0 B047     		blx	r6
 856              	.LVL51:
 857 00c2 B2E7     		b	.L47
 858              	.L48:
 171:Device/Dev_W25Qxx.c **** 
 859              		.loc 1 171 13 is_stmt 1 view .LVU154
 171:Device/Dev_W25Qxx.c **** 
 860              		.loc 1 171 20 is_stmt 0 view .LVU155
 861 00c4 0120     		movs	r0, #1
 862 00c6 BEE7     		b	.L46
 863              	.L56:
 864              	.LBE2:
 180:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 865              		.loc 1 180 10 discriminator 1 view .LVU156
 866 00c8 1CAB     		add	r3, sp, #112
 867 00ca 93E80300 		ldm	r3, {r0, r1}
 868 00ce 0090     		str	r0, [sp]
 869 00d0 8DF80410 		strb	r1, [sp, #4]
 870 00d4 18AB     		add	r3, sp, #96
 871 00d6 0FCB     		ldm	r3, {r0, r1, r2, r3}
 872 00d8 FFF7FEFF 		bl	DevW25Qxx_GetStatue
 873              	.LVL52:
 179:Device/Dev_W25Qxx.c ****         (DevW25Qxx_GetStatue(dev) != DevW25Qxx_Ok))
 874              		.loc 1 179 48 discriminator 1 view .LVU157
 875 00dc 0028     		cmp	r0, #0
 876 00de B2D0     		beq	.L46
 877 00e0 B0E7     		b	.L50
 878              	.L51:
 161:Device/Dev_W25Qxx.c **** 
 879              		.loc 1 161 16 view .LVU158
 880 00e2 0020     		movs	r0, #0
 881 00e4 AFE7     		b	.L46
 882              	.L52:
 883 00e6 0020     		movs	r0, #0
 884 00e8 ADE7     		b	.L46
 885              	.L53:
 886 00ea 0020     		movs	r0, #0
 887 00ec ABE7     		b	.L46
 888              		.cfi_endproc
 889              	.LFE152:
 891              		.section	.text.DevW25Qxx_Read,"ax",%progbits
 892              		.align	1
 893              		.syntax unified
 894              		.thumb
 895              		.thumb_func
 896              		.fpu fpv5-d16
 898              	DevW25Qxx_Read:
 899              	.LVL53:
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 21


 900              	.LFB153:
 185:Device/Dev_W25Qxx.c **** 
 186:Device/Dev_W25Qxx.c **** static DevW25Qxx_Error_List DevW25Qxx_Read(DevW25QxxObj_TypeDef dev, uint32_t ReadAddr, uint32_t *p
 187:Device/Dev_W25Qxx.c **** {
 901              		.loc 1 187 1 is_stmt 1 view -0
 902              		.cfi_startproc
 903              		@ args = 36, pretend = 16, frame = 8
 904              		@ frame_needed = 0, uses_anonymous_args = 0
 905              		.loc 1 187 1 is_stmt 0 view .LVU160
 906 0000 84B0     		sub	sp, sp, #16
 907              	.LCFI52:
 908              		.cfi_def_cfa_offset 16
 909 0002 00B5     		push	{lr}
 910              	.LCFI53:
 911              		.cfi_def_cfa_offset 20
 912              		.cfi_offset 14, -20
 913 0004 87B0     		sub	sp, sp, #28
 914              	.LCFI54:
 915              		.cfi_def_cfa_offset 48
 916 0006 0DF1200C 		add	ip, sp, #32
 917 000a 8CE80F00 		stm	ip, {r0, r1, r2, r3}
 918 000e 0E9B     		ldr	r3, [sp, #56]
 188:Device/Dev_W25Qxx.c ****     uint8_t cmd[4];
 919              		.loc 1 188 5 is_stmt 1 view .LVU161
 189:Device/Dev_W25Qxx.c **** 
 190:Device/Dev_W25Qxx.c ****     /* Configure the command */
 191:Device/Dev_W25Qxx.c ****     cmd[0] = READ_CMD;
 920              		.loc 1 191 5 view .LVU162
 921              		.loc 1 191 12 is_stmt 0 view .LVU163
 922 0010 0322     		movs	r2, #3
 923 0012 8DF81420 		strb	r2, [sp, #20]
 192:Device/Dev_W25Qxx.c ****     cmd[1] = (uint8_t)(ReadAddr >> 16);
 924              		.loc 1 192 5 is_stmt 1 view .LVU164
 925              		.loc 1 192 14 is_stmt 0 view .LVU165
 926 0016 C3F30742 		ubfx	r2, r3, #16, #8
 927              		.loc 1 192 12 view .LVU166
 928 001a 8DF81520 		strb	r2, [sp, #21]
 193:Device/Dev_W25Qxx.c ****     cmd[2] = (uint8_t)(ReadAddr >> 8);
 929              		.loc 1 193 5 is_stmt 1 view .LVU167
 930              		.loc 1 193 14 is_stmt 0 view .LVU168
 931 001e C3F30722 		ubfx	r2, r3, #8, #8
 932              		.loc 1 193 12 view .LVU169
 933 0022 8DF81620 		strb	r2, [sp, #22]
 194:Device/Dev_W25Qxx.c ****     cmd[3] = (uint8_t)(ReadAddr);
 934              		.loc 1 194 5 is_stmt 1 view .LVU170
 935              		.loc 1 194 12 is_stmt 0 view .LVU171
 936 0026 8DF81730 		strb	r3, [sp, #23]
 195:Device/Dev_W25Qxx.c **** 
 196:Device/Dev_W25Qxx.c ****     if (!DevW25Qxx_BusTrans(dev, cmd, sizeof(cmd)) || !DevW25Qxx_BusReceive(dev, pData, Size))
 937              		.loc 1 196 5 is_stmt 1 view .LVU172
 938              		.loc 1 196 10 is_stmt 0 view .LVU173
 939 002a 0423     		movs	r3, #4
 940 002c 0393     		str	r3, [sp, #12]
 941 002e 05AB     		add	r3, sp, #20
 942 0030 0293     		str	r3, [sp, #8]
 943 0032 0CAB     		add	r3, sp, #48
 944 0034 93E80300 		ldm	r3, {r0, r1}
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 22


 945 0038 0090     		str	r0, [sp]
 946 003a 8DF80410 		strb	r1, [sp, #4]
 947 003e 9CE80F00 		ldm	ip, {r0, r1, r2, r3}
 948 0042 FFF7FEFF 		bl	DevW25Qxx_BusTrans
 949              	.LVL54:
 950              		.loc 1 196 8 view .LVU174
 951 0046 28B9     		cbnz	r0, .L62
 952              	.L58:
 197:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 953              		.loc 1 197 9 is_stmt 1 view .LVU175
 954              		.loc 1 197 16 is_stmt 0 view .LVU176
 955 0048 0120     		movs	r0, #1
 956              	.L59:
 198:Device/Dev_W25Qxx.c **** 
 199:Device/Dev_W25Qxx.c ****     return DevW25Qxx_Ok;
 200:Device/Dev_W25Qxx.c **** }
 957              		.loc 1 200 1 view .LVU177
 958 004a 07B0     		add	sp, sp, #28
 959              	.LCFI55:
 960              		.cfi_remember_state
 961              		.cfi_def_cfa_offset 20
 962              		@ sp needed
 963 004c 5DF804EB 		ldr	lr, [sp], #4
 964              	.LCFI56:
 965              		.cfi_restore 14
 966              		.cfi_def_cfa_offset 16
 967 0050 04B0     		add	sp, sp, #16
 968              	.LCFI57:
 969              		.cfi_def_cfa_offset 0
 970 0052 7047     		bx	lr
 971              	.L62:
 972              	.LCFI58:
 973              		.cfi_restore_state
 196:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 974              		.loc 1 196 56 discriminator 1 view .LVU178
 975 0054 BDF84030 		ldrh	r3, [sp, #64]
 976 0058 0393     		str	r3, [sp, #12]
 977 005a 0F9B     		ldr	r3, [sp, #60]
 978 005c 0293     		str	r3, [sp, #8]
 979 005e 0CAB     		add	r3, sp, #48
 980 0060 93E80300 		ldm	r3, {r0, r1}
 981 0064 0090     		str	r0, [sp]
 982 0066 8DF80410 		strb	r1, [sp, #4]
 983 006a 08AB     		add	r3, sp, #32
 984 006c 0FCB     		ldm	r3, {r0, r1, r2, r3}
 985 006e FFF7FEFF 		bl	DevW25Qxx_BusReceive
 986              	.LVL55:
 196:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 987              		.loc 1 196 52 discriminator 1 view .LVU179
 988 0072 0028     		cmp	r0, #0
 989 0074 E8D0     		beq	.L58
 199:Device/Dev_W25Qxx.c **** }
 990              		.loc 1 199 12 view .LVU180
 991 0076 0020     		movs	r0, #0
 992 0078 E7E7     		b	.L59
 993              		.cfi_endproc
 994              	.LFE153:
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 23


 996              		.section	.text.DevW25Qxx_Write,"ax",%progbits
 997              		.align	1
 998              		.syntax unified
 999              		.thumb
 1000              		.thumb_func
 1001              		.fpu fpv5-d16
 1003              	DevW25Qxx_Write:
 1004              	.LVL56:
 1005              	.LFB154:
 201:Device/Dev_W25Qxx.c **** 
 202:Device/Dev_W25Qxx.c **** static DevW25Qxx_Error_List DevW25Qxx_Write(DevW25QxxObj_TypeDef dev, uint32_t WriteAddr, uint8_t *
 203:Device/Dev_W25Qxx.c **** {
 1006              		.loc 1 203 1 is_stmt 1 view -0
 1007              		.cfi_startproc
 1008              		@ args = 36, pretend = 16, frame = 8
 1009              		@ frame_needed = 0, uses_anonymous_args = 0
 1010              		.loc 1 203 1 is_stmt 0 view .LVU182
 1011 0000 84B0     		sub	sp, sp, #16
 1012              	.LCFI59:
 1013              		.cfi_def_cfa_offset 16
 1014 0002 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 1015              	.LCFI60:
 1016              		.cfi_def_cfa_offset 48
 1017              		.cfi_offset 4, -48
 1018              		.cfi_offset 5, -44
 1019              		.cfi_offset 6, -40
 1020              		.cfi_offset 7, -36
 1021              		.cfi_offset 8, -32
 1022              		.cfi_offset 9, -28
 1023              		.cfi_offset 10, -24
 1024              		.cfi_offset 14, -20
 1025 0006 86B0     		sub	sp, sp, #24
 1026              	.LCFI61:
 1027              		.cfi_def_cfa_offset 72
 1028 0008 0EAC     		add	r4, sp, #56
 1029 000a 84E80F00 		stm	r4, {r0, r1, r2, r3}
 1030 000e 149D     		ldr	r5, [sp, #80]
 1031 0010 DDF85490 		ldr	r9, [sp, #84]
 1032 0014 DDF85880 		ldr	r8, [sp, #88]
 204:Device/Dev_W25Qxx.c ****     uint8_t cmd[4];
 1033              		.loc 1 204 5 is_stmt 1 view .LVU183
 205:Device/Dev_W25Qxx.c ****     uint32_t end_addr, current_size, current_addr;
 1034              		.loc 1 205 5 view .LVU184
 206:Device/Dev_W25Qxx.c ****     uint32_t tickstart = dev.systick();
 1035              		.loc 1 206 5 view .LVU185
 1036              		.loc 1 206 29 is_stmt 0 view .LVU186
 1037 0018 DDF84970 		ldr	r7, [sp, #73]	@ unaligned
 1038              		.loc 1 206 26 view .LVU187
 1039 001c B847     		blx	r7
 1040              	.LVL57:
 1041 001e 0646     		mov	r6, r0
 1042              	.LVL58:
 207:Device/Dev_W25Qxx.c **** 
 208:Device/Dev_W25Qxx.c ****     /* Calculation of the size between the write address and the end of the page */
 209:Device/Dev_W25Qxx.c ****     current_addr = 0;
 1043              		.loc 1 209 5 is_stmt 1 view .LVU188
 210:Device/Dev_W25Qxx.c **** 
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 24


 211:Device/Dev_W25Qxx.c ****     while (current_addr <= WriteAddr)
 1044              		.loc 1 211 5 view .LVU189
 209:Device/Dev_W25Qxx.c **** 
 1045              		.loc 1 209 18 is_stmt 0 view .LVU190
 1046 0020 0024     		movs	r4, #0
 1047              	.LVL59:
 1048              	.L64:
 1049              		.loc 1 211 11 is_stmt 1 view .LVU191
 1050 0022 AC42     		cmp	r4, r5
 1051 0024 02D8     		bhi	.L78
 212:Device/Dev_W25Qxx.c ****     {
 213:Device/Dev_W25Qxx.c ****         current_addr += W25Q128FV_PAGE_SIZE;
 1052              		.loc 1 213 9 view .LVU192
 1053              		.loc 1 213 22 is_stmt 0 view .LVU193
 1054 0026 04F58074 		add	r4, r4, #256
 1055              	.LVL60:
 1056              		.loc 1 213 22 view .LVU194
 1057 002a FAE7     		b	.L64
 1058              	.L78:
 214:Device/Dev_W25Qxx.c ****     }
 215:Device/Dev_W25Qxx.c ****     current_size = current_addr - WriteAddr;
 1059              		.loc 1 215 5 is_stmt 1 view .LVU195
 1060              		.loc 1 215 18 is_stmt 0 view .LVU196
 1061 002c 641B     		subs	r4, r4, r5
 1062              	.LVL61:
 216:Device/Dev_W25Qxx.c **** 
 217:Device/Dev_W25Qxx.c ****     /* Check if the size of the data is less than the remaining place in the page */
 218:Device/Dev_W25Qxx.c ****     if (current_size > Size)
 1063              		.loc 1 218 5 is_stmt 1 view .LVU197
 1064              		.loc 1 218 8 is_stmt 0 view .LVU198
 1065 002e 4445     		cmp	r4, r8
 1066 0030 00D9     		bls	.L66
 219:Device/Dev_W25Qxx.c ****     {
 220:Device/Dev_W25Qxx.c ****         current_size = Size;
 1067              		.loc 1 220 22 view .LVU199
 1068 0032 4446     		mov	r4, r8
 1069              	.LVL62:
 1070              	.L66:
 221:Device/Dev_W25Qxx.c ****     }
 222:Device/Dev_W25Qxx.c **** 
 223:Device/Dev_W25Qxx.c ****     /* Initialize the adress variables */
 224:Device/Dev_W25Qxx.c ****     current_addr = WriteAddr;
 1071              		.loc 1 224 5 is_stmt 1 view .LVU200
 225:Device/Dev_W25Qxx.c ****     end_addr = WriteAddr + Size;
 1072              		.loc 1 225 5 view .LVU201
 1073              		.loc 1 225 14 is_stmt 0 view .LVU202
 1074 0034 A844     		add	r8, r8, r5
 1075              	.LVL63:
 1076              	.L72:
 226:Device/Dev_W25Qxx.c **** 
 227:Device/Dev_W25Qxx.c ****     /* Perform the write page by page */
 228:Device/Dev_W25Qxx.c ****     do
 1077              		.loc 1 228 5 is_stmt 1 view .LVU203
 229:Device/Dev_W25Qxx.c ****     {
 230:Device/Dev_W25Qxx.c ****         /* Configure the command */
 231:Device/Dev_W25Qxx.c ****         cmd[0] = PAGE_PROG_CMD;
 1078              		.loc 1 231 9 view .LVU204
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 25


 1079              		.loc 1 231 16 is_stmt 0 view .LVU205
 1080 0036 0223     		movs	r3, #2
 1081 0038 8DF81430 		strb	r3, [sp, #20]
 232:Device/Dev_W25Qxx.c ****         cmd[1] = (uint8_t)(current_addr >> 16);
 1082              		.loc 1 232 9 is_stmt 1 view .LVU206
 1083              		.loc 1 232 18 is_stmt 0 view .LVU207
 1084 003c C5F30743 		ubfx	r3, r5, #16, #8
 1085              		.loc 1 232 16 view .LVU208
 1086 0040 8DF81530 		strb	r3, [sp, #21]
 233:Device/Dev_W25Qxx.c ****         cmd[2] = (uint8_t)(current_addr >> 8);
 1087              		.loc 1 233 9 is_stmt 1 view .LVU209
 1088              		.loc 1 233 18 is_stmt 0 view .LVU210
 1089 0044 C5F30723 		ubfx	r3, r5, #8, #8
 1090              		.loc 1 233 16 view .LVU211
 1091 0048 8DF81630 		strb	r3, [sp, #22]
 234:Device/Dev_W25Qxx.c ****         cmd[3] = (uint8_t)(current_addr);
 1092              		.loc 1 234 9 is_stmt 1 view .LVU212
 1093              		.loc 1 234 16 is_stmt 0 view .LVU213
 1094 004c 8DF81750 		strb	r5, [sp, #23]
 235:Device/Dev_W25Qxx.c **** 
 236:Device/Dev_W25Qxx.c ****         /* Enable write operations */
 237:Device/Dev_W25Qxx.c ****         if (DevW25Qxx_WriteEnable(dev) != DevW25Qxx_Ok)
 1095              		.loc 1 237 9 is_stmt 1 view .LVU214
 1096              		.loc 1 237 13 is_stmt 0 view .LVU215
 1097 0050 12AB     		add	r3, sp, #72
 1098 0052 93E80300 		ldm	r3, {r0, r1}
 1099 0056 0090     		str	r0, [sp]
 1100 0058 8DF80410 		strb	r1, [sp, #4]
 1101 005c 0EAB     		add	r3, sp, #56
 1102 005e 0FCB     		ldm	r3, {r0, r1, r2, r3}
 1103 0060 FFF7FEFF 		bl	DevW25Qxx_WriteEnable
 1104              	.LVL64:
 1105              		.loc 1 237 12 view .LVU216
 1106 0064 8246     		mov	r10, r0
 1107 0066 0028     		cmp	r0, #0
 1108 0068 47D1     		bne	.L74
 238:Device/Dev_W25Qxx.c ****             return DevW25Qxx_Error;
 239:Device/Dev_W25Qxx.c **** 
 240:Device/Dev_W25Qxx.c ****         /* Send the command Transmission of the data */
 241:Device/Dev_W25Qxx.c ****         if (DevW25Qxx_BusTrans(dev, cmd, sizeof(cmd)) || DevW25Qxx_BusTrans(dev, pData, current_siz
 1109              		.loc 1 241 9 is_stmt 1 view .LVU217
 1110              		.loc 1 241 13 is_stmt 0 view .LVU218
 1111 006a 0423     		movs	r3, #4
 1112 006c 0393     		str	r3, [sp, #12]
 1113 006e 05AB     		add	r3, sp, #20
 1114 0070 0293     		str	r3, [sp, #8]
 1115 0072 12AB     		add	r3, sp, #72
 1116 0074 93E80300 		ldm	r3, {r0, r1}
 1117 0078 0090     		str	r0, [sp]
 1118 007a 8DF80410 		strb	r1, [sp, #4]
 1119 007e 0EAB     		add	r3, sp, #56
 1120 0080 0FCB     		ldm	r3, {r0, r1, r2, r3}
 1121 0082 FFF7FEFF 		bl	DevW25Qxx_BusTrans
 1122              	.LVL65:
 1123              		.loc 1 241 12 view .LVU219
 1124 0086 38BB     		cbnz	r0, .L68
 1125              		.loc 1 241 58 discriminator 1 view .LVU220
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 26


 1126 0088 A3B2     		uxth	r3, r4
 1127 008a 0393     		str	r3, [sp, #12]
 1128 008c CDF80890 		str	r9, [sp, #8]
 1129 0090 12AB     		add	r3, sp, #72
 1130 0092 93E80300 		ldm	r3, {r0, r1}
 1131 0096 0090     		str	r0, [sp]
 1132 0098 8DF80410 		strb	r1, [sp, #4]
 1133 009c 0EAB     		add	r3, sp, #56
 1134 009e 0FCB     		ldm	r3, {r0, r1, r2, r3}
 1135 00a0 FFF7FEFF 		bl	DevW25Qxx_BusTrans
 1136              	.LVL66:
 1137              		.loc 1 241 55 discriminator 1 view .LVU221
 1138 00a4 C0B9     		cbnz	r0, .L68
 1139              	.LVL67:
 1140              	.L69:
 242:Device/Dev_W25Qxx.c ****             return DevW25Qxx_Error;
 243:Device/Dev_W25Qxx.c **** 
 244:Device/Dev_W25Qxx.c ****         /* Wait the end of Flash writing */
 245:Device/Dev_W25Qxx.c ****         while (DevW25Qxx_GetStatue(dev) == DevW25Qxx_Busy)
 1141              		.loc 1 245 15 is_stmt 1 view .LVU222
 1142              		.loc 1 245 16 is_stmt 0 view .LVU223
 1143 00a6 12AB     		add	r3, sp, #72
 1144 00a8 93E80300 		ldm	r3, {r0, r1}
 1145 00ac 0090     		str	r0, [sp]
 1146 00ae 8DF80410 		strb	r1, [sp, #4]
 1147 00b2 0EAB     		add	r3, sp, #56
 1148 00b4 0FCB     		ldm	r3, {r0, r1, r2, r3}
 1149 00b6 FFF7FEFF 		bl	DevW25Qxx_GetStatue
 1150              	.LVL68:
 1151              		.loc 1 245 15 view .LVU224
 1152 00ba 0228     		cmp	r0, #2
 1153 00bc 0FD1     		bne	.L79
 246:Device/Dev_W25Qxx.c ****         {
 247:Device/Dev_W25Qxx.c ****             /* Check for the Timeout */
 248:Device/Dev_W25Qxx.c ****             if ((dev.systick() - tickstart) > W25Qx_TIMEOUT_VALUE)
 1154              		.loc 1 248 13 is_stmt 1 view .LVU225
 1155              		.loc 1 248 18 is_stmt 0 view .LVU226
 1156 00be B847     		blx	r7
 1157              	.LVL69:
 1158              		.loc 1 248 32 view .LVU227
 1159 00c0 801B     		subs	r0, r0, r6
 1160              		.loc 1 248 16 view .LVU228
 1161 00c2 B0F57A7F 		cmp	r0, #1000
 1162 00c6 EED9     		bls	.L69
 249:Device/Dev_W25Qxx.c ****             {
 250:Device/Dev_W25Qxx.c ****                 return DevW25Qxx_TimeOut;
 1163              		.loc 1 250 24 view .LVU229
 1164 00c8 4FF0030A 		mov	r10, #3
 1165              	.L67:
 251:Device/Dev_W25Qxx.c ****             }
 252:Device/Dev_W25Qxx.c ****         }
 253:Device/Dev_W25Qxx.c **** 
 254:Device/Dev_W25Qxx.c ****         /* Update the address and size variables for next page programming */
 255:Device/Dev_W25Qxx.c ****         current_addr += current_size;
 256:Device/Dev_W25Qxx.c ****         pData += current_size;
 257:Device/Dev_W25Qxx.c ****         current_size = ((current_addr + W25Q128FV_PAGE_SIZE) > end_addr) ? (end_addr - current_addr
 258:Device/Dev_W25Qxx.c ****     } while (current_addr < end_addr);
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 27


 259:Device/Dev_W25Qxx.c **** 
 260:Device/Dev_W25Qxx.c ****     return DevW25Qxx_Ok;
 261:Device/Dev_W25Qxx.c **** }
 1166              		.loc 1 261 1 view .LVU230
 1167 00cc 5046     		mov	r0, r10
 1168 00ce 06B0     		add	sp, sp, #24
 1169              	.LCFI62:
 1170              		.cfi_remember_state
 1171              		.cfi_def_cfa_offset 48
 1172              		@ sp needed
 1173 00d0 BDE8F047 		pop	{r4, r5, r6, r7, r8, r9, r10, lr}
 1174              	.LCFI63:
 1175              		.cfi_restore 14
 1176              		.cfi_restore 10
 1177              		.cfi_restore 9
 1178              		.cfi_restore 8
 1179              		.cfi_restore 7
 1180              		.cfi_restore 6
 1181              		.cfi_restore 5
 1182              		.cfi_restore 4
 1183              		.cfi_def_cfa_offset 16
 1184              	.LVL70:
 1185              		.loc 1 261 1 view .LVU231
 1186 00d4 04B0     		add	sp, sp, #16
 1187              	.LCFI64:
 1188              		.cfi_def_cfa_offset 0
 1189 00d6 7047     		bx	lr
 1190              	.LVL71:
 1191              	.L68:
 1192              	.LCFI65:
 1193              		.cfi_restore_state
 242:Device/Dev_W25Qxx.c **** 
 1194              		.loc 1 242 13 is_stmt 1 view .LVU232
 242:Device/Dev_W25Qxx.c **** 
 1195              		.loc 1 242 20 is_stmt 0 view .LVU233
 1196 00d8 4FF0010A 		mov	r10, #1
 1197 00dc F6E7     		b	.L67
 1198              	.LVL72:
 1199              	.L79:
 255:Device/Dev_W25Qxx.c ****         pData += current_size;
 1200              		.loc 1 255 9 is_stmt 1 view .LVU234
 255:Device/Dev_W25Qxx.c ****         pData += current_size;
 1201              		.loc 1 255 22 is_stmt 0 view .LVU235
 1202 00de 2544     		add	r5, r5, r4
 1203              	.LVL73:
 256:Device/Dev_W25Qxx.c ****         current_size = ((current_addr + W25Q128FV_PAGE_SIZE) > end_addr) ? (end_addr - current_addr
 1204              		.loc 1 256 9 is_stmt 1 view .LVU236
 256:Device/Dev_W25Qxx.c ****         current_size = ((current_addr + W25Q128FV_PAGE_SIZE) > end_addr) ? (end_addr - current_addr
 1205              		.loc 1 256 15 is_stmt 0 view .LVU237
 1206 00e0 A144     		add	r9, r9, r4
 1207              	.LVL74:
 257:Device/Dev_W25Qxx.c ****     } while (current_addr < end_addr);
 1208              		.loc 1 257 9 is_stmt 1 view .LVU238
 257:Device/Dev_W25Qxx.c ****     } while (current_addr < end_addr);
 1209              		.loc 1 257 39 is_stmt 0 view .LVU239
 1210 00e2 05F58073 		add	r3, r5, #256
 257:Device/Dev_W25Qxx.c ****     } while (current_addr < end_addr);
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 28


 1211              		.loc 1 257 102 view .LVU240
 1212 00e6 4345     		cmp	r3, r8
 1213 00e8 04D9     		bls	.L76
 257:Device/Dev_W25Qxx.c ****     } while (current_addr < end_addr);
 1214              		.loc 1 257 102 discriminator 1 view .LVU241
 1215 00ea A8EB0504 		sub	r4, r8, r5
 1216              	.LVL75:
 1217              	.L71:
 258:Device/Dev_W25Qxx.c **** 
 1218              		.loc 1 258 13 is_stmt 1 discriminator 4 view .LVU242
 258:Device/Dev_W25Qxx.c **** 
 1219              		.loc 1 258 5 is_stmt 0 discriminator 4 view .LVU243
 1220 00ee A845     		cmp	r8, r5
 1221 00f0 A1D8     		bhi	.L72
 1222 00f2 EBE7     		b	.L67
 1223              	.L76:
 257:Device/Dev_W25Qxx.c ****     } while (current_addr < end_addr);
 1224              		.loc 1 257 102 view .LVU244
 1225 00f4 4FF48074 		mov	r4, #256
 1226              	.LVL76:
 257:Device/Dev_W25Qxx.c ****     } while (current_addr < end_addr);
 1227              		.loc 1 257 102 view .LVU245
 1228 00f8 F9E7     		b	.L71
 1229              	.LVL77:
 1230              	.L74:
 238:Device/Dev_W25Qxx.c **** 
 1231              		.loc 1 238 20 view .LVU246
 1232 00fa 4FF0010A 		mov	r10, #1
 1233 00fe E5E7     		b	.L67
 1234              		.cfi_endproc
 1235              	.LFE154:
 1237              		.section	.text.DevW25Qxx_EraseChip,"ax",%progbits
 1238              		.align	1
 1239              		.syntax unified
 1240              		.thumb
 1241              		.thumb_func
 1242              		.fpu fpv5-d16
 1244              	DevW25Qxx_EraseChip:
 1245              	.LFB155:
 262:Device/Dev_W25Qxx.c **** 
 263:Device/Dev_W25Qxx.c **** static DevW25Qxx_Error_List DevW25Qxx_EraseChip(DevW25QxxObj_TypeDef dev)
 264:Device/Dev_W25Qxx.c **** {
 1246              		.loc 1 264 1 is_stmt 1 view -0
 1247              		.cfi_startproc
 1248              		@ args = 24, pretend = 16, frame = 8
 1249              		@ frame_needed = 0, uses_anonymous_args = 0
 1250 0000 84B0     		sub	sp, sp, #16
 1251              	.LCFI66:
 1252              		.cfi_def_cfa_offset 16
 1253 0002 70B5     		push	{r4, r5, r6, lr}
 1254              	.LCFI67:
 1255              		.cfi_def_cfa_offset 32
 1256              		.cfi_offset 4, -32
 1257              		.cfi_offset 5, -28
 1258              		.cfi_offset 6, -24
 1259              		.cfi_offset 14, -20
 1260 0004 86B0     		sub	sp, sp, #24
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 29


 1261              	.LCFI68:
 1262              		.cfi_def_cfa_offset 56
 1263 0006 0AAC     		add	r4, sp, #40
 1264 0008 84E80F00 		stm	r4, {r0, r1, r2, r3}
 265:Device/Dev_W25Qxx.c ****     uint8_t cmd = SECTOR_ERASE_CMD;
 1265              		.loc 1 265 5 view .LVU248
 1266              		.loc 1 265 13 is_stmt 0 view .LVU249
 1267 000c 2023     		movs	r3, #32
 1268 000e 8DF81730 		strb	r3, [sp, #23]
 266:Device/Dev_W25Qxx.c ****     uint32_t tickstart = dev.systick();
 1269              		.loc 1 266 5 is_stmt 1 view .LVU250
 1270              		.loc 1 266 29 is_stmt 0 view .LVU251
 1271 0012 DDF83950 		ldr	r5, [sp, #57]	@ unaligned
 1272              		.loc 1 266 26 view .LVU252
 1273 0016 A847     		blx	r5
 1274              	.LVL78:
 1275 0018 0446     		mov	r4, r0
 1276              	.LVL79:
 267:Device/Dev_W25Qxx.c **** 
 268:Device/Dev_W25Qxx.c ****     if ((DevW25Qxx_WriteEnable(dev) != DevW25Qxx_Ok) ||
 1277              		.loc 1 268 5 is_stmt 1 view .LVU253
 1278              		.loc 1 268 10 is_stmt 0 view .LVU254
 1279 001a 0EAB     		add	r3, sp, #56
 1280 001c 93E80300 		ldm	r3, {r0, r1}
 1281              	.LVL80:
 1282              		.loc 1 268 10 view .LVU255
 1283 0020 0090     		str	r0, [sp]
 1284 0022 8DF80410 		strb	r1, [sp, #4]
 1285 0026 0AAB     		add	r3, sp, #40
 1286 0028 0FCB     		ldm	r3, {r0, r1, r2, r3}
 1287 002a FFF7FEFF 		bl	DevW25Qxx_WriteEnable
 1288              	.LVL81:
 1289              		.loc 1 268 8 view .LVU256
 1290 002e 30B1     		cbz	r0, .L87
 1291              	.L81:
 269:Device/Dev_W25Qxx.c ****         (DevW25Qxx_BusTrans(dev, &cmd, sizeof(cmd)) != DevW25Qxx_Ok))
 270:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 1292              		.loc 1 270 9 is_stmt 1 view .LVU257
 1293              		.loc 1 270 16 is_stmt 0 view .LVU258
 1294 0030 0126     		movs	r6, #1
 1295              	.L83:
 271:Device/Dev_W25Qxx.c **** 
 272:Device/Dev_W25Qxx.c ****     /* Wait the end of Flash writing */
 273:Device/Dev_W25Qxx.c ****     while (DevW25Qxx_GetStatue(dev) != DevW25Qxx_Busy)
 274:Device/Dev_W25Qxx.c ****     {
 275:Device/Dev_W25Qxx.c ****         /* Check for the Timeout */
 276:Device/Dev_W25Qxx.c ****         if ((dev.systick() - tickstart) > W25Q128FV_BULK_ERASE_MAX_TIME)
 277:Device/Dev_W25Qxx.c ****         {
 278:Device/Dev_W25Qxx.c ****             return DevW25Qxx_TimeOut;
 279:Device/Dev_W25Qxx.c ****         }
 280:Device/Dev_W25Qxx.c ****     }
 281:Device/Dev_W25Qxx.c **** 
 282:Device/Dev_W25Qxx.c ****     return DevW25Qxx_Ok;
 283:Device/Dev_W25Qxx.c **** }
 1296              		.loc 1 283 1 view .LVU259
 1297 0032 3046     		mov	r0, r6
 1298 0034 06B0     		add	sp, sp, #24
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 30


 1299              	.LCFI69:
 1300              		.cfi_remember_state
 1301              		.cfi_def_cfa_offset 32
 1302              		@ sp needed
 1303 0036 BDE87040 		pop	{r4, r5, r6, lr}
 1304              	.LCFI70:
 1305              		.cfi_restore 14
 1306              		.cfi_restore 6
 1307              		.cfi_restore 5
 1308              		.cfi_restore 4
 1309              		.cfi_def_cfa_offset 16
 1310              	.LVL82:
 1311              		.loc 1 283 1 view .LVU260
 1312 003a 04B0     		add	sp, sp, #16
 1313              	.LCFI71:
 1314              		.cfi_def_cfa_offset 0
 1315 003c 7047     		bx	lr
 1316              	.LVL83:
 1317              	.L87:
 1318              	.LCFI72:
 1319              		.cfi_restore_state
 1320              		.loc 1 283 1 view .LVU261
 1321 003e 0646     		mov	r6, r0
 269:Device/Dev_W25Qxx.c ****         (DevW25Qxx_BusTrans(dev, &cmd, sizeof(cmd)) != DevW25Qxx_Ok))
 1322              		.loc 1 269 10 discriminator 1 view .LVU262
 1323 0040 0123     		movs	r3, #1
 1324 0042 0393     		str	r3, [sp, #12]
 1325 0044 0DF11703 		add	r3, sp, #23
 1326 0048 0293     		str	r3, [sp, #8]
 1327 004a 0EAB     		add	r3, sp, #56
 1328 004c 93E80300 		ldm	r3, {r0, r1}
 1329 0050 0090     		str	r0, [sp]
 1330 0052 8DF80410 		strb	r1, [sp, #4]
 1331 0056 0AAB     		add	r3, sp, #40
 1332 0058 0FCB     		ldm	r3, {r0, r1, r2, r3}
 1333 005a FFF7FEFF 		bl	DevW25Qxx_BusTrans
 1334              	.LVL84:
 268:Device/Dev_W25Qxx.c ****         (DevW25Qxx_BusTrans(dev, &cmd, sizeof(cmd)) != DevW25Qxx_Ok))
 1335              		.loc 1 268 54 discriminator 1 view .LVU263
 1336 005e 0028     		cmp	r0, #0
 1337 0060 E6D1     		bne	.L81
 1338              	.L82:
 273:Device/Dev_W25Qxx.c ****     {
 1339              		.loc 1 273 11 is_stmt 1 view .LVU264
 273:Device/Dev_W25Qxx.c ****     {
 1340              		.loc 1 273 12 is_stmt 0 view .LVU265
 1341 0062 0EAB     		add	r3, sp, #56
 1342 0064 93E80300 		ldm	r3, {r0, r1}
 1343 0068 0090     		str	r0, [sp]
 1344 006a 8DF80410 		strb	r1, [sp, #4]
 1345 006e 0AAB     		add	r3, sp, #40
 1346 0070 0FCB     		ldm	r3, {r0, r1, r2, r3}
 1347 0072 FFF7FEFF 		bl	DevW25Qxx_GetStatue
 1348              	.LVL85:
 273:Device/Dev_W25Qxx.c ****     {
 1349              		.loc 1 273 11 view .LVU266
 1350 0076 0228     		cmp	r0, #2
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 31


 1351 0078 DBD0     		beq	.L83
 276:Device/Dev_W25Qxx.c ****         {
 1352              		.loc 1 276 9 is_stmt 1 view .LVU267
 276:Device/Dev_W25Qxx.c ****         {
 1353              		.loc 1 276 14 is_stmt 0 view .LVU268
 1354 007a A847     		blx	r5
 1355              	.LVL86:
 276:Device/Dev_W25Qxx.c ****         {
 1356              		.loc 1 276 28 view .LVU269
 1357 007c 031B     		subs	r3, r0, r4
 276:Device/Dev_W25Qxx.c ****         {
 1358              		.loc 1 276 12 view .LVU270
 1359 007e 024A     		ldr	r2, .L88
 1360 0080 9342     		cmp	r3, r2
 1361 0082 EED9     		bls	.L82
 278:Device/Dev_W25Qxx.c ****         }
 1362              		.loc 1 278 20 view .LVU271
 1363 0084 0326     		movs	r6, #3
 1364 0086 D4E7     		b	.L83
 1365              	.L89:
 1366              		.align	2
 1367              	.L88:
 1368 0088 90D00300 		.word	250000
 1369              		.cfi_endproc
 1370              	.LFE155:
 1372              		.section	.text.DevW25Qxx_EraseBlock,"ax",%progbits
 1373              		.align	1
 1374              		.syntax unified
 1375              		.thumb
 1376              		.thumb_func
 1377              		.fpu fpv5-d16
 1379              	DevW25Qxx_EraseBlock:
 1380              	.LVL87:
 1381              	.LFB156:
 284:Device/Dev_W25Qxx.c **** 
 285:Device/Dev_W25Qxx.c **** static DevW25Qxx_Error_List DevW25Qxx_EraseBlock(DevW25QxxObj_TypeDef dev, uint32_t Address)
 286:Device/Dev_W25Qxx.c **** {
 1382              		.loc 1 286 1 is_stmt 1 view -0
 1383              		.cfi_startproc
 1384              		@ args = 28, pretend = 16, frame = 8
 1385              		@ frame_needed = 0, uses_anonymous_args = 0
 1386              		.loc 1 286 1 is_stmt 0 view .LVU273
 1387 0000 84B0     		sub	sp, sp, #16
 1388              	.LCFI73:
 1389              		.cfi_def_cfa_offset 16
 1390 0002 70B5     		push	{r4, r5, r6, lr}
 1391              	.LCFI74:
 1392              		.cfi_def_cfa_offset 32
 1393              		.cfi_offset 4, -32
 1394              		.cfi_offset 5, -28
 1395              		.cfi_offset 6, -24
 1396              		.cfi_offset 14, -20
 1397 0004 86B0     		sub	sp, sp, #24
 1398              	.LCFI75:
 1399              		.cfi_def_cfa_offset 56
 1400 0006 0AAC     		add	r4, sp, #40
 1401 0008 84E80F00 		stm	r4, {r0, r1, r2, r3}
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 32


 1402 000c 109E     		ldr	r6, [sp, #64]
 287:Device/Dev_W25Qxx.c ****     uint8_t cmd[4];
 1403              		.loc 1 287 5 is_stmt 1 view .LVU274
 288:Device/Dev_W25Qxx.c ****     uint32_t tickstart = dev.systick();
 1404              		.loc 1 288 5 view .LVU275
 1405              		.loc 1 288 29 is_stmt 0 view .LVU276
 1406 000e DDF83950 		ldr	r5, [sp, #57]	@ unaligned
 1407              		.loc 1 288 26 view .LVU277
 1408 0012 A847     		blx	r5
 1409              	.LVL88:
 1410 0014 0446     		mov	r4, r0
 1411              	.LVL89:
 289:Device/Dev_W25Qxx.c ****     cmd[0] = SECTOR_ERASE_CMD;
 1412              		.loc 1 289 5 is_stmt 1 view .LVU278
 1413              		.loc 1 289 12 is_stmt 0 view .LVU279
 1414 0016 2023     		movs	r3, #32
 1415 0018 8DF81430 		strb	r3, [sp, #20]
 290:Device/Dev_W25Qxx.c ****     cmd[1] = (uint8_t)(Address >> 16);
 1416              		.loc 1 290 5 is_stmt 1 view .LVU280
 1417              		.loc 1 290 14 is_stmt 0 view .LVU281
 1418 001c C6F30743 		ubfx	r3, r6, #16, #8
 1419              		.loc 1 290 12 view .LVU282
 1420 0020 8DF81530 		strb	r3, [sp, #21]
 291:Device/Dev_W25Qxx.c ****     cmd[2] = (uint8_t)(Address >> 8);
 1421              		.loc 1 291 5 is_stmt 1 view .LVU283
 1422              		.loc 1 291 14 is_stmt 0 view .LVU284
 1423 0024 C6F30723 		ubfx	r3, r6, #8, #8
 1424              		.loc 1 291 12 view .LVU285
 1425 0028 8DF81630 		strb	r3, [sp, #22]
 292:Device/Dev_W25Qxx.c ****     cmd[3] = (uint8_t)(Address);
 1426              		.loc 1 292 5 is_stmt 1 view .LVU286
 1427              		.loc 1 292 12 is_stmt 0 view .LVU287
 1428 002c 8DF81760 		strb	r6, [sp, #23]
 293:Device/Dev_W25Qxx.c **** 
 294:Device/Dev_W25Qxx.c ****     /* Enable write operations Send the read ID command */
 295:Device/Dev_W25Qxx.c ****     if ((DevW25Qxx_WriteEnable(dev) != DevW25Qxx_Ok) || (DevW25Qxx_BusTrans(dev, cmd, sizeof(cmd)) 
 1429              		.loc 1 295 5 is_stmt 1 view .LVU288
 1430              		.loc 1 295 10 is_stmt 0 view .LVU289
 1431 0030 0EAB     		add	r3, sp, #56
 1432 0032 93E80300 		ldm	r3, {r0, r1}
 1433              	.LVL90:
 1434              		.loc 1 295 10 view .LVU290
 1435 0036 0090     		str	r0, [sp]
 1436 0038 8DF80410 		strb	r1, [sp, #4]
 1437 003c 0AAB     		add	r3, sp, #40
 1438 003e 0FCB     		ldm	r3, {r0, r1, r2, r3}
 1439 0040 FFF7FEFF 		bl	DevW25Qxx_WriteEnable
 1440              	.LVL91:
 1441              		.loc 1 295 8 view .LVU291
 1442 0044 30B1     		cbz	r0, .L97
 1443              	.L91:
 296:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 1444              		.loc 1 296 9 is_stmt 1 view .LVU292
 1445              		.loc 1 296 16 is_stmt 0 view .LVU293
 1446 0046 0126     		movs	r6, #1
 1447              	.L93:
 297:Device/Dev_W25Qxx.c **** 
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 33


 298:Device/Dev_W25Qxx.c ****     /* Wait the end of Flash writing */
 299:Device/Dev_W25Qxx.c ****     while (DevW25Qxx_GetStatue(dev) == DevW25Qxx_Busy)
 300:Device/Dev_W25Qxx.c ****     {
 301:Device/Dev_W25Qxx.c ****         /* Check for the Timeout */
 302:Device/Dev_W25Qxx.c ****         if ((dev.systick() - tickstart) > W25Q128FV_SECTOR_ERASE_MAX_TIME)
 303:Device/Dev_W25Qxx.c ****         {
 304:Device/Dev_W25Qxx.c ****             return DevW25Qxx_TimeOut;
 305:Device/Dev_W25Qxx.c ****         }
 306:Device/Dev_W25Qxx.c ****     }
 307:Device/Dev_W25Qxx.c **** 
 308:Device/Dev_W25Qxx.c ****     return DevW25Qxx_Ok;
 309:Device/Dev_W25Qxx.c **** }
 1448              		.loc 1 309 1 view .LVU294
 1449 0048 3046     		mov	r0, r6
 1450 004a 06B0     		add	sp, sp, #24
 1451              	.LCFI76:
 1452              		.cfi_remember_state
 1453              		.cfi_def_cfa_offset 32
 1454              		@ sp needed
 1455 004c BDE87040 		pop	{r4, r5, r6, lr}
 1456              	.LCFI77:
 1457              		.cfi_restore 14
 1458              		.cfi_restore 6
 1459              		.cfi_restore 5
 1460              		.cfi_restore 4
 1461              		.cfi_def_cfa_offset 16
 1462              	.LVL92:
 1463              		.loc 1 309 1 view .LVU295
 1464 0050 04B0     		add	sp, sp, #16
 1465              	.LCFI78:
 1466              		.cfi_def_cfa_offset 0
 1467 0052 7047     		bx	lr
 1468              	.LVL93:
 1469              	.L97:
 1470              	.LCFI79:
 1471              		.cfi_restore_state
 1472              		.loc 1 309 1 view .LVU296
 1473 0054 0646     		mov	r6, r0
 295:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 1474              		.loc 1 295 58 discriminator 1 view .LVU297
 1475 0056 0423     		movs	r3, #4
 1476 0058 0393     		str	r3, [sp, #12]
 1477 005a 05AB     		add	r3, sp, #20
 1478 005c 0293     		str	r3, [sp, #8]
 1479 005e 0EAB     		add	r3, sp, #56
 1480 0060 93E80300 		ldm	r3, {r0, r1}
 1481 0064 0090     		str	r0, [sp]
 1482 0066 8DF80410 		strb	r1, [sp, #4]
 1483 006a 0AAB     		add	r3, sp, #40
 1484 006c 0FCB     		ldm	r3, {r0, r1, r2, r3}
 1485 006e FFF7FEFF 		bl	DevW25Qxx_BusTrans
 1486              	.LVL94:
 295:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 1487              		.loc 1 295 54 discriminator 1 view .LVU298
 1488 0072 0028     		cmp	r0, #0
 1489 0074 E7D1     		bne	.L91
 1490              	.L92:
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 34


 299:Device/Dev_W25Qxx.c ****     {
 1491              		.loc 1 299 11 is_stmt 1 view .LVU299
 299:Device/Dev_W25Qxx.c ****     {
 1492              		.loc 1 299 12 is_stmt 0 view .LVU300
 1493 0076 0EAB     		add	r3, sp, #56
 1494 0078 93E80300 		ldm	r3, {r0, r1}
 1495 007c 0090     		str	r0, [sp]
 1496 007e 8DF80410 		strb	r1, [sp, #4]
 1497 0082 0AAB     		add	r3, sp, #40
 1498 0084 0FCB     		ldm	r3, {r0, r1, r2, r3}
 1499 0086 FFF7FEFF 		bl	DevW25Qxx_GetStatue
 1500              	.LVL95:
 299:Device/Dev_W25Qxx.c ****     {
 1501              		.loc 1 299 11 view .LVU301
 1502 008a 0228     		cmp	r0, #2
 1503 008c DCD1     		bne	.L93
 302:Device/Dev_W25Qxx.c ****         {
 1504              		.loc 1 302 9 is_stmt 1 view .LVU302
 302:Device/Dev_W25Qxx.c ****         {
 1505              		.loc 1 302 14 is_stmt 0 view .LVU303
 1506 008e A847     		blx	r5
 1507              	.LVL96:
 302:Device/Dev_W25Qxx.c ****         {
 1508              		.loc 1 302 28 view .LVU304
 1509 0090 031B     		subs	r3, r0, r4
 302:Device/Dev_W25Qxx.c ****         {
 1510              		.loc 1 302 12 view .LVU305
 1511 0092 40F6B832 		movw	r2, #3000
 1512 0096 9342     		cmp	r3, r2
 1513 0098 EDD9     		bls	.L92
 304:Device/Dev_W25Qxx.c ****         }
 1514              		.loc 1 304 20 view .LVU306
 1515 009a 0326     		movs	r6, #3
 1516 009c D4E7     		b	.L93
 1517              		.cfi_endproc
 1518              	.LFE156:
 1520              		.global	DevW25Q64
 1521              		.section	.data.DevW25Q64,"aw"
 1522              		.align	2
 1525              	DevW25Q64:
 1526 0000 00000000 		.word	DevW25Qxx_Init
 1527 0004 00000000 		.word	DevW25Qxx_Reset
 1528 0008 00000000 		.word	DevW25Qxx_Write
 1529 000c 00000000 		.word	DevW25Qxx_Read
 1530 0010 00000000 		.word	DevW25Qxx_EraseBlock
 1531 0014 00000000 		.word	DevW25Qxx_EraseChip
 1532              		.text
 1533              	.Letext0:
 1534              		.file 2 "/usr/local/arm-none-eabi-gcc/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/mac
 1535              		.file 3 "/usr/local/arm-none-eabi-gcc/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/sys
 1536              		.file 4 "HAL_Lib/CMSIS/Device/ST/STM32H7xx/Include/stm32h743xx.h"
 1537              		.file 5 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 1538              		.file 6 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_dma.h"
 1539              		.file 7 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_spi.h"
 1540              		.file 8 "Bsp/Bsp_SPI.h"
 1541              		.file 9 "Device/Dev_W25Qxx.h"
 1542              		.file 10 "<built-in>"
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 35


ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s 			page 36


DEFINED SYMBOLS
                            *ABS*:0000000000000000 Dev_W25Qxx.c
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s:17     .text.DevW25Qxx_GetSspiInstance:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s:24     .text.DevW25Qxx_GetSspiInstance:0000000000000000 DevW25Qxx_GetSspiInstance
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s:58     .text.DevW25Qxx_GetSspiInstance:0000000000000014 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s:63     .text.DevW25Qxx_BusTrans:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s:69     .text.DevW25Qxx_BusTrans:0000000000000000 DevW25Qxx_BusTrans
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s:186    .text.DevW25Qxx_BusReceive:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s:192    .text.DevW25Qxx_BusReceive:0000000000000000 DevW25Qxx_BusReceive
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s:309    .text.DevW25Qxx_BusTrans_Receive:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s:315    .text.DevW25Qxx_BusTrans_Receive:0000000000000000 DevW25Qxx_BusTrans_Receive
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s:430    .text.DevW25Qxx_Reset:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s:436    .text.DevW25Qxx_Reset:0000000000000000 DevW25Qxx_Reset
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s:500    .text.DevW25Qxx_GetStatue:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s:506    .text.DevW25Qxx_GetStatue:0000000000000000 DevW25Qxx_GetStatue
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s:588    .text.DevW25Qxx_WriteEnable:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s:594    .text.DevW25Qxx_WriteEnable:0000000000000000 DevW25Qxx_WriteEnable
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s:708    .text.DevW25Qxx_Init:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s:714    .text.DevW25Qxx_Init:0000000000000000 DevW25Qxx_Init
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s:892    .text.DevW25Qxx_Read:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s:898    .text.DevW25Qxx_Read:0000000000000000 DevW25Qxx_Read
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s:997    .text.DevW25Qxx_Write:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s:1003   .text.DevW25Qxx_Write:0000000000000000 DevW25Qxx_Write
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s:1238   .text.DevW25Qxx_EraseChip:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s:1244   .text.DevW25Qxx_EraseChip:0000000000000000 DevW25Qxx_EraseChip
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s:1368   .text.DevW25Qxx_EraseChip:0000000000000088 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s:1373   .text.DevW25Qxx_EraseBlock:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s:1379   .text.DevW25Qxx_EraseBlock:0000000000000000 DevW25Qxx_EraseBlock
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s:1525   .data.DevW25Q64:0000000000000000 DevW25Q64
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cczvK9SO.s:1522   .data.DevW25Q64:0000000000000000 $d

UNDEFINED SYMBOLS
BspSPI
memset
