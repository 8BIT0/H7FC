ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"Dev_W25Qxx.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.DevW25Qxx_BusTrans,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	DevW25Qxx_BusTrans:
  26              	.LVL0:
  27              	.LFB0:
  28              		.file 1 "Device/Dev_W25Qxx.c"
   1:Device/Dev_W25Qxx.c **** #include "Dev_W25Qxx.h"
   2:Device/Dev_W25Qxx.c **** 
   3:Device/Dev_W25Qxx.c **** /* internal function */
   4:Device/Dev_W25Qxx.c **** static DevW25Qxx_ProdType_List DevW25Qxx_Get_ProdType(DevW25QxxObj_TypeDef *dev, uint16_t *id);
   5:Device/Dev_W25Qxx.c **** 
   6:Device/Dev_W25Qxx.c **** /* external function */
   7:Device/Dev_W25Qxx.c **** static DevW25Qxx_Error_List DevW25Qxx_Init(DevW25QxxObj_TypeDef *dev);
   8:Device/Dev_W25Qxx.c **** static DevW25Qxx_Error_List DevW25Qxx_Reset(DevW25QxxObj_TypeDef *dev);
   9:Device/Dev_W25Qxx.c **** static DevW25Qxx_Error_List DevW25Qxx_Write(DevW25QxxObj_TypeDef *dev, uint32_t WriteAddr, uint8_t 
  10:Device/Dev_W25Qxx.c **** static DevW25Qxx_Error_List DevW25Qxx_Read(DevW25QxxObj_TypeDef *dev, uint32_t ReadAddr, uint8_t *p
  11:Device/Dev_W25Qxx.c **** static DevW25Qxx_Error_List DevW25Qxx_EraseSector(DevW25QxxObj_TypeDef *dev, uint32_t Address);
  12:Device/Dev_W25Qxx.c **** static DevW25Qxx_Error_List DevW25Qxx_EraseChip(DevW25QxxObj_TypeDef *dev);
  13:Device/Dev_W25Qxx.c **** static DevW25Qxx_DeviceInfo_TypeDef DevW25Qxx_Get_Info(DevW25QxxObj_TypeDef *dev);
  14:Device/Dev_W25Qxx.c **** static uint32_t DevW25Qxx_Get_Section_StartAddr(DevW25QxxObj_TypeDef *dev, uint32_t addr);
  15:Device/Dev_W25Qxx.c **** 
  16:Device/Dev_W25Qxx.c **** DevW25Qxx_TypeDef DevW25Qxx = {
  17:Device/Dev_W25Qxx.c ****     .init = DevW25Qxx_Init,
  18:Device/Dev_W25Qxx.c ****     .reset = DevW25Qxx_Reset,
  19:Device/Dev_W25Qxx.c ****     .write = DevW25Qxx_Write,
  20:Device/Dev_W25Qxx.c ****     .read = DevW25Qxx_Read,
  21:Device/Dev_W25Qxx.c ****     .erase_sector = DevW25Qxx_EraseSector,
  22:Device/Dev_W25Qxx.c ****     .erase_chip = DevW25Qxx_EraseChip,
  23:Device/Dev_W25Qxx.c ****     .info = DevW25Qxx_Get_Info,
  24:Device/Dev_W25Qxx.c ****     .get_section_start_addr = DevW25Qxx_Get_Section_StartAddr,
  25:Device/Dev_W25Qxx.c **** };
  26:Device/Dev_W25Qxx.c **** 
  27:Device/Dev_W25Qxx.c **** static bool DevW25Qxx_BusTrans(DevW25QxxObj_TypeDef *dev, uint8_t *tx, uint16_t size)
  28:Device/Dev_W25Qxx.c **** {
  29              		.loc 1 28 1 view -0
  30              		.cfi_startproc
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 2


  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  29:Device/Dev_W25Qxx.c ****     if ((dev == NULL) || \
  33              		.loc 1 29 5 view .LVU1
  34              		.loc 1 29 8 is_stmt 0 view .LVU2
  35 0000 50B1     		cbz	r0, .L3
  28:Device/Dev_W25Qxx.c ****     if ((dev == NULL) || \
  36              		.loc 1 28 1 discriminator 1 view .LVU3
  37 0002 10B5     		push	{r4, lr}
  38              	.LCFI0:
  39              		.cfi_def_cfa_offset 8
  40              		.cfi_offset 4, -8
  41              		.cfi_offset 14, -4
  42 0004 0B46     		mov	r3, r1
  43 0006 1146     		mov	r1, r2
  44              	.LVL1:
  30:Device/Dev_W25Qxx.c ****         (dev->bus_tx == NULL))
  45              		.loc 1 30 13 discriminator 1 view .LVU4
  46 0008 4468     		ldr	r4, [r0, #4]
  29:Device/Dev_W25Qxx.c ****     if ((dev == NULL) || \
  47              		.loc 1 29 23 discriminator 1 view .LVU5
  48 000a 3CB1     		cbz	r4, .L4
  31:Device/Dev_W25Qxx.c ****         return false;
  32:Device/Dev_W25Qxx.c **** 
  33:Device/Dev_W25Qxx.c ****     if (dev->bus_tx(tx, size, W25Qx_TIMEOUT_VALUE))
  49              		.loc 1 33 5 is_stmt 1 view .LVU6
  50              		.loc 1 33 9 is_stmt 0 view .LVU7
  51 000c 42F21072 		movw	r2, #10000
  52              	.LVL2:
  53              		.loc 1 33 9 view .LVU8
  54 0010 1846     		mov	r0, r3
  55              	.LVL3:
  56              		.loc 1 33 9 view .LVU9
  57 0012 A047     		blx	r4
  58              	.LVL4:
  59              		.loc 1 33 8 view .LVU10
  60 0014 20B9     		cbnz	r0, .L5
  61              	.L2:
  34:Device/Dev_W25Qxx.c ****         return true;
  35:Device/Dev_W25Qxx.c **** 
  36:Device/Dev_W25Qxx.c ****     return false;
  37:Device/Dev_W25Qxx.c **** }
  62              		.loc 1 37 1 view .LVU11
  63 0016 10BD     		pop	{r4, pc}
  64              	.LVL5:
  65              	.L3:
  66              	.LCFI1:
  67              		.cfi_def_cfa_offset 0
  68              		.cfi_restore 4
  69              		.cfi_restore 14
  31:Device/Dev_W25Qxx.c ****         return false;
  70              		.loc 1 31 16 view .LVU12
  71 0018 0020     		movs	r0, #0
  72              	.LVL6:
  73              		.loc 1 37 1 view .LVU13
  74 001a 7047     		bx	lr
  75              	.LVL7:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 3


  76              	.L4:
  77              	.LCFI2:
  78              		.cfi_def_cfa_offset 8
  79              		.cfi_offset 4, -8
  80              		.cfi_offset 14, -4
  31:Device/Dev_W25Qxx.c ****         return false;
  81              		.loc 1 31 16 view .LVU14
  82 001c 0020     		movs	r0, #0
  83              	.LVL8:
  31:Device/Dev_W25Qxx.c ****         return false;
  84              		.loc 1 31 16 view .LVU15
  85 001e FAE7     		b	.L2
  86              	.LVL9:
  87              	.L5:
  34:Device/Dev_W25Qxx.c ****         return true;
  88              		.loc 1 34 16 view .LVU16
  89 0020 0120     		movs	r0, #1
  90 0022 F8E7     		b	.L2
  91              		.cfi_endproc
  92              	.LFE0:
  94              		.section	.text.DevW25Qxx_BusReceive,"ax",%progbits
  95              		.align	1
  96              		.syntax unified
  97              		.thumb
  98              		.thumb_func
 100              	DevW25Qxx_BusReceive:
 101              	.LVL10:
 102              	.LFB1:
  38:Device/Dev_W25Qxx.c **** 
  39:Device/Dev_W25Qxx.c **** static bool DevW25Qxx_BusReceive(DevW25QxxObj_TypeDef *dev, uint8_t *rx, uint16_t size)
  40:Device/Dev_W25Qxx.c **** {
 103              		.loc 1 40 1 is_stmt 1 view -0
 104              		.cfi_startproc
 105              		@ args = 0, pretend = 0, frame = 0
 106              		@ frame_needed = 0, uses_anonymous_args = 0
  41:Device/Dev_W25Qxx.c ****     if ((dev == NULL) || \
 107              		.loc 1 41 5 view .LVU18
 108              		.loc 1 41 8 is_stmt 0 view .LVU19
 109 0000 50B1     		cbz	r0, .L12
  40:Device/Dev_W25Qxx.c ****     if ((dev == NULL) || \
 110              		.loc 1 40 1 discriminator 1 view .LVU20
 111 0002 10B5     		push	{r4, lr}
 112              	.LCFI3:
 113              		.cfi_def_cfa_offset 8
 114              		.cfi_offset 4, -8
 115              		.cfi_offset 14, -4
 116 0004 0B46     		mov	r3, r1
 117 0006 1146     		mov	r1, r2
 118              	.LVL11:
  42:Device/Dev_W25Qxx.c ****         (dev->bus_rx == NULL))
 119              		.loc 1 42 13 discriminator 1 view .LVU21
 120 0008 8468     		ldr	r4, [r0, #8]
  41:Device/Dev_W25Qxx.c ****     if ((dev == NULL) || \
 121              		.loc 1 41 23 discriminator 1 view .LVU22
 122 000a 3CB1     		cbz	r4, .L13
  43:Device/Dev_W25Qxx.c ****         return false;
  44:Device/Dev_W25Qxx.c **** 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 4


  45:Device/Dev_W25Qxx.c ****     if (dev->bus_rx(rx, size, W25Qx_TIMEOUT_VALUE))
 123              		.loc 1 45 5 is_stmt 1 view .LVU23
 124              		.loc 1 45 9 is_stmt 0 view .LVU24
 125 000c 42F21072 		movw	r2, #10000
 126              	.LVL12:
 127              		.loc 1 45 9 view .LVU25
 128 0010 1846     		mov	r0, r3
 129              	.LVL13:
 130              		.loc 1 45 9 view .LVU26
 131 0012 A047     		blx	r4
 132              	.LVL14:
 133              		.loc 1 45 8 view .LVU27
 134 0014 20B9     		cbnz	r0, .L14
 135              	.L11:
  46:Device/Dev_W25Qxx.c ****         return true;
  47:Device/Dev_W25Qxx.c **** 
  48:Device/Dev_W25Qxx.c ****     return false;
  49:Device/Dev_W25Qxx.c **** }
 136              		.loc 1 49 1 view .LVU28
 137 0016 10BD     		pop	{r4, pc}
 138              	.LVL15:
 139              	.L12:
 140              	.LCFI4:
 141              		.cfi_def_cfa_offset 0
 142              		.cfi_restore 4
 143              		.cfi_restore 14
  43:Device/Dev_W25Qxx.c ****         return false;
 144              		.loc 1 43 16 view .LVU29
 145 0018 0020     		movs	r0, #0
 146              	.LVL16:
 147              		.loc 1 49 1 view .LVU30
 148 001a 7047     		bx	lr
 149              	.LVL17:
 150              	.L13:
 151              	.LCFI5:
 152              		.cfi_def_cfa_offset 8
 153              		.cfi_offset 4, -8
 154              		.cfi_offset 14, -4
  43:Device/Dev_W25Qxx.c ****         return false;
 155              		.loc 1 43 16 view .LVU31
 156 001c 0020     		movs	r0, #0
 157              	.LVL18:
  43:Device/Dev_W25Qxx.c ****         return false;
 158              		.loc 1 43 16 view .LVU32
 159 001e FAE7     		b	.L11
 160              	.LVL19:
 161              	.L14:
  46:Device/Dev_W25Qxx.c ****         return true;
 162              		.loc 1 46 16 view .LVU33
 163 0020 0120     		movs	r0, #1
 164 0022 F8E7     		b	.L11
 165              		.cfi_endproc
 166              	.LFE1:
 168              		.section	.text.DevW25Qxx_Reset,"ax",%progbits
 169              		.align	1
 170              		.syntax unified
 171              		.thumb
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 5


 172              		.thumb_func
 174              	DevW25Qxx_Reset:
 175              	.LVL20:
 176              	.LFB3:
  50:Device/Dev_W25Qxx.c **** 
  51:Device/Dev_W25Qxx.c **** static bool DevW25Qxx_BusTrans_Receive(DevW25QxxObj_TypeDef *dev, uint8_t *tx, uint8_t *rx, uint16_
  52:Device/Dev_W25Qxx.c **** {
  53:Device/Dev_W25Qxx.c ****     if ((dev == NULL) || \
  54:Device/Dev_W25Qxx.c ****         (dev->bus_trans == NULL))
  55:Device/Dev_W25Qxx.c ****         return false;
  56:Device/Dev_W25Qxx.c **** 
  57:Device/Dev_W25Qxx.c ****     if (dev->bus_trans(tx, rx, size, W25Qx_TIMEOUT_VALUE))
  58:Device/Dev_W25Qxx.c ****         return true;
  59:Device/Dev_W25Qxx.c **** 
  60:Device/Dev_W25Qxx.c ****     return false;
  61:Device/Dev_W25Qxx.c **** }
  62:Device/Dev_W25Qxx.c **** 
  63:Device/Dev_W25Qxx.c **** static DevW25Qxx_Error_List DevW25Qxx_Reset(DevW25QxxObj_TypeDef *dev)
  64:Device/Dev_W25Qxx.c **** {
 177              		.loc 1 64 1 is_stmt 1 view -0
 178              		.cfi_startproc
 179              		@ args = 0, pretend = 0, frame = 8
 180              		@ frame_needed = 0, uses_anonymous_args = 0
 181              		.loc 1 64 1 is_stmt 0 view .LVU35
 182 0000 30B5     		push	{r4, r5, lr}
 183              	.LCFI6:
 184              		.cfi_def_cfa_offset 12
 185              		.cfi_offset 4, -12
 186              		.cfi_offset 5, -8
 187              		.cfi_offset 14, -4
 188 0002 83B0     		sub	sp, sp, #12
 189              	.LCFI7:
 190              		.cfi_def_cfa_offset 24
  65:Device/Dev_W25Qxx.c ****     uint8_t cmd[2] = {RESET_ENABLE_CMD, RESET_MEMORY_CMD};
 191              		.loc 1 65 5 is_stmt 1 view .LVU36
 192              		.loc 1 65 13 is_stmt 0 view .LVU37
 193 0004 49F66613 		movw	r3, #39270
 194 0008 ADF80430 		strh	r3, [sp, #4]	@ movhi
  66:Device/Dev_W25Qxx.c ****     bool state = false;
 195              		.loc 1 66 5 is_stmt 1 view .LVU38
 196              	.LVL21:
  67:Device/Dev_W25Qxx.c **** 
  68:Device/Dev_W25Qxx.c ****     if ((dev == NULL) || (dev->cs_ctl == NULL))
 197              		.loc 1 68 5 view .LVU39
 198              		.loc 1 68 8 is_stmt 0 view .LVU40
 199 000c 88B1     		cbz	r0, .L21
 200 000e 0446     		mov	r4, r0
 201              		.loc 1 68 30 discriminator 1 view .LVU41
 202 0010 0369     		ldr	r3, [r0, #16]
 203              		.loc 1 68 23 discriminator 1 view .LVU42
 204 0012 83B1     		cbz	r3, .L22
  69:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
  70:Device/Dev_W25Qxx.c **** 
  71:Device/Dev_W25Qxx.c ****     /* Send the reset command */
  72:Device/Dev_W25Qxx.c ****     dev->cs_ctl(false);
 205              		.loc 1 72 5 is_stmt 1 view .LVU43
 206 0014 0020     		movs	r0, #0
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 6


 207              	.LVL22:
 208              		.loc 1 72 5 is_stmt 0 view .LVU44
 209 0016 9847     		blx	r3
 210              	.LVL23:
  73:Device/Dev_W25Qxx.c ****     state = DevW25Qxx_BusTrans(dev, cmd, sizeof(cmd));
 211              		.loc 1 73 5 is_stmt 1 view .LVU45
 212              		.loc 1 73 13 is_stmt 0 view .LVU46
 213 0018 0222     		movs	r2, #2
 214 001a 01A9     		add	r1, sp, #4
 215 001c 2046     		mov	r0, r4
 216 001e FFF7FEFF 		bl	DevW25Qxx_BusTrans
 217              	.LVL24:
 218 0022 0546     		mov	r5, r0
 219              	.LVL25:
  74:Device/Dev_W25Qxx.c ****     dev->cs_ctl(true);
 220              		.loc 1 74 5 is_stmt 1 view .LVU47
 221              		.loc 1 74 8 is_stmt 0 view .LVU48
 222 0024 2369     		ldr	r3, [r4, #16]
 223              		.loc 1 74 5 view .LVU49
 224 0026 0120     		movs	r0, #1
 225 0028 9847     		blx	r3
 226              	.LVL26:
  75:Device/Dev_W25Qxx.c **** 
  76:Device/Dev_W25Qxx.c ****     if (!state)
 227              		.loc 1 76 5 is_stmt 1 view .LVU50
 228              		.loc 1 76 8 is_stmt 0 view .LVU51
 229 002a 35B1     		cbz	r5, .L23
  77:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
  78:Device/Dev_W25Qxx.c **** 
  79:Device/Dev_W25Qxx.c ****     return DevW25Qxx_Ok;
 230              		.loc 1 79 12 view .LVU52
 231 002c 0020     		movs	r0, #0
 232              	.LVL27:
 233              	.L20:
  80:Device/Dev_W25Qxx.c **** }
 234              		.loc 1 80 1 view .LVU53
 235 002e 03B0     		add	sp, sp, #12
 236              	.LCFI8:
 237              		.cfi_remember_state
 238              		.cfi_def_cfa_offset 12
 239              		@ sp needed
 240 0030 30BD     		pop	{r4, r5, pc}
 241              	.LVL28:
 242              	.L21:
 243              	.LCFI9:
 244              		.cfi_restore_state
  69:Device/Dev_W25Qxx.c **** 
 245              		.loc 1 69 16 view .LVU54
 246 0032 0120     		movs	r0, #1
 247              	.LVL29:
  69:Device/Dev_W25Qxx.c **** 
 248              		.loc 1 69 16 view .LVU55
 249 0034 FBE7     		b	.L20
 250              	.LVL30:
 251              	.L22:
  69:Device/Dev_W25Qxx.c **** 
 252              		.loc 1 69 16 view .LVU56
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 7


 253 0036 0120     		movs	r0, #1
 254              	.LVL31:
  69:Device/Dev_W25Qxx.c **** 
 255              		.loc 1 69 16 view .LVU57
 256 0038 F9E7     		b	.L20
 257              	.LVL32:
 258              	.L23:
  77:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 259              		.loc 1 77 16 view .LVU58
 260 003a 0120     		movs	r0, #1
 261 003c F7E7     		b	.L20
 262              		.cfi_endproc
 263              	.LFE3:
 265              		.section	.text.DevW25Qxx_GetStatue,"ax",%progbits
 266              		.align	1
 267              		.syntax unified
 268              		.thumb
 269              		.thumb_func
 271              	DevW25Qxx_GetStatue:
 272              	.LVL33:
 273              	.LFB4:
  81:Device/Dev_W25Qxx.c **** 
  82:Device/Dev_W25Qxx.c **** static DevW25Qxx_Error_List DevW25Qxx_GetStatue(DevW25QxxObj_TypeDef *dev)
  83:Device/Dev_W25Qxx.c **** {
 274              		.loc 1 83 1 is_stmt 1 view -0
 275              		.cfi_startproc
 276              		@ args = 0, pretend = 0, frame = 8
 277              		@ frame_needed = 0, uses_anonymous_args = 0
 278              		.loc 1 83 1 is_stmt 0 view .LVU60
 279 0000 30B5     		push	{r4, r5, lr}
 280              	.LCFI10:
 281              		.cfi_def_cfa_offset 12
 282              		.cfi_offset 4, -12
 283              		.cfi_offset 5, -8
 284              		.cfi_offset 14, -4
 285 0002 83B0     		sub	sp, sp, #12
 286              	.LCFI11:
 287              		.cfi_def_cfa_offset 24
  84:Device/Dev_W25Qxx.c ****     uint8_t cmd = READ_STATUS_REG1_CMD;
 288              		.loc 1 84 5 is_stmt 1 view .LVU61
 289              		.loc 1 84 13 is_stmt 0 view .LVU62
 290 0004 0523     		movs	r3, #5
 291 0006 8DF80730 		strb	r3, [sp, #7]
  85:Device/Dev_W25Qxx.c ****     uint8_t dev_status = 0;
 292              		.loc 1 85 5 is_stmt 1 view .LVU63
 293              		.loc 1 85 13 is_stmt 0 view .LVU64
 294 000a 0023     		movs	r3, #0
 295 000c 8DF80630 		strb	r3, [sp, #6]
  86:Device/Dev_W25Qxx.c ****     bool state = false;
 296              		.loc 1 86 5 is_stmt 1 view .LVU65
 297              	.LVL34:
  87:Device/Dev_W25Qxx.c **** 
  88:Device/Dev_W25Qxx.c ****     if ((dev == NULL) || (dev->cs_ctl == NULL))
 298              		.loc 1 88 5 view .LVU66
 299              		.loc 1 88 8 is_stmt 0 view .LVU67
 300 0010 F0B1     		cbz	r0, .L27
 301 0012 0546     		mov	r5, r0
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 8


 302              		.loc 1 88 30 discriminator 1 view .LVU68
 303 0014 0369     		ldr	r3, [r0, #16]
 304              		.loc 1 88 23 discriminator 1 view .LVU69
 305 0016 EBB1     		cbz	r3, .L28
  89:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
  90:Device/Dev_W25Qxx.c **** 
  91:Device/Dev_W25Qxx.c ****     dev->cs_ctl(false);
 306              		.loc 1 91 5 is_stmt 1 view .LVU70
 307 0018 0020     		movs	r0, #0
 308              	.LVL35:
 309              		.loc 1 91 5 is_stmt 0 view .LVU71
 310 001a 9847     		blx	r3
 311              	.LVL36:
  92:Device/Dev_W25Qxx.c ****     state = DevW25Qxx_BusTrans(dev, &cmd, sizeof(cmd)) & DevW25Qxx_BusReceive(dev, &dev_status, siz
 312              		.loc 1 92 5 is_stmt 1 view .LVU72
 313              		.loc 1 92 13 is_stmt 0 view .LVU73
 314 001c 0122     		movs	r2, #1
 315 001e 0DF10701 		add	r1, sp, #7
 316 0022 2846     		mov	r0, r5
 317 0024 FFF7FEFF 		bl	DevW25Qxx_BusTrans
 318              	.LVL37:
 319 0028 0446     		mov	r4, r0
 320              		.loc 1 92 58 view .LVU74
 321 002a 0122     		movs	r2, #1
 322 002c 0DF10601 		add	r1, sp, #6
 323 0030 2846     		mov	r0, r5
 324 0032 FFF7FEFF 		bl	DevW25Qxx_BusReceive
 325              	.LVL38:
 326 0036 0440     		ands	r4, r4, r0
 327 0038 E4B2     		uxtb	r4, r4
 328              	.LVL39:
  93:Device/Dev_W25Qxx.c ****     dev->cs_ctl(true);
 329              		.loc 1 93 5 is_stmt 1 view .LVU75
 330              		.loc 1 93 8 is_stmt 0 view .LVU76
 331 003a 2B69     		ldr	r3, [r5, #16]
 332              		.loc 1 93 5 view .LVU77
 333 003c 0120     		movs	r0, #1
 334 003e 9847     		blx	r3
 335              	.LVL40:
  94:Device/Dev_W25Qxx.c ****     
  95:Device/Dev_W25Qxx.c ****     if (!state)
 336              		.loc 1 95 5 is_stmt 1 view .LVU78
 337              		.loc 1 95 8 is_stmt 0 view .LVU79
 338 0040 54B1     		cbz	r4, .L29
  96:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error; 
  97:Device/Dev_W25Qxx.c **** 
  98:Device/Dev_W25Qxx.c ****     /* Check the value of the register */
  99:Device/Dev_W25Qxx.c ****     if ((dev_status & W25Q128FV_FSR_BUSY) != 0)
 339              		.loc 1 99 5 is_stmt 1 view .LVU80
 340              		.loc 1 99 21 is_stmt 0 view .LVU81
 341 0042 9DF80600 		ldrb	r0, [sp, #6]	@ zero_extendqisi2
 342              		.loc 1 99 8 view .LVU82
 343 0046 10F00100 		ands	r0, r0, #1
 344 004a 07D1     		bne	.L32
 345              	.LVL41:
 346              	.L26:
 100:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Busy;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 9


 101:Device/Dev_W25Qxx.c **** 
 102:Device/Dev_W25Qxx.c ****     return DevW25Qxx_Ok;
 103:Device/Dev_W25Qxx.c **** }
 347              		.loc 1 103 1 view .LVU83
 348 004c 03B0     		add	sp, sp, #12
 349              	.LCFI12:
 350              		.cfi_remember_state
 351              		.cfi_def_cfa_offset 12
 352              		@ sp needed
 353 004e 30BD     		pop	{r4, r5, pc}
 354              	.LVL42:
 355              	.L27:
 356              	.LCFI13:
 357              		.cfi_restore_state
  89:Device/Dev_W25Qxx.c **** 
 358              		.loc 1 89 16 view .LVU84
 359 0050 0120     		movs	r0, #1
 360              	.LVL43:
  89:Device/Dev_W25Qxx.c **** 
 361              		.loc 1 89 16 view .LVU85
 362 0052 FBE7     		b	.L26
 363              	.LVL44:
 364              	.L28:
  89:Device/Dev_W25Qxx.c **** 
 365              		.loc 1 89 16 view .LVU86
 366 0054 0120     		movs	r0, #1
 367              	.LVL45:
  89:Device/Dev_W25Qxx.c **** 
 368              		.loc 1 89 16 view .LVU87
 369 0056 F9E7     		b	.L26
 370              	.LVL46:
 371              	.L29:
  96:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error; 
 372              		.loc 1 96 16 view .LVU88
 373 0058 0120     		movs	r0, #1
 374 005a F7E7     		b	.L26
 375              	.L32:
 100:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Busy;
 376              		.loc 1 100 16 view .LVU89
 377 005c 0220     		movs	r0, #2
 378 005e F5E7     		b	.L26
 379              		.cfi_endproc
 380              	.LFE4:
 382              		.section	.text.DevW25Qxx_WriteEnable,"ax",%progbits
 383              		.align	1
 384              		.syntax unified
 385              		.thumb
 386              		.thumb_func
 388              	DevW25Qxx_WriteEnable:
 389              	.LVL47:
 390              	.LFB5:
 104:Device/Dev_W25Qxx.c **** 
 105:Device/Dev_W25Qxx.c **** static DevW25Qxx_Error_List DevW25Qxx_WriteEnable(DevW25QxxObj_TypeDef *dev)
 106:Device/Dev_W25Qxx.c **** {
 391              		.loc 1 106 1 is_stmt 1 view -0
 392              		.cfi_startproc
 393              		@ args = 0, pretend = 0, frame = 8
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 10


 394              		@ frame_needed = 0, uses_anonymous_args = 0
 395              		.loc 1 106 1 is_stmt 0 view .LVU91
 396 0000 70B5     		push	{r4, r5, r6, lr}
 397              	.LCFI14:
 398              		.cfi_def_cfa_offset 16
 399              		.cfi_offset 4, -16
 400              		.cfi_offset 5, -12
 401              		.cfi_offset 6, -8
 402              		.cfi_offset 14, -4
 403 0002 82B0     		sub	sp, sp, #8
 404              	.LCFI15:
 405              		.cfi_def_cfa_offset 24
 107:Device/Dev_W25Qxx.c ****     uint8_t cmd = WRITE_ENABLE_CMD;
 406              		.loc 1 107 5 is_stmt 1 view .LVU92
 407              		.loc 1 107 13 is_stmt 0 view .LVU93
 408 0004 0623     		movs	r3, #6
 409 0006 8DF80730 		strb	r3, [sp, #7]
 108:Device/Dev_W25Qxx.c ****     uint32_t tickstart = 0;
 410              		.loc 1 108 5 is_stmt 1 view .LVU94
 411              	.LVL48:
 109:Device/Dev_W25Qxx.c ****     bool trans_state = false;
 412              		.loc 1 109 5 view .LVU95
 110:Device/Dev_W25Qxx.c **** 
 111:Device/Dev_W25Qxx.c ****     if ((dev == NULL) || (dev->cs_ctl == NULL) || (dev->systick == NULL))
 413              		.loc 1 111 5 view .LVU96
 414              		.loc 1 111 8 is_stmt 0 view .LVU97
 415 000a 38B3     		cbz	r0, .L37
 416 000c 0446     		mov	r4, r0
 417              		.loc 1 111 30 discriminator 1 view .LVU98
 418 000e 0369     		ldr	r3, [r0, #16]
 419              		.loc 1 111 23 discriminator 1 view .LVU99
 420 0010 33B3     		cbz	r3, .L38
 421              		.loc 1 111 55 discriminator 2 view .LVU100
 422 0012 8269     		ldr	r2, [r0, #24]
 423              		.loc 1 111 48 discriminator 2 view .LVU101
 424 0014 32B3     		cbz	r2, .L39
 112:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 113:Device/Dev_W25Qxx.c **** 
 114:Device/Dev_W25Qxx.c ****     /* Send the read ID command */
 115:Device/Dev_W25Qxx.c ****     dev->cs_ctl(false);
 425              		.loc 1 115 5 is_stmt 1 view .LVU102
 426 0016 0020     		movs	r0, #0
 427              	.LVL49:
 428              		.loc 1 115 5 is_stmt 0 view .LVU103
 429 0018 9847     		blx	r3
 430              	.LVL50:
 116:Device/Dev_W25Qxx.c ****     trans_state = DevW25Qxx_BusTrans(dev, &cmd, sizeof(cmd));
 431              		.loc 1 116 5 is_stmt 1 view .LVU104
 432              		.loc 1 116 19 is_stmt 0 view .LVU105
 433 001a 0122     		movs	r2, #1
 434 001c 0DF10701 		add	r1, sp, #7
 435 0020 2046     		mov	r0, r4
 436 0022 FFF7FEFF 		bl	DevW25Qxx_BusTrans
 437              	.LVL51:
 438 0026 0646     		mov	r6, r0
 439              	.LVL52:
 117:Device/Dev_W25Qxx.c ****     dev->cs_ctl(true);
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 11


 440              		.loc 1 117 5 is_stmt 1 view .LVU106
 441              		.loc 1 117 8 is_stmt 0 view .LVU107
 442 0028 2369     		ldr	r3, [r4, #16]
 443              		.loc 1 117 5 view .LVU108
 444 002a 0120     		movs	r0, #1
 445 002c 9847     		blx	r3
 446              	.LVL53:
 118:Device/Dev_W25Qxx.c **** 
 119:Device/Dev_W25Qxx.c ****     tickstart = dev->systick();
 447              		.loc 1 119 5 is_stmt 1 view .LVU109
 448              		.loc 1 119 20 is_stmt 0 view .LVU110
 449 002e A369     		ldr	r3, [r4, #24]
 450              		.loc 1 119 17 view .LVU111
 451 0030 9847     		blx	r3
 452              	.LVL54:
 453 0032 0546     		mov	r5, r0
 454              	.LVL55:
 120:Device/Dev_W25Qxx.c **** 
 121:Device/Dev_W25Qxx.c ****     if (!trans_state)
 455              		.loc 1 121 5 is_stmt 1 view .LVU112
 456              		.loc 1 121 8 is_stmt 0 view .LVU113
 457 0034 6EB1     		cbz	r6, .L42
 458              	.LVL56:
 459              	.L35:
 122:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 123:Device/Dev_W25Qxx.c **** 
 124:Device/Dev_W25Qxx.c ****     /* Wait the end of Flash writing */
 125:Device/Dev_W25Qxx.c ****     while (DevW25Qxx_GetStatue(dev) == DevW25Qxx_Busy)
 460              		.loc 1 125 11 is_stmt 1 view .LVU114
 461              		.loc 1 125 12 is_stmt 0 view .LVU115
 462 0036 2046     		mov	r0, r4
 463 0038 FFF7FEFF 		bl	DevW25Qxx_GetStatue
 464              	.LVL57:
 465              		.loc 1 125 11 view .LVU116
 466 003c 0228     		cmp	r0, #2
 467 003e 0BD1     		bne	.L43
 126:Device/Dev_W25Qxx.c ****     {
 127:Device/Dev_W25Qxx.c ****         /* Check for the Timeout */
 128:Device/Dev_W25Qxx.c ****         if ((dev->systick() - tickstart) > W25Qx_TIMEOUT_VALUE)
 468              		.loc 1 128 9 is_stmt 1 view .LVU117
 469              		.loc 1 128 17 is_stmt 0 view .LVU118
 470 0040 A369     		ldr	r3, [r4, #24]
 471              		.loc 1 128 14 view .LVU119
 472 0042 9847     		blx	r3
 473              	.LVL58:
 474              		.loc 1 128 29 view .LVU120
 475 0044 401B     		subs	r0, r0, r5
 476              		.loc 1 128 12 view .LVU121
 477 0046 42F21073 		movw	r3, #10000
 478 004a 9842     		cmp	r0, r3
 479 004c F3D9     		bls	.L35
 129:Device/Dev_W25Qxx.c ****             return DevW25Qxx_TimeOut;
 480              		.loc 1 129 20 view .LVU122
 481 004e 0320     		movs	r0, #3
 482 0050 00E0     		b	.L34
 483              	.LVL59:
 484              	.L42:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 12


 122:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 485              		.loc 1 122 16 view .LVU123
 486 0052 0120     		movs	r0, #1
 487              	.LVL60:
 488              	.L34:
 130:Device/Dev_W25Qxx.c ****     }
 131:Device/Dev_W25Qxx.c **** 
 132:Device/Dev_W25Qxx.c ****     return DevW25Qxx_Ok;
 133:Device/Dev_W25Qxx.c **** }
 489              		.loc 1 133 1 view .LVU124
 490 0054 02B0     		add	sp, sp, #8
 491              	.LCFI16:
 492              		.cfi_remember_state
 493              		.cfi_def_cfa_offset 16
 494              		@ sp needed
 495 0056 70BD     		pop	{r4, r5, r6, pc}
 496              	.LVL61:
 497              	.L43:
 498              	.LCFI17:
 499              		.cfi_restore_state
 132:Device/Dev_W25Qxx.c **** }
 500              		.loc 1 132 12 view .LVU125
 501 0058 0020     		movs	r0, #0
 502 005a FBE7     		b	.L34
 503              	.LVL62:
 504              	.L37:
 112:Device/Dev_W25Qxx.c **** 
 505              		.loc 1 112 16 view .LVU126
 506 005c 0120     		movs	r0, #1
 507              	.LVL63:
 112:Device/Dev_W25Qxx.c **** 
 508              		.loc 1 112 16 view .LVU127
 509 005e F9E7     		b	.L34
 510              	.LVL64:
 511              	.L38:
 112:Device/Dev_W25Qxx.c **** 
 512              		.loc 1 112 16 view .LVU128
 513 0060 0120     		movs	r0, #1
 514              	.LVL65:
 112:Device/Dev_W25Qxx.c **** 
 515              		.loc 1 112 16 view .LVU129
 516 0062 F7E7     		b	.L34
 517              	.LVL66:
 518              	.L39:
 112:Device/Dev_W25Qxx.c **** 
 519              		.loc 1 112 16 view .LVU130
 520 0064 0120     		movs	r0, #1
 521              	.LVL67:
 112:Device/Dev_W25Qxx.c **** 
 522              		.loc 1 112 16 view .LVU131
 523 0066 F5E7     		b	.L34
 524              		.cfi_endproc
 525              	.LFE5:
 527              		.section	.text.DevW25Qxx_Get_ProdType,"ax",%progbits
 528              		.align	1
 529              		.syntax unified
 530              		.thumb
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 13


 531              		.thumb_func
 533              	DevW25Qxx_Get_ProdType:
 534              	.LVL68:
 535              	.LFB7:
 134:Device/Dev_W25Qxx.c **** 
 135:Device/Dev_W25Qxx.c **** static DevW25Qxx_Error_List DevW25Qxx_Init(DevW25QxxObj_TypeDef *dev)
 136:Device/Dev_W25Qxx.c **** {
 137:Device/Dev_W25Qxx.c ****     if ((dev == NULL) ||
 138:Device/Dev_W25Qxx.c ****         (dev->cs_ctl == NULL))
 139:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 140:Device/Dev_W25Qxx.c **** 
 141:Device/Dev_W25Qxx.c ****     dev->init_state = DevW25Qxx_Error;
 142:Device/Dev_W25Qxx.c ****     
 143:Device/Dev_W25Qxx.c ****     /* Reset W25Qxxx */
 144:Device/Dev_W25Qxx.c ****     if (DevW25Qxx_Reset(dev) != DevW25Qxx_Ok)
 145:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 146:Device/Dev_W25Qxx.c **** 
 147:Device/Dev_W25Qxx.c ****     if (DevW25Qxx_GetStatue(dev) != DevW25Qxx_Ok)
 148:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 149:Device/Dev_W25Qxx.c **** 
 150:Device/Dev_W25Qxx.c ****     dev->prod_type = DevW25Qxx_Get_ProdType(dev, &dev->prod_code);
 151:Device/Dev_W25Qxx.c **** 
 152:Device/Dev_W25Qxx.c ****     if (dev->prod_type == DevW25Q_None)
 153:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 154:Device/Dev_W25Qxx.c **** 
 155:Device/Dev_W25Qxx.c ****     dev->init_state = DevW25Qxx_Ok;
 156:Device/Dev_W25Qxx.c ****     return DevW25Qxx_Ok;
 157:Device/Dev_W25Qxx.c **** }
 158:Device/Dev_W25Qxx.c **** 
 159:Device/Dev_W25Qxx.c **** static DevW25Qxx_ProdType_List DevW25Qxx_Get_ProdType(DevW25QxxObj_TypeDef *dev, uint16_t *id)
 160:Device/Dev_W25Qxx.c **** {
 536              		.loc 1 160 1 is_stmt 1 view -0
 537              		.cfi_startproc
 538              		@ args = 0, pretend = 0, frame = 8
 539              		@ frame_needed = 0, uses_anonymous_args = 0
 540              		.loc 1 160 1 is_stmt 0 view .LVU133
 541 0000 30B5     		push	{r4, r5, lr}
 542              	.LCFI18:
 543              		.cfi_def_cfa_offset 12
 544              		.cfi_offset 4, -12
 545              		.cfi_offset 5, -8
 546              		.cfi_offset 14, -4
 547 0002 83B0     		sub	sp, sp, #12
 548              	.LCFI19:
 549              		.cfi_def_cfa_offset 24
 161:Device/Dev_W25Qxx.c ****     uint8_t ID_Req_CMD[] = {READ_ID_CMD, 0, 0, 0};
 550              		.loc 1 161 5 is_stmt 1 view .LVU134
 551              		.loc 1 161 13 is_stmt 0 view .LVU135
 552 0004 9023     		movs	r3, #144
 553 0006 0193     		str	r3, [sp, #4]
 162:Device/Dev_W25Qxx.c ****     uint8_t ID_Rx_buf[] = {0, 0};
 554              		.loc 1 162 5 is_stmt 1 view .LVU136
 555              		.loc 1 162 13 is_stmt 0 view .LVU137
 556 0008 0023     		movs	r3, #0
 557 000a ADF80030 		strh	r3, [sp]	@ movhi
 163:Device/Dev_W25Qxx.c ****     uint16_t ID = 0;
 558              		.loc 1 163 5 is_stmt 1 view .LVU138
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 14


 559              	.LVL69:
 164:Device/Dev_W25Qxx.c **** 
 165:Device/Dev_W25Qxx.c ****     if (dev && dev->cs_ctl)
 560              		.loc 1 165 5 view .LVU139
 561              		.loc 1 165 8 is_stmt 0 view .LVU140
 562 000e 70B3     		cbz	r0, .L52
 563 0010 0D46     		mov	r5, r1
 564 0012 0446     		mov	r4, r0
 565              		.loc 1 165 19 discriminator 1 view .LVU141
 566 0014 0369     		ldr	r3, [r0, #16]
 567              		.loc 1 165 13 discriminator 1 view .LVU142
 568 0016 6BB3     		cbz	r3, .L53
 166:Device/Dev_W25Qxx.c ****     {
 167:Device/Dev_W25Qxx.c ****         dev->cs_ctl(false);
 569              		.loc 1 167 9 is_stmt 1 view .LVU143
 570 0018 0020     		movs	r0, #0
 571              	.LVL70:
 572              		.loc 1 167 9 is_stmt 0 view .LVU144
 573 001a 9847     		blx	r3
 574              	.LVL71:
 168:Device/Dev_W25Qxx.c ****         DevW25Qxx_BusTrans(dev, ID_Req_CMD, sizeof(ID_Req_CMD));
 575              		.loc 1 168 9 is_stmt 1 view .LVU145
 576 001c 0422     		movs	r2, #4
 577 001e 0DEB0201 		add	r1, sp, r2
 578 0022 2046     		mov	r0, r4
 579 0024 FFF7FEFF 		bl	DevW25Qxx_BusTrans
 580              	.LVL72:
 169:Device/Dev_W25Qxx.c ****         DevW25Qxx_BusReceive(dev, ID_Rx_buf, sizeof(ID_Rx_buf));
 581              		.loc 1 169 9 view .LVU146
 582 0028 0222     		movs	r2, #2
 583 002a 6946     		mov	r1, sp
 584 002c 2046     		mov	r0, r4
 585 002e FFF7FEFF 		bl	DevW25Qxx_BusReceive
 586              	.LVL73:
 170:Device/Dev_W25Qxx.c ****         dev->cs_ctl(true);
 587              		.loc 1 170 9 view .LVU147
 588              		.loc 1 170 12 is_stmt 0 view .LVU148
 589 0032 2369     		ldr	r3, [r4, #16]
 590              		.loc 1 170 9 view .LVU149
 591 0034 0120     		movs	r0, #1
 592 0036 9847     		blx	r3
 593              	.LVL74:
 171:Device/Dev_W25Qxx.c ****     
 172:Device/Dev_W25Qxx.c ****         ID |= ID_Rx_buf[0] << 8;
 594              		.loc 1 172 9 is_stmt 1 view .LVU150
 595              		.loc 1 172 24 is_stmt 0 view .LVU151
 596 0038 9DF80020 		ldrb	r2, [sp]	@ zero_extendqisi2
 597              	.LVL75:
 173:Device/Dev_W25Qxx.c ****         ID |= ID_Rx_buf[1];
 598              		.loc 1 173 9 is_stmt 1 view .LVU152
 599              		.loc 1 173 24 is_stmt 0 view .LVU153
 600 003c 9DF80130 		ldrb	r3, [sp, #1]	@ zero_extendqisi2
 601              		.loc 1 173 12 view .LVU154
 602 0040 43EA0223 		orr	r3, r3, r2, lsl #8
 603              	.LVL76:
 174:Device/Dev_W25Qxx.c ****         *id = ID;
 604              		.loc 1 174 9 is_stmt 1 view .LVU155
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 15


 605              		.loc 1 174 13 is_stmt 0 view .LVU156
 606 0044 2B80     		strh	r3, [r5]	@ movhi
 175:Device/Dev_W25Qxx.c **** 
 176:Device/Dev_W25Qxx.c ****         switch(ID)
 607              		.loc 1 176 9 is_stmt 1 view .LVU157
 608 0046 A3F56F43 		sub	r3, r3, #61184
 609              	.LVL77:
 610              		.loc 1 176 9 is_stmt 0 view .LVU158
 611 004a 133B     		subs	r3, r3, #19
 612 004c 042B     		cmp	r3, #4
 613 004e 0CD8     		bhi	.L46
 614 0050 DFE803F0 		tbb	[pc, r3]
 615              	.L48:
 616 0054 03       		.byte	(.L51-.L48)/2
 617 0055 12       		.byte	(.L54-.L48)/2
 618 0056 05       		.byte	(.L50-.L48)/2
 619 0057 07       		.byte	(.L49-.L48)/2
 620 0058 09       		.byte	(.L47-.L48)/2
 621 0059 00       		.p2align 1
 622              	.L51:
 623 005a 0120     		movs	r0, #1
 624 005c 08E0     		b	.L45
 625              	.L50:
 177:Device/Dev_W25Qxx.c ****         {
 178:Device/Dev_W25Qxx.c ****             case W25Q08_DEV_ID:
 179:Device/Dev_W25Qxx.c ****                 return DevW25Q_08;
 180:Device/Dev_W25Qxx.c **** 
 181:Device/Dev_W25Qxx.c ****             case W25Q16_DEV_ID:
 182:Device/Dev_W25Qxx.c ****                 return DevW25Q_16;
 183:Device/Dev_W25Qxx.c **** 
 184:Device/Dev_W25Qxx.c ****             case W25Q32_DEV_ID:
 185:Device/Dev_W25Qxx.c ****                 return DevW25Q_32;
 626              		.loc 1 185 17 is_stmt 1 view .LVU159
 627              		.loc 1 185 24 is_stmt 0 view .LVU160
 628 005e 0320     		movs	r0, #3
 629 0060 06E0     		b	.L45
 630              	.L49:
 186:Device/Dev_W25Qxx.c **** 
 187:Device/Dev_W25Qxx.c ****             case W25Q64_DEV_ID:
 188:Device/Dev_W25Qxx.c ****                 return DevW25Q_64;
 631              		.loc 1 188 17 is_stmt 1 view .LVU161
 632              		.loc 1 188 24 is_stmt 0 view .LVU162
 633 0062 0420     		movs	r0, #4
 634 0064 04E0     		b	.L45
 635              	.L47:
 189:Device/Dev_W25Qxx.c **** 
 190:Device/Dev_W25Qxx.c ****             case W25Q128_DEV_ID:
 191:Device/Dev_W25Qxx.c ****                 return DevW25Q_128;
 636              		.loc 1 191 17 is_stmt 1 view .LVU163
 637              		.loc 1 191 24 is_stmt 0 view .LVU164
 638 0066 0520     		movs	r0, #5
 639 0068 02E0     		b	.L45
 640              	.L46:
 192:Device/Dev_W25Qxx.c **** 
 193:Device/Dev_W25Qxx.c ****             default:
 194:Device/Dev_W25Qxx.c ****                 return DevW25Q_None;
 641              		.loc 1 194 17 is_stmt 1 view .LVU165
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 16


 642              		.loc 1 194 24 is_stmt 0 view .LVU166
 643 006a 0020     		movs	r0, #0
 644 006c 00E0     		b	.L45
 645              	.LVL78:
 646              	.L52:
 195:Device/Dev_W25Qxx.c ****         }
 196:Device/Dev_W25Qxx.c ****     }
 197:Device/Dev_W25Qxx.c **** 
 198:Device/Dev_W25Qxx.c ****     return DevW25Q_None;
 647              		.loc 1 198 12 view .LVU167
 648 006e 0020     		movs	r0, #0
 649              	.LVL79:
 650              	.L45:
 199:Device/Dev_W25Qxx.c **** }
 651              		.loc 1 199 1 view .LVU168
 652 0070 03B0     		add	sp, sp, #12
 653              	.LCFI20:
 654              		.cfi_remember_state
 655              		.cfi_def_cfa_offset 12
 656              		@ sp needed
 657 0072 30BD     		pop	{r4, r5, pc}
 658              	.LVL80:
 659              	.L53:
 660              	.LCFI21:
 661              		.cfi_restore_state
 198:Device/Dev_W25Qxx.c **** }
 662              		.loc 1 198 12 view .LVU169
 663 0074 0020     		movs	r0, #0
 664              	.LVL81:
 198:Device/Dev_W25Qxx.c **** }
 665              		.loc 1 198 12 view .LVU170
 666 0076 FBE7     		b	.L45
 667              	.LVL82:
 668              	.L54:
 182:Device/Dev_W25Qxx.c **** 
 669              		.loc 1 182 24 view .LVU171
 670 0078 0220     		movs	r0, #2
 671 007a F9E7     		b	.L45
 672              		.cfi_endproc
 673              	.LFE7:
 675              		.section	.text.DevW25Qxx_Init,"ax",%progbits
 676              		.align	1
 677              		.syntax unified
 678              		.thumb
 679              		.thumb_func
 681              	DevW25Qxx_Init:
 682              	.LVL83:
 683              	.LFB6:
 136:Device/Dev_W25Qxx.c ****     if ((dev == NULL) ||
 684              		.loc 1 136 1 is_stmt 1 view -0
 685              		.cfi_startproc
 686              		@ args = 0, pretend = 0, frame = 0
 687              		@ frame_needed = 0, uses_anonymous_args = 0
 136:Device/Dev_W25Qxx.c ****     if ((dev == NULL) ||
 688              		.loc 1 136 1 is_stmt 0 view .LVU173
 689 0000 38B5     		push	{r3, r4, r5, lr}
 690              	.LCFI22:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 17


 691              		.cfi_def_cfa_offset 16
 692              		.cfi_offset 3, -16
 693              		.cfi_offset 4, -12
 694              		.cfi_offset 5, -8
 695              		.cfi_offset 14, -4
 137:Device/Dev_W25Qxx.c ****         (dev->cs_ctl == NULL))
 696              		.loc 1 137 5 is_stmt 1 view .LVU174
 137:Device/Dev_W25Qxx.c ****         (dev->cs_ctl == NULL))
 697              		.loc 1 137 8 is_stmt 0 view .LVU175
 698 0002 D0B1     		cbz	r0, .L58
 699 0004 0446     		mov	r4, r0
 138:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 700              		.loc 1 138 13 discriminator 1 view .LVU176
 701 0006 0369     		ldr	r3, [r0, #16]
 137:Device/Dev_W25Qxx.c ****         (dev->cs_ctl == NULL))
 702              		.loc 1 137 23 discriminator 1 view .LVU177
 703 0008 CBB1     		cbz	r3, .L59
 141:Device/Dev_W25Qxx.c ****     
 704              		.loc 1 141 5 is_stmt 1 view .LVU178
 141:Device/Dev_W25Qxx.c ****     
 705              		.loc 1 141 21 is_stmt 0 view .LVU179
 706 000a 0123     		movs	r3, #1
 707 000c 0375     		strb	r3, [r0, #20]
 144:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 708              		.loc 1 144 5 is_stmt 1 view .LVU180
 144:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 709              		.loc 1 144 9 is_stmt 0 view .LVU181
 710 000e FFF7FEFF 		bl	DevW25Qxx_Reset
 711              	.LVL84:
 144:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 712              		.loc 1 144 8 view .LVU182
 713 0012 10B1     		cbz	r0, .L64
 145:Device/Dev_W25Qxx.c **** 
 714              		.loc 1 145 16 view .LVU183
 715 0014 0125     		movs	r5, #1
 716              	.LVL85:
 717              	.L57:
 157:Device/Dev_W25Qxx.c **** 
 718              		.loc 1 157 1 view .LVU184
 719 0016 2846     		mov	r0, r5
 720 0018 38BD     		pop	{r3, r4, r5, pc}
 721              	.LVL86:
 722              	.L64:
 147:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 723              		.loc 1 147 5 is_stmt 1 view .LVU185
 147:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 724              		.loc 1 147 9 is_stmt 0 view .LVU186
 725 001a 2046     		mov	r0, r4
 726 001c FFF7FEFF 		bl	DevW25Qxx_GetStatue
 727              	.LVL87:
 147:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 728              		.loc 1 147 8 view .LVU187
 729 0020 0546     		mov	r5, r0
 730 0022 08B1     		cbz	r0, .L65
 148:Device/Dev_W25Qxx.c **** 
 731              		.loc 1 148 16 view .LVU188
 732 0024 0125     		movs	r5, #1
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 18


 733 0026 F6E7     		b	.L57
 734              	.L65:
 150:Device/Dev_W25Qxx.c **** 
 735              		.loc 1 150 5 is_stmt 1 view .LVU189
 150:Device/Dev_W25Qxx.c **** 
 736              		.loc 1 150 22 is_stmt 0 view .LVU190
 737 0028 A11C     		adds	r1, r4, #2
 738 002a 2046     		mov	r0, r4
 739 002c FFF7FEFF 		bl	DevW25Qxx_Get_ProdType
 740              	.LVL88:
 150:Device/Dev_W25Qxx.c **** 
 741              		.loc 1 150 20 view .LVU191
 742 0030 2070     		strb	r0, [r4]
 152:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 743              		.loc 1 152 5 is_stmt 1 view .LVU192
 152:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 744              		.loc 1 152 8 is_stmt 0 view .LVU193
 745 0032 30B1     		cbz	r0, .L62
 155:Device/Dev_W25Qxx.c ****     return DevW25Qxx_Ok;
 746              		.loc 1 155 5 is_stmt 1 view .LVU194
 155:Device/Dev_W25Qxx.c ****     return DevW25Qxx_Ok;
 747              		.loc 1 155 21 is_stmt 0 view .LVU195
 748 0034 0023     		movs	r3, #0
 749 0036 2375     		strb	r3, [r4, #20]
 156:Device/Dev_W25Qxx.c **** }
 750              		.loc 1 156 5 is_stmt 1 view .LVU196
 156:Device/Dev_W25Qxx.c **** }
 751              		.loc 1 156 12 is_stmt 0 view .LVU197
 752 0038 EDE7     		b	.L57
 753              	.LVL89:
 754              	.L58:
 139:Device/Dev_W25Qxx.c **** 
 755              		.loc 1 139 16 view .LVU198
 756 003a 0125     		movs	r5, #1
 757 003c EBE7     		b	.L57
 758              	.L59:
 139:Device/Dev_W25Qxx.c **** 
 759              		.loc 1 139 16 view .LVU199
 760 003e 0125     		movs	r5, #1
 761 0040 E9E7     		b	.L57
 762              	.LVL90:
 763              	.L62:
 153:Device/Dev_W25Qxx.c **** 
 764              		.loc 1 153 16 view .LVU200
 765 0042 0125     		movs	r5, #1
 766 0044 E7E7     		b	.L57
 767              		.cfi_endproc
 768              	.LFE6:
 770              		.section	.text.DevW25Qxx_Read,"ax",%progbits
 771              		.align	1
 772              		.syntax unified
 773              		.thumb
 774              		.thumb_func
 776              	DevW25Qxx_Read:
 777              	.LVL91:
 778              	.LFB8:
 200:Device/Dev_W25Qxx.c **** 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 19


 201:Device/Dev_W25Qxx.c **** static DevW25Qxx_Error_List DevW25Qxx_Read(DevW25QxxObj_TypeDef *dev, uint32_t ReadAddr, uint8_t *p
 202:Device/Dev_W25Qxx.c **** {
 779              		.loc 1 202 1 is_stmt 1 view -0
 780              		.cfi_startproc
 781              		@ args = 0, pretend = 0, frame = 8
 782              		@ frame_needed = 0, uses_anonymous_args = 0
 783              		.loc 1 202 1 is_stmt 0 view .LVU202
 784 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 785              	.LCFI23:
 786              		.cfi_def_cfa_offset 20
 787              		.cfi_offset 4, -20
 788              		.cfi_offset 5, -16
 789              		.cfi_offset 6, -12
 790              		.cfi_offset 7, -8
 791              		.cfi_offset 14, -4
 792 0002 83B0     		sub	sp, sp, #12
 793              	.LCFI24:
 794              		.cfi_def_cfa_offset 32
 795 0004 1D46     		mov	r5, r3
 203:Device/Dev_W25Qxx.c ****     uint8_t cmd[4];
 796              		.loc 1 203 5 is_stmt 1 view .LVU203
 204:Device/Dev_W25Qxx.c ****     bool read_state = false;
 797              		.loc 1 204 5 view .LVU204
 798              	.LVL92:
 205:Device/Dev_W25Qxx.c **** 
 206:Device/Dev_W25Qxx.c ****     /* Configure the command */
 207:Device/Dev_W25Qxx.c ****     cmd[0] = READ_CMD;
 799              		.loc 1 207 5 view .LVU205
 800              		.loc 1 207 12 is_stmt 0 view .LVU206
 801 0006 0323     		movs	r3, #3
 802              	.LVL93:
 803              		.loc 1 207 12 view .LVU207
 804 0008 8DF80430 		strb	r3, [sp, #4]
 208:Device/Dev_W25Qxx.c ****     cmd[1] = (uint8_t)(ReadAddr >> 16);
 805              		.loc 1 208 5 is_stmt 1 view .LVU208
 806              		.loc 1 208 14 is_stmt 0 view .LVU209
 807 000c C1F30743 		ubfx	r3, r1, #16, #8
 808              		.loc 1 208 12 view .LVU210
 809 0010 8DF80530 		strb	r3, [sp, #5]
 209:Device/Dev_W25Qxx.c ****     cmd[2] = (uint8_t)(ReadAddr >> 8);
 810              		.loc 1 209 5 is_stmt 1 view .LVU211
 811              		.loc 1 209 14 is_stmt 0 view .LVU212
 812 0014 C1F30723 		ubfx	r3, r1, #8, #8
 813              		.loc 1 209 12 view .LVU213
 814 0018 8DF80630 		strb	r3, [sp, #6]
 210:Device/Dev_W25Qxx.c ****     cmd[3] = (uint8_t)(ReadAddr);
 815              		.loc 1 210 5 is_stmt 1 view .LVU214
 816              		.loc 1 210 12 is_stmt 0 view .LVU215
 817 001c 8DF80710 		strb	r1, [sp, #7]
 211:Device/Dev_W25Qxx.c **** 
 212:Device/Dev_W25Qxx.c ****     if ((dev == NULL) || (dev->cs_ctl == NULL) || (pData == NULL) || (Size == 0))
 818              		.loc 1 212 5 is_stmt 1 view .LVU216
 819              		.loc 1 212 8 is_stmt 0 view .LVU217
 820 0020 E0B1     		cbz	r0, .L68
 821 0022 1446     		mov	r4, r2
 822 0024 0646     		mov	r6, r0
 823              		.loc 1 212 30 discriminator 1 view .LVU218
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 20


 824 0026 0369     		ldr	r3, [r0, #16]
 825              		.loc 1 212 23 discriminator 1 view .LVU219
 826 0028 D3B1     		cbz	r3, .L69
 827              		.loc 1 212 48 discriminator 2 view .LVU220
 828 002a DAB1     		cbz	r2, .L70
 829              		.loc 1 212 67 discriminator 3 view .LVU221
 830 002c E5B1     		cbz	r5, .L71
 213:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error; 
 214:Device/Dev_W25Qxx.c **** 
 215:Device/Dev_W25Qxx.c ****     dev->cs_ctl(false);
 831              		.loc 1 215 5 is_stmt 1 view .LVU222
 832 002e 0020     		movs	r0, #0
 833              	.LVL94:
 834              		.loc 1 215 5 is_stmt 0 view .LVU223
 835 0030 9847     		blx	r3
 836              	.LVL95:
 216:Device/Dev_W25Qxx.c ****     read_state = DevW25Qxx_BusTrans(dev, cmd, sizeof(cmd)) & DevW25Qxx_BusReceive(dev, pData, Size)
 837              		.loc 1 216 5 is_stmt 1 view .LVU224
 838              		.loc 1 216 18 is_stmt 0 view .LVU225
 839 0032 0422     		movs	r2, #4
 840 0034 0DEB0201 		add	r1, sp, r2
 841 0038 3046     		mov	r0, r6
 842 003a FFF7FEFF 		bl	DevW25Qxx_BusTrans
 843              	.LVL96:
 844 003e 0746     		mov	r7, r0
 845              		.loc 1 216 62 view .LVU226
 846 0040 AAB2     		uxth	r2, r5
 847 0042 2146     		mov	r1, r4
 848 0044 3046     		mov	r0, r6
 849 0046 FFF7FEFF 		bl	DevW25Qxx_BusReceive
 850              	.LVL97:
 851 004a 0740     		ands	r7, r7, r0
 852 004c FFB2     		uxtb	r7, r7
 853              	.LVL98:
 217:Device/Dev_W25Qxx.c ****     dev->cs_ctl(true);
 854              		.loc 1 217 5 is_stmt 1 view .LVU227
 855              		.loc 1 217 8 is_stmt 0 view .LVU228
 856 004e 3369     		ldr	r3, [r6, #16]
 857              		.loc 1 217 5 view .LVU229
 858 0050 0120     		movs	r0, #1
 859 0052 9847     		blx	r3
 860              	.LVL99:
 218:Device/Dev_W25Qxx.c **** 
 219:Device/Dev_W25Qxx.c ****     if (read_state)
 861              		.loc 1 219 5 is_stmt 1 view .LVU230
 862              		.loc 1 219 8 is_stmt 0 view .LVU231
 863 0054 57B9     		cbnz	r7, .L72
 220:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Ok;
 221:Device/Dev_W25Qxx.c **** 
 222:Device/Dev_W25Qxx.c ****     return DevW25Qxx_Error; 
 864              		.loc 1 222 12 view .LVU232
 865 0056 0120     		movs	r0, #1
 866              	.LVL100:
 867              	.L67:
 223:Device/Dev_W25Qxx.c **** }
 868              		.loc 1 223 1 view .LVU233
 869 0058 03B0     		add	sp, sp, #12
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 21


 870              	.LCFI25:
 871              		.cfi_remember_state
 872              		.cfi_def_cfa_offset 20
 873              		@ sp needed
 874 005a F0BD     		pop	{r4, r5, r6, r7, pc}
 875              	.LVL101:
 876              	.L68:
 877              	.LCFI26:
 878              		.cfi_restore_state
 213:Device/Dev_W25Qxx.c **** 
 879              		.loc 1 213 16 view .LVU234
 880 005c 0120     		movs	r0, #1
 881              	.LVL102:
 213:Device/Dev_W25Qxx.c **** 
 882              		.loc 1 213 16 view .LVU235
 883 005e FBE7     		b	.L67
 884              	.LVL103:
 885              	.L69:
 213:Device/Dev_W25Qxx.c **** 
 886              		.loc 1 213 16 view .LVU236
 887 0060 0120     		movs	r0, #1
 888              	.LVL104:
 213:Device/Dev_W25Qxx.c **** 
 889              		.loc 1 213 16 view .LVU237
 890 0062 F9E7     		b	.L67
 891              	.LVL105:
 892              	.L70:
 213:Device/Dev_W25Qxx.c **** 
 893              		.loc 1 213 16 view .LVU238
 894 0064 0120     		movs	r0, #1
 895              	.LVL106:
 213:Device/Dev_W25Qxx.c **** 
 896              		.loc 1 213 16 view .LVU239
 897 0066 F7E7     		b	.L67
 898              	.LVL107:
 899              	.L71:
 213:Device/Dev_W25Qxx.c **** 
 900              		.loc 1 213 16 view .LVU240
 901 0068 0120     		movs	r0, #1
 902              	.LVL108:
 213:Device/Dev_W25Qxx.c **** 
 903              		.loc 1 213 16 view .LVU241
 904 006a F5E7     		b	.L67
 905              	.LVL109:
 906              	.L72:
 220:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Ok;
 907              		.loc 1 220 16 view .LVU242
 908 006c 0020     		movs	r0, #0
 909 006e F3E7     		b	.L67
 910              		.cfi_endproc
 911              	.LFE8:
 913              		.section	.text.DevW25Qxx_Write,"ax",%progbits
 914              		.align	1
 915              		.syntax unified
 916              		.thumb
 917              		.thumb_func
 919              	DevW25Qxx_Write:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 22


 920              	.LVL110:
 921              	.LFB9:
 224:Device/Dev_W25Qxx.c **** 
 225:Device/Dev_W25Qxx.c **** static DevW25Qxx_Error_List DevW25Qxx_Write(DevW25QxxObj_TypeDef *dev, uint32_t WriteAddr, uint8_t 
 226:Device/Dev_W25Qxx.c **** {
 922              		.loc 1 226 1 is_stmt 1 view -0
 923              		.cfi_startproc
 924              		@ args = 0, pretend = 0, frame = 8
 925              		@ frame_needed = 0, uses_anonymous_args = 0
 926              		.loc 1 226 1 is_stmt 0 view .LVU244
 927 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 928              	.LCFI27:
 929              		.cfi_def_cfa_offset 32
 930              		.cfi_offset 4, -32
 931              		.cfi_offset 5, -28
 932              		.cfi_offset 6, -24
 933              		.cfi_offset 7, -20
 934              		.cfi_offset 8, -16
 935              		.cfi_offset 9, -12
 936              		.cfi_offset 10, -8
 937              		.cfi_offset 14, -4
 938 0004 82B0     		sub	sp, sp, #8
 939              	.LCFI28:
 940              		.cfi_def_cfa_offset 40
 227:Device/Dev_W25Qxx.c ****     uint8_t cmd[4];
 941              		.loc 1 227 5 is_stmt 1 view .LVU245
 228:Device/Dev_W25Qxx.c ****     uint32_t end_addr, current_size, current_addr;
 942              		.loc 1 228 5 view .LVU246
 229:Device/Dev_W25Qxx.c ****     uint32_t tickstart = 0;
 943              		.loc 1 229 5 view .LVU247
 944              	.LVL111:
 230:Device/Dev_W25Qxx.c **** 
 231:Device/Dev_W25Qxx.c ****     if ((dev == NULL) || (dev->cs_ctl == NULL) || (dev->systick == NULL) || (pData == NULL) || (Siz
 945              		.loc 1 231 5 view .LVU248
 946              		.loc 1 231 8 is_stmt 0 view .LVU249
 947 0006 0028     		cmp	r0, #0
 948 0008 5ED0     		beq	.L83
 949 000a 0E46     		mov	r6, r1
 950 000c 9146     		mov	r9, r2
 951 000e 0446     		mov	r4, r0
 952              		.loc 1 231 30 discriminator 1 view .LVU250
 953 0010 0269     		ldr	r2, [r0, #16]
 954              	.LVL112:
 955              		.loc 1 231 23 discriminator 1 view .LVU251
 956 0012 002A     		cmp	r2, #0
 957 0014 5BD0     		beq	.L84
 958              		.loc 1 231 55 discriminator 2 view .LVU252
 959 0016 8269     		ldr	r2, [r0, #24]
 960              		.loc 1 231 48 discriminator 2 view .LVU253
 961 0018 002A     		cmp	r2, #0
 962 001a 5BD0     		beq	.L85
 963              		.loc 1 231 74 discriminator 3 view .LVU254
 964 001c B9F1000F 		cmp	r9, #0
 965 0020 5BD0     		beq	.L86
 966              		.loc 1 231 93 discriminator 4 view .LVU255
 967 0022 002B     		cmp	r3, #0
 968 0024 5CD0     		beq	.L87
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 23


 232:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 233:Device/Dev_W25Qxx.c **** 
 234:Device/Dev_W25Qxx.c ****     /* Calculation of the size between the write address and the end of the page */
 235:Device/Dev_W25Qxx.c ****     current_addr = 0;
 969              		.loc 1 235 18 view .LVU256
 970 0026 0025     		movs	r5, #0
 971 0028 01E0     		b	.L76
 972              	.LVL113:
 973              	.L77:
 236:Device/Dev_W25Qxx.c **** 
 237:Device/Dev_W25Qxx.c ****     while (current_addr <= WriteAddr)
 238:Device/Dev_W25Qxx.c ****     {
 239:Device/Dev_W25Qxx.c ****         current_addr += W25Q128FV_PAGE_SIZE;
 974              		.loc 1 239 9 is_stmt 1 view .LVU257
 975              		.loc 1 239 22 is_stmt 0 view .LVU258
 976 002a 05F58075 		add	r5, r5, #256
 977              	.LVL114:
 978              	.L76:
 237:Device/Dev_W25Qxx.c ****     {
 979              		.loc 1 237 11 is_stmt 1 view .LVU259
 980 002e B542     		cmp	r5, r6
 981 0030 FBD9     		bls	.L77
 240:Device/Dev_W25Qxx.c ****     }
 241:Device/Dev_W25Qxx.c ****     current_size = current_addr - WriteAddr;
 982              		.loc 1 241 5 view .LVU260
 983              		.loc 1 241 18 is_stmt 0 view .LVU261
 984 0032 AD1B     		subs	r5, r5, r6
 985              	.LVL115:
 242:Device/Dev_W25Qxx.c **** 
 243:Device/Dev_W25Qxx.c ****     /* Check if the size of the data is less than the remaining place in the page */
 244:Device/Dev_W25Qxx.c ****     if (current_size > Size)
 986              		.loc 1 244 5 is_stmt 1 view .LVU262
 987              		.loc 1 244 8 is_stmt 0 view .LVU263
 988 0034 AB42     		cmp	r3, r5
 989 0036 00D2     		bcs	.L78
 245:Device/Dev_W25Qxx.c ****     {
 246:Device/Dev_W25Qxx.c ****         current_size = Size;
 990              		.loc 1 246 22 view .LVU264
 991 0038 1D46     		mov	r5, r3
 992              	.LVL116:
 993              	.L78:
 247:Device/Dev_W25Qxx.c ****     }
 248:Device/Dev_W25Qxx.c **** 
 249:Device/Dev_W25Qxx.c ****     /* Initialize the adress variables */
 250:Device/Dev_W25Qxx.c ****     current_addr = WriteAddr;
 994              		.loc 1 250 5 is_stmt 1 view .LVU265
 251:Device/Dev_W25Qxx.c ****     end_addr = WriteAddr + Size;
 995              		.loc 1 251 5 view .LVU266
 996              		.loc 1 251 14 is_stmt 0 view .LVU267
 997 003a 03EB0608 		add	r8, r3, r6
 998              	.LVL117:
 252:Device/Dev_W25Qxx.c **** 
 253:Device/Dev_W25Qxx.c ****     tickstart = dev->systick();
 999              		.loc 1 253 5 is_stmt 1 view .LVU268
 1000              		.loc 1 253 17 is_stmt 0 view .LVU269
 1001 003e 9047     		blx	r2
 1002              	.LVL118:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 24


 1003              		.loc 1 253 17 view .LVU270
 1004 0040 0746     		mov	r7, r0
 1005              	.LVL119:
 1006              	.L82:
 254:Device/Dev_W25Qxx.c **** 
 255:Device/Dev_W25Qxx.c ****     /* Perform the write page by page */
 256:Device/Dev_W25Qxx.c ****     do
 1007              		.loc 1 256 5 is_stmt 1 view .LVU271
 257:Device/Dev_W25Qxx.c ****     {
 258:Device/Dev_W25Qxx.c ****         /* Configure the command */
 259:Device/Dev_W25Qxx.c ****         cmd[0] = PAGE_PROG_CMD;
 1008              		.loc 1 259 9 view .LVU272
 1009              		.loc 1 259 16 is_stmt 0 view .LVU273
 1010 0042 0223     		movs	r3, #2
 1011 0044 8DF80430 		strb	r3, [sp, #4]
 260:Device/Dev_W25Qxx.c ****         cmd[1] = (uint8_t)(current_addr >> 16);
 1012              		.loc 1 260 9 is_stmt 1 view .LVU274
 1013              		.loc 1 260 18 is_stmt 0 view .LVU275
 1014 0048 C6F30743 		ubfx	r3, r6, #16, #8
 1015              		.loc 1 260 16 view .LVU276
 1016 004c 8DF80530 		strb	r3, [sp, #5]
 261:Device/Dev_W25Qxx.c ****         cmd[2] = (uint8_t)(current_addr >> 8);
 1017              		.loc 1 261 9 is_stmt 1 view .LVU277
 1018              		.loc 1 261 18 is_stmt 0 view .LVU278
 1019 0050 C6F30723 		ubfx	r3, r6, #8, #8
 1020              		.loc 1 261 16 view .LVU279
 1021 0054 8DF80630 		strb	r3, [sp, #6]
 262:Device/Dev_W25Qxx.c ****         cmd[3] = (uint8_t)(current_addr);
 1022              		.loc 1 262 9 is_stmt 1 view .LVU280
 1023              		.loc 1 262 16 is_stmt 0 view .LVU281
 1024 0058 8DF80760 		strb	r6, [sp, #7]
 263:Device/Dev_W25Qxx.c **** 
 264:Device/Dev_W25Qxx.c ****         /* Enable write operations */
 265:Device/Dev_W25Qxx.c ****         if (DevW25Qxx_WriteEnable(dev) != DevW25Qxx_Ok)
 1025              		.loc 1 265 9 is_stmt 1 view .LVU282
 1026              		.loc 1 265 13 is_stmt 0 view .LVU283
 1027 005c 2046     		mov	r0, r4
 1028 005e FFF7FEFF 		bl	DevW25Qxx_WriteEnable
 1029              	.LVL120:
 1030              		.loc 1 265 12 view .LVU284
 1031 0062 8246     		mov	r10, r0
 1032 0064 0028     		cmp	r0, #0
 1033 0066 3ED1     		bne	.L89
 266:Device/Dev_W25Qxx.c ****             return DevW25Qxx_Error;
 267:Device/Dev_W25Qxx.c **** 
 268:Device/Dev_W25Qxx.c ****         /* Send the command Transmission of the data */
 269:Device/Dev_W25Qxx.c ****         dev->cs_ctl(false);
 1034              		.loc 1 269 9 is_stmt 1 view .LVU285
 1035              		.loc 1 269 12 is_stmt 0 view .LVU286
 1036 0068 2369     		ldr	r3, [r4, #16]
 1037              		.loc 1 269 9 view .LVU287
 1038 006a 9847     		blx	r3
 1039              	.LVL121:
 270:Device/Dev_W25Qxx.c ****         DevW25Qxx_BusTrans(dev, cmd, sizeof(cmd));
 1040              		.loc 1 270 9 is_stmt 1 view .LVU288
 1041 006c 0422     		movs	r2, #4
 1042 006e 0DEB0201 		add	r1, sp, r2
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 25


 1043 0072 2046     		mov	r0, r4
 1044 0074 FFF7FEFF 		bl	DevW25Qxx_BusTrans
 1045              	.LVL122:
 271:Device/Dev_W25Qxx.c ****         DevW25Qxx_BusTrans(dev, pData, current_size);
 1046              		.loc 1 271 9 view .LVU289
 1047 0078 AAB2     		uxth	r2, r5
 1048 007a 4946     		mov	r1, r9
 1049 007c 2046     		mov	r0, r4
 1050 007e FFF7FEFF 		bl	DevW25Qxx_BusTrans
 1051              	.LVL123:
 272:Device/Dev_W25Qxx.c ****         dev->cs_ctl(true);
 1052              		.loc 1 272 9 view .LVU290
 1053              		.loc 1 272 12 is_stmt 0 view .LVU291
 1054 0082 2369     		ldr	r3, [r4, #16]
 1055              		.loc 1 272 9 view .LVU292
 1056 0084 0120     		movs	r0, #1
 1057 0086 9847     		blx	r3
 1058              	.LVL124:
 273:Device/Dev_W25Qxx.c **** 
 274:Device/Dev_W25Qxx.c ****         /* Wait the end of Flash writing */
 275:Device/Dev_W25Qxx.c ****         while (DevW25Qxx_GetStatue(dev) == DevW25Qxx_Busy)
 1059              		.loc 1 275 9 is_stmt 1 view .LVU293
 1060              	.L79:
 1061              		.loc 1 275 15 view .LVU294
 1062              		.loc 1 275 16 is_stmt 0 view .LVU295
 1063 0088 2046     		mov	r0, r4
 1064 008a FFF7FEFF 		bl	DevW25Qxx_GetStatue
 1065              	.LVL125:
 1066              		.loc 1 275 15 view .LVU296
 1067 008e 0228     		cmp	r0, #2
 1068 0090 0CD1     		bne	.L93
 276:Device/Dev_W25Qxx.c ****         {
 277:Device/Dev_W25Qxx.c ****             /* Check for the Timeout */
 278:Device/Dev_W25Qxx.c ****             if ((dev->systick() - tickstart) > W25Qx_TIMEOUT_VALUE)
 1069              		.loc 1 278 13 is_stmt 1 view .LVU297
 1070              		.loc 1 278 21 is_stmt 0 view .LVU298
 1071 0092 A369     		ldr	r3, [r4, #24]
 1072              		.loc 1 278 18 view .LVU299
 1073 0094 9847     		blx	r3
 1074              	.LVL126:
 1075              		.loc 1 278 33 view .LVU300
 1076 0096 C01B     		subs	r0, r0, r7
 1077              		.loc 1 278 16 view .LVU301
 1078 0098 42F21073 		movw	r3, #10000
 1079 009c 9842     		cmp	r0, r3
 1080 009e F3D9     		bls	.L79
 279:Device/Dev_W25Qxx.c ****             {
 280:Device/Dev_W25Qxx.c ****                 return DevW25Qxx_TimeOut;
 1081              		.loc 1 280 24 view .LVU302
 1082 00a0 4FF0030A 		mov	r10, #3
 1083              	.LVL127:
 1084              	.L75:
 281:Device/Dev_W25Qxx.c ****             }
 282:Device/Dev_W25Qxx.c ****         }
 283:Device/Dev_W25Qxx.c **** 
 284:Device/Dev_W25Qxx.c ****         /* Update the address and size variables for next page programming */
 285:Device/Dev_W25Qxx.c ****         current_addr += current_size;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 26


 286:Device/Dev_W25Qxx.c ****         pData += current_size;
 287:Device/Dev_W25Qxx.c ****         current_size = ((current_addr + W25Q128FV_PAGE_SIZE) > end_addr) ? (end_addr - current_addr
 288:Device/Dev_W25Qxx.c ****     } while (current_addr < end_addr);
 289:Device/Dev_W25Qxx.c **** 
 290:Device/Dev_W25Qxx.c ****     return DevW25Qxx_Ok;
 291:Device/Dev_W25Qxx.c **** }
 1085              		.loc 1 291 1 view .LVU303
 1086 00a4 5046     		mov	r0, r10
 1087 00a6 02B0     		add	sp, sp, #8
 1088              	.LCFI29:
 1089              		.cfi_remember_state
 1090              		.cfi_def_cfa_offset 32
 1091              		@ sp needed
 1092 00a8 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 1093              	.LVL128:
 1094              	.L93:
 1095              	.LCFI30:
 1096              		.cfi_restore_state
 285:Device/Dev_W25Qxx.c ****         pData += current_size;
 1097              		.loc 1 285 9 is_stmt 1 view .LVU304
 285:Device/Dev_W25Qxx.c ****         pData += current_size;
 1098              		.loc 1 285 22 is_stmt 0 view .LVU305
 1099 00ac 2E44     		add	r6, r6, r5
 1100              	.LVL129:
 286:Device/Dev_W25Qxx.c ****         current_size = ((current_addr + W25Q128FV_PAGE_SIZE) > end_addr) ? (end_addr - current_addr
 1101              		.loc 1 286 9 is_stmt 1 view .LVU306
 286:Device/Dev_W25Qxx.c ****         current_size = ((current_addr + W25Q128FV_PAGE_SIZE) > end_addr) ? (end_addr - current_addr
 1102              		.loc 1 286 15 is_stmt 0 view .LVU307
 1103 00ae A944     		add	r9, r9, r5
 1104              	.LVL130:
 287:Device/Dev_W25Qxx.c ****     } while (current_addr < end_addr);
 1105              		.loc 1 287 9 is_stmt 1 view .LVU308
 287:Device/Dev_W25Qxx.c ****     } while (current_addr < end_addr);
 1106              		.loc 1 287 39 is_stmt 0 view .LVU309
 1107 00b0 06F58073 		add	r3, r6, #256
 287:Device/Dev_W25Qxx.c ****     } while (current_addr < end_addr);
 1108              		.loc 1 287 102 view .LVU310
 1109 00b4 4345     		cmp	r3, r8
 1110 00b6 04D9     		bls	.L91
 287:Device/Dev_W25Qxx.c ****     } while (current_addr < end_addr);
 1111              		.loc 1 287 102 discriminator 1 view .LVU311
 1112 00b8 A8EB0605 		sub	r5, r8, r6
 1113              	.LVL131:
 1114              	.L81:
 288:Device/Dev_W25Qxx.c **** 
 1115              		.loc 1 288 13 is_stmt 1 discriminator 4 view .LVU312
 288:Device/Dev_W25Qxx.c **** 
 1116              		.loc 1 288 5 is_stmt 0 discriminator 4 view .LVU313
 1117 00bc B045     		cmp	r8, r6
 1118 00be C0D8     		bhi	.L82
 1119 00c0 F0E7     		b	.L75
 1120              	.L91:
 287:Device/Dev_W25Qxx.c ****     } while (current_addr < end_addr);
 1121              		.loc 1 287 102 view .LVU314
 1122 00c2 4FF48075 		mov	r5, #256
 1123              	.LVL132:
 287:Device/Dev_W25Qxx.c ****     } while (current_addr < end_addr);
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 27


 1124              		.loc 1 287 102 view .LVU315
 1125 00c6 F9E7     		b	.L81
 1126              	.LVL133:
 1127              	.L83:
 232:Device/Dev_W25Qxx.c **** 
 1128              		.loc 1 232 16 view .LVU316
 1129 00c8 4FF0010A 		mov	r10, #1
 1130 00cc EAE7     		b	.L75
 1131              	.LVL134:
 1132              	.L84:
 232:Device/Dev_W25Qxx.c **** 
 1133              		.loc 1 232 16 view .LVU317
 1134 00ce 4FF0010A 		mov	r10, #1
 1135 00d2 E7E7     		b	.L75
 1136              	.L85:
 1137 00d4 4FF0010A 		mov	r10, #1
 1138 00d8 E4E7     		b	.L75
 1139              	.L86:
 1140 00da 4FF0010A 		mov	r10, #1
 1141 00de E1E7     		b	.L75
 1142              	.L87:
 1143 00e0 4FF0010A 		mov	r10, #1
 1144 00e4 DEE7     		b	.L75
 1145              	.LVL135:
 1146              	.L89:
 266:Device/Dev_W25Qxx.c **** 
 1147              		.loc 1 266 20 view .LVU318
 1148 00e6 4FF0010A 		mov	r10, #1
 1149 00ea DBE7     		b	.L75
 1150              		.cfi_endproc
 1151              	.LFE9:
 1153              		.section	.text.DevW25Qxx_EraseChip,"ax",%progbits
 1154              		.align	1
 1155              		.syntax unified
 1156              		.thumb
 1157              		.thumb_func
 1159              	DevW25Qxx_EraseChip:
 1160              	.LVL136:
 1161              	.LFB10:
 292:Device/Dev_W25Qxx.c **** 
 293:Device/Dev_W25Qxx.c **** static DevW25Qxx_Error_List DevW25Qxx_EraseChip(DevW25QxxObj_TypeDef *dev)
 294:Device/Dev_W25Qxx.c **** {
 1162              		.loc 1 294 1 is_stmt 1 view -0
 1163              		.cfi_startproc
 1164              		@ args = 0, pretend = 0, frame = 8
 1165              		@ frame_needed = 0, uses_anonymous_args = 0
 1166              		.loc 1 294 1 is_stmt 0 view .LVU320
 1167 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1168              	.LCFI31:
 1169              		.cfi_def_cfa_offset 20
 1170              		.cfi_offset 4, -20
 1171              		.cfi_offset 5, -16
 1172              		.cfi_offset 6, -12
 1173              		.cfi_offset 7, -8
 1174              		.cfi_offset 14, -4
 1175 0002 83B0     		sub	sp, sp, #12
 1176              	.LCFI32:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 28


 1177              		.cfi_def_cfa_offset 32
 295:Device/Dev_W25Qxx.c ****     uint8_t cmd = CHIP_ERASE_CMD;
 1178              		.loc 1 295 5 is_stmt 1 view .LVU321
 1179              		.loc 1 295 13 is_stmt 0 view .LVU322
 1180 0004 C723     		movs	r3, #199
 1181 0006 8DF80730 		strb	r3, [sp, #7]
 296:Device/Dev_W25Qxx.c ****     uint32_t tickstart = 0;
 1182              		.loc 1 296 5 is_stmt 1 view .LVU323
 1183              	.LVL137:
 297:Device/Dev_W25Qxx.c ****     bool erase_state = false;
 1184              		.loc 1 297 5 view .LVU324
 298:Device/Dev_W25Qxx.c **** 
 299:Device/Dev_W25Qxx.c ****     if ((dev == NULL) || (dev->cs_ctl == NULL) || (dev->systick == NULL))
 1185              		.loc 1 299 5 view .LVU325
 1186              		.loc 1 299 8 is_stmt 0 view .LVU326
 1187 000a 38B3     		cbz	r0, .L98
 1188 000c 0446     		mov	r4, r0
 1189              		.loc 1 299 30 discriminator 1 view .LVU327
 1190 000e 0369     		ldr	r3, [r0, #16]
 1191              		.loc 1 299 23 discriminator 1 view .LVU328
 1192 0010 33B3     		cbz	r3, .L99
 1193              		.loc 1 299 55 discriminator 2 view .LVU329
 1194 0012 8369     		ldr	r3, [r0, #24]
 1195              		.loc 1 299 48 discriminator 2 view .LVU330
 1196 0014 33B3     		cbz	r3, .L100
 300:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 301:Device/Dev_W25Qxx.c **** 
 302:Device/Dev_W25Qxx.c ****     tickstart = dev->systick();
 1197              		.loc 1 302 5 is_stmt 1 view .LVU331
 1198              		.loc 1 302 17 is_stmt 0 view .LVU332
 1199 0016 9847     		blx	r3
 1200              	.LVL138:
 1201              		.loc 1 302 17 view .LVU333
 1202 0018 0546     		mov	r5, r0
 1203              	.LVL139:
 303:Device/Dev_W25Qxx.c **** 
 304:Device/Dev_W25Qxx.c ****     if (DevW25Qxx_WriteEnable(dev) != DevW25Qxx_Ok)
 1204              		.loc 1 304 5 is_stmt 1 view .LVU334
 1205              		.loc 1 304 9 is_stmt 0 view .LVU335
 1206 001a 2046     		mov	r0, r4
 1207              	.LVL140:
 1208              		.loc 1 304 9 view .LVU336
 1209 001c FFF7FEFF 		bl	DevW25Qxx_WriteEnable
 1210              	.LVL141:
 1211              		.loc 1 304 8 view .LVU337
 1212 0020 0646     		mov	r6, r0
 1213 0022 08BB     		cbnz	r0, .L101
 305:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 306:Device/Dev_W25Qxx.c **** 
 307:Device/Dev_W25Qxx.c ****     dev->cs_ctl(false);
 1214              		.loc 1 307 5 is_stmt 1 view .LVU338
 1215              		.loc 1 307 8 is_stmt 0 view .LVU339
 1216 0024 2369     		ldr	r3, [r4, #16]
 1217              		.loc 1 307 5 view .LVU340
 1218 0026 9847     		blx	r3
 1219              	.LVL142:
 308:Device/Dev_W25Qxx.c ****     erase_state = DevW25Qxx_BusTrans(dev, &cmd, sizeof(cmd));
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 29


 1220              		.loc 1 308 5 is_stmt 1 view .LVU341
 1221              		.loc 1 308 19 is_stmt 0 view .LVU342
 1222 0028 0122     		movs	r2, #1
 1223 002a 0DF10701 		add	r1, sp, #7
 1224 002e 2046     		mov	r0, r4
 1225 0030 FFF7FEFF 		bl	DevW25Qxx_BusTrans
 1226              	.LVL143:
 1227 0034 0746     		mov	r7, r0
 1228              	.LVL144:
 309:Device/Dev_W25Qxx.c ****     dev->cs_ctl(true);
 1229              		.loc 1 309 5 is_stmt 1 view .LVU343
 1230              		.loc 1 309 8 is_stmt 0 view .LVU344
 1231 0036 2369     		ldr	r3, [r4, #16]
 1232              		.loc 1 309 5 view .LVU345
 1233 0038 0120     		movs	r0, #1
 1234 003a 9847     		blx	r3
 1235              	.LVL145:
 310:Device/Dev_W25Qxx.c **** 
 311:Device/Dev_W25Qxx.c ****     if (!erase_state)
 1236              		.loc 1 311 5 is_stmt 1 view .LVU346
 1237              		.loc 1 311 8 is_stmt 0 view .LVU347
 1238 003c 67B1     		cbz	r7, .L104
 1239              	.L96:
 312:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 313:Device/Dev_W25Qxx.c **** 
 314:Device/Dev_W25Qxx.c ****     /* Wait the end of Flash writing */
 315:Device/Dev_W25Qxx.c ****     while (DevW25Qxx_GetStatue(dev) != DevW25Qxx_Busy)
 1240              		.loc 1 315 11 is_stmt 1 view .LVU348
 1241              		.loc 1 315 12 is_stmt 0 view .LVU349
 1242 003e 2046     		mov	r0, r4
 1243 0040 FFF7FEFF 		bl	DevW25Qxx_GetStatue
 1244              	.LVL146:
 1245              		.loc 1 315 11 view .LVU350
 1246 0044 0228     		cmp	r0, #2
 1247 0046 10D0     		beq	.L95
 316:Device/Dev_W25Qxx.c ****     {
 317:Device/Dev_W25Qxx.c ****         /* Check for the Timeout */
 318:Device/Dev_W25Qxx.c ****         if ((dev->systick() - tickstart) > W25Q128FV_BULK_ERASE_MAX_TIME)
 1248              		.loc 1 318 9 is_stmt 1 view .LVU351
 1249              		.loc 1 318 17 is_stmt 0 view .LVU352
 1250 0048 A369     		ldr	r3, [r4, #24]
 1251              		.loc 1 318 14 view .LVU353
 1252 004a 9847     		blx	r3
 1253              	.LVL147:
 1254              		.loc 1 318 29 view .LVU354
 1255 004c 431B     		subs	r3, r0, r5
 1256              		.loc 1 318 12 view .LVU355
 1257 004e 084A     		ldr	r2, .L105
 1258 0050 9342     		cmp	r3, r2
 1259 0052 F4D9     		bls	.L96
 319:Device/Dev_W25Qxx.c ****         {
 320:Device/Dev_W25Qxx.c ****             return DevW25Qxx_TimeOut;
 1260              		.loc 1 320 20 view .LVU356
 1261 0054 0326     		movs	r6, #3
 1262 0056 08E0     		b	.L95
 1263              	.L104:
 312:Device/Dev_W25Qxx.c **** 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 30


 1264              		.loc 1 312 16 view .LVU357
 1265 0058 0126     		movs	r6, #1
 1266 005a 06E0     		b	.L95
 1267              	.LVL148:
 1268              	.L98:
 300:Device/Dev_W25Qxx.c **** 
 1269              		.loc 1 300 16 view .LVU358
 1270 005c 0126     		movs	r6, #1
 1271 005e 04E0     		b	.L95
 1272              	.L99:
 300:Device/Dev_W25Qxx.c **** 
 1273              		.loc 1 300 16 view .LVU359
 1274 0060 0126     		movs	r6, #1
 1275 0062 02E0     		b	.L95
 1276              	.L100:
 1277 0064 0126     		movs	r6, #1
 1278 0066 00E0     		b	.L95
 1279              	.LVL149:
 1280              	.L101:
 305:Device/Dev_W25Qxx.c **** 
 1281              		.loc 1 305 16 view .LVU360
 1282 0068 0126     		movs	r6, #1
 1283              	.LVL150:
 1284              	.L95:
 321:Device/Dev_W25Qxx.c ****         }
 322:Device/Dev_W25Qxx.c ****     }
 323:Device/Dev_W25Qxx.c **** 
 324:Device/Dev_W25Qxx.c ****     return DevW25Qxx_Ok;
 325:Device/Dev_W25Qxx.c **** }
 1285              		.loc 1 325 1 view .LVU361
 1286 006a 3046     		mov	r0, r6
 1287 006c 03B0     		add	sp, sp, #12
 1288              	.LCFI33:
 1289              		.cfi_def_cfa_offset 20
 1290              		@ sp needed
 1291 006e F0BD     		pop	{r4, r5, r6, r7, pc}
 1292              	.L106:
 1293              		.align	2
 1294              	.L105:
 1295 0070 90D00300 		.word	250000
 1296              		.cfi_endproc
 1297              	.LFE10:
 1299              		.section	.text.DevW25Qxx_EraseSector,"ax",%progbits
 1300              		.align	1
 1301              		.syntax unified
 1302              		.thumb
 1303              		.thumb_func
 1305              	DevW25Qxx_EraseSector:
 1306              	.LVL151:
 1307              	.LFB11:
 326:Device/Dev_W25Qxx.c **** 
 327:Device/Dev_W25Qxx.c **** static DevW25Qxx_Error_List DevW25Qxx_EraseSector(DevW25QxxObj_TypeDef *dev, uint32_t Address)
 328:Device/Dev_W25Qxx.c **** {
 1308              		.loc 1 328 1 is_stmt 1 view -0
 1309              		.cfi_startproc
 1310              		@ args = 0, pretend = 0, frame = 8
 1311              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 31


 1312              		.loc 1 328 1 is_stmt 0 view .LVU363
 1313 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1314              	.LCFI34:
 1315              		.cfi_def_cfa_offset 20
 1316              		.cfi_offset 4, -20
 1317              		.cfi_offset 5, -16
 1318              		.cfi_offset 6, -12
 1319              		.cfi_offset 7, -8
 1320              		.cfi_offset 14, -4
 1321 0002 83B0     		sub	sp, sp, #12
 1322              	.LCFI35:
 1323              		.cfi_def_cfa_offset 32
 329:Device/Dev_W25Qxx.c ****     uint8_t cmd[4];
 1324              		.loc 1 329 5 is_stmt 1 view .LVU364
 330:Device/Dev_W25Qxx.c ****     uint32_t tickstart = 0;
 1325              		.loc 1 330 5 view .LVU365
 1326              	.LVL152:
 331:Device/Dev_W25Qxx.c ****     bool erase_state = false;
 1327              		.loc 1 331 5 view .LVU366
 332:Device/Dev_W25Qxx.c ****     cmd[0] = SECTOR_ERASE_CMD;
 1328              		.loc 1 332 5 view .LVU367
 1329              		.loc 1 332 12 is_stmt 0 view .LVU368
 1330 0004 2023     		movs	r3, #32
 1331 0006 8DF80430 		strb	r3, [sp, #4]
 333:Device/Dev_W25Qxx.c ****     cmd[1] = (uint8_t)(Address >> 16);
 1332              		.loc 1 333 5 is_stmt 1 view .LVU369
 1333              		.loc 1 333 14 is_stmt 0 view .LVU370
 1334 000a C1F30743 		ubfx	r3, r1, #16, #8
 1335              		.loc 1 333 12 view .LVU371
 1336 000e 8DF80530 		strb	r3, [sp, #5]
 334:Device/Dev_W25Qxx.c ****     cmd[2] = (uint8_t)(Address >> 8);
 1337              		.loc 1 334 5 is_stmt 1 view .LVU372
 1338              		.loc 1 334 14 is_stmt 0 view .LVU373
 1339 0012 C1F30723 		ubfx	r3, r1, #8, #8
 1340              		.loc 1 334 12 view .LVU374
 1341 0016 8DF80630 		strb	r3, [sp, #6]
 335:Device/Dev_W25Qxx.c ****     cmd[3] = (uint8_t)(Address);
 1342              		.loc 1 335 5 is_stmt 1 view .LVU375
 1343              		.loc 1 335 12 is_stmt 0 view .LVU376
 1344 001a 8DF80710 		strb	r1, [sp, #7]
 336:Device/Dev_W25Qxx.c **** 
 337:Device/Dev_W25Qxx.c ****     if ((dev == NULL) || (dev->cs_ctl == NULL) || (dev->systick == NULL))
 1345              		.loc 1 337 5 is_stmt 1 view .LVU377
 1346              		.loc 1 337 8 is_stmt 0 view .LVU378
 1347 001e 40B3     		cbz	r0, .L111
 1348 0020 0446     		mov	r4, r0
 1349              		.loc 1 337 30 discriminator 1 view .LVU379
 1350 0022 0369     		ldr	r3, [r0, #16]
 1351              		.loc 1 337 23 discriminator 1 view .LVU380
 1352 0024 3BB3     		cbz	r3, .L112
 1353              		.loc 1 337 55 discriminator 2 view .LVU381
 1354 0026 8369     		ldr	r3, [r0, #24]
 1355              		.loc 1 337 48 discriminator 2 view .LVU382
 1356 0028 3BB3     		cbz	r3, .L113
 338:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 339:Device/Dev_W25Qxx.c **** 
 340:Device/Dev_W25Qxx.c ****     tickstart = dev->systick();
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 32


 1357              		.loc 1 340 5 is_stmt 1 view .LVU383
 1358              		.loc 1 340 17 is_stmt 0 view .LVU384
 1359 002a 9847     		blx	r3
 1360              	.LVL153:
 1361              		.loc 1 340 17 view .LVU385
 1362 002c 0546     		mov	r5, r0
 1363              	.LVL154:
 341:Device/Dev_W25Qxx.c **** 
 342:Device/Dev_W25Qxx.c ****     /* Enable write operations Send the read ID command */
 343:Device/Dev_W25Qxx.c ****     if (DevW25Qxx_WriteEnable(dev) != DevW25Qxx_Ok)
 1364              		.loc 1 343 5 is_stmt 1 view .LVU386
 1365              		.loc 1 343 9 is_stmt 0 view .LVU387
 1366 002e 2046     		mov	r0, r4
 1367              	.LVL155:
 1368              		.loc 1 343 9 view .LVU388
 1369 0030 FFF7FEFF 		bl	DevW25Qxx_WriteEnable
 1370              	.LVL156:
 1371              		.loc 1 343 8 view .LVU389
 1372 0034 0646     		mov	r6, r0
 1373 0036 10BB     		cbnz	r0, .L114
 344:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 345:Device/Dev_W25Qxx.c **** 
 346:Device/Dev_W25Qxx.c ****     dev->cs_ctl(false);
 1374              		.loc 1 346 5 is_stmt 1 view .LVU390
 1375              		.loc 1 346 8 is_stmt 0 view .LVU391
 1376 0038 2369     		ldr	r3, [r4, #16]
 1377              		.loc 1 346 5 view .LVU392
 1378 003a 9847     		blx	r3
 1379              	.LVL157:
 347:Device/Dev_W25Qxx.c ****     erase_state = DevW25Qxx_BusTrans(dev, cmd, sizeof(cmd));
 1380              		.loc 1 347 5 is_stmt 1 view .LVU393
 1381              		.loc 1 347 19 is_stmt 0 view .LVU394
 1382 003c 0422     		movs	r2, #4
 1383 003e 0DEB0201 		add	r1, sp, r2
 1384 0042 2046     		mov	r0, r4
 1385 0044 FFF7FEFF 		bl	DevW25Qxx_BusTrans
 1386              	.LVL158:
 1387 0048 0746     		mov	r7, r0
 1388              	.LVL159:
 348:Device/Dev_W25Qxx.c ****     dev->cs_ctl(true);
 1389              		.loc 1 348 5 is_stmt 1 view .LVU395
 1390              		.loc 1 348 8 is_stmt 0 view .LVU396
 1391 004a 2369     		ldr	r3, [r4, #16]
 1392              		.loc 1 348 5 view .LVU397
 1393 004c 0120     		movs	r0, #1
 1394 004e 9847     		blx	r3
 1395              	.LVL160:
 349:Device/Dev_W25Qxx.c **** 
 350:Device/Dev_W25Qxx.c ****     if (!erase_state)
 1396              		.loc 1 350 5 is_stmt 1 view .LVU398
 1397              		.loc 1 350 8 is_stmt 0 view .LVU399
 1398 0050 6FB1     		cbz	r7, .L117
 1399              	.L109:
 351:Device/Dev_W25Qxx.c ****         return DevW25Qxx_Error;
 352:Device/Dev_W25Qxx.c **** 
 353:Device/Dev_W25Qxx.c ****     /* Wait the end of Flash writing */
 354:Device/Dev_W25Qxx.c ****     while (DevW25Qxx_GetStatue(dev) == DevW25Qxx_Busy)
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 33


 1400              		.loc 1 354 11 is_stmt 1 view .LVU400
 1401              		.loc 1 354 12 is_stmt 0 view .LVU401
 1402 0052 2046     		mov	r0, r4
 1403 0054 FFF7FEFF 		bl	DevW25Qxx_GetStatue
 1404              	.LVL161:
 1405              		.loc 1 354 11 view .LVU402
 1406 0058 0228     		cmp	r0, #2
 1407 005a 11D1     		bne	.L108
 355:Device/Dev_W25Qxx.c ****     {
 356:Device/Dev_W25Qxx.c ****         /* Check for the Timeout */
 357:Device/Dev_W25Qxx.c ****         if ((dev->systick() - tickstart) > W25Q128FV_SECTOR_ERASE_MAX_TIME)
 1408              		.loc 1 357 9 is_stmt 1 view .LVU403
 1409              		.loc 1 357 17 is_stmt 0 view .LVU404
 1410 005c A369     		ldr	r3, [r4, #24]
 1411              		.loc 1 357 14 view .LVU405
 1412 005e 9847     		blx	r3
 1413              	.LVL162:
 1414              		.loc 1 357 29 view .LVU406
 1415 0060 431B     		subs	r3, r0, r5
 1416              		.loc 1 357 12 view .LVU407
 1417 0062 40F6B832 		movw	r2, #3000
 1418 0066 9342     		cmp	r3, r2
 1419 0068 F3D9     		bls	.L109
 358:Device/Dev_W25Qxx.c ****         {
 359:Device/Dev_W25Qxx.c ****             return DevW25Qxx_TimeOut;
 1420              		.loc 1 359 20 view .LVU408
 1421 006a 0326     		movs	r6, #3
 1422 006c 08E0     		b	.L108
 1423              	.L117:
 351:Device/Dev_W25Qxx.c **** 
 1424              		.loc 1 351 16 view .LVU409
 1425 006e 0126     		movs	r6, #1
 1426 0070 06E0     		b	.L108
 1427              	.LVL163:
 1428              	.L111:
 338:Device/Dev_W25Qxx.c **** 
 1429              		.loc 1 338 16 view .LVU410
 1430 0072 0126     		movs	r6, #1
 1431 0074 04E0     		b	.L108
 1432              	.L112:
 338:Device/Dev_W25Qxx.c **** 
 1433              		.loc 1 338 16 view .LVU411
 1434 0076 0126     		movs	r6, #1
 1435 0078 02E0     		b	.L108
 1436              	.L113:
 1437 007a 0126     		movs	r6, #1
 1438 007c 00E0     		b	.L108
 1439              	.LVL164:
 1440              	.L114:
 344:Device/Dev_W25Qxx.c **** 
 1441              		.loc 1 344 16 view .LVU412
 1442 007e 0126     		movs	r6, #1
 1443              	.LVL165:
 1444              	.L108:
 360:Device/Dev_W25Qxx.c ****         }
 361:Device/Dev_W25Qxx.c ****     }
 362:Device/Dev_W25Qxx.c **** 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 34


 363:Device/Dev_W25Qxx.c ****     return DevW25Qxx_Ok;
 364:Device/Dev_W25Qxx.c **** }
 1445              		.loc 1 364 1 view .LVU413
 1446 0080 3046     		mov	r0, r6
 1447 0082 03B0     		add	sp, sp, #12
 1448              	.LCFI36:
 1449              		.cfi_def_cfa_offset 20
 1450              		@ sp needed
 1451 0084 F0BD     		pop	{r4, r5, r6, r7, pc}
 1452              		.cfi_endproc
 1453              	.LFE11:
 1455              		.section	.text.DevW25Qxx_Get_Section_StartAddr,"ax",%progbits
 1456              		.align	1
 1457              		.syntax unified
 1458              		.thumb
 1459              		.thumb_func
 1461              	DevW25Qxx_Get_Section_StartAddr:
 1462              	.LVL166:
 1463              	.LFB13:
 365:Device/Dev_W25Qxx.c **** 
 366:Device/Dev_W25Qxx.c **** static DevW25Qxx_DeviceInfo_TypeDef DevW25Qxx_Get_Info(DevW25QxxObj_TypeDef *dev)
 367:Device/Dev_W25Qxx.c **** {
 368:Device/Dev_W25Qxx.c ****     DevW25Qxx_DeviceInfo_TypeDef info;
 369:Device/Dev_W25Qxx.c ****     
 370:Device/Dev_W25Qxx.c ****     memset(&info, 0, sizeof(DevW25Qxx_DeviceInfo_TypeDef));
 371:Device/Dev_W25Qxx.c **** 
 372:Device/Dev_W25Qxx.c ****     if (dev && (dev->prod_type != DevW25Q_None))
 373:Device/Dev_W25Qxx.c ****     {
 374:Device/Dev_W25Qxx.c ****         info.start_addr = W25QXX_BASE_ADDRESS;
 375:Device/Dev_W25Qxx.c ****         info.prod_type = dev->prod_type;
 376:Device/Dev_W25Qxx.c ****         info.prod_code = dev->prod_code;
 377:Device/Dev_W25Qxx.c **** 
 378:Device/Dev_W25Qxx.c ****         /* currently we only have such type of flash chip on the evk or fc-board */
 379:Device/Dev_W25Qxx.c ****         switch ((uint8_t)(dev->prod_type))
 380:Device/Dev_W25Qxx.c ****         {
 381:Device/Dev_W25Qxx.c ****             case DevW25Q_64:
 382:Device/Dev_W25Qxx.c ****                 info.flash_size     = W25Q64FV_FLASH_SIZE;
 383:Device/Dev_W25Qxx.c **** 
 384:Device/Dev_W25Qxx.c ****                 info.page_num       = W25Q64FV_PAGE_NUM;
 385:Device/Dev_W25Qxx.c ****                 info.page_size      = W25Q64FV_PAGE_SIZE;
 386:Device/Dev_W25Qxx.c **** 
 387:Device/Dev_W25Qxx.c ****                 info.sector_num     = W25Q64FV_SECTOR_NUM;
 388:Device/Dev_W25Qxx.c ****                 info.sector_size    = W25Q64FV_SECTOR_SIZE;
 389:Device/Dev_W25Qxx.c **** 
 390:Device/Dev_W25Qxx.c ****                 info.subsector_num  = W25Q64FV_SUBSECTOR_NUM;
 391:Device/Dev_W25Qxx.c ****                 info.subsector_size = W25Q64FV_SUBSECTOR_SIZE;
 392:Device/Dev_W25Qxx.c ****                 break;
 393:Device/Dev_W25Qxx.c **** 
 394:Device/Dev_W25Qxx.c ****             case DevW25Q_128:
 395:Device/Dev_W25Qxx.c ****                 info.flash_size     = W25Q128FV_FLASH_SIZE;
 396:Device/Dev_W25Qxx.c ****                 
 397:Device/Dev_W25Qxx.c ****                 info.page_num       = W25Q128FV_PAGE_NUM;
 398:Device/Dev_W25Qxx.c ****                 info.page_size      = W25Q128FV_PAGE_SIZE;
 399:Device/Dev_W25Qxx.c **** 
 400:Device/Dev_W25Qxx.c ****                 info.sector_num     = W25Q128FV_SECTOR_NUM;
 401:Device/Dev_W25Qxx.c ****                 info.sector_size    = W25Q128FV_SECTOR_SIZE;
 402:Device/Dev_W25Qxx.c **** 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 35


 403:Device/Dev_W25Qxx.c ****                 info.subsector_num  = W25Q128FV_SUBSECTOR_NUM;
 404:Device/Dev_W25Qxx.c ****                 info.subsector_size = W25Q128FV_SUBSECTOR_SIZE;
 405:Device/Dev_W25Qxx.c ****                 break;
 406:Device/Dev_W25Qxx.c **** 
 407:Device/Dev_W25Qxx.c ****             default:
 408:Device/Dev_W25Qxx.c ****                 break;
 409:Device/Dev_W25Qxx.c ****         }
 410:Device/Dev_W25Qxx.c ****     }
 411:Device/Dev_W25Qxx.c **** 
 412:Device/Dev_W25Qxx.c ****     return info;
 413:Device/Dev_W25Qxx.c **** }
 414:Device/Dev_W25Qxx.c **** 
 415:Device/Dev_W25Qxx.c **** static uint32_t DevW25Qxx_Get_Section_StartAddr(DevW25QxxObj_TypeDef *dev, uint32_t addr)
 416:Device/Dev_W25Qxx.c **** {
 1464              		.loc 1 416 1 is_stmt 1 view -0
 1465              		.cfi_startproc
 1466              		@ args = 0, pretend = 0, frame = 0
 1467              		@ frame_needed = 0, uses_anonymous_args = 0
 1468              		@ link register save eliminated.
 417:Device/Dev_W25Qxx.c ****     if (dev && (dev->init_state == DevW25Qxx_Ok))
 1469              		.loc 1 417 5 view .LVU415
 1470              		.loc 1 417 8 is_stmt 0 view .LVU416
 1471 0000 40B1     		cbz	r0, .L120
 1472              		.loc 1 417 20 discriminator 1 view .LVU417
 1473 0002 037D     		ldrb	r3, [r0, #20]	@ zero_extendqisi2
 1474              		.loc 1 417 13 discriminator 1 view .LVU418
 1475 0004 0BB1     		cbz	r3, .L122
 418:Device/Dev_W25Qxx.c ****     {
 419:Device/Dev_W25Qxx.c ****         return (addr / W25Q64FV_SUBSECTOR_SIZE) * W25Q64FV_SUBSECTOR_SIZE;
 420:Device/Dev_W25Qxx.c ****     }
 421:Device/Dev_W25Qxx.c **** 
 422:Device/Dev_W25Qxx.c ****     return 0;
 1476              		.loc 1 422 12 view .LVU419
 1477 0006 0020     		movs	r0, #0
 1478              	.LVL167:
 423:Device/Dev_W25Qxx.c **** }
 1479              		.loc 1 423 1 view .LVU420
 1480 0008 7047     		bx	lr
 1481              	.LVL168:
 1482              	.L122:
 419:Device/Dev_W25Qxx.c ****     }
 1483              		.loc 1 419 9 is_stmt 1 view .LVU421
 419:Device/Dev_W25Qxx.c ****     }
 1484              		.loc 1 419 49 is_stmt 0 view .LVU422
 1485 000a 21F47F60 		bic	r0, r1, #4080
 1486              	.LVL169:
 419:Device/Dev_W25Qxx.c ****     }
 1487              		.loc 1 419 49 view .LVU423
 1488 000e 20F00F00 		bic	r0, r0, #15
 1489 0012 7047     		bx	lr
 1490              	.LVL170:
 1491              	.L120:
 422:Device/Dev_W25Qxx.c **** }
 1492              		.loc 1 422 12 view .LVU424
 1493 0014 0020     		movs	r0, #0
 1494              	.LVL171:
 422:Device/Dev_W25Qxx.c **** }
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 36


 1495              		.loc 1 422 12 view .LVU425
 1496 0016 7047     		bx	lr
 1497              		.cfi_endproc
 1498              	.LFE13:
 1500              		.section	.text.DevW25Qxx_Get_Info,"ax",%progbits
 1501              		.align	1
 1502              		.syntax unified
 1503              		.thumb
 1504              		.thumb_func
 1506              	DevW25Qxx_Get_Info:
 1507              	.LVL172:
 1508              	.LFB12:
 367:Device/Dev_W25Qxx.c ****     DevW25Qxx_DeviceInfo_TypeDef info;
 1509              		.loc 1 367 1 is_stmt 1 view -0
 1510              		.cfi_startproc
 1511              		@ args = 0, pretend = 0, frame = 32
 1512              		@ frame_needed = 0, uses_anonymous_args = 0
 367:Device/Dev_W25Qxx.c ****     DevW25Qxx_DeviceInfo_TypeDef info;
 1513              		.loc 1 367 1 is_stmt 0 view .LVU427
 1514 0000 10B5     		push	{r4, lr}
 1515              	.LCFI37:
 1516              		.cfi_def_cfa_offset 8
 1517              		.cfi_offset 4, -8
 1518              		.cfi_offset 14, -4
 1519 0002 88B0     		sub	sp, sp, #32
 1520              	.LCFI38:
 1521              		.cfi_def_cfa_offset 40
 1522 0004 0446     		mov	r4, r0
 368:Device/Dev_W25Qxx.c ****     
 1523              		.loc 1 368 5 is_stmt 1 view .LVU428
 370:Device/Dev_W25Qxx.c **** 
 1524              		.loc 1 370 5 view .LVU429
 1525 0006 0023     		movs	r3, #0
 1526 0008 0193     		str	r3, [sp, #4]
 1527 000a 0293     		str	r3, [sp, #8]
 1528 000c 0393     		str	r3, [sp, #12]
 1529 000e 0493     		str	r3, [sp, #16]
 1530 0010 0593     		str	r3, [sp, #20]
 1531 0012 0693     		str	r3, [sp, #24]
 1532 0014 0793     		str	r3, [sp, #28]
 372:Device/Dev_W25Qxx.c ****     {
 1533              		.loc 1 372 5 view .LVU430
 372:Device/Dev_W25Qxx.c ****     {
 1534              		.loc 1 372 8 is_stmt 0 view .LVU431
 1535 0016 51B1     		cbz	r1, .L124
 372:Device/Dev_W25Qxx.c ****     {
 1536              		.loc 1 372 20 discriminator 1 view .LVU432
 1537 0018 0A78     		ldrb	r2, [r1]	@ zero_extendqisi2
 372:Device/Dev_W25Qxx.c ****     {
 1538              		.loc 1 372 13 discriminator 1 view .LVU433
 1539 001a 42B1     		cbz	r2, .L124
 374:Device/Dev_W25Qxx.c ****         info.prod_type = dev->prod_type;
 1540              		.loc 1 374 9 is_stmt 1 view .LVU434
 375:Device/Dev_W25Qxx.c ****         info.prod_code = dev->prod_code;
 1541              		.loc 1 375 9 view .LVU435
 375:Device/Dev_W25Qxx.c ****         info.prod_code = dev->prod_code;
 1542              		.loc 1 375 24 is_stmt 0 view .LVU436
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 37


 1543 001c 8DF80420 		strb	r2, [sp, #4]
 376:Device/Dev_W25Qxx.c **** 
 1544              		.loc 1 376 9 is_stmt 1 view .LVU437
 376:Device/Dev_W25Qxx.c **** 
 1545              		.loc 1 376 29 is_stmt 0 view .LVU438
 1546 0020 4B88     		ldrh	r3, [r1, #2]
 376:Device/Dev_W25Qxx.c **** 
 1547              		.loc 1 376 24 view .LVU439
 1548 0022 ADF80630 		strh	r3, [sp, #6]	@ movhi
 379:Device/Dev_W25Qxx.c ****         {
 1549              		.loc 1 379 9 is_stmt 1 view .LVU440
 1550 0026 042A     		cmp	r2, #4
 1551 0028 0FD0     		beq	.L125
 1552 002a 052A     		cmp	r2, #5
 1553 002c 26D0     		beq	.L126
 1554              	.L124:
 412:Device/Dev_W25Qxx.c **** }
 1555              		.loc 1 412 5 view .LVU441
 412:Device/Dev_W25Qxx.c **** }
 1556              		.loc 1 412 12 is_stmt 0 view .LVU442
 1557 002e A446     		mov	ip, r4
 1558 0030 0DF1040E 		add	lr, sp, #4
 1559 0034 BEE80F00 		ldmia	lr!, {r0, r1, r2, r3}
 1560              	.LVL173:
 412:Device/Dev_W25Qxx.c **** }
 1561              		.loc 1 412 12 view .LVU443
 1562 0038 ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 1563 003c 9EE80700 		ldm	lr, {r0, r1, r2}
 1564 0040 8CE80700 		stm	ip, {r0, r1, r2}
 413:Device/Dev_W25Qxx.c **** 
 1565              		.loc 1 413 1 view .LVU444
 1566 0044 2046     		mov	r0, r4
 1567 0046 08B0     		add	sp, sp, #32
 1568              	.LCFI39:
 1569              		.cfi_remember_state
 1570              		.cfi_def_cfa_offset 8
 1571              		@ sp needed
 1572 0048 10BD     		pop	{r4, pc}
 1573              	.LVL174:
 1574              	.L125:
 1575              	.LCFI40:
 1576              		.cfi_restore_state
 382:Device/Dev_W25Qxx.c **** 
 1577              		.loc 1 382 17 is_stmt 1 view .LVU445
 382:Device/Dev_W25Qxx.c **** 
 1578              		.loc 1 382 37 is_stmt 0 view .LVU446
 1579 004a 4FF40003 		mov	r3, #8388608
 1580 004e 0393     		str	r3, [sp, #12]
 384:Device/Dev_W25Qxx.c ****                 info.page_size      = W25Q64FV_PAGE_SIZE;
 1581              		.loc 1 384 17 is_stmt 1 view .LVU447
 384:Device/Dev_W25Qxx.c ****                 info.page_size      = W25Q64FV_PAGE_SIZE;
 1582              		.loc 1 384 37 is_stmt 0 view .LVU448
 1583 0050 4FF40043 		mov	r3, #32768
 1584 0054 ADF81E30 		strh	r3, [sp, #30]	@ movhi
 385:Device/Dev_W25Qxx.c **** 
 1585              		.loc 1 385 17 is_stmt 1 view .LVU449
 385:Device/Dev_W25Qxx.c **** 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 38


 1586              		.loc 1 385 37 is_stmt 0 view .LVU450
 1587 0058 4FF48073 		mov	r3, #256
 1588 005c ADF81830 		strh	r3, [sp, #24]	@ movhi
 387:Device/Dev_W25Qxx.c ****                 info.sector_size    = W25Q64FV_SECTOR_SIZE;
 1589              		.loc 1 387 17 is_stmt 1 view .LVU451
 387:Device/Dev_W25Qxx.c ****                 info.sector_size    = W25Q64FV_SECTOR_SIZE;
 1590              		.loc 1 387 37 is_stmt 0 view .LVU452
 1591 0060 8023     		movs	r3, #128
 1592 0062 ADF81A30 		strh	r3, [sp, #26]	@ movhi
 388:Device/Dev_W25Qxx.c **** 
 1593              		.loc 1 388 17 is_stmt 1 view .LVU453
 388:Device/Dev_W25Qxx.c **** 
 1594              		.loc 1 388 37 is_stmt 0 view .LVU454
 1595 0066 4FF48033 		mov	r3, #65536
 1596 006a 0493     		str	r3, [sp, #16]
 390:Device/Dev_W25Qxx.c ****                 info.subsector_size = W25Q64FV_SUBSECTOR_SIZE;
 1597              		.loc 1 390 17 is_stmt 1 view .LVU455
 390:Device/Dev_W25Qxx.c ****                 info.subsector_size = W25Q64FV_SUBSECTOR_SIZE;
 1598              		.loc 1 390 37 is_stmt 0 view .LVU456
 1599 006c 4FF40063 		mov	r3, #2048
 1600 0070 ADF81C30 		strh	r3, [sp, #28]	@ movhi
 391:Device/Dev_W25Qxx.c ****                 break;
 1601              		.loc 1 391 17 is_stmt 1 view .LVU457
 391:Device/Dev_W25Qxx.c ****                 break;
 1602              		.loc 1 391 37 is_stmt 0 view .LVU458
 1603 0074 4FF48053 		mov	r3, #4096
 1604 0078 0593     		str	r3, [sp, #20]
 392:Device/Dev_W25Qxx.c **** 
 1605              		.loc 1 392 17 is_stmt 1 view .LVU459
 1606 007a D8E7     		b	.L124
 1607              	.L126:
 395:Device/Dev_W25Qxx.c ****                 
 1608              		.loc 1 395 17 view .LVU460
 395:Device/Dev_W25Qxx.c ****                 
 1609              		.loc 1 395 37 is_stmt 0 view .LVU461
 1610 007c 4FF08073 		mov	r3, #16777216
 1611 0080 0393     		str	r3, [sp, #12]
 397:Device/Dev_W25Qxx.c ****                 info.page_size      = W25Q128FV_PAGE_SIZE;
 1612              		.loc 1 397 17 is_stmt 1 view .LVU462
 397:Device/Dev_W25Qxx.c ****                 info.page_size      = W25Q128FV_PAGE_SIZE;
 1613              		.loc 1 397 37 is_stmt 0 view .LVU463
 1614 0082 4FF6FF73 		movw	r3, #65535
 1615 0086 ADF81E30 		strh	r3, [sp, #30]	@ movhi
 398:Device/Dev_W25Qxx.c **** 
 1616              		.loc 1 398 17 is_stmt 1 view .LVU464
 398:Device/Dev_W25Qxx.c **** 
 1617              		.loc 1 398 37 is_stmt 0 view .LVU465
 1618 008a 4FF48073 		mov	r3, #256
 1619 008e ADF81830 		strh	r3, [sp, #24]	@ movhi
 400:Device/Dev_W25Qxx.c ****                 info.sector_size    = W25Q128FV_SECTOR_SIZE;
 1620              		.loc 1 400 17 is_stmt 1 view .LVU466
 400:Device/Dev_W25Qxx.c ****                 info.sector_size    = W25Q128FV_SECTOR_SIZE;
 1621              		.loc 1 400 37 is_stmt 0 view .LVU467
 1622 0092 ADF81A30 		strh	r3, [sp, #26]	@ movhi
 401:Device/Dev_W25Qxx.c **** 
 1623              		.loc 1 401 17 is_stmt 1 view .LVU468
 401:Device/Dev_W25Qxx.c **** 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 39


 1624              		.loc 1 401 37 is_stmt 0 view .LVU469
 1625 0096 4FF48033 		mov	r3, #65536
 1626 009a 0493     		str	r3, [sp, #16]
 403:Device/Dev_W25Qxx.c ****                 info.subsector_size = W25Q128FV_SUBSECTOR_SIZE;
 1627              		.loc 1 403 17 is_stmt 1 view .LVU470
 403:Device/Dev_W25Qxx.c ****                 info.subsector_size = W25Q128FV_SUBSECTOR_SIZE;
 1628              		.loc 1 403 37 is_stmt 0 view .LVU471
 1629 009c 4FF48053 		mov	r3, #4096
 1630 00a0 ADF81C30 		strh	r3, [sp, #28]	@ movhi
 404:Device/Dev_W25Qxx.c ****                 break;
 1631              		.loc 1 404 17 is_stmt 1 view .LVU472
 404:Device/Dev_W25Qxx.c ****                 break;
 1632              		.loc 1 404 37 is_stmt 0 view .LVU473
 1633 00a4 0593     		str	r3, [sp, #20]
 405:Device/Dev_W25Qxx.c **** 
 1634              		.loc 1 405 17 is_stmt 1 view .LVU474
 1635 00a6 C2E7     		b	.L124
 1636              		.cfi_endproc
 1637              	.LFE12:
 1639              		.global	DevW25Qxx
 1640              		.section	.data.DevW25Qxx,"aw"
 1641              		.align	2
 1644              	DevW25Qxx:
 1645 0000 00000000 		.word	DevW25Qxx_Init
 1646 0004 00000000 		.space	4
 1647 0008 00000000 		.word	DevW25Qxx_Reset
 1648 000c 00000000 		.word	DevW25Qxx_Write
 1649 0010 00000000 		.word	DevW25Qxx_Read
 1650 0014 00000000 		.word	DevW25Qxx_EraseSector
 1651 0018 00000000 		.word	DevW25Qxx_EraseChip
 1652 001c 00000000 		.word	DevW25Qxx_Get_Info
 1653 0020 00000000 		.word	DevW25Qxx_Get_Section_StartAddr
 1654              		.text
 1655              	.Letext0:
 1656              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 1657              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 1658              		.file 4 "Device/Dev_W25Qxx.h"
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s 			page 40


DEFINED SYMBOLS
                            *ABS*:00000000 Dev_W25Qxx.c
C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s:20     .text.DevW25Qxx_BusTrans:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s:25     .text.DevW25Qxx_BusTrans:00000000 DevW25Qxx_BusTrans
C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s:95     .text.DevW25Qxx_BusReceive:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s:100    .text.DevW25Qxx_BusReceive:00000000 DevW25Qxx_BusReceive
C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s:169    .text.DevW25Qxx_Reset:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s:174    .text.DevW25Qxx_Reset:00000000 DevW25Qxx_Reset
C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s:266    .text.DevW25Qxx_GetStatue:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s:271    .text.DevW25Qxx_GetStatue:00000000 DevW25Qxx_GetStatue
C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s:383    .text.DevW25Qxx_WriteEnable:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s:388    .text.DevW25Qxx_WriteEnable:00000000 DevW25Qxx_WriteEnable
C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s:528    .text.DevW25Qxx_Get_ProdType:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s:533    .text.DevW25Qxx_Get_ProdType:00000000 DevW25Qxx_Get_ProdType
C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s:616    .text.DevW25Qxx_Get_ProdType:00000054 $d
C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s:676    .text.DevW25Qxx_Init:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s:681    .text.DevW25Qxx_Init:00000000 DevW25Qxx_Init
C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s:771    .text.DevW25Qxx_Read:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s:776    .text.DevW25Qxx_Read:00000000 DevW25Qxx_Read
C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s:914    .text.DevW25Qxx_Write:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s:919    .text.DevW25Qxx_Write:00000000 DevW25Qxx_Write
C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s:1154   .text.DevW25Qxx_EraseChip:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s:1159   .text.DevW25Qxx_EraseChip:00000000 DevW25Qxx_EraseChip
C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s:1295   .text.DevW25Qxx_EraseChip:00000070 $d
C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s:1300   .text.DevW25Qxx_EraseSector:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s:1305   .text.DevW25Qxx_EraseSector:00000000 DevW25Qxx_EraseSector
C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s:1456   .text.DevW25Qxx_Get_Section_StartAddr:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s:1461   .text.DevW25Qxx_Get_Section_StartAddr:00000000 DevW25Qxx_Get_Section_StartAddr
C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s:1501   .text.DevW25Qxx_Get_Info:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s:1506   .text.DevW25Qxx_Get_Info:00000000 DevW25Qxx_Get_Info
C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s:1644   .data.DevW25Qxx:00000000 DevW25Qxx
C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s:1641   .data.DevW25Qxx:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s:621    .text.DevW25Qxx_Get_ProdType:00000059 $d
C:\Users\8bit\AppData\Local\Temp\ccYKky1X.s:621    .text.DevW25Qxx_Get_ProdType:0000005a $t

NO UNDEFINED SYMBOLS
