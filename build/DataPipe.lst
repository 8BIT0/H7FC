ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 1
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"DataPipe.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.DataPipe_TransFinish_Callback,"ax",%progbits
  17              		.align	1
  18              		.arch armv7e-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv5-d16
  24              	DataPipe_TransFinish_Callback:
  25              	.LVL0:
  26              	.LFB150:
  27              		.file 1 "System/DataPipe/DataPipe.c"
   1:System/DataPipe/DataPipe.c **** #include "DataPipe.h"
   2:System/DataPipe/DataPipe.c **** #include "mmu.h"
   3:System/DataPipe/DataPipe.c **** #include "kernel.h"
   4:System/DataPipe/DataPipe.c **** #include "stm32h743xx.h"
   5:System/DataPipe/DataPipe.c **** #include "stm32h7xx_hal_rcc.h"
   6:System/DataPipe/DataPipe.c **** #include "stm32h7xx_hal_dma.h"
   7:System/DataPipe/DataPipe.c **** #include "queue.h"
   8:System/DataPipe/DataPipe.c **** #include "runtime.h"
   9:System/DataPipe/DataPipe.c **** 
  10:System/DataPipe/DataPipe.c **** #define MAX_RETRY_CNT 200
  11:System/DataPipe/DataPipe.c **** 
  12:System/DataPipe/DataPipe.c **** DMA_HandleTypeDef DataPipe_DMA;
  13:System/DataPipe/DataPipe.c **** 
  14:System/DataPipe/DataPipe.c **** /* internal variable */
  15:System/DataPipe/DataPipe.c **** static Data_PlugedPipeObj_TypeDef Cur_Pluged_PipeObj = {.org = NULL, .dst = NULL};
  16:System/DataPipe/DataPipe.c **** static DataPipe_State_List Pipe_State = Pipe_UnReady;
  17:System/DataPipe/DataPipe.c **** 
  18:System/DataPipe/DataPipe.c **** /* internal function */
  19:System/DataPipe/DataPipe.c **** static void DataPipe_TransFinish_Callback(DMA_HandleTypeDef *dma_hdl);
  20:System/DataPipe/DataPipe.c **** static void DataPipe_TransError_Callback(DMA_HandleTypeDef *dma_hdl);
  21:System/DataPipe/DataPipe.c **** 
  22:System/DataPipe/DataPipe.c **** bool DataPipe_Init(void)
  23:System/DataPipe/DataPipe.c **** {
  24:System/DataPipe/DataPipe.c ****     /* DMA controller clock enable */
  25:System/DataPipe/DataPipe.c ****     __HAL_RCC_DMA2_CLK_ENABLE();
  26:System/DataPipe/DataPipe.c **** 
  27:System/DataPipe/DataPipe.c ****     /* Configure DMA request DataPipe_DMA on DMA2_Stream7 */
  28:System/DataPipe/DataPipe.c ****     DataPipe_DMA.Instance = DMA2_Stream7;
  29:System/DataPipe/DataPipe.c ****     DataPipe_DMA.Init.Request = DMA_REQUEST_MEM2MEM;
  30:System/DataPipe/DataPipe.c ****     DataPipe_DMA.Init.Direction = DMA_MEMORY_TO_MEMORY;
  31:System/DataPipe/DataPipe.c ****     DataPipe_DMA.Init.PeriphInc = DMA_PINC_ENABLE;
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s 			page 2


  32:System/DataPipe/DataPipe.c ****     DataPipe_DMA.Init.MemInc = DMA_MINC_ENABLE;
  33:System/DataPipe/DataPipe.c ****     DataPipe_DMA.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
  34:System/DataPipe/DataPipe.c ****     DataPipe_DMA.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
  35:System/DataPipe/DataPipe.c ****     DataPipe_DMA.Init.Mode = DMA_NORMAL;
  36:System/DataPipe/DataPipe.c ****     DataPipe_DMA.Init.Priority = DMA_PRIORITY_VERY_HIGH;
  37:System/DataPipe/DataPipe.c ****     DataPipe_DMA.Init.FIFOMode = DMA_FIFOMODE_ENABLE;
  38:System/DataPipe/DataPipe.c **** 
  39:System/DataPipe/DataPipe.c ****     if (HAL_DMA_Init(&DataPipe_DMA) != HAL_OK)
  40:System/DataPipe/DataPipe.c ****         return false;
  41:System/DataPipe/DataPipe.c **** 
  42:System/DataPipe/DataPipe.c ****     /* set transmit process callback */
  43:System/DataPipe/DataPipe.c ****     HAL_DMA_RegisterCallback(&DataPipe_DMA, HAL_DMA_XFER_CPLT_CB_ID, DataPipe_TransFinish_Callback)
  44:System/DataPipe/DataPipe.c ****     HAL_DMA_RegisterCallback(&DataPipe_DMA, HAL_DMA_XFER_ERROR_CB_ID, DataPipe_TransError_Callback)
  45:System/DataPipe/DataPipe.c **** 
  46:System/DataPipe/DataPipe.c ****     /* DMA interrupt init */
  47:System/DataPipe/DataPipe.c ****     /* DMA2_Stream7_IRQn interrupt configuration */
  48:System/DataPipe/DataPipe.c ****     HAL_NVIC_SetPriority(DMA2_Stream7_IRQn, 5, 0);
  49:System/DataPipe/DataPipe.c ****     HAL_NVIC_EnableIRQ(DMA2_Stream7_IRQn);
  50:System/DataPipe/DataPipe.c **** 
  51:System/DataPipe/DataPipe.c ****     Pipe_State = Pipe_Ready;
  52:System/DataPipe/DataPipe.c **** 
  53:System/DataPipe/DataPipe.c ****     return true;
  54:System/DataPipe/DataPipe.c **** }
  55:System/DataPipe/DataPipe.c **** 
  56:System/DataPipe/DataPipe.c **** bool DataPipe_SendTo(DataPipeObj_TypeDef *p_org, DataPipeObj_TypeDef *p_dst)
  57:System/DataPipe/DataPipe.c **** {
  58:System/DataPipe/DataPipe.c ****     uint8_t retry_cnt = 5;
  59:System/DataPipe/DataPipe.c ****     uint32_t cur_ms = Get_CurrentRunningMs();
  60:System/DataPipe/DataPipe.c **** 
  61:System/DataPipe/DataPipe.c ****     if ((p_org == NULL) ||
  62:System/DataPipe/DataPipe.c ****         (p_dst == NULL) ||
  63:System/DataPipe/DataPipe.c ****         (p_org->data_size != p_dst->data_size) ||
  64:System/DataPipe/DataPipe.c ****         (Pipe_State != Pipe_Ready))
  65:System/DataPipe/DataPipe.c ****         return false;
  66:System/DataPipe/DataPipe.c **** 
  67:System/DataPipe/DataPipe.c ****     Cur_Pluged_PipeObj.dst = p_dst;
  68:System/DataPipe/DataPipe.c ****     Cur_Pluged_PipeObj.org = p_org;
  69:System/DataPipe/DataPipe.c **** 
  70:System/DataPipe/DataPipe.c ****     Kernel_EnterCritical();
  71:System/DataPipe/DataPipe.c **** 
  72:System/DataPipe/DataPipe.c **** retry:
  73:System/DataPipe/DataPipe.c ****     Pipe_State = Pipe_Busy;
  74:System/DataPipe/DataPipe.c ****     if (HAL_DMA_Start_IT(&DataPipe_DMA, p_org->data_addr, p_dst->data_addr, p_org->data_size) != HA
  75:System/DataPipe/DataPipe.c ****     {
  76:System/DataPipe/DataPipe.c ****         Pipe_State = Pipe_Error;
  77:System/DataPipe/DataPipe.c ****         p_org->er_cnt++;
  78:System/DataPipe/DataPipe.c ****         p_dst->er_cnt++;
  79:System/DataPipe/DataPipe.c ****         retry_cnt--;
  80:System/DataPipe/DataPipe.c **** 
  81:System/DataPipe/DataPipe.c ****         if (HAL_DMA_Abort_IT(&DataPipe_DMA) != HAL_OK)
  82:System/DataPipe/DataPipe.c ****         {
  83:System/DataPipe/DataPipe.c ****             if (retry_cnt)
  84:System/DataPipe/DataPipe.c ****                 goto retry;
  85:System/DataPipe/DataPipe.c ****         }
  86:System/DataPipe/DataPipe.c ****     }
  87:System/DataPipe/DataPipe.c **** 
  88:System/DataPipe/DataPipe.c ****     Kernel_ExitCritical();
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s 			page 3


  89:System/DataPipe/DataPipe.c **** 
  90:System/DataPipe/DataPipe.c ****     retry_cnt = MAX_RETRY_CNT;
  91:System/DataPipe/DataPipe.c ****     while (Pipe_State != Pipe_Ready)
  92:System/DataPipe/DataPipe.c ****     {
  93:System/DataPipe/DataPipe.c ****         retry_cnt --;
  94:System/DataPipe/DataPipe.c **** 
  95:System/DataPipe/DataPipe.c ****         if(retry_cnt == 0)
  96:System/DataPipe/DataPipe.c ****             return false;
  97:System/DataPipe/DataPipe.c ****     }
  98:System/DataPipe/DataPipe.c **** 
  99:System/DataPipe/DataPipe.c ****     return true;
 100:System/DataPipe/DataPipe.c **** }
 101:System/DataPipe/DataPipe.c **** 
 102:System/DataPipe/DataPipe.c **** bool DataPipe_DealError(void)
 103:System/DataPipe/DataPipe.c **** {
 104:System/DataPipe/DataPipe.c ****     if (Pipe_State == Pipe_Error)
 105:System/DataPipe/DataPipe.c ****     {
 106:System/DataPipe/DataPipe.c ****     }
 107:System/DataPipe/DataPipe.c **** 
 108:System/DataPipe/DataPipe.c ****     return true;
 109:System/DataPipe/DataPipe.c **** }
 110:System/DataPipe/DataPipe.c **** 
 111:System/DataPipe/DataPipe.c **** /* transmit completely callback */
 112:System/DataPipe/DataPipe.c **** static void DataPipe_TransFinish_Callback(DMA_HandleTypeDef *dma_hdl)
 113:System/DataPipe/DataPipe.c **** {
  28              		.loc 1 113 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		.loc 1 113 1 is_stmt 0 view .LVU1
  33 0000 08B5     		push	{r3, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 3, -8
  37              		.cfi_offset 14, -4
 114:System/DataPipe/DataPipe.c ****     if (dma_hdl == &DataPipe_DMA)
  38              		.loc 1 114 5 is_stmt 1 view .LVU2
  39              		.loc 1 114 8 is_stmt 0 view .LVU3
  40 0002 114B     		ldr	r3, .L7
  41 0004 8342     		cmp	r3, r0
  42 0006 00D0     		beq	.L6
  43              	.LVL1:
  44              	.L1:
 115:System/DataPipe/DataPipe.c ****     {
 116:System/DataPipe/DataPipe.c ****         Pipe_State = Pipe_Ready;
 117:System/DataPipe/DataPipe.c **** 
 118:System/DataPipe/DataPipe.c ****         Cur_Pluged_PipeObj.dst->rx_cnt++;
 119:System/DataPipe/DataPipe.c ****         Cur_Pluged_PipeObj.org->tx_cnt++;
 120:System/DataPipe/DataPipe.c **** 
 121:System/DataPipe/DataPipe.c ****         if (Cur_Pluged_PipeObj.org->trans_finish_cb)
 122:System/DataPipe/DataPipe.c ****             Cur_Pluged_PipeObj.org->trans_finish_cb(Cur_Pluged_PipeObj.org);
 123:System/DataPipe/DataPipe.c **** 
 124:System/DataPipe/DataPipe.c ****         if (Cur_Pluged_PipeObj.dst->trans_finish_cb)
 125:System/DataPipe/DataPipe.c ****             Cur_Pluged_PipeObj.dst->trans_finish_cb(Cur_Pluged_PipeObj.dst);
 126:System/DataPipe/DataPipe.c **** 
 127:System/DataPipe/DataPipe.c ****         Cur_Pluged_PipeObj.dst = NULL;
 128:System/DataPipe/DataPipe.c ****         Cur_Pluged_PipeObj.org = NULL;
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s 			page 4


 129:System/DataPipe/DataPipe.c ****     }
 130:System/DataPipe/DataPipe.c **** }
  45              		.loc 1 130 1 view .LVU4
  46 0008 08BD     		pop	{r3, pc}
  47              	.LVL2:
  48              	.L6:
 116:System/DataPipe/DataPipe.c **** 
  49              		.loc 1 116 9 is_stmt 1 view .LVU5
 116:System/DataPipe/DataPipe.c **** 
  50              		.loc 1 116 20 is_stmt 0 view .LVU6
  51 000a 104B     		ldr	r3, .L7+4
  52 000c 0122     		movs	r2, #1
  53 000e 1A70     		strb	r2, [r3]
 118:System/DataPipe/DataPipe.c ****         Cur_Pluged_PipeObj.org->tx_cnt++;
  54              		.loc 1 118 9 is_stmt 1 view .LVU7
 118:System/DataPipe/DataPipe.c ****         Cur_Pluged_PipeObj.org->tx_cnt++;
  55              		.loc 1 118 27 is_stmt 0 view .LVU8
  56 0010 0F4A     		ldr	r2, .L7+8
  57 0012 5168     		ldr	r1, [r2, #4]
 118:System/DataPipe/DataPipe.c ****         Cur_Pluged_PipeObj.org->tx_cnt++;
  58              		.loc 1 118 31 view .LVU9
  59 0014 D1F81230 		ldr	r3, [r1, #18]	@ unaligned
 118:System/DataPipe/DataPipe.c ****         Cur_Pluged_PipeObj.org->tx_cnt++;
  60              		.loc 1 118 39 view .LVU10
  61 0018 0133     		adds	r3, r3, #1
  62 001a C1F81230 		str	r3, [r1, #18]	@ unaligned
 119:System/DataPipe/DataPipe.c **** 
  63              		.loc 1 119 9 is_stmt 1 view .LVU11
 119:System/DataPipe/DataPipe.c **** 
  64              		.loc 1 119 27 is_stmt 0 view .LVU12
  65 001e 1068     		ldr	r0, [r2]
  66              	.LVL3:
 119:System/DataPipe/DataPipe.c **** 
  67              		.loc 1 119 31 view .LVU13
  68 0020 D0F80E30 		ldr	r3, [r0, #14]	@ unaligned
 119:System/DataPipe/DataPipe.c **** 
  69              		.loc 1 119 39 view .LVU14
  70 0024 0133     		adds	r3, r3, #1
  71 0026 C0F80E30 		str	r3, [r0, #14]	@ unaligned
 121:System/DataPipe/DataPipe.c ****             Cur_Pluged_PipeObj.org->trans_finish_cb(Cur_Pluged_PipeObj.org);
  72              		.loc 1 121 9 is_stmt 1 view .LVU15
 121:System/DataPipe/DataPipe.c ****             Cur_Pluged_PipeObj.org->trans_finish_cb(Cur_Pluged_PipeObj.org);
  73              		.loc 1 121 35 is_stmt 0 view .LVU16
  74 002a D0F80630 		ldr	r3, [r0, #6]	@ unaligned
 121:System/DataPipe/DataPipe.c ****             Cur_Pluged_PipeObj.org->trans_finish_cb(Cur_Pluged_PipeObj.org);
  75              		.loc 1 121 12 view .LVU17
  76 002e 03B1     		cbz	r3, .L3
 122:System/DataPipe/DataPipe.c **** 
  77              		.loc 1 122 13 is_stmt 1 view .LVU18
  78 0030 9847     		blx	r3
  79              	.LVL4:
  80              	.L3:
 124:System/DataPipe/DataPipe.c ****             Cur_Pluged_PipeObj.dst->trans_finish_cb(Cur_Pluged_PipeObj.dst);
  81              		.loc 1 124 9 view .LVU19
 124:System/DataPipe/DataPipe.c ****             Cur_Pluged_PipeObj.dst->trans_finish_cb(Cur_Pluged_PipeObj.dst);
  82              		.loc 1 124 31 is_stmt 0 view .LVU20
  83 0032 074B     		ldr	r3, .L7+8
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s 			page 5


  84 0034 5868     		ldr	r0, [r3, #4]
 124:System/DataPipe/DataPipe.c ****             Cur_Pluged_PipeObj.dst->trans_finish_cb(Cur_Pluged_PipeObj.dst);
  85              		.loc 1 124 35 view .LVU21
  86 0036 D0F80630 		ldr	r3, [r0, #6]	@ unaligned
 124:System/DataPipe/DataPipe.c ****             Cur_Pluged_PipeObj.dst->trans_finish_cb(Cur_Pluged_PipeObj.dst);
  87              		.loc 1 124 12 view .LVU22
  88 003a 03B1     		cbz	r3, .L4
 125:System/DataPipe/DataPipe.c **** 
  89              		.loc 1 125 13 is_stmt 1 view .LVU23
  90 003c 9847     		blx	r3
  91              	.LVL5:
  92              	.L4:
 127:System/DataPipe/DataPipe.c ****         Cur_Pluged_PipeObj.org = NULL;
  93              		.loc 1 127 9 view .LVU24
 127:System/DataPipe/DataPipe.c ****         Cur_Pluged_PipeObj.org = NULL;
  94              		.loc 1 127 32 is_stmt 0 view .LVU25
  95 003e 044B     		ldr	r3, .L7+8
  96 0040 0022     		movs	r2, #0
  97 0042 5A60     		str	r2, [r3, #4]
 128:System/DataPipe/DataPipe.c ****     }
  98              		.loc 1 128 9 is_stmt 1 view .LVU26
 128:System/DataPipe/DataPipe.c ****     }
  99              		.loc 1 128 32 is_stmt 0 view .LVU27
 100 0044 1A60     		str	r2, [r3]
 101              		.loc 1 130 1 view .LVU28
 102 0046 DFE7     		b	.L1
 103              	.L8:
 104              		.align	2
 105              	.L7:
 106 0048 00000000 		.word	.LANCHOR0
 107 004c 00000000 		.word	.LANCHOR1
 108 0050 00000000 		.word	.LANCHOR2
 109              		.cfi_endproc
 110              	.LFE150:
 112              		.section	.text.DataPipe_TransError_Callback,"ax",%progbits
 113              		.align	1
 114              		.syntax unified
 115              		.thumb
 116              		.thumb_func
 117              		.fpu fpv5-d16
 119              	DataPipe_TransError_Callback:
 120              	.LVL6:
 121              	.LFB151:
 131:System/DataPipe/DataPipe.c **** 
 132:System/DataPipe/DataPipe.c **** /* transmit error callback */
 133:System/DataPipe/DataPipe.c **** static void DataPipe_TransError_Callback(DMA_HandleTypeDef *dma_hdl)
 134:System/DataPipe/DataPipe.c **** {
 122              		.loc 1 134 1 is_stmt 1 view -0
 123              		.cfi_startproc
 124              		@ args = 0, pretend = 0, frame = 0
 125              		@ frame_needed = 0, uses_anonymous_args = 0
 135:System/DataPipe/DataPipe.c ****     if (dma_hdl == &DataPipe_DMA)
 126              		.loc 1 135 5 view .LVU30
 127              		.loc 1 135 8 is_stmt 0 view .LVU31
 128 0000 174B     		ldr	r3, .L18
 129 0002 9842     		cmp	r0, r3
 130 0004 00D0     		beq	.L17
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s 			page 6


 131 0006 7047     		bx	lr
 132              	.L17:
 134:System/DataPipe/DataPipe.c ****     if (dma_hdl == &DataPipe_DMA)
 133              		.loc 1 134 1 view .LVU32
 134 0008 10B5     		push	{r4, lr}
 135              	.LCFI1:
 136              		.cfi_def_cfa_offset 8
 137              		.cfi_offset 4, -8
 138              		.cfi_offset 14, -4
 139 000a 0446     		mov	r4, r0
 136:System/DataPipe/DataPipe.c ****     {
 137:System/DataPipe/DataPipe.c ****         Pipe_State = Pipe_Error;
 140              		.loc 1 137 9 is_stmt 1 view .LVU33
 141              		.loc 1 137 20 is_stmt 0 view .LVU34
 142 000c 154B     		ldr	r3, .L18+4
 143 000e 0322     		movs	r2, #3
 144 0010 1A70     		strb	r2, [r3]
 138:System/DataPipe/DataPipe.c **** 
 139:System/DataPipe/DataPipe.c ****         Cur_Pluged_PipeObj.dst->er_cnt++;
 145              		.loc 1 139 9 is_stmt 1 view .LVU35
 146              		.loc 1 139 27 is_stmt 0 view .LVU36
 147 0012 154A     		ldr	r2, .L18+8
 148 0014 5168     		ldr	r1, [r2, #4]
 149              		.loc 1 139 31 view .LVU37
 150 0016 D1F81630 		ldr	r3, [r1, #22]	@ unaligned
 151              		.loc 1 139 39 view .LVU38
 152 001a 0133     		adds	r3, r3, #1
 153 001c C1F81630 		str	r3, [r1, #22]	@ unaligned
 140:System/DataPipe/DataPipe.c ****         Cur_Pluged_PipeObj.org->er_cnt++;
 154              		.loc 1 140 9 is_stmt 1 view .LVU39
 155              		.loc 1 140 27 is_stmt 0 view .LVU40
 156 0020 1068     		ldr	r0, [r2]
 157              	.LVL7:
 158              		.loc 1 140 31 view .LVU41
 159 0022 D0F81630 		ldr	r3, [r0, #22]	@ unaligned
 160              		.loc 1 140 39 view .LVU42
 161 0026 0133     		adds	r3, r3, #1
 162 0028 C0F81630 		str	r3, [r0, #22]	@ unaligned
 141:System/DataPipe/DataPipe.c **** 
 142:System/DataPipe/DataPipe.c ****         if (Cur_Pluged_PipeObj.org->trans_error_cb)
 163              		.loc 1 142 9 is_stmt 1 view .LVU43
 164              		.loc 1 142 35 is_stmt 0 view .LVU44
 165 002c D0F80A30 		ldr	r3, [r0, #10]	@ unaligned
 166              		.loc 1 142 12 view .LVU45
 167 0030 03B1     		cbz	r3, .L11
 143:System/DataPipe/DataPipe.c ****             Cur_Pluged_PipeObj.org->trans_error_cb(Cur_Pluged_PipeObj.org);
 168              		.loc 1 143 13 is_stmt 1 view .LVU46
 169 0032 9847     		blx	r3
 170              	.LVL8:
 171              	.L11:
 144:System/DataPipe/DataPipe.c **** 
 145:System/DataPipe/DataPipe.c ****         if (Cur_Pluged_PipeObj.dst->trans_error_cb)
 172              		.loc 1 145 9 view .LVU47
 173              		.loc 1 145 31 is_stmt 0 view .LVU48
 174 0034 0C4B     		ldr	r3, .L18+8
 175 0036 5868     		ldr	r0, [r3, #4]
 176              		.loc 1 145 35 view .LVU49
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s 			page 7


 177 0038 D0F80A30 		ldr	r3, [r0, #10]	@ unaligned
 178              		.loc 1 145 12 view .LVU50
 179 003c 03B1     		cbz	r3, .L12
 146:System/DataPipe/DataPipe.c ****             Cur_Pluged_PipeObj.dst->trans_error_cb(Cur_Pluged_PipeObj.dst);
 180              		.loc 1 146 13 is_stmt 1 view .LVU51
 181 003e 9847     		blx	r3
 182              	.LVL9:
 183              	.L12:
 147:System/DataPipe/DataPipe.c **** 
 148:System/DataPipe/DataPipe.c ****         Cur_Pluged_PipeObj.dst = NULL;
 184              		.loc 1 148 9 view .LVU52
 185              		.loc 1 148 32 is_stmt 0 view .LVU53
 186 0040 094B     		ldr	r3, .L18+8
 187 0042 0022     		movs	r2, #0
 188 0044 5A60     		str	r2, [r3, #4]
 149:System/DataPipe/DataPipe.c ****         Cur_Pluged_PipeObj.org = NULL;
 189              		.loc 1 149 9 is_stmt 1 view .LVU54
 190              		.loc 1 149 32 is_stmt 0 view .LVU55
 191 0046 1A60     		str	r2, [r3]
 150:System/DataPipe/DataPipe.c **** 
 151:System/DataPipe/DataPipe.c ****         /*!< Transfer error */
 152:System/DataPipe/DataPipe.c ****         if (dma_hdl->ErrorCode & HAL_DMA_ERROR_TE)
 192              		.loc 1 152 9 is_stmt 1 view .LVU56
 193              		.loc 1 152 20 is_stmt 0 view .LVU57
 194 0048 636D     		ldr	r3, [r4, #84]
 153:System/DataPipe/DataPipe.c ****         {
 154:System/DataPipe/DataPipe.c ****         }
 195              		.loc 1 154 9 is_stmt 1 view .LVU58
 155:System/DataPipe/DataPipe.c **** 
 156:System/DataPipe/DataPipe.c ****         /*!< FIFO error */
 157:System/DataPipe/DataPipe.c ****         if (dma_hdl->ErrorCode & HAL_DMA_ERROR_FE)
 196              		.loc 1 157 9 view .LVU59
 197              		.loc 1 157 20 is_stmt 0 view .LVU60
 198 004a 636D     		ldr	r3, [r4, #84]
 158:System/DataPipe/DataPipe.c ****         {
 159:System/DataPipe/DataPipe.c ****         }
 199              		.loc 1 159 9 is_stmt 1 view .LVU61
 160:System/DataPipe/DataPipe.c **** 
 161:System/DataPipe/DataPipe.c ****         /*!< Direct Mode error */
 162:System/DataPipe/DataPipe.c ****         if (dma_hdl->ErrorCode & HAL_DMA_ERROR_DME)
 200              		.loc 1 162 9 view .LVU62
 201              		.loc 1 162 20 is_stmt 0 view .LVU63
 202 004c 636D     		ldr	r3, [r4, #84]
 163:System/DataPipe/DataPipe.c ****         {
 164:System/DataPipe/DataPipe.c ****         }
 203              		.loc 1 164 9 is_stmt 1 view .LVU64
 165:System/DataPipe/DataPipe.c **** 
 166:System/DataPipe/DataPipe.c ****         /*!< Timeout error */
 167:System/DataPipe/DataPipe.c ****         if (dma_hdl->ErrorCode & HAL_DMA_ERROR_TIMEOUT)
 204              		.loc 1 167 9 view .LVU65
 205              		.loc 1 167 20 is_stmt 0 view .LVU66
 206 004e 636D     		ldr	r3, [r4, #84]
 168:System/DataPipe/DataPipe.c ****         {
 169:System/DataPipe/DataPipe.c ****         }
 207              		.loc 1 169 9 is_stmt 1 view .LVU67
 170:System/DataPipe/DataPipe.c **** 
 171:System/DataPipe/DataPipe.c ****         /*!< Parameter error */
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s 			page 8


 172:System/DataPipe/DataPipe.c ****         if (dma_hdl->ErrorCode & HAL_DMA_ERROR_PARAM)
 208              		.loc 1 172 9 view .LVU68
 209              		.loc 1 172 20 is_stmt 0 view .LVU69
 210 0050 636D     		ldr	r3, [r4, #84]
 173:System/DataPipe/DataPipe.c ****         {
 174:System/DataPipe/DataPipe.c ****         }
 211              		.loc 1 174 9 is_stmt 1 view .LVU70
 175:System/DataPipe/DataPipe.c **** 
 176:System/DataPipe/DataPipe.c ****         /*!< Abort requested with no Xfer ongoing */
 177:System/DataPipe/DataPipe.c ****         if (dma_hdl->ErrorCode & HAL_DMA_ERROR_PARAM)
 212              		.loc 1 177 9 view .LVU71
 213              		.loc 1 177 20 is_stmt 0 view .LVU72
 214 0052 636D     		ldr	r3, [r4, #84]
 178:System/DataPipe/DataPipe.c ****         {
 179:System/DataPipe/DataPipe.c ****         }
 215              		.loc 1 179 9 is_stmt 1 view .LVU73
 180:System/DataPipe/DataPipe.c **** 
 181:System/DataPipe/DataPipe.c ****         /*!< Not supported mode */
 182:System/DataPipe/DataPipe.c ****         if (dma_hdl->ErrorCode & HAL_DMA_ERROR_NOT_SUPPORTED)
 216              		.loc 1 182 9 view .LVU74
 217              		.loc 1 182 20 is_stmt 0 view .LVU75
 218 0054 636D     		ldr	r3, [r4, #84]
 183:System/DataPipe/DataPipe.c ****         {
 184:System/DataPipe/DataPipe.c ****         }
 219              		.loc 1 184 9 is_stmt 1 view .LVU76
 185:System/DataPipe/DataPipe.c **** 
 186:System/DataPipe/DataPipe.c ****         /*!< DMAMUX sync overrun  error */
 187:System/DataPipe/DataPipe.c ****         if (dma_hdl->ErrorCode & HAL_DMA_ERROR_SYNC)
 220              		.loc 1 187 9 view .LVU77
 221              		.loc 1 187 20 is_stmt 0 view .LVU78
 222 0056 636D     		ldr	r3, [r4, #84]
 188:System/DataPipe/DataPipe.c ****         {
 189:System/DataPipe/DataPipe.c ****         }
 223              		.loc 1 189 9 is_stmt 1 view .LVU79
 190:System/DataPipe/DataPipe.c **** 
 191:System/DataPipe/DataPipe.c ****         /*!< DMAMUX request generator overrun  error */
 192:System/DataPipe/DataPipe.c ****         if (dma_hdl->ErrorCode & HAL_DMA_ERROR_REQGEN)
 224              		.loc 1 192 9 view .LVU80
 225              		.loc 1 192 20 is_stmt 0 view .LVU81
 226 0058 636D     		ldr	r3, [r4, #84]
 193:System/DataPipe/DataPipe.c ****         {
 194:System/DataPipe/DataPipe.c ****         }
 227              		.loc 1 194 9 is_stmt 1 view .LVU82
 195:System/DataPipe/DataPipe.c **** 
 196:System/DataPipe/DataPipe.c ****         /*!< DMA Busy error */
 197:System/DataPipe/DataPipe.c ****         if (dma_hdl->ErrorCode & HAL_DMA_ERROR_BUSY)
 228              		.loc 1 197 9 view .LVU83
 229              		.loc 1 197 20 is_stmt 0 view .LVU84
 230 005a 636D     		ldr	r3, [r4, #84]
 198:System/DataPipe/DataPipe.c ****         {
 199:System/DataPipe/DataPipe.c ****         }
 231              		.loc 1 199 9 is_stmt 1 view .LVU85
 200:System/DataPipe/DataPipe.c **** 
 201:System/DataPipe/DataPipe.c ****         /* recover from error */
 202:System/DataPipe/DataPipe.c ****     }
 203:System/DataPipe/DataPipe.c **** }
 232              		.loc 1 203 1 is_stmt 0 view .LVU86
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s 			page 9


 233 005c 10BD     		pop	{r4, pc}
 234              	.LVL10:
 235              	.L19:
 236              		.loc 1 203 1 view .LVU87
 237 005e 00BF     		.align	2
 238              	.L18:
 239 0060 00000000 		.word	.LANCHOR0
 240 0064 00000000 		.word	.LANCHOR1
 241 0068 00000000 		.word	.LANCHOR2
 242              		.cfi_endproc
 243              	.LFE151:
 245              		.section	.text.DataPipe_Init,"ax",%progbits
 246              		.align	1
 247              		.global	DataPipe_Init
 248              		.syntax unified
 249              		.thumb
 250              		.thumb_func
 251              		.fpu fpv5-d16
 253              	DataPipe_Init:
 254              	.LFB147:
  23:System/DataPipe/DataPipe.c ****     /* DMA controller clock enable */
 255              		.loc 1 23 1 is_stmt 1 view -0
 256              		.cfi_startproc
 257              		@ args = 0, pretend = 0, frame = 8
 258              		@ frame_needed = 0, uses_anonymous_args = 0
 259 0000 10B5     		push	{r4, lr}
 260              	.LCFI2:
 261              		.cfi_def_cfa_offset 8
 262              		.cfi_offset 4, -8
 263              		.cfi_offset 14, -4
 264 0002 82B0     		sub	sp, sp, #8
 265              	.LCFI3:
 266              		.cfi_def_cfa_offset 16
  25:System/DataPipe/DataPipe.c **** 
 267              		.loc 1 25 5 view .LVU89
 268              	.LBB2:
  25:System/DataPipe/DataPipe.c **** 
 269              		.loc 1 25 5 view .LVU90
  25:System/DataPipe/DataPipe.c **** 
 270              		.loc 1 25 5 view .LVU91
 271 0004 1F4B     		ldr	r3, .L25
 272 0006 D3F8D820 		ldr	r2, [r3, #216]
 273 000a 42F00202 		orr	r2, r2, #2
 274 000e C3F8D820 		str	r2, [r3, #216]
  25:System/DataPipe/DataPipe.c **** 
 275              		.loc 1 25 5 view .LVU92
 276 0012 D3F8D830 		ldr	r3, [r3, #216]
 277 0016 03F00203 		and	r3, r3, #2
 278 001a 0193     		str	r3, [sp, #4]
  25:System/DataPipe/DataPipe.c **** 
 279              		.loc 1 25 5 view .LVU93
 280 001c 019B     		ldr	r3, [sp, #4]
 281              	.LBE2:
  25:System/DataPipe/DataPipe.c **** 
 282              		.loc 1 25 5 view .LVU94
  28:System/DataPipe/DataPipe.c ****     DataPipe_DMA.Init.Request = DMA_REQUEST_MEM2MEM;
 283              		.loc 1 28 5 view .LVU95
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s 			page 10


  28:System/DataPipe/DataPipe.c ****     DataPipe_DMA.Init.Request = DMA_REQUEST_MEM2MEM;
 284              		.loc 1 28 27 is_stmt 0 view .LVU96
 285 001e 1A48     		ldr	r0, .L25+4
 286 0020 1A4B     		ldr	r3, .L25+8
 287 0022 0360     		str	r3, [r0]
  29:System/DataPipe/DataPipe.c ****     DataPipe_DMA.Init.Direction = DMA_MEMORY_TO_MEMORY;
 288              		.loc 1 29 5 is_stmt 1 view .LVU97
  29:System/DataPipe/DataPipe.c ****     DataPipe_DMA.Init.Direction = DMA_MEMORY_TO_MEMORY;
 289              		.loc 1 29 31 is_stmt 0 view .LVU98
 290 0024 0023     		movs	r3, #0
 291 0026 4360     		str	r3, [r0, #4]
  30:System/DataPipe/DataPipe.c ****     DataPipe_DMA.Init.PeriphInc = DMA_PINC_ENABLE;
 292              		.loc 1 30 5 is_stmt 1 view .LVU99
  30:System/DataPipe/DataPipe.c ****     DataPipe_DMA.Init.PeriphInc = DMA_PINC_ENABLE;
 293              		.loc 1 30 33 is_stmt 0 view .LVU100
 294 0028 8022     		movs	r2, #128
 295 002a 8260     		str	r2, [r0, #8]
  31:System/DataPipe/DataPipe.c ****     DataPipe_DMA.Init.MemInc = DMA_MINC_ENABLE;
 296              		.loc 1 31 5 is_stmt 1 view .LVU101
  31:System/DataPipe/DataPipe.c ****     DataPipe_DMA.Init.MemInc = DMA_MINC_ENABLE;
 297              		.loc 1 31 33 is_stmt 0 view .LVU102
 298 002c 4FF40072 		mov	r2, #512
 299 0030 C260     		str	r2, [r0, #12]
  32:System/DataPipe/DataPipe.c ****     DataPipe_DMA.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 300              		.loc 1 32 5 is_stmt 1 view .LVU103
  32:System/DataPipe/DataPipe.c ****     DataPipe_DMA.Init.PeriphDataAlignment = DMA_PDATAALIGN_BYTE;
 301              		.loc 1 32 30 is_stmt 0 view .LVU104
 302 0032 4FF48062 		mov	r2, #1024
 303 0036 0261     		str	r2, [r0, #16]
  33:System/DataPipe/DataPipe.c ****     DataPipe_DMA.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
 304              		.loc 1 33 5 is_stmt 1 view .LVU105
  33:System/DataPipe/DataPipe.c ****     DataPipe_DMA.Init.MemDataAlignment = DMA_MDATAALIGN_BYTE;
 305              		.loc 1 33 43 is_stmt 0 view .LVU106
 306 0038 4361     		str	r3, [r0, #20]
  34:System/DataPipe/DataPipe.c ****     DataPipe_DMA.Init.Mode = DMA_NORMAL;
 307              		.loc 1 34 5 is_stmt 1 view .LVU107
  34:System/DataPipe/DataPipe.c ****     DataPipe_DMA.Init.Mode = DMA_NORMAL;
 308              		.loc 1 34 40 is_stmt 0 view .LVU108
 309 003a 8361     		str	r3, [r0, #24]
  35:System/DataPipe/DataPipe.c ****     DataPipe_DMA.Init.Priority = DMA_PRIORITY_VERY_HIGH;
 310              		.loc 1 35 5 is_stmt 1 view .LVU109
  35:System/DataPipe/DataPipe.c ****     DataPipe_DMA.Init.Priority = DMA_PRIORITY_VERY_HIGH;
 311              		.loc 1 35 28 is_stmt 0 view .LVU110
 312 003c C361     		str	r3, [r0, #28]
  36:System/DataPipe/DataPipe.c ****     DataPipe_DMA.Init.FIFOMode = DMA_FIFOMODE_ENABLE;
 313              		.loc 1 36 5 is_stmt 1 view .LVU111
  36:System/DataPipe/DataPipe.c ****     DataPipe_DMA.Init.FIFOMode = DMA_FIFOMODE_ENABLE;
 314              		.loc 1 36 32 is_stmt 0 view .LVU112
 315 003e 4FF44033 		mov	r3, #196608
 316 0042 0362     		str	r3, [r0, #32]
  37:System/DataPipe/DataPipe.c **** 
 317              		.loc 1 37 5 is_stmt 1 view .LVU113
  37:System/DataPipe/DataPipe.c **** 
 318              		.loc 1 37 32 is_stmt 0 view .LVU114
 319 0044 0423     		movs	r3, #4
 320 0046 4362     		str	r3, [r0, #36]
  39:System/DataPipe/DataPipe.c ****         return false;
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s 			page 11


 321              		.loc 1 39 5 is_stmt 1 view .LVU115
  39:System/DataPipe/DataPipe.c ****         return false;
 322              		.loc 1 39 9 is_stmt 0 view .LVU116
 323 0048 FFF7FEFF 		bl	HAL_DMA_Init
 324              	.LVL11:
  39:System/DataPipe/DataPipe.c ****         return false;
 325              		.loc 1 39 8 view .LVU117
 326 004c 10B1     		cbz	r0, .L24
  40:System/DataPipe/DataPipe.c **** 
 327              		.loc 1 40 16 view .LVU118
 328 004e 0020     		movs	r0, #0
 329              	.L21:
  54:System/DataPipe/DataPipe.c **** 
 330              		.loc 1 54 1 view .LVU119
 331 0050 02B0     		add	sp, sp, #8
 332              	.LCFI4:
 333              		.cfi_remember_state
 334              		.cfi_def_cfa_offset 8
 335              		@ sp needed
 336 0052 10BD     		pop	{r4, pc}
 337              	.L24:
 338              	.LCFI5:
 339              		.cfi_restore_state
  43:System/DataPipe/DataPipe.c ****     HAL_DMA_RegisterCallback(&DataPipe_DMA, HAL_DMA_XFER_ERROR_CB_ID, DataPipe_TransError_Callback)
 340              		.loc 1 43 5 is_stmt 1 view .LVU120
 341 0054 0C4C     		ldr	r4, .L25+4
 342 0056 0E4A     		ldr	r2, .L25+12
 343 0058 0021     		movs	r1, #0
 344 005a 2046     		mov	r0, r4
 345 005c FFF7FEFF 		bl	HAL_DMA_RegisterCallback
 346              	.LVL12:
  44:System/DataPipe/DataPipe.c **** 
 347              		.loc 1 44 5 view .LVU121
 348 0060 0C4A     		ldr	r2, .L25+16
 349 0062 0421     		movs	r1, #4
 350 0064 2046     		mov	r0, r4
 351 0066 FFF7FEFF 		bl	HAL_DMA_RegisterCallback
 352              	.LVL13:
  48:System/DataPipe/DataPipe.c ****     HAL_NVIC_EnableIRQ(DMA2_Stream7_IRQn);
 353              		.loc 1 48 5 view .LVU122
 354 006a 0022     		movs	r2, #0
 355 006c 0521     		movs	r1, #5
 356 006e 4620     		movs	r0, #70
 357 0070 FFF7FEFF 		bl	HAL_NVIC_SetPriority
 358              	.LVL14:
  49:System/DataPipe/DataPipe.c **** 
 359              		.loc 1 49 5 view .LVU123
 360 0074 4620     		movs	r0, #70
 361 0076 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 362              	.LVL15:
  51:System/DataPipe/DataPipe.c **** 
 363              		.loc 1 51 5 view .LVU124
  51:System/DataPipe/DataPipe.c **** 
 364              		.loc 1 51 16 is_stmt 0 view .LVU125
 365 007a 0120     		movs	r0, #1
 366 007c 064B     		ldr	r3, .L25+20
 367 007e 1870     		strb	r0, [r3]
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s 			page 12


  53:System/DataPipe/DataPipe.c **** }
 368              		.loc 1 53 5 is_stmt 1 view .LVU126
  53:System/DataPipe/DataPipe.c **** }
 369              		.loc 1 53 12 is_stmt 0 view .LVU127
 370 0080 E6E7     		b	.L21
 371              	.L26:
 372 0082 00BF     		.align	2
 373              	.L25:
 374 0084 00440258 		.word	1476543488
 375 0088 00000000 		.word	.LANCHOR0
 376 008c B8040240 		.word	1073874104
 377 0090 00000000 		.word	DataPipe_TransFinish_Callback
 378 0094 00000000 		.word	DataPipe_TransError_Callback
 379 0098 00000000 		.word	.LANCHOR1
 380              		.cfi_endproc
 381              	.LFE147:
 383              		.section	.text.DataPipe_SendTo,"ax",%progbits
 384              		.align	1
 385              		.global	DataPipe_SendTo
 386              		.syntax unified
 387              		.thumb
 388              		.thumb_func
 389              		.fpu fpv5-d16
 391              	DataPipe_SendTo:
 392              	.LVL16:
 393              	.LFB148:
  57:System/DataPipe/DataPipe.c ****     uint8_t retry_cnt = 5;
 394              		.loc 1 57 1 is_stmt 1 view -0
 395              		.cfi_startproc
 396              		@ args = 0, pretend = 0, frame = 0
 397              		@ frame_needed = 0, uses_anonymous_args = 0
  57:System/DataPipe/DataPipe.c ****     uint8_t retry_cnt = 5;
 398              		.loc 1 57 1 is_stmt 0 view .LVU129
 399 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 400              	.LCFI6:
 401              		.cfi_def_cfa_offset 24
 402              		.cfi_offset 3, -24
 403              		.cfi_offset 4, -20
 404              		.cfi_offset 5, -16
 405              		.cfi_offset 6, -12
 406              		.cfi_offset 7, -8
 407              		.cfi_offset 14, -4
 408 0002 0446     		mov	r4, r0
 409 0004 0D46     		mov	r5, r1
  58:System/DataPipe/DataPipe.c ****     uint32_t cur_ms = Get_CurrentRunningMs();
 410              		.loc 1 58 5 is_stmt 1 view .LVU130
 411              	.LVL17:
  59:System/DataPipe/DataPipe.c **** 
 412              		.loc 1 59 5 view .LVU131
  59:System/DataPipe/DataPipe.c **** 
 413              		.loc 1 59 23 is_stmt 0 view .LVU132
 414 0006 FFF7FEFF 		bl	Get_CurrentRunningMs
 415              	.LVL18:
  61:System/DataPipe/DataPipe.c ****         (p_dst == NULL) ||
 416              		.loc 1 61 5 is_stmt 1 view .LVU133
  61:System/DataPipe/DataPipe.c ****         (p_dst == NULL) ||
 417              		.loc 1 61 8 is_stmt 0 view .LVU134
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s 			page 13


 418 000a 002D     		cmp	r5, #0
 419 000c 18BF     		it	ne
 420 000e 002C     		cmpne	r4, #0
 421 0010 0CBF     		ite	eq
 422 0012 0127     		moveq	r7, #1
 423 0014 0027     		movne	r7, #0
 424 0016 3AD0     		beq	.L33
  63:System/DataPipe/DataPipe.c ****         (Pipe_State != Pipe_Ready))
 425              		.loc 1 63 15 view .LVU135
 426 0018 A288     		ldrh	r2, [r4, #4]	@ unaligned
  63:System/DataPipe/DataPipe.c ****         (Pipe_State != Pipe_Ready))
 427              		.loc 1 63 35 view .LVU136
 428 001a AB88     		ldrh	r3, [r5, #4]	@ unaligned
  62:System/DataPipe/DataPipe.c ****         (p_org->data_size != p_dst->data_size) ||
 429              		.loc 1 62 25 view .LVU137
 430 001c 9A42     		cmp	r2, r3
 431 001e 37D1     		bne	.L28
  64:System/DataPipe/DataPipe.c ****         return false;
 432              		.loc 1 64 21 view .LVU138
 433 0020 1C4B     		ldr	r3, .L36
 434 0022 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  63:System/DataPipe/DataPipe.c ****         (Pipe_State != Pipe_Ready))
 435              		.loc 1 63 48 view .LVU139
 436 0024 012B     		cmp	r3, #1
 437 0026 33D1     		bne	.L28
  67:System/DataPipe/DataPipe.c ****     Cur_Pluged_PipeObj.org = p_org;
 438              		.loc 1 67 5 is_stmt 1 view .LVU140
  67:System/DataPipe/DataPipe.c ****     Cur_Pluged_PipeObj.org = p_org;
 439              		.loc 1 67 28 is_stmt 0 view .LVU141
 440 0028 1B4B     		ldr	r3, .L36+4
 441 002a 5D60     		str	r5, [r3, #4]
  68:System/DataPipe/DataPipe.c **** 
 442              		.loc 1 68 5 is_stmt 1 view .LVU142
  68:System/DataPipe/DataPipe.c **** 
 443              		.loc 1 68 28 is_stmt 0 view .LVU143
 444 002c 1C60     		str	r4, [r3]
  70:System/DataPipe/DataPipe.c **** 
 445              		.loc 1 70 5 is_stmt 1 view .LVU144
 446 002e FFF7FEFF 		bl	Kernel_EnterCritical
 447              	.LVL19:
  58:System/DataPipe/DataPipe.c ****     uint32_t cur_ms = Get_CurrentRunningMs();
 448              		.loc 1 58 13 is_stmt 0 view .LVU145
 449 0032 0526     		movs	r6, #5
 450              	.LVL20:
 451              	.L29:
  73:System/DataPipe/DataPipe.c ****     if (HAL_DMA_Start_IT(&DataPipe_DMA, p_org->data_addr, p_dst->data_addr, p_org->data_size) != HA
 452              		.loc 1 73 5 is_stmt 1 view .LVU146
  73:System/DataPipe/DataPipe.c ****     if (HAL_DMA_Start_IT(&DataPipe_DMA, p_org->data_addr, p_dst->data_addr, p_org->data_size) != HA
 453              		.loc 1 73 16 is_stmt 0 view .LVU147
 454 0034 174B     		ldr	r3, .L36
 455 0036 0222     		movs	r2, #2
 456 0038 1A70     		strb	r2, [r3]
  74:System/DataPipe/DataPipe.c ****     {
 457              		.loc 1 74 5 is_stmt 1 view .LVU148
  74:System/DataPipe/DataPipe.c ****     {
 458              		.loc 1 74 9 is_stmt 0 view .LVU149
 459 003a A388     		ldrh	r3, [r4, #4]	@ unaligned
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s 			page 14


 460 003c 2A68     		ldr	r2, [r5]	@ unaligned
 461 003e 2168     		ldr	r1, [r4]	@ unaligned
 462 0040 1648     		ldr	r0, .L36+8
 463 0042 FFF7FEFF 		bl	HAL_DMA_Start_IT
 464              	.LVL21:
  74:System/DataPipe/DataPipe.c ****     {
 465              		.loc 1 74 8 view .LVU150
 466 0046 A0B1     		cbz	r0, .L30
  76:System/DataPipe/DataPipe.c ****         p_org->er_cnt++;
 467              		.loc 1 76 9 is_stmt 1 view .LVU151
  76:System/DataPipe/DataPipe.c ****         p_org->er_cnt++;
 468              		.loc 1 76 20 is_stmt 0 view .LVU152
 469 0048 124B     		ldr	r3, .L36
 470 004a 0322     		movs	r2, #3
 471 004c 1A70     		strb	r2, [r3]
  77:System/DataPipe/DataPipe.c ****         p_dst->er_cnt++;
 472              		.loc 1 77 9 is_stmt 1 view .LVU153
  77:System/DataPipe/DataPipe.c ****         p_dst->er_cnt++;
 473              		.loc 1 77 14 is_stmt 0 view .LVU154
 474 004e D4F81630 		ldr	r3, [r4, #22]	@ unaligned
  77:System/DataPipe/DataPipe.c ****         p_dst->er_cnt++;
 475              		.loc 1 77 22 view .LVU155
 476 0052 0133     		adds	r3, r3, #1
 477 0054 C4F81630 		str	r3, [r4, #22]	@ unaligned
  78:System/DataPipe/DataPipe.c ****         retry_cnt--;
 478              		.loc 1 78 9 is_stmt 1 view .LVU156
  78:System/DataPipe/DataPipe.c ****         retry_cnt--;
 479              		.loc 1 78 14 is_stmt 0 view .LVU157
 480 0058 D5F81630 		ldr	r3, [r5, #22]	@ unaligned
  78:System/DataPipe/DataPipe.c ****         retry_cnt--;
 481              		.loc 1 78 22 view .LVU158
 482 005c 0133     		adds	r3, r3, #1
 483 005e C5F81630 		str	r3, [r5, #22]	@ unaligned
  79:System/DataPipe/DataPipe.c **** 
 484              		.loc 1 79 9 is_stmt 1 view .LVU159
  79:System/DataPipe/DataPipe.c **** 
 485              		.loc 1 79 18 is_stmt 0 view .LVU160
 486 0062 013E     		subs	r6, r6, #1
 487              	.LVL22:
  79:System/DataPipe/DataPipe.c **** 
 488              		.loc 1 79 18 view .LVU161
 489 0064 F6B2     		uxtb	r6, r6
 490              	.LVL23:
  81:System/DataPipe/DataPipe.c ****         {
 491              		.loc 1 81 9 is_stmt 1 view .LVU162
  81:System/DataPipe/DataPipe.c ****         {
 492              		.loc 1 81 13 is_stmt 0 view .LVU163
 493 0066 0D48     		ldr	r0, .L36+8
 494 0068 FFF7FEFF 		bl	HAL_DMA_Abort_IT
 495              	.LVL24:
  81:System/DataPipe/DataPipe.c ****         {
 496              		.loc 1 81 12 view .LVU164
 497 006c 08B1     		cbz	r0, .L30
  83:System/DataPipe/DataPipe.c ****                 goto retry;
 498              		.loc 1 83 13 is_stmt 1 view .LVU165
  83:System/DataPipe/DataPipe.c ****                 goto retry;
 499              		.loc 1 83 16 is_stmt 0 view .LVU166
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s 			page 15


 500 006e 002E     		cmp	r6, #0
 501 0070 E0D1     		bne	.L29
 502              	.L30:
  88:System/DataPipe/DataPipe.c **** 
 503              		.loc 1 88 5 is_stmt 1 view .LVU167
 504 0072 FFF7FEFF 		bl	Kernel_ExitCritical
 505              	.LVL25:
  90:System/DataPipe/DataPipe.c ****     while (Pipe_State != Pipe_Ready)
 506              		.loc 1 90 5 view .LVU168
  91:System/DataPipe/DataPipe.c ****     {
 507              		.loc 1 91 5 view .LVU169
  90:System/DataPipe/DataPipe.c ****     while (Pipe_State != Pipe_Ready)
 508              		.loc 1 90 15 is_stmt 0 view .LVU170
 509 0076 C823     		movs	r3, #200
 510              	.LVL26:
 511              	.L31:
  91:System/DataPipe/DataPipe.c ****     {
 512              		.loc 1 91 11 is_stmt 1 view .LVU171
  91:System/DataPipe/DataPipe.c ****     {
 513              		.loc 1 91 23 is_stmt 0 view .LVU172
 514 0078 064A     		ldr	r2, .L36
 515 007a 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
  91:System/DataPipe/DataPipe.c ****     {
 516              		.loc 1 91 11 view .LVU173
 517 007c 012A     		cmp	r2, #1
 518 007e 04D0     		beq	.L35
  93:System/DataPipe/DataPipe.c **** 
 519              		.loc 1 93 9 is_stmt 1 view .LVU174
  93:System/DataPipe/DataPipe.c **** 
 520              		.loc 1 93 19 is_stmt 0 view .LVU175
 521 0080 013B     		subs	r3, r3, #1
 522              	.LVL27:
  95:System/DataPipe/DataPipe.c ****             return false;
 523              		.loc 1 95 9 is_stmt 1 view .LVU176
  95:System/DataPipe/DataPipe.c ****             return false;
 524              		.loc 1 95 11 is_stmt 0 view .LVU177
 525 0082 13F0FF03 		ands	r3, r3, #255
 526              	.LVL28:
  95:System/DataPipe/DataPipe.c ****             return false;
 527              		.loc 1 95 11 view .LVU178
 528 0086 F7D1     		bne	.L31
 529 0088 02E0     		b	.L28
 530              	.LVL29:
 531              	.L35:
  99:System/DataPipe/DataPipe.c **** }
 532              		.loc 1 99 12 view .LVU179
 533 008a 0127     		movs	r7, #1
 534 008c 00E0     		b	.L28
 535              	.LVL30:
 536              	.L33:
  65:System/DataPipe/DataPipe.c **** 
 537              		.loc 1 65 16 view .LVU180
 538 008e 0027     		movs	r7, #0
 539              	.LVL31:
 540              	.L28:
 100:System/DataPipe/DataPipe.c **** 
 541              		.loc 1 100 1 view .LVU181
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s 			page 16


 542 0090 3846     		mov	r0, r7
 543 0092 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 544              	.LVL32:
 545              	.L37:
 100:System/DataPipe/DataPipe.c **** 
 546              		.loc 1 100 1 view .LVU182
 547              		.align	2
 548              	.L36:
 549 0094 00000000 		.word	.LANCHOR1
 550 0098 00000000 		.word	.LANCHOR2
 551 009c 00000000 		.word	.LANCHOR0
 552              		.cfi_endproc
 553              	.LFE148:
 555              		.section	.text.DataPipe_DealError,"ax",%progbits
 556              		.align	1
 557              		.global	DataPipe_DealError
 558              		.syntax unified
 559              		.thumb
 560              		.thumb_func
 561              		.fpu fpv5-d16
 563              	DataPipe_DealError:
 564              	.LFB149:
 103:System/DataPipe/DataPipe.c ****     if (Pipe_State == Pipe_Error)
 565              		.loc 1 103 1 is_stmt 1 view -0
 566              		.cfi_startproc
 567              		@ args = 0, pretend = 0, frame = 0
 568              		@ frame_needed = 0, uses_anonymous_args = 0
 569              		@ link register save eliminated.
 104:System/DataPipe/DataPipe.c ****     {
 570              		.loc 1 104 5 view .LVU184
 106:System/DataPipe/DataPipe.c **** 
 571              		.loc 1 106 5 view .LVU185
 108:System/DataPipe/DataPipe.c **** }
 572              		.loc 1 108 5 view .LVU186
 109:System/DataPipe/DataPipe.c **** 
 573              		.loc 1 109 1 is_stmt 0 view .LVU187
 574 0000 0120     		movs	r0, #1
 575 0002 7047     		bx	lr
 576              		.cfi_endproc
 577              	.LFE149:
 579              		.global	DataPipe_DMA
 580              		.section	.bss.Cur_Pluged_PipeObj,"aw",%nobits
 581              		.align	2
 582              		.set	.LANCHOR2,. + 0
 585              	Cur_Pluged_PipeObj:
 586 0000 00000000 		.space	8
 586      00000000 
 587              		.section	.bss.DataPipe_DMA,"aw",%nobits
 588              		.align	2
 589              		.set	.LANCHOR0,. + 0
 592              	DataPipe_DMA:
 593 0000 00000000 		.space	120
 593      00000000 
 593      00000000 
 593      00000000 
 593      00000000 
 594              		.section	.bss.Pipe_State,"aw",%nobits
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s 			page 17


 595              		.set	.LANCHOR1,. + 0
 598              	Pipe_State:
 599 0000 00       		.space	1
 600              		.text
 601              	.Letext0:
 602              		.file 2 "/usr/local/arm-none-eabi-gcc/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/mac
 603              		.file 3 "/usr/local/arm-none-eabi-gcc/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/sys
 604              		.file 4 "System/DataPipe/DataPipe.h"
 605              		.file 5 "HAL_Lib/CMSIS/Device/ST/STM32H7xx/Include/stm32h743xx.h"
 606              		.file 6 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 607              		.file 7 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_dma.h"
 608              		.file 8 "System/runtime/runtime.h"
 609              		.file 9 "System/kernel/kernel.h"
 610              		.file 10 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_cortex.h"
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s 			page 18


DEFINED SYMBOLS
                            *ABS*:0000000000000000 DataPipe.c
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s:17     .text.DataPipe_TransFinish_Callback:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s:24     .text.DataPipe_TransFinish_Callback:0000000000000000 DataPipe_TransFinish_Callback
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s:106    .text.DataPipe_TransFinish_Callback:0000000000000048 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s:113    .text.DataPipe_TransError_Callback:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s:119    .text.DataPipe_TransError_Callback:0000000000000000 DataPipe_TransError_Callback
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s:239    .text.DataPipe_TransError_Callback:0000000000000060 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s:246    .text.DataPipe_Init:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s:253    .text.DataPipe_Init:0000000000000000 DataPipe_Init
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s:374    .text.DataPipe_Init:0000000000000084 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s:384    .text.DataPipe_SendTo:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s:391    .text.DataPipe_SendTo:0000000000000000 DataPipe_SendTo
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s:549    .text.DataPipe_SendTo:0000000000000094 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s:556    .text.DataPipe_DealError:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s:563    .text.DataPipe_DealError:0000000000000000 DataPipe_DealError
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s:592    .bss.DataPipe_DMA:0000000000000000 DataPipe_DMA
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s:581    .bss.Cur_Pluged_PipeObj:0000000000000000 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s:585    .bss.Cur_Pluged_PipeObj:0000000000000000 Cur_Pluged_PipeObj
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s:588    .bss.DataPipe_DMA:0000000000000000 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s:598    .bss.Pipe_State:0000000000000000 Pipe_State
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccLYbJ7M.s:599    .bss.Pipe_State:0000000000000000 $d

UNDEFINED SYMBOLS
HAL_DMA_Init
HAL_DMA_RegisterCallback
HAL_NVIC_SetPriority
HAL_NVIC_EnableIRQ
Get_CurrentRunningMs
Kernel_EnterCritical
HAL_DMA_Start_IT
HAL_DMA_Abort_IT
Kernel_ExitCritical
