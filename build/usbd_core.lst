ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"usbd_core.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.usbd_core_setup_handler,"ax",%progbits
  20              		.align	1
  21              		.global	usbd_core_setup_handler
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	usbd_core_setup_handler:
  27              	.LVL0:
  28              	.LFB138:
  29              		.file 1 "HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c"
   1:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** /**
   2:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   **************************************************************************
   3:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @file     usbd_core.c
   4:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @version  v2.0.8
   5:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @date     2022-04-25
   6:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @brief    usb device driver
   7:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   **************************************************************************
   8:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   *                       Copyright notice & Disclaimer
   9:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   *
  10:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * The software Board Support Package (BSP) that is made available to
  11:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * download from Artery official website is the copyrighted work of Artery.
  12:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * Artery authorizes customers to use, copy, and distribute the BSP
  13:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * software and its related documentation for the purpose of design and
  14:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * development in conjunction with Artery microcontrollers. Use of the
  15:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * software is governed by this copyright notice and the following disclaimer.
  16:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   *
  17:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * THIS SOFTWARE IS PROVIDED ON "AS IS" BASIS WITHOUT WARRANTIES,
  18:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * GUARANTEES OR REPRESENTATIONS OF ANY KIND. ARTERY EXPRESSLY DISCLAIMS,
  19:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * TO THE FULLEST EXTENT PERMITTED BY LAW, ALL EXPRESS, IMPLIED OR
  20:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * STATUTORY OR OTHER WARRANTIES, GUARANTEES OR REPRESENTATIONS,
  21:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * INCLUDING BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY,
  22:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * FITNESS FOR A PARTICULAR PURPOSE, OR NON-INFRINGEMENT.
  23:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   *
  24:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   **************************************************************************
  25:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   */
  26:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
  27:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** #include "usb_core.h"
  28:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** #include "usbd_core.h"
  29:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** #include "usbd_sdr.h"
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 2


  30:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
  31:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** /** @addtogroup AT32F435_437_middlewares_usbd_drivers
  32:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @{
  33:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   */
  34:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
  35:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** /** @defgroup USBD_drivers_core
  36:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @brief usb device drivers core
  37:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @{
  38:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   */
  39:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
  40:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** /** @defgroup USBD_core_private_functions
  41:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @{
  42:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   */
  43:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
  44:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** /**
  45:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @brief  usb core in transfer complete handler
  46:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  udev: to the structure of usbd_core_type
  47:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  ept_addr: endpoint number
  48:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @retval none
  49:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   */
  50:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** void usbd_core_in_handler(usbd_core_type *udev, uint8_t ept_addr)
  51:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** {
  52:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* get endpoint info*/
  53:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_ept_info *ept_info = &udev->ept_in[ept_addr & 0x7F];
  54:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
  55:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   if(ept_addr == 0)
  56:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
  57:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     if(udev->ept0_sts == USB_EPT0_DATA_IN)
  58:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     {
  59:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       if(ept_info->rem0_len > ept_info->maxpacket)
  60:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       {
  61:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         ept_info->rem0_len -= ept_info->maxpacket;
  62:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         usbd_ept_send(udev, 0, ept_info->trans_buf,
  63:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****                       MIN(ept_info->rem0_len, ept_info->maxpacket));
  64:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       }
  65:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       /* endpoint 0 */
  66:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       else if(ept_info->last_len == ept_info->maxpacket
  67:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         && ept_info->ept0_slen >= ept_info->maxpacket
  68:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         && ept_info->ept0_slen < udev->ept0_wlength)
  69:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       {
  70:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         ept_info->last_len = 0;
  71:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         usbd_ept_send(udev, 0, 0, 0);
  72:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         usbd_ept_recv(udev, ept_addr, 0, 0);
  73:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       }
  74:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       else
  75:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       {
  76:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
  77:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         if(udev->class_handler->ept0_tx_handler != 0 &&
  78:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****             udev->conn_state == USB_CONN_STATE_CONFIGURED)
  79:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         {
  80:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****           udev->class_handler->ept0_tx_handler(udev);
  81:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         }
  82:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         usbd_ctrl_recv_status(udev);
  83:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
  84:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       }
  85:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     }
  86:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 3


  87:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   else if(udev->class_handler->in_handler != 0 &&
  88:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****           udev->conn_state == USB_CONN_STATE_CONFIGURED)
  89:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
  90:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     /* other user define endpoint */
  91:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     udev->class_handler->in_handler(udev, ept_addr);
  92:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
  93:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** }
  94:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
  95:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** /**
  96:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @brief  usb core out transfer complete handler
  97:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  udev: to the structure of usbd_core_type
  98:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  ept_addr: endpoint number
  99:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @retval none
 100:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   */
 101:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** void usbd_core_out_handler(usbd_core_type *udev, uint8_t ept_addr)
 102:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** {
 103:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****    /* get endpoint info*/
 104:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_ept_info *ept_info = &udev->ept_out[ept_addr & 0x7F];
 105:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 106:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   if(ept_addr == 0)
 107:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 108:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     /* endpoint 0 */
 109:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     if(udev->ept0_sts == USB_EPT0_DATA_OUT)
 110:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     {
 111:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       if(ept_info->rem0_len > ept_info->maxpacket)
 112:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       {
 113:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         ept_info->rem0_len -= ept_info->maxpacket;
 114:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         usbd_ept_recv(udev, ept_addr, ept_info->trans_buf,
 115:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****                       MIN(ept_info->rem0_len, ept_info->maxpacket));
 116:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       }
 117:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       else
 118:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       {
 119:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****           if(udev->class_handler->ept0_rx_handler != 0)
 120:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****           {
 121:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****             udev->class_handler->ept0_rx_handler(udev);
 122:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****           }
 123:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****           usbd_ctrl_send_status(udev);
 124:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       }
 125:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     }
 126:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 127:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   else if(udev->class_handler->out_handler != 0 &&
 128:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****           udev->conn_state == USB_CONN_STATE_CONFIGURED)
 129:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 130:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     /* other user define endpoint */
 131:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     udev->class_handler->out_handler(udev, ept_addr);
 132:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 133:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** }
 134:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 135:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** /**
 136:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @brief  usb core setup transfer complete handler
 137:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  udev: to the structure of usbd_core_type
 138:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  ept_addr: endpoint number
 139:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @retval none
 140:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   */
 141:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** void usbd_core_setup_handler(usbd_core_type *udev, uint8_t ept_num)
 142:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** {
  30              		.loc 1 142 1 view -0
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 4


  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 142 1 is_stmt 0 view .LVU1
  35 0000 10B5     		push	{r4, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 8
  38              		.cfi_offset 4, -8
  39              		.cfi_offset 14, -4
  40 0002 0446     		mov	r4, r0
 143:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* setup parse */
 144:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usbd_setup_request_parse(&udev->setup, udev->setup_buffer);
  41              		.loc 1 144 3 is_stmt 1 view .LVU2
  42 0004 00F53571 		add	r1, r0, #724
  43              	.LVL1:
  44              		.loc 1 144 3 is_stmt 0 view .LVU3
  45 0008 00F53370 		add	r0, r0, #716
  46              	.LVL2:
  47              		.loc 1 144 3 view .LVU4
  48 000c FFF7FEFF 		bl	usbd_setup_request_parse
  49              	.LVL3:
 145:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 146:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* set ept0 status */
 147:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   udev->ept0_sts = USB_EPT0_SETUP;
  50              		.loc 1 147 3 is_stmt 1 view .LVU5
  51              		.loc 1 147 18 is_stmt 0 view .LVU6
  52 0010 0123     		movs	r3, #1
  53 0012 84F8E032 		strb	r3, [r4, #736]
 148:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   udev->ept0_wlength = udev->setup.wLength;
  54              		.loc 1 148 3 is_stmt 1 view .LVU7
  55              		.loc 1 148 35 is_stmt 0 view .LVU8
  56 0016 B4F8D232 		ldrh	r3, [r4, #722]
  57              		.loc 1 148 22 view .LVU9
  58 001a A4F8E232 		strh	r3, [r4, #738]	@ movhi
 149:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 150:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   switch(udev->setup.bmRequestType & USB_REQ_RECIPIENT_MASK)
  59              		.loc 1 150 3 is_stmt 1 view .LVU10
  60              		.loc 1 150 21 is_stmt 0 view .LVU11
  61 001e 94F8CC32 		ldrb	r3, [r4, #716]	@ zero_extendqisi2
  62 0022 03F01F03 		and	r3, r3, #31
  63              		.loc 1 150 3 view .LVU12
  64 0026 012B     		cmp	r3, #1
  65 0028 07D0     		beq	.L2
  66 002a 022B     		cmp	r3, #2
  67 002c 09D0     		beq	.L3
  68 002e 03B1     		cbz	r3, .L6
  69              	.L1:
 151:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 152:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     case USB_REQ_RECIPIENT_DEVICE:
 153:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       /* recipient device request */
 154:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       usbd_device_request(udev);
 155:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       break;
 156:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     case USB_REQ_RECIPIENT_INTERFACE:
 157:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       /* recipient interface request */
 158:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       usbd_interface_request(udev);
 159:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       break;
 160:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     case USB_REQ_RECIPIENT_ENDPOINT:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 5


 161:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       /* recipient endpoint request */
 162:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       usbd_endpoint_request(udev);
 163:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       break;
 164:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     default:
 165:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       break;
 166:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 167:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** }
  70              		.loc 1 167 1 view .LVU13
  71 0030 10BD     		pop	{r4, pc}
  72              	.LVL4:
  73              	.L6:
 154:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       break;
  74              		.loc 1 154 7 is_stmt 1 view .LVU14
  75 0032 2046     		mov	r0, r4
  76 0034 FFF7FEFF 		bl	usbd_device_request
  77              	.LVL5:
 155:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     case USB_REQ_RECIPIENT_INTERFACE:
  78              		.loc 1 155 7 view .LVU15
  79 0038 FAE7     		b	.L1
  80              	.L2:
 158:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       break;
  81              		.loc 1 158 7 view .LVU16
  82 003a 2046     		mov	r0, r4
  83 003c FFF7FEFF 		bl	usbd_interface_request
  84              	.LVL6:
 159:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     case USB_REQ_RECIPIENT_ENDPOINT:
  85              		.loc 1 159 7 view .LVU17
  86 0040 F6E7     		b	.L1
  87              	.L3:
 162:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       break;
  88              		.loc 1 162 7 view .LVU18
  89 0042 2046     		mov	r0, r4
  90 0044 FFF7FEFF 		bl	usbd_endpoint_request
  91              	.LVL7:
 163:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     default:
  92              		.loc 1 163 7 view .LVU19
  93              		.loc 1 167 1 is_stmt 0 view .LVU20
  94 0048 F2E7     		b	.L1
  95              		.cfi_endproc
  96              	.LFE138:
  98              		.section	.text.usbd_clear_stall,"ax",%progbits
  99              		.align	1
 100              		.global	usbd_clear_stall
 101              		.syntax unified
 102              		.thumb
 103              		.thumb_func
 105              	usbd_clear_stall:
 106              	.LVL8:
 107              	.LFB143:
 168:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 169:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** /**
 170:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @brief  usb control endpoint send data
 171:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  udev: to the structure of usbd_core_type
 172:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  ept_addr: endpoint number
 173:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  buffer: send data buffer
 174:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  len: send data length
 175:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @retval none
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 6


 176:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   */
 177:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** void usbd_ctrl_send(usbd_core_type *udev, uint8_t *buffer, uint16_t len)
 178:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** {
 179:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_ept_info *ept_info = &udev->ept_in[0];
 180:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 181:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   ept_info->ept0_slen = len;
 182:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   ept_info->rem0_len = len;
 183:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   udev->ept0_sts = USB_EPT0_DATA_IN;
 184:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 185:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usbd_ept_send(udev, 0, buffer, len);
 186:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** }
 187:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 188:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** /**
 189:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @brief  usb control endpoint recv data
 190:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  udev: to the structure of usbd_core_type
 191:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  ept_addr: endpoint number
 192:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  buffer: recv data buffer
 193:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  len: recv data length
 194:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @retval none
 195:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   */
 196:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** void usbd_ctrl_recv(usbd_core_type *udev, uint8_t *buffer, uint16_t len)
 197:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** {
 198:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_ept_info *ept_info = &udev->ept_out[0];
 199:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 200:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   ept_info->ept0_slen = len;
 201:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   ept_info->rem0_len = len;
 202:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   udev->ept0_sts = USB_EPT0_DATA_OUT;
 203:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 204:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usbd_ept_recv(udev, 0, buffer, len);
 205:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** }
 206:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 207:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** /**
 208:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @brief  usb control endpoint send in status
 209:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  udev: to the structure of usbd_core_type
 210:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @retval none
 211:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   */
 212:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** void usbd_ctrl_send_status(usbd_core_type *udev)
 213:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** {
 214:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   udev->ept0_sts = USB_EPT0_STATUS_IN;
 215:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 216:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usbd_ept_send(udev, 0, 0, 0);
 217:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** }
 218:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 219:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** /**
 220:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @brief  usb control endpoint send out status
 221:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  udev: to the structure of usbd_core_type
 222:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @retval none
 223:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   */
 224:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** void usbd_ctrl_recv_status(usbd_core_type *udev)
 225:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** {
 226:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   udev->ept0_sts = USB_EPT0_STATUS_OUT;
 227:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 228:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usbd_ept_recv(udev, 0, 0, 0);
 229:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** }
 230:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 231:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** /**
 232:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @brief  clear endpoint stall
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 7


 233:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  udev: to the structure of usbd_core_type
 234:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  ept_addr: endpoint number
 235:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @retval none
 236:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   */
 237:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** void usbd_clear_stall(usbd_core_type *udev, uint8_t ept_addr)
 238:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** {
 108              		.loc 1 238 1 is_stmt 1 view -0
 109              		.cfi_startproc
 110              		@ args = 0, pretend = 0, frame = 0
 111              		@ frame_needed = 0, uses_anonymous_args = 0
 112              		.loc 1 238 1 is_stmt 0 view .LVU22
 113 0000 10B5     		push	{r4, lr}
 114              	.LCFI1:
 115              		.cfi_def_cfa_offset 8
 116              		.cfi_offset 4, -8
 117              		.cfi_offset 14, -4
 118 0002 0446     		mov	r4, r0
 239:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_ept_info *ept_info;
 119              		.loc 1 239 3 is_stmt 1 view .LVU23
 240:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_reg_type *usbx = udev->usb_reg;
 120              		.loc 1 240 3 view .LVU24
 121              		.loc 1 240 17 is_stmt 0 view .LVU25
 122 0004 0068     		ldr	r0, [r0]
 123              	.LVL9:
 241:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 242:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   if(ept_addr & 0x80)
 124              		.loc 1 242 3 is_stmt 1 view .LVU26
 125              		.loc 1 242 5 is_stmt 0 view .LVU27
 126 0006 11F0800F 		tst	r1, #128
 127 000a 0ED1     		bne	.L11
 243:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 244:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     /* in endpoint */
 245:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     ept_info = &udev->ept_in[ept_addr & 0x7F];
 246:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 247:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   else
 248:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 249:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     /* out endpoint */
 250:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     ept_info = &udev->ept_out[ept_addr & 0x7F];
 128              		.loc 1 250 5 is_stmt 1 view .LVU28
 129              		.loc 1 250 40 is_stmt 0 view .LVU29
 130 000c 01F07F01 		and	r1, r1, #127
 131              	.LVL10:
 132              		.loc 1 250 14 view .LVU30
 133 0010 2C23     		movs	r3, #44
 134 0012 03FB01F1 		mul	r1, r3, r1
 135 0016 01F5B471 		add	r1, r1, #360
 136 001a 0C44     		add	r4, r4, r1
 137              	.LVL11:
 138              		.loc 1 250 14 view .LVU31
 139 001c 0434     		adds	r4, r4, #4
 140              	.LVL12:
 141              	.L9:
 251:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 252:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_ept_clear_stall(usbx, ept_info);
 142              		.loc 1 252 3 is_stmt 1 view .LVU32
 143 001e 2146     		mov	r1, r4
 144 0020 FFF7FEFF 		bl	usb_ept_clear_stall
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 8


 145              	.LVL13:
 253:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   ept_info->stall = 0;
 146              		.loc 1 253 3 view .LVU33
 147              		.loc 1 253 19 is_stmt 0 view .LVU34
 148 0024 0023     		movs	r3, #0
 149 0026 6373     		strb	r3, [r4, #13]
 254:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** }
 150              		.loc 1 254 1 view .LVU35
 151 0028 10BD     		pop	{r4, pc}
 152              	.LVL14:
 153              	.L11:
 245:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 154              		.loc 1 245 5 is_stmt 1 view .LVU36
 245:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 155              		.loc 1 245 39 is_stmt 0 view .LVU37
 156 002a 01F07F01 		and	r1, r1, #127
 157              	.LVL15:
 245:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 158              		.loc 1 245 14 view .LVU38
 159 002e 2C23     		movs	r3, #44
 160 0030 03FB01F1 		mul	r1, r3, r1
 161 0034 0831     		adds	r1, r1, #8
 162 0036 0C44     		add	r4, r4, r1
 163              	.LVL16:
 245:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 164              		.loc 1 245 14 view .LVU39
 165 0038 0434     		adds	r4, r4, #4
 166              	.LVL17:
 245:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 167              		.loc 1 245 14 view .LVU40
 168 003a F0E7     		b	.L9
 169              		.cfi_endproc
 170              	.LFE143:
 172              		.section	.text.usbd_set_stall,"ax",%progbits
 173              		.align	1
 174              		.global	usbd_set_stall
 175              		.syntax unified
 176              		.thumb
 177              		.thumb_func
 179              	usbd_set_stall:
 180              	.LVL18:
 181              	.LFB144:
 255:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 256:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** /**
 257:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @brief  usb set endpoint to stall status
 258:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  udev: to the structure of usbd_core_type
 259:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  ept_addr: endpoint number
 260:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @retval none
 261:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   */
 262:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** void usbd_set_stall(usbd_core_type *udev, uint8_t ept_addr)
 263:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** {
 182              		.loc 1 263 1 is_stmt 1 view -0
 183              		.cfi_startproc
 184              		@ args = 0, pretend = 0, frame = 0
 185              		@ frame_needed = 0, uses_anonymous_args = 0
 186              		.loc 1 263 1 is_stmt 0 view .LVU42
 187 0000 10B5     		push	{r4, lr}
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 9


 188              	.LCFI2:
 189              		.cfi_def_cfa_offset 8
 190              		.cfi_offset 4, -8
 191              		.cfi_offset 14, -4
 192 0002 0446     		mov	r4, r0
 264:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_ept_info *ept_info;
 193              		.loc 1 264 3 is_stmt 1 view .LVU43
 265:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_reg_type *usbx = udev->usb_reg;
 194              		.loc 1 265 3 view .LVU44
 195              		.loc 1 265 17 is_stmt 0 view .LVU45
 196 0004 0068     		ldr	r0, [r0]
 197              	.LVL19:
 266:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 267:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   if(ept_addr & 0x80)
 198              		.loc 1 267 3 is_stmt 1 view .LVU46
 199              		.loc 1 267 5 is_stmt 0 view .LVU47
 200 0006 11F0800F 		tst	r1, #128
 201 000a 0ED1     		bne	.L16
 268:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 269:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     /* in endpoint */
 270:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     ept_info = &udev->ept_in[ept_addr & 0x7F];
 271:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 272:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   else
 273:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 274:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     /* out endpoint */
 275:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     ept_info = &udev->ept_out[ept_addr & 0x7F];
 202              		.loc 1 275 5 is_stmt 1 view .LVU48
 203              		.loc 1 275 40 is_stmt 0 view .LVU49
 204 000c 01F07F01 		and	r1, r1, #127
 205              	.LVL20:
 206              		.loc 1 275 14 view .LVU50
 207 0010 2C23     		movs	r3, #44
 208 0012 03FB01F1 		mul	r1, r3, r1
 209 0016 01F5B471 		add	r1, r1, #360
 210 001a 0C44     		add	r4, r4, r1
 211              	.LVL21:
 212              		.loc 1 275 14 view .LVU51
 213 001c 0434     		adds	r4, r4, #4
 214              	.LVL22:
 215              	.L14:
 276:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 277:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_ept_stall(usbx, ept_info);
 216              		.loc 1 277 3 is_stmt 1 view .LVU52
 217 001e 2146     		mov	r1, r4
 218 0020 FFF7FEFF 		bl	usb_ept_stall
 219              	.LVL23:
 278:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 279:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   ept_info->stall = 1;
 220              		.loc 1 279 3 view .LVU53
 221              		.loc 1 279 19 is_stmt 0 view .LVU54
 222 0024 0123     		movs	r3, #1
 223 0026 6373     		strb	r3, [r4, #13]
 280:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** }
 224              		.loc 1 280 1 view .LVU55
 225 0028 10BD     		pop	{r4, pc}
 226              	.LVL24:
 227              	.L16:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 10


 270:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 228              		.loc 1 270 5 is_stmt 1 view .LVU56
 270:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 229              		.loc 1 270 39 is_stmt 0 view .LVU57
 230 002a 01F07F01 		and	r1, r1, #127
 231              	.LVL25:
 270:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 232              		.loc 1 270 14 view .LVU58
 233 002e 2C23     		movs	r3, #44
 234 0030 03FB01F1 		mul	r1, r3, r1
 235 0034 0831     		adds	r1, r1, #8
 236 0036 0C44     		add	r4, r4, r1
 237              	.LVL26:
 270:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 238              		.loc 1 270 14 view .LVU59
 239 0038 0434     		adds	r4, r4, #4
 240              	.LVL27:
 270:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 241              		.loc 1 270 14 view .LVU60
 242 003a F0E7     		b	.L14
 243              		.cfi_endproc
 244              	.LFE144:
 246              		.section	.text.usbd_ctrl_unsupport,"ax",%progbits
 247              		.align	1
 248              		.global	usbd_ctrl_unsupport
 249              		.syntax unified
 250              		.thumb
 251              		.thumb_func
 253              	usbd_ctrl_unsupport:
 254              	.LVL28:
 255              	.LFB145:
 281:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 282:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** /**
 283:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @brief  un-support device request
 284:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  udev: to the structure of usbd_core_type
 285:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @retval none
 286:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   */
 287:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** void usbd_ctrl_unsupport(usbd_core_type *udev)
 288:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** {
 256              		.loc 1 288 1 is_stmt 1 view -0
 257              		.cfi_startproc
 258              		@ args = 0, pretend = 0, frame = 0
 259              		@ frame_needed = 0, uses_anonymous_args = 0
 260              		.loc 1 288 1 is_stmt 0 view .LVU62
 261 0000 10B5     		push	{r4, lr}
 262              	.LCFI3:
 263              		.cfi_def_cfa_offset 8
 264              		.cfi_offset 4, -8
 265              		.cfi_offset 14, -4
 266 0002 0446     		mov	r4, r0
 289:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* return stall status */
 290:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usbd_set_stall(udev, 0x00);
 267              		.loc 1 290 3 is_stmt 1 view .LVU63
 268 0004 0021     		movs	r1, #0
 269 0006 FFF7FEFF 		bl	usbd_set_stall
 270              	.LVL29:
 291:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usbd_set_stall(udev, 0x80);
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 11


 271              		.loc 1 291 3 view .LVU64
 272 000a 8021     		movs	r1, #128
 273 000c 2046     		mov	r0, r4
 274 000e FFF7FEFF 		bl	usbd_set_stall
 275              	.LVL30:
 292:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** }
 276              		.loc 1 292 1 is_stmt 0 view .LVU65
 277 0012 10BD     		pop	{r4, pc}
 278              		.loc 1 292 1 view .LVU66
 279              		.cfi_endproc
 280              	.LFE145:
 282              		.section	.text.usbd_get_recv_len,"ax",%progbits
 283              		.align	1
 284              		.global	usbd_get_recv_len
 285              		.syntax unified
 286              		.thumb
 287              		.thumb_func
 289              	usbd_get_recv_len:
 290              	.LVL31:
 291              	.LFB146:
 293:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 294:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** /**
 295:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @brief  get endpoint receive data length
 296:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  udev: to the structure of usbd_core_type
 297:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  ept_addr: endpoint number
 298:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @retval data receive len
 299:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   */
 300:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** uint32_t usbd_get_recv_len(usbd_core_type *udev, uint8_t ept_addr)
 301:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** {
 292              		.loc 1 301 1 is_stmt 1 view -0
 293              		.cfi_startproc
 294              		@ args = 0, pretend = 0, frame = 0
 295              		@ frame_needed = 0, uses_anonymous_args = 0
 296              		@ link register save eliminated.
 302:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_ept_info *ept = &udev->ept_out[ept_addr & 0x7F];
 297              		.loc 1 302 3 view .LVU68
 298              		.loc 1 302 47 is_stmt 0 view .LVU69
 299 0000 01F07F01 		and	r1, r1, #127
 300              	.LVL32:
 303:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   return ept->trans_len;
 301              		.loc 1 303 3 is_stmt 1 view .LVU70
 302              		.loc 1 303 13 is_stmt 0 view .LVU71
 303 0004 2C23     		movs	r3, #44
 304 0006 03FB0100 		mla	r0, r3, r1, r0
 305              	.LVL33:
 304:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** }
 306              		.loc 1 304 1 view .LVU72
 307 000a D0F88801 		ldr	r0, [r0, #392]
 308 000e 7047     		bx	lr
 309              		.cfi_endproc
 310              	.LFE146:
 312              		.section	.text.usbd_ept_open,"ax",%progbits
 313              		.align	1
 314              		.global	usbd_ept_open
 315              		.syntax unified
 316              		.thumb
 317              		.thumb_func
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 12


 319              	usbd_ept_open:
 320              	.LVL34:
 321              	.LFB147:
 305:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 306:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** /**
 307:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @brief  usb open endpoint
 308:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  udev: to the structure of usbd_core_type
 309:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  ept_addr: endpoint number
 310:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  ept_type: endpoint type
 311:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  maxpacket: endpoint support max buffer size
 312:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @retval none
 313:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   */
 314:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** void usbd_ept_open(usbd_core_type *udev, uint8_t ept_addr, uint8_t ept_type, uint16_t maxpacket)
 315:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** {
 322              		.loc 1 315 1 is_stmt 1 view -0
 323              		.cfi_startproc
 324              		@ args = 0, pretend = 0, frame = 0
 325              		@ frame_needed = 0, uses_anonymous_args = 0
 326              		.loc 1 315 1 is_stmt 0 view .LVU74
 327 0000 10B5     		push	{r4, lr}
 328              	.LCFI4:
 329              		.cfi_def_cfa_offset 8
 330              		.cfi_offset 4, -8
 331              		.cfi_offset 14, -4
 332 0002 0446     		mov	r4, r0
 316:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_reg_type *usbx = udev->usb_reg;
 333              		.loc 1 316 3 is_stmt 1 view .LVU75
 334              		.loc 1 316 17 is_stmt 0 view .LVU76
 335 0004 0068     		ldr	r0, [r0]
 336              	.LVL35:
 317:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_ept_info *ept_info;
 337              		.loc 1 317 3 is_stmt 1 view .LVU77
 318:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 319:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   if((ept_addr & 0x80) == 0)
 338              		.loc 1 319 3 view .LVU78
 339              		.loc 1 319 5 is_stmt 0 view .LVU79
 340 0006 11F0800F 		tst	r1, #128
 341 000a 12D1     		bne	.L21
 320:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 321:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     /* out endpoint info */
 322:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     ept_info = &udev->ept_out[ept_addr & 0x7F];
 342              		.loc 1 322 5 is_stmt 1 view .LVU80
 343              		.loc 1 322 40 is_stmt 0 view .LVU81
 344 000c 01F07F01 		and	r1, r1, #127
 345              	.LVL36:
 346              		.loc 1 322 14 view .LVU82
 347 0010 4FF02C0C 		mov	ip, #44
 348 0014 0CFB01FC 		mul	ip, ip, r1
 349 0018 0CF5B471 		add	r1, ip, #360
 350 001c 2144     		add	r1, r1, r4
 351 001e 0431     		adds	r1, r1, #4
 352              	.LVL37:
 323:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     ept_info->inout = EPT_DIR_OUT;
 353              		.loc 1 323 5 is_stmt 1 view .LVU83
 354              		.loc 1 323 21 is_stmt 0 view .LVU84
 355 0020 A444     		add	ip, ip, r4
 356 0022 0124     		movs	r4, #1
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 13


 357              	.LVL38:
 358              		.loc 1 323 21 view .LVU85
 359 0024 8CF86E41 		strb	r4, [ip, #366]
 360              	.L22:
 324:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 325:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   else
 326:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 327:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     /* in endpoint info */
 328:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     ept_info = &udev->ept_in[ept_addr & 0x7F];
 329:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     ept_info->inout = EPT_DIR_IN;
 330:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 331:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 332:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* set endpoint maxpacket and type */
 333:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   ept_info->maxpacket = maxpacket;
 361              		.loc 1 333 3 is_stmt 1 view .LVU86
 362              		.loc 1 333 23 is_stmt 0 view .LVU87
 363 0028 8B60     		str	r3, [r1, #8]
 334:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   ept_info->trans_type = ept_type;
 364              		.loc 1 334 3 is_stmt 1 view .LVU88
 365              		.loc 1 334 24 is_stmt 0 view .LVU89
 366 002a CA70     		strb	r2, [r1, #3]
 335:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 336:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* open endpoint */
 337:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_ept_open(usbx, ept_info);
 367              		.loc 1 337 3 is_stmt 1 view .LVU90
 368 002c FFF7FEFF 		bl	usb_ept_open
 369              	.LVL39:
 338:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** }
 370              		.loc 1 338 1 is_stmt 0 view .LVU91
 371 0030 10BD     		pop	{r4, pc}
 372              	.LVL40:
 373              	.L21:
 328:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     ept_info->inout = EPT_DIR_IN;
 374              		.loc 1 328 5 is_stmt 1 view .LVU92
 328:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     ept_info->inout = EPT_DIR_IN;
 375              		.loc 1 328 39 is_stmt 0 view .LVU93
 376 0032 01F07F01 		and	r1, r1, #127
 377              	.LVL41:
 328:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     ept_info->inout = EPT_DIR_IN;
 378              		.loc 1 328 14 view .LVU94
 379 0036 4FF02C0E 		mov	lr, #44
 380 003a 0EFB01FE 		mul	lr, lr, r1
 381 003e 0EF10801 		add	r1, lr, #8
 382 0042 2144     		add	r1, r1, r4
 383 0044 0431     		adds	r1, r1, #4
 384              	.LVL42:
 329:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 385              		.loc 1 329 5 is_stmt 1 view .LVU95
 329:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 386              		.loc 1 329 21 is_stmt 0 view .LVU96
 387 0046 04EB0E0C 		add	ip, r4, lr
 388 004a 0024     		movs	r4, #0
 389              	.LVL43:
 329:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 390              		.loc 1 329 21 view .LVU97
 391 004c 8CF80E40 		strb	r4, [ip, #14]
 392 0050 EAE7     		b	.L22
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 14


 393              		.cfi_endproc
 394              	.LFE147:
 396              		.section	.text.usbd_ept_close,"ax",%progbits
 397              		.align	1
 398              		.global	usbd_ept_close
 399              		.syntax unified
 400              		.thumb
 401              		.thumb_func
 403              	usbd_ept_close:
 404              	.LVL44:
 405              	.LFB148:
 339:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 340:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** /**
 341:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @brief  usb close endpoint
 342:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  udev: to the structure of usbd_core_type
 343:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  ept_addr: endpoint number
 344:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @retval none
 345:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   */
 346:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** void usbd_ept_close(usbd_core_type *udev, uint8_t ept_addr)
 347:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** {
 406              		.loc 1 347 1 is_stmt 1 view -0
 407              		.cfi_startproc
 408              		@ args = 0, pretend = 0, frame = 0
 409              		@ frame_needed = 0, uses_anonymous_args = 0
 410              		.loc 1 347 1 is_stmt 0 view .LVU99
 411 0000 08B5     		push	{r3, lr}
 412              	.LCFI5:
 413              		.cfi_def_cfa_offset 8
 414              		.cfi_offset 3, -8
 415              		.cfi_offset 14, -4
 348:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_ept_info *ept_info;
 416              		.loc 1 348 3 is_stmt 1 view .LVU100
 349:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   if(ept_addr & 0x80)
 417              		.loc 1 349 3 view .LVU101
 418              		.loc 1 349 5 is_stmt 0 view .LVU102
 419 0002 11F0800F 		tst	r1, #128
 420 0006 0CD1     		bne	.L28
 350:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 351:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     /* in endpoint */
 352:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     ept_info = &udev->ept_in[ept_addr & 0x7F];
 353:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 354:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   else
 355:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 356:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     /* out endpoint */
 357:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     ept_info = &udev->ept_out[ept_addr & 0x7F];
 421              		.loc 1 357 5 is_stmt 1 view .LVU103
 422              		.loc 1 357 40 is_stmt 0 view .LVU104
 423 0008 01F07F01 		and	r1, r1, #127
 424              	.LVL45:
 425              		.loc 1 357 14 view .LVU105
 426 000c 2C23     		movs	r3, #44
 427 000e 03FB01F1 		mul	r1, r3, r1
 428 0012 01F5B471 		add	r1, r1, #360
 429 0016 0144     		add	r1, r1, r0
 430 0018 0431     		adds	r1, r1, #4
 431              	.LVL46:
 432              	.L26:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 15


 358:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 359:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 360:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* close endpoint */
 361:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_ept_close(udev->usb_reg, ept_info);
 433              		.loc 1 361 3 is_stmt 1 view .LVU106
 434 001a 0068     		ldr	r0, [r0]
 435              	.LVL47:
 436              		.loc 1 361 3 is_stmt 0 view .LVU107
 437 001c FFF7FEFF 		bl	usb_ept_close
 438              	.LVL48:
 362:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** }
 439              		.loc 1 362 1 view .LVU108
 440 0020 08BD     		pop	{r3, pc}
 441              	.LVL49:
 442              	.L28:
 352:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 443              		.loc 1 352 5 is_stmt 1 view .LVU109
 352:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 444              		.loc 1 352 39 is_stmt 0 view .LVU110
 445 0022 01F07F01 		and	r1, r1, #127
 446              	.LVL50:
 352:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 447              		.loc 1 352 14 view .LVU111
 448 0026 2C23     		movs	r3, #44
 449 0028 03FB01F1 		mul	r1, r3, r1
 450 002c 0831     		adds	r1, r1, #8
 451 002e 0144     		add	r1, r1, r0
 452 0030 0431     		adds	r1, r1, #4
 453              	.LVL51:
 352:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 454              		.loc 1 352 14 view .LVU112
 455 0032 F2E7     		b	.L26
 456              		.cfi_endproc
 457              	.LFE148:
 459              		.section	.text.usbd_connect,"ax",%progbits
 460              		.align	1
 461              		.global	usbd_connect
 462              		.syntax unified
 463              		.thumb
 464              		.thumb_func
 466              	usbd_connect:
 467              	.LVL52:
 468              	.LFB149:
 363:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 364:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** /**
 365:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @brief  usb device connect to host
 366:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  udev: to the structure of usbd_core_type
 367:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @retval none
 368:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   */
 369:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** void usbd_connect(usbd_core_type *udev)
 370:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** {
 469              		.loc 1 370 1 is_stmt 1 view -0
 470              		.cfi_startproc
 471              		@ args = 0, pretend = 0, frame = 0
 472              		@ frame_needed = 0, uses_anonymous_args = 0
 473              		.loc 1 370 1 is_stmt 0 view .LVU114
 474 0000 08B5     		push	{r3, lr}
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 16


 475              	.LCFI6:
 476              		.cfi_def_cfa_offset 8
 477              		.cfi_offset 3, -8
 478              		.cfi_offset 14, -4
 371:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_connect(udev->usb_reg);
 479              		.loc 1 371 3 is_stmt 1 view .LVU115
 480 0002 0068     		ldr	r0, [r0]
 481              	.LVL53:
 482              		.loc 1 371 3 is_stmt 0 view .LVU116
 483 0004 FFF7FEFF 		bl	usb_connect
 484              	.LVL54:
 372:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** }
 485              		.loc 1 372 1 view .LVU117
 486 0008 08BD     		pop	{r3, pc}
 487              		.cfi_endproc
 488              	.LFE149:
 490              		.section	.text.usbd_disconnect,"ax",%progbits
 491              		.align	1
 492              		.global	usbd_disconnect
 493              		.syntax unified
 494              		.thumb
 495              		.thumb_func
 497              	usbd_disconnect:
 498              	.LVL55:
 499              	.LFB150:
 373:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 374:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** /**
 375:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @brief  usb device disconnect to host
 376:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  udev: to the structure of usbd_core_type
 377:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @retval none
 378:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   */
 379:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** void usbd_disconnect(usbd_core_type *udev)
 380:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** {
 500              		.loc 1 380 1 is_stmt 1 view -0
 501              		.cfi_startproc
 502              		@ args = 0, pretend = 0, frame = 0
 503              		@ frame_needed = 0, uses_anonymous_args = 0
 504              		.loc 1 380 1 is_stmt 0 view .LVU119
 505 0000 08B5     		push	{r3, lr}
 506              	.LCFI7:
 507              		.cfi_def_cfa_offset 8
 508              		.cfi_offset 3, -8
 509              		.cfi_offset 14, -4
 381:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_disconnect(udev->usb_reg);
 510              		.loc 1 381 3 is_stmt 1 view .LVU120
 511 0002 0068     		ldr	r0, [r0]
 512              	.LVL56:
 513              		.loc 1 381 3 is_stmt 0 view .LVU121
 514 0004 FFF7FEFF 		bl	usb_disconnect
 515              	.LVL57:
 382:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** }
 516              		.loc 1 382 1 view .LVU122
 517 0008 08BD     		pop	{r3, pc}
 518              		.cfi_endproc
 519              	.LFE150:
 521              		.section	.text.usbd_set_device_addr,"ax",%progbits
 522              		.align	1
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 17


 523              		.global	usbd_set_device_addr
 524              		.syntax unified
 525              		.thumb
 526              		.thumb_func
 528              	usbd_set_device_addr:
 529              	.LVL58:
 530              	.LFB151:
 383:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 384:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** /**
 385:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @brief  usb device set device address.
 386:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  udev: to the structure of usbd_core_type
 387:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  address: host assignment address
 388:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @retval none
 389:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   */
 390:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** void usbd_set_device_addr(usbd_core_type *udev, uint8_t address)
 391:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** {
 531              		.loc 1 391 1 is_stmt 1 view -0
 532              		.cfi_startproc
 533              		@ args = 0, pretend = 0, frame = 0
 534              		@ frame_needed = 0, uses_anonymous_args = 0
 535              		.loc 1 391 1 is_stmt 0 view .LVU124
 536 0000 08B5     		push	{r3, lr}
 537              	.LCFI8:
 538              		.cfi_def_cfa_offset 8
 539              		.cfi_offset 3, -8
 540              		.cfi_offset 14, -4
 392:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_set_address(udev->usb_reg, address);
 541              		.loc 1 392 3 is_stmt 1 view .LVU125
 542 0002 0068     		ldr	r0, [r0]
 543              	.LVL59:
 544              		.loc 1 392 3 is_stmt 0 view .LVU126
 545 0004 FFF7FEFF 		bl	usb_set_address
 546              	.LVL60:
 393:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** }
 547              		.loc 1 393 1 view .LVU127
 548 0008 08BD     		pop	{r3, pc}
 549              		.cfi_endproc
 550              	.LFE151:
 552              		.section	.text.usb_ept_default_init,"ax",%progbits
 553              		.align	1
 554              		.global	usb_ept_default_init
 555              		.syntax unified
 556              		.thumb
 557              		.thumb_func
 559              	usb_ept_default_init:
 560              	.LVL61:
 561              	.LFB152:
 394:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 395:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** /**
 396:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @brief  usb endpoint structure initialization
 397:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  udev: to the structure of usbd_core_type
 398:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @retval none
 399:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   */
 400:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** void usb_ept_default_init(usbd_core_type *udev)
 401:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** {
 562              		.loc 1 401 1 is_stmt 1 view -0
 563              		.cfi_startproc
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 18


 564              		@ args = 0, pretend = 0, frame = 0
 565              		@ frame_needed = 0, uses_anonymous_args = 0
 566              		@ link register save eliminated.
 402:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   uint8_t i_index = 0;
 567              		.loc 1 402 3 view .LVU129
 403:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* init in endpoint info structure */
 404:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   for(i_index = 0; i_index < USB_EPT_MAX_NUM; i_index ++)
 568              		.loc 1 404 3 view .LVU130
 569              		.loc 1 404 15 is_stmt 0 view .LVU131
 570 0000 0022     		movs	r2, #0
 571              		.loc 1 404 3 view .LVU132
 572 0002 0BE0     		b	.L36
 573              	.LVL62:
 574              	.L37:
 405:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 406:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     udev->ept_in[i_index].eptn        = i_index;
 575              		.loc 1 406 5 is_stmt 1 discriminator 3 view .LVU133
 576              		.loc 1 406 39 is_stmt 0 discriminator 3 view .LVU134
 577 0004 2C23     		movs	r3, #44
 578 0006 03FB0203 		mla	r3, r3, r2, r0
 579 000a 1A73     		strb	r2, [r3, #12]
 407:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     udev->ept_in[i_index].ept_address = i_index;
 580              		.loc 1 407 5 is_stmt 1 discriminator 3 view .LVU135
 581              		.loc 1 407 39 is_stmt 0 discriminator 3 view .LVU136
 582 000c 5A73     		strb	r2, [r3, #13]
 408:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     udev->ept_in[i_index].inout         = EPT_DIR_IN;
 583              		.loc 1 408 5 is_stmt 1 discriminator 3 view .LVU137
 584              		.loc 1 408 41 is_stmt 0 discriminator 3 view .LVU138
 585 000e 0021     		movs	r1, #0
 586 0010 9973     		strb	r1, [r3, #14]
 409:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     udev->ept_in[i_index].maxpacket   = 0;
 587              		.loc 1 409 5 is_stmt 1 discriminator 3 view .LVU139
 588              		.loc 1 409 39 is_stmt 0 discriminator 3 view .LVU140
 589 0012 5961     		str	r1, [r3, #20]
 410:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     udev->ept_in[i_index].trans_buf   = 0;
 590              		.loc 1 410 5 is_stmt 1 discriminator 3 view .LVU141
 591              		.loc 1 410 39 is_stmt 0 discriminator 3 view .LVU142
 592 0014 1962     		str	r1, [r3, #32]
 411:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     udev->ept_in[i_index].total_len   = 0;
 593              		.loc 1 411 5 is_stmt 1 discriminator 3 view .LVU143
 594              		.loc 1 411 39 is_stmt 0 discriminator 3 view .LVU144
 595 0016 5962     		str	r1, [r3, #36]
 404:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 596              		.loc 1 404 47 is_stmt 1 discriminator 3 view .LVU145
 404:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 597              		.loc 1 404 55 is_stmt 0 discriminator 3 view .LVU146
 598 0018 0132     		adds	r2, r2, #1
 599              	.LVL63:
 404:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 600              		.loc 1 404 55 discriminator 3 view .LVU147
 601 001a D2B2     		uxtb	r2, r2
 602              	.LVL64:
 603              	.L36:
 404:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 604              		.loc 1 404 20 is_stmt 1 discriminator 1 view .LVU148
 404:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 605              		.loc 1 404 3 is_stmt 0 discriminator 1 view .LVU149
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 19


 606 001c 072A     		cmp	r2, #7
 607 001e F1D9     		bls	.L37
 412:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 413:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 414:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* init out endpoint info structure */
 415:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   for(i_index = 0; i_index < USB_EPT_MAX_NUM; i_index ++)
 608              		.loc 1 415 15 view .LVU150
 609 0020 0022     		movs	r2, #0
 610              	.LVL65:
 611              		.loc 1 415 15 view .LVU151
 612 0022 12E0     		b	.L38
 613              	.LVL66:
 614              	.L39:
 416:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 417:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     udev->ept_out[i_index].eptn        = i_index;
 615              		.loc 1 417 5 is_stmt 1 discriminator 3 view .LVU152
 616              		.loc 1 417 40 is_stmt 0 discriminator 3 view .LVU153
 617 0024 2C23     		movs	r3, #44
 618 0026 03FB0203 		mla	r3, r3, r2, r0
 619 002a 83F86C21 		strb	r2, [r3, #364]
 418:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     udev->ept_out[i_index].ept_address = i_index;
 620              		.loc 1 418 5 is_stmt 1 discriminator 3 view .LVU154
 621              		.loc 1 418 40 is_stmt 0 discriminator 3 view .LVU155
 622 002e 83F86D21 		strb	r2, [r3, #365]
 419:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     udev->ept_out[i_index].inout       = EPT_DIR_OUT;
 623              		.loc 1 419 5 is_stmt 1 discriminator 3 view .LVU156
 624              		.loc 1 419 40 is_stmt 0 discriminator 3 view .LVU157
 625 0032 0121     		movs	r1, #1
 626 0034 83F86E11 		strb	r1, [r3, #366]
 420:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     udev->ept_out[i_index].maxpacket   = 0;
 627              		.loc 1 420 5 is_stmt 1 discriminator 3 view .LVU158
 628              		.loc 1 420 40 is_stmt 0 discriminator 3 view .LVU159
 629 0038 0021     		movs	r1, #0
 630 003a C3F87411 		str	r1, [r3, #372]
 421:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     udev->ept_out[i_index].trans_buf   = 0;
 631              		.loc 1 421 5 is_stmt 1 discriminator 3 view .LVU160
 632              		.loc 1 421 40 is_stmt 0 discriminator 3 view .LVU161
 633 003e C3F88011 		str	r1, [r3, #384]
 422:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     udev->ept_out[i_index].total_len   = 0;
 634              		.loc 1 422 5 is_stmt 1 discriminator 3 view .LVU162
 635              		.loc 1 422 40 is_stmt 0 discriminator 3 view .LVU163
 636 0042 C3F88411 		str	r1, [r3, #388]
 415:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 637              		.loc 1 415 47 is_stmt 1 discriminator 3 view .LVU164
 415:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 638              		.loc 1 415 55 is_stmt 0 discriminator 3 view .LVU165
 639 0046 0132     		adds	r2, r2, #1
 640              	.LVL67:
 415:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 641              		.loc 1 415 55 discriminator 3 view .LVU166
 642 0048 D2B2     		uxtb	r2, r2
 643              	.LVL68:
 644              	.L38:
 415:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 645              		.loc 1 415 20 is_stmt 1 discriminator 1 view .LVU167
 415:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 646              		.loc 1 415 3 is_stmt 0 discriminator 1 view .LVU168
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 20


 647 004a 072A     		cmp	r2, #7
 648 004c EAD9     		bls	.L39
 423:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 424:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** }
 649              		.loc 1 424 1 view .LVU169
 650 004e 7047     		bx	lr
 651              		.cfi_endproc
 652              	.LFE152:
 654              		.section	.text.usbd_ept_send,"ax",%progbits
 655              		.align	1
 656              		.global	usbd_ept_send
 657              		.syntax unified
 658              		.thumb
 659              		.thumb_func
 661              	usbd_ept_send:
 662              	.LVL69:
 663              	.LFB153:
 425:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 426:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** /**
 427:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @brief  endpoint send data
 428:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  udev: to the structure of usbd_core_type
 429:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  ept_addr: endpoint number
 430:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  buffer: send data buffer
 431:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  len: send data length
 432:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @retval none
 433:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   */
 434:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** void usbd_ept_send(usbd_core_type *udev, uint8_t ept_addr, uint8_t *buffer, uint16_t len)
 435:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** {
 664              		.loc 1 435 1 is_stmt 1 view -0
 665              		.cfi_startproc
 666              		@ args = 0, pretend = 0, frame = 0
 667              		@ frame_needed = 0, uses_anonymous_args = 0
 668              		.loc 1 435 1 is_stmt 0 view .LVU171
 669 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 670              	.LCFI9:
 671              		.cfi_def_cfa_offset 24
 672              		.cfi_offset 3, -24
 673              		.cfi_offset 4, -20
 674              		.cfi_offset 5, -16
 675              		.cfi_offset 6, -12
 676              		.cfi_offset 7, -8
 677              		.cfi_offset 14, -4
 436:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* get endpoint info struct and register */
 437:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_reg_type *usbx = udev->usb_reg;
 678              		.loc 1 437 3 is_stmt 1 view .LVU172
 679              		.loc 1 437 17 is_stmt 0 view .LVU173
 680 0002 0568     		ldr	r5, [r0]
 681              	.LVL70:
 438:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_ept_info *ept_info = &udev->ept_in[ept_addr & 0x7F];
 682              		.loc 1 438 3 is_stmt 1 view .LVU174
 683 0004 01F07F01 		and	r1, r1, #127
 684              	.LVL71:
 439:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   otg_eptin_type *ept_in = USB_INEPT(usbx, ept_info->eptn);
 685              		.loc 1 439 3 view .LVU175
 686              		.loc 1 439 28 is_stmt 0 view .LVU176
 687 0008 4FF02C0E 		mov	lr, #44
 688 000c 0EFB010E 		mla	lr, lr, r1, r0
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 21


 689 0010 9EF80CC0 		ldrb	ip, [lr, #12]	@ zero_extendqisi2
 690 0014 05EB4C1C 		add	ip, r5, ip, lsl #5
 691 0018 0CF51064 		add	r4, ip, #2304
 692              	.LVL72:
 440:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   otg_device_type *dev = OTG_DEVICE(usbx);
 693              		.loc 1 440 3 is_stmt 1 view .LVU177
 694              		.loc 1 440 26 is_stmt 0 view .LVU178
 695 001c 05F50066 		add	r6, r5, #2048
 696              	.LVL73:
 441:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   uint32_t pktcnt;
 697              		.loc 1 441 3 is_stmt 1 view .LVU179
 442:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 443:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* set send data buffer and length */
 444:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   ept_info->trans_buf = buffer;
 698              		.loc 1 444 3 view .LVU180
 699              		.loc 1 444 23 is_stmt 0 view .LVU181
 700 0020 CEF82020 		str	r2, [lr, #32]
 445:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   ept_info->total_len = len;
 701              		.loc 1 445 3 is_stmt 1 view .LVU182
 702              		.loc 1 445 23 is_stmt 0 view .LVU183
 703 0024 CEF82430 		str	r3, [lr, #36]
 446:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   ept_info->trans_len = 0;
 704              		.loc 1 446 3 is_stmt 1 view .LVU184
 705              		.loc 1 446 23 is_stmt 0 view .LVU185
 706 0028 0022     		movs	r2, #0
 707              	.LVL74:
 708              		.loc 1 446 23 view .LVU186
 709 002a CEF82820 		str	r2, [lr, #40]
 447:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 448:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* transfer data len is zero */
 449:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   if(ept_info->total_len == 0)
 710              		.loc 1 449 3 is_stmt 1 view .LVU187
 711              		.loc 1 449 5 is_stmt 0 view .LVU188
 712 002e 002B     		cmp	r3, #0
 713 0030 35D1     		bne	.L41
 450:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 451:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     ept_in->dieptsiz_bit.pktcnt = 1;
 714              		.loc 1 451 5 is_stmt 1 view .LVU189
 715              		.loc 1 451 33 is_stmt 0 view .LVU190
 716 0032 2369     		ldr	r3, [r4, #16]
 717              	.LVL75:
 718              		.loc 1 451 33 view .LVU191
 719 0034 0122     		movs	r2, #1
 720 0036 62F3DC43 		bfi	r3, r2, #19, #10
 721 003a 2361     		str	r3, [r4, #16]
 722              	.LVL76:
 452:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     ept_in->dieptsiz_bit.xfersize = 0;
 723              		.loc 1 452 5 is_stmt 1 view .LVU192
 724              		.loc 1 452 35 is_stmt 0 view .LVU193
 725 003c 2369     		ldr	r3, [r4, #16]
 726 003e 6FF31203 		bfc	r3, #0, #19
 727 0042 2361     		str	r3, [r4, #16]
 728              	.L42:
 453:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 454:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   else
 455:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 456:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     if((ept_addr & 0x7F) == 0) // endpoint 0
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 22


 457:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     {
 458:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       /* endpoint 0 */
 459:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       if(ept_info->total_len > ept_info->maxpacket)
 460:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       {
 461:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         ept_info->total_len = ept_info->maxpacket;
 462:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       }
 463:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 464:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       /* set transfer size  */
 465:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       ept_in->dieptsiz_bit.xfersize = ept_info->total_len;
 466:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 467:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       /* set packet count */
 468:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       ept_in->dieptsiz_bit.pktcnt = 1;
 469:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 470:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       ept_info->last_len = ept_info->total_len;
 471:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     }
 472:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     else
 473:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     {
 474:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       /* other endpoint */
 475:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 476:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       /* packet count */
 477:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       pktcnt = (ept_info->total_len + ept_info->maxpacket - 1) / ept_info->maxpacket;
 478:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 479:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       /* set transfer size  */
 480:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       ept_in->dieptsiz_bit.xfersize = ept_info->total_len;
 481:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 482:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       /* set packet count */
 483:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       ept_in->dieptsiz_bit.pktcnt = pktcnt;
 484:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 485:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       if(ept_info->trans_type == EPT_ISO_TYPE)
 486:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       {
 487:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         ept_in->dieptsiz_bit.mc = 1;
 488:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       }
 489:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     }
 490:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 491:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 492:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   if(ept_info->trans_type != EPT_ISO_TYPE)
 729              		.loc 1 492 3 is_stmt 1 view .LVU194
 730              		.loc 1 492 14 is_stmt 0 view .LVU195
 731 0044 2C23     		movs	r3, #44
 732 0046 03FB0103 		mla	r3, r3, r1, r0
 733 004a DB7B     		ldrb	r3, [r3, #15]	@ zero_extendqisi2
 734              		.loc 1 492 5 view .LVU196
 735 004c 012B     		cmp	r3, #1
 736 004e 0DD0     		beq	.L45
 493:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 494:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     if(ept_info->total_len > 0)
 737              		.loc 1 494 5 is_stmt 1 view .LVU197
 738              		.loc 1 494 16 is_stmt 0 view .LVU198
 739 0050 2C23     		movs	r3, #44
 740 0052 03FB0103 		mla	r3, r3, r1, r0
 741 0056 5B6A     		ldr	r3, [r3, #36]
 742              		.loc 1 494 7 view .LVU199
 743 0058 43B1     		cbz	r3, .L45
 495:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     {
 496:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       /* set in endpoint tx fifo empty interrupt mask */
 497:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       dev->diepempmsk |= 1 << ept_info->eptn;
 744              		.loc 1 497 7 is_stmt 1 view .LVU200
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 23


 745              		.loc 1 497 23 is_stmt 0 view .LVU201
 746 005a 736B     		ldr	r3, [r6, #52]
 747              		.loc 1 497 39 view .LVU202
 748 005c 2C22     		movs	r2, #44
 749 005e 02FB0102 		mla	r2, r2, r1, r0
 750 0062 147B     		ldrb	r4, [r2, #12]	@ zero_extendqisi2
 751              	.LVL77:
 752              		.loc 1 497 28 view .LVU203
 753 0064 0122     		movs	r2, #1
 754 0066 A240     		lsls	r2, r2, r4
 755              		.loc 1 497 23 view .LVU204
 756 0068 1343     		orrs	r3, r3, r2
 757 006a 7363     		str	r3, [r6, #52]
 758              	.L45:
 498:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     }
 499:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 500:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 501:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   if(ept_info->trans_type == EPT_ISO_TYPE)
 759              		.loc 1 501 3 is_stmt 1 view .LVU205
 760              		.loc 1 501 14 is_stmt 0 view .LVU206
 761 006c 2C23     		movs	r3, #44
 762 006e 03FB0103 		mla	r3, r3, r1, r0
 763 0072 DB7B     		ldrb	r3, [r3, #15]	@ zero_extendqisi2
 764              		.loc 1 501 5 view .LVU207
 765 0074 012B     		cmp	r3, #1
 766 0076 49D0     		beq	.L50
 767              	.L46:
 502:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 503:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     if((dev->dsts_bit.soffn & 0x1) == 0)
 504:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     {
 505:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       ept_in->diepctl_bit.setd1pid = TRUE;
 506:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     }
 507:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     else
 508:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     {
 509:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       ept_in->diepctl_bit.setd0pid = TRUE;
 510:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     }
 511:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 512:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 513:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* clear endpoint nak */
 514:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   ept_in->diepctl_bit.cnak = TRUE;
 768              		.loc 1 514 3 is_stmt 1 view .LVU208
 769              		.loc 1 514 28 is_stmt 0 view .LVU209
 770 0078 DCF80039 		ldr	r3, [ip, #2304]
 771 007c 43F08063 		orr	r3, r3, #67108864
 772 0080 CCF80039 		str	r3, [ip, #2304]
 515:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 516:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* endpoint enable */
 517:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   ept_in->diepctl_bit.eptena = TRUE;
 773              		.loc 1 517 3 is_stmt 1 view .LVU210
 774              		.loc 1 517 30 is_stmt 0 view .LVU211
 775 0084 DCF80039 		ldr	r3, [ip, #2304]
 776 0088 43F00043 		orr	r3, r3, #-2147483648
 777 008c CCF80039 		str	r3, [ip, #2304]
 518:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 519:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   if(ept_info->trans_type == EPT_ISO_TYPE)
 778              		.loc 1 519 3 is_stmt 1 view .LVU212
 779              		.loc 1 519 14 is_stmt 0 view .LVU213
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 24


 780 0090 2C23     		movs	r3, #44
 781 0092 03FB0103 		mla	r3, r3, r1, r0
 782 0096 DB7B     		ldrb	r3, [r3, #15]	@ zero_extendqisi2
 783              		.loc 1 519 5 view .LVU214
 784 0098 012B     		cmp	r3, #1
 785 009a 49D0     		beq	.L51
 786              	.LVL78:
 787              	.L40:
 520:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 521:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     /* write data to fifo */
 522:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     usb_write_packet(usbx, ept_info->trans_buf, ept_info->eptn, ept_info->total_len);
 523:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 524:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** }
 788              		.loc 1 524 1 view .LVU215
 789 009c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 790              	.LVL79:
 791              	.L41:
 456:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     {
 792              		.loc 1 456 5 is_stmt 1 view .LVU216
 456:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     {
 793              		.loc 1 456 7 is_stmt 0 view .LVU217
 794 009e C9B9     		cbnz	r1, .L43
 459:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       {
 795              		.loc 1 459 7 is_stmt 1 view .LVU218
 459:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       {
 796              		.loc 1 459 40 is_stmt 0 view .LVU219
 797 00a0 2C22     		movs	r2, #44
 798 00a2 02FB0102 		mla	r2, r2, r1, r0
 799 00a6 5269     		ldr	r2, [r2, #20]
 459:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       {
 800              		.loc 1 459 9 view .LVU220
 801 00a8 9342     		cmp	r3, r2
 802 00aa 03D9     		bls	.L44
 461:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       }
 803              		.loc 1 461 9 is_stmt 1 view .LVU221
 461:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       }
 804              		.loc 1 461 29 is_stmt 0 view .LVU222
 805 00ac 2C23     		movs	r3, #44
 806              	.LVL80:
 461:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       }
 807              		.loc 1 461 29 view .LVU223
 808 00ae 03FB0103 		mla	r3, r3, r1, r0
 809 00b2 5A62     		str	r2, [r3, #36]
 810              	.LVL81:
 811              	.L44:
 465:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 812              		.loc 1 465 7 is_stmt 1 view .LVU224
 465:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 813              		.loc 1 465 47 is_stmt 0 view .LVU225
 814 00b4 2C23     		movs	r3, #44
 815 00b6 03FB0103 		mla	r3, r3, r1, r0
 816 00ba 5A6A     		ldr	r2, [r3, #36]
 465:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 817              		.loc 1 465 37 view .LVU226
 818 00bc 2769     		ldr	r7, [r4, #16]
 819 00be 62F31207 		bfi	r7, r2, #0, #19
 820 00c2 2761     		str	r7, [r4, #16]
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 25


 468:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 821              		.loc 1 468 7 is_stmt 1 view .LVU227
 468:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 822              		.loc 1 468 35 is_stmt 0 view .LVU228
 823 00c4 2269     		ldr	r2, [r4, #16]
 824 00c6 0127     		movs	r7, #1
 825 00c8 67F3DC42 		bfi	r2, r7, #19, #10
 826 00cc 2261     		str	r2, [r4, #16]
 470:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     }
 827              		.loc 1 470 7 is_stmt 1 view .LVU229
 470:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     }
 828              		.loc 1 470 36 is_stmt 0 view .LVU230
 829 00ce 5A6A     		ldr	r2, [r3, #36]
 470:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     }
 830              		.loc 1 470 26 view .LVU231
 831 00d0 DA62     		str	r2, [r3, #44]
 832 00d2 B7E7     		b	.L42
 833              	.LVL82:
 834              	.L43:
 477:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 835              		.loc 1 477 7 is_stmt 1 view .LVU232
 477:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 836              		.loc 1 477 47 is_stmt 0 view .LVU233
 837 00d4 4FF02C0E 		mov	lr, #44
 838              	.LVL83:
 477:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 839              		.loc 1 477 47 view .LVU234
 840 00d8 0EFB010E 		mla	lr, lr, r1, r0
 841              	.LVL84:
 477:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 842              		.loc 1 477 47 view .LVU235
 843 00dc DEF81470 		ldr	r7, [lr, #20]
 477:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 844              		.loc 1 477 37 view .LVU236
 845 00e0 DA19     		adds	r2, r3, r7
 477:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 846              		.loc 1 477 59 view .LVU237
 847 00e2 013A     		subs	r2, r2, #1
 477:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 848              		.loc 1 477 14 view .LVU238
 849 00e4 B2FBF7F2 		udiv	r2, r2, r7
 850              	.LVL85:
 480:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 851              		.loc 1 480 7 is_stmt 1 view .LVU239
 480:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 852              		.loc 1 480 37 is_stmt 0 view .LVU240
 853 00e8 2769     		ldr	r7, [r4, #16]
 854 00ea 63F31207 		bfi	r7, r3, #0, #19
 855 00ee 2761     		str	r7, [r4, #16]
 856              	.LVL86:
 483:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 857              		.loc 1 483 7 is_stmt 1 view .LVU241
 483:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 858              		.loc 1 483 35 is_stmt 0 view .LVU242
 859 00f0 2369     		ldr	r3, [r4, #16]
 860              	.LVL87:
 483:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 26


 861              		.loc 1 483 35 view .LVU243
 862 00f2 62F3DC43 		bfi	r3, r2, #19, #10
 863 00f6 2361     		str	r3, [r4, #16]
 485:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       {
 864              		.loc 1 485 7 is_stmt 1 view .LVU244
 485:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       {
 865              		.loc 1 485 18 is_stmt 0 view .LVU245
 866 00f8 9EF80F30 		ldrb	r3, [lr, #15]	@ zero_extendqisi2
 485:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       {
 867              		.loc 1 485 9 view .LVU246
 868 00fc 012B     		cmp	r3, #1
 869 00fe A1D1     		bne	.L42
 487:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       }
 870              		.loc 1 487 9 is_stmt 1 view .LVU247
 487:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       }
 871              		.loc 1 487 33 is_stmt 0 view .LVU248
 872 0100 2369     		ldr	r3, [r4, #16]
 873 0102 0122     		movs	r2, #1
 874              	.LVL88:
 487:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       }
 875              		.loc 1 487 33 view .LVU249
 876 0104 62F35E73 		bfi	r3, r2, #29, #2
 877 0108 2361     		str	r3, [r4, #16]
 878 010a 9BE7     		b	.L42
 879              	.LVL89:
 880              	.L50:
 503:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     {
 881              		.loc 1 503 5 is_stmt 1 view .LVU250
 503:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     {
 882              		.loc 1 503 22 is_stmt 0 view .LVU251
 883 010c B368     		ldr	r3, [r6, #8]
 503:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     {
 884              		.loc 1 503 7 view .LVU252
 885 010e 13F4807F 		tst	r3, #256
 886 0112 06D1     		bne	.L47
 505:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     }
 887              		.loc 1 505 7 is_stmt 1 view .LVU253
 505:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     }
 888              		.loc 1 505 36 is_stmt 0 view .LVU254
 889 0114 DCF80039 		ldr	r3, [ip, #2304]
 890 0118 43F00053 		orr	r3, r3, #536870912
 891 011c CCF80039 		str	r3, [ip, #2304]
 892 0120 AAE7     		b	.L46
 893              	.L47:
 509:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     }
 894              		.loc 1 509 7 is_stmt 1 view .LVU255
 509:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     }
 895              		.loc 1 509 36 is_stmt 0 view .LVU256
 896 0122 DCF80039 		ldr	r3, [ip, #2304]
 897 0126 43F08053 		orr	r3, r3, #268435456
 898 012a CCF80039 		str	r3, [ip, #2304]
 899 012e A3E7     		b	.L46
 900              	.L51:
 522:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 901              		.loc 1 522 5 is_stmt 1 view .LVU257
 522:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 902              		.loc 1 522 57 is_stmt 0 view .LVU258
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 27


 903 0130 2C23     		movs	r3, #44
 904 0132 03FB0101 		mla	r1, r3, r1, r0
 905              	.LVL90:
 522:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 906              		.loc 1 522 5 view .LVU259
 907 0136 8B8C     		ldrh	r3, [r1, #36]
 908 0138 0A7B     		ldrb	r2, [r1, #12]	@ zero_extendqisi2
 909 013a 096A     		ldr	r1, [r1, #32]
 910 013c 2846     		mov	r0, r5
 911              	.LVL91:
 522:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 912              		.loc 1 522 5 view .LVU260
 913 013e FFF7FEFF 		bl	usb_write_packet
 914              	.LVL92:
 915              		.loc 1 524 1 view .LVU261
 916 0142 ABE7     		b	.L40
 917              		.cfi_endproc
 918              	.LFE153:
 920              		.section	.text.usbd_ctrl_send,"ax",%progbits
 921              		.align	1
 922              		.global	usbd_ctrl_send
 923              		.syntax unified
 924              		.thumb
 925              		.thumb_func
 927              	usbd_ctrl_send:
 928              	.LVL93:
 929              	.LFB139:
 178:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_ept_info *ept_info = &udev->ept_in[0];
 930              		.loc 1 178 1 is_stmt 1 view -0
 931              		.cfi_startproc
 932              		@ args = 0, pretend = 0, frame = 0
 933              		@ frame_needed = 0, uses_anonymous_args = 0
 178:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_ept_info *ept_info = &udev->ept_in[0];
 934              		.loc 1 178 1 is_stmt 0 view .LVU263
 935 0000 08B5     		push	{r3, lr}
 936              	.LCFI10:
 937              		.cfi_def_cfa_offset 8
 938              		.cfi_offset 3, -8
 939              		.cfi_offset 14, -4
 940 0002 1346     		mov	r3, r2
 179:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 941              		.loc 1 179 3 is_stmt 1 view .LVU264
 942              	.LVL94:
 181:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   ept_info->rem0_len = len;
 943              		.loc 1 181 3 view .LVU265
 181:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   ept_info->rem0_len = len;
 944              		.loc 1 181 23 is_stmt 0 view .LVU266
 945 0004 4263     		str	r2, [r0, #52]
 182:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   udev->ept0_sts = USB_EPT0_DATA_IN;
 946              		.loc 1 182 3 is_stmt 1 view .LVU267
 182:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   udev->ept0_sts = USB_EPT0_DATA_IN;
 947              		.loc 1 182 22 is_stmt 0 view .LVU268
 948 0006 0263     		str	r2, [r0, #48]
 183:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 949              		.loc 1 183 3 is_stmt 1 view .LVU269
 183:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 950              		.loc 1 183 18 is_stmt 0 view .LVU270
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 28


 951 0008 0222     		movs	r2, #2
 952              	.LVL95:
 183:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 953              		.loc 1 183 18 view .LVU271
 954 000a 80F8E022 		strb	r2, [r0, #736]
 185:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** }
 955              		.loc 1 185 3 is_stmt 1 view .LVU272
 956 000e 0A46     		mov	r2, r1
 957 0010 0021     		movs	r1, #0
 958              	.LVL96:
 185:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** }
 959              		.loc 1 185 3 is_stmt 0 view .LVU273
 960 0012 FFF7FEFF 		bl	usbd_ept_send
 961              	.LVL97:
 186:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 962              		.loc 1 186 1 view .LVU274
 963 0016 08BD     		pop	{r3, pc}
 964              		.cfi_endproc
 965              	.LFE139:
 967              		.section	.text.usbd_ctrl_send_status,"ax",%progbits
 968              		.align	1
 969              		.global	usbd_ctrl_send_status
 970              		.syntax unified
 971              		.thumb
 972              		.thumb_func
 974              	usbd_ctrl_send_status:
 975              	.LVL98:
 976              	.LFB141:
 213:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   udev->ept0_sts = USB_EPT0_STATUS_IN;
 977              		.loc 1 213 1 is_stmt 1 view -0
 978              		.cfi_startproc
 979              		@ args = 0, pretend = 0, frame = 0
 980              		@ frame_needed = 0, uses_anonymous_args = 0
 213:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   udev->ept0_sts = USB_EPT0_STATUS_IN;
 981              		.loc 1 213 1 is_stmt 0 view .LVU276
 982 0000 08B5     		push	{r3, lr}
 983              	.LCFI11:
 984              		.cfi_def_cfa_offset 8
 985              		.cfi_offset 3, -8
 986              		.cfi_offset 14, -4
 214:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 987              		.loc 1 214 3 is_stmt 1 view .LVU277
 214:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 988              		.loc 1 214 18 is_stmt 0 view .LVU278
 989 0002 0423     		movs	r3, #4
 990 0004 80F8E032 		strb	r3, [r0, #736]
 216:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** }
 991              		.loc 1 216 3 is_stmt 1 view .LVU279
 992 0008 0023     		movs	r3, #0
 993 000a 1A46     		mov	r2, r3
 994 000c 1946     		mov	r1, r3
 995 000e FFF7FEFF 		bl	usbd_ept_send
 996              	.LVL99:
 217:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 997              		.loc 1 217 1 is_stmt 0 view .LVU280
 998 0012 08BD     		pop	{r3, pc}
 999              		.cfi_endproc
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 29


 1000              	.LFE141:
 1002              		.section	.text.usbd_ept_recv,"ax",%progbits
 1003              		.align	1
 1004              		.global	usbd_ept_recv
 1005              		.syntax unified
 1006              		.thumb
 1007              		.thumb_func
 1009              	usbd_ept_recv:
 1010              	.LVL100:
 1011              	.LFB154:
 525:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 526:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** /**
 527:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @brief  endpoint receive data
 528:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  udev: to the structure of usbd_core_type
 529:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  ept_addr: endpoint number
 530:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  buffer: receive data buffer
 531:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  len: receive data length
 532:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @retval none
 533:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   */
 534:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** void usbd_ept_recv(usbd_core_type *udev, uint8_t ept_addr, uint8_t *buffer, uint16_t len)
 535:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** {
 1012              		.loc 1 535 1 is_stmt 1 view -0
 1013              		.cfi_startproc
 1014              		@ args = 0, pretend = 0, frame = 0
 1015              		@ frame_needed = 0, uses_anonymous_args = 0
 1016              		.loc 1 535 1 is_stmt 0 view .LVU282
 1017 0000 70B5     		push	{r4, r5, r6, lr}
 1018              	.LCFI12:
 1019              		.cfi_def_cfa_offset 16
 1020              		.cfi_offset 4, -16
 1021              		.cfi_offset 5, -12
 1022              		.cfi_offset 6, -8
 1023              		.cfi_offset 14, -4
 536:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* get endpoint info struct and register */
 537:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_reg_type *usbx = udev->usb_reg;
 1024              		.loc 1 537 3 is_stmt 1 view .LVU283
 1025              		.loc 1 537 17 is_stmt 0 view .LVU284
 1026 0002 0568     		ldr	r5, [r0]
 1027              	.LVL101:
 538:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_ept_info *ept_info = &udev->ept_out[ept_addr & 0x7F];
 1028              		.loc 1 538 3 is_stmt 1 view .LVU285
 1029 0004 01F07F01 		and	r1, r1, #127
 1030              	.LVL102:
 539:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   otg_eptout_type *ept_out = USB_OUTEPT(usbx, ept_info->eptn);
 1031              		.loc 1 539 3 view .LVU286
 1032              		.loc 1 539 30 is_stmt 0 view .LVU287
 1033 0008 4FF02C0E 		mov	lr, #44
 1034 000c 0EFB010E 		mla	lr, lr, r1, r0
 1035 0010 9EF86CC1 		ldrb	ip, [lr, #364]	@ zero_extendqisi2
 1036 0014 05EB4C1C 		add	ip, r5, ip, lsl #5
 1037 0018 0CF53064 		add	r4, ip, #2816
 1038              	.LVL103:
 540:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   otg_device_type *dev = OTG_DEVICE(usbx);
 1039              		.loc 1 540 3 is_stmt 1 view .LVU288
 1040              		.loc 1 540 26 is_stmt 0 view .LVU289
 1041 001c 05F50065 		add	r5, r5, #2048
 1042              	.LVL104:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 30


 541:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   uint32_t pktcnt;
 1043              		.loc 1 541 3 is_stmt 1 view .LVU290
 542:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 543:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****    /* set receive data buffer and length */
 544:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   ept_info->trans_buf = buffer;
 1044              		.loc 1 544 3 view .LVU291
 1045              		.loc 1 544 23 is_stmt 0 view .LVU292
 1046 0020 CEF88021 		str	r2, [lr, #384]
 1047              	.LVL105:
 545:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   ept_info->total_len = len;
 1048              		.loc 1 545 3 is_stmt 1 view .LVU293
 1049              		.loc 1 545 23 is_stmt 0 view .LVU294
 1050 0024 CEF88431 		str	r3, [lr, #388]
 546:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   ept_info->trans_len = 0;
 1051              		.loc 1 546 3 is_stmt 1 view .LVU295
 1052              		.loc 1 546 23 is_stmt 0 view .LVU296
 1053 0028 0023     		movs	r3, #0
 1054              	.LVL106:
 1055              		.loc 1 546 23 view .LVU297
 1056 002a CEF88831 		str	r3, [lr, #392]
 547:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 548:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   if((ept_addr & 0x7F) == 0)
 1057              		.loc 1 548 3 is_stmt 1 view .LVU298
 1058              		.loc 1 548 5 is_stmt 0 view .LVU299
 1059 002e 19B9     		cbnz	r1, .L57
 549:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 550:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     /* endpoint 0 */
 551:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     ept_info->total_len = ept_info->maxpacket;
 1060              		.loc 1 551 5 is_stmt 1 view .LVU300
 1061              		.loc 1 551 35 is_stmt 0 view .LVU301
 1062 0030 DEF87421 		ldr	r2, [lr, #372]
 1063              	.LVL107:
 1064              		.loc 1 551 25 view .LVU302
 1065 0034 CEF88421 		str	r2, [lr, #388]
 1066              	.L57:
 552:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 553:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 554:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   if(ept_info->total_len == 0 || ((ept_addr & 0x7F) == 0))
 1067              		.loc 1 554 3 is_stmt 1 view .LVU303
 1068              		.loc 1 554 14 is_stmt 0 view .LVU304
 1069 0038 2C23     		movs	r3, #44
 1070 003a 03FB0103 		mla	r3, r3, r1, r0
 1071 003e D3F88431 		ldr	r3, [r3, #388]
 1072              		.loc 1 554 5 view .LVU305
 1073 0042 03B1     		cbz	r3, .L58
 1074              		.loc 1 554 31 discriminator 1 view .LVU306
 1075 0044 09BB     		cbnz	r1, .L59
 1076              	.L58:
 555:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 556:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     /* set transfer size  */
 557:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     ept_out->doeptsiz_bit.xfersize = ept_info->maxpacket;
 1077              		.loc 1 557 5 is_stmt 1 view .LVU307
 1078              		.loc 1 557 46 is_stmt 0 view .LVU308
 1079 0046 2C23     		movs	r3, #44
 1080 0048 03FB0103 		mla	r3, r3, r1, r0
 1081 004c D3F87421 		ldr	r2, [r3, #372]
 1082              		.loc 1 557 36 view .LVU309
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 31


 1083 0050 2369     		ldr	r3, [r4, #16]
 1084 0052 62F31203 		bfi	r3, r2, #0, #19
 1085 0056 2361     		str	r3, [r4, #16]
 1086              	.LVL108:
 558:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 559:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     /* set packet count */
 560:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     ept_out->doeptsiz_bit.pktcnt = 1;
 1087              		.loc 1 560 5 is_stmt 1 view .LVU310
 1088              		.loc 1 560 34 is_stmt 0 view .LVU311
 1089 0058 2369     		ldr	r3, [r4, #16]
 1090 005a 0122     		movs	r2, #1
 1091 005c 62F3DC43 		bfi	r3, r2, #19, #10
 1092 0060 2361     		str	r3, [r4, #16]
 1093              	.L60:
 561:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 562:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   else
 563:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 564:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     pktcnt = (ept_info->total_len + ept_info->maxpacket - 1) / ept_info->maxpacket;
 565:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 566:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     /* set transfer size  */
 567:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     ept_out->doeptsiz_bit.xfersize = ept_info->maxpacket * pktcnt;
 568:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 569:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     /* set packet count */
 570:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     ept_out->doeptsiz_bit.pktcnt = pktcnt;
 571:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 572:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 573:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   if(ept_info->trans_type == EPT_ISO_TYPE)
 1094              		.loc 1 573 3 is_stmt 1 view .LVU312
 1095              		.loc 1 573 14 is_stmt 0 view .LVU313
 1096 0062 2C23     		movs	r3, #44
 1097 0064 03FB0100 		mla	r0, r3, r1, r0
 1098              	.LVL109:
 1099              		.loc 1 573 14 view .LVU314
 1100 0068 90F86F31 		ldrb	r3, [r0, #367]	@ zero_extendqisi2
 1101              		.loc 1 573 5 view .LVU315
 1102 006c 012B     		cmp	r3, #1
 1103 006e 24D0     		beq	.L64
 1104              	.L61:
 574:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 575:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****    if((dev->dsts_bit.soffn & 0x01) == 0)
 576:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****    {
 577:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****      ept_out->doepctl_bit.setd1pid = TRUE;
 578:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****    }
 579:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****    else
 580:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****    {
 581:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****      ept_out->doepctl_bit.setd0pid = TRUE;
 582:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****    }
 583:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 584:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 585:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* clear endpoint nak */
 586:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   ept_out->doepctl_bit.cnak = TRUE;
 1105              		.loc 1 586 3 is_stmt 1 view .LVU316
 1106              		.loc 1 586 29 is_stmt 0 view .LVU317
 1107 0070 DCF8003B 		ldr	r3, [ip, #2816]
 1108 0074 43F08063 		orr	r3, r3, #67108864
 1109 0078 CCF8003B 		str	r3, [ip, #2816]
 587:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 32


 588:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* endpoint enable */
 589:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   ept_out->doepctl_bit.eptena = TRUE;
 1110              		.loc 1 589 3 is_stmt 1 view .LVU318
 1111              		.loc 1 589 31 is_stmt 0 view .LVU319
 1112 007c DCF8003B 		ldr	r3, [ip, #2816]
 1113 0080 43F00043 		orr	r3, r3, #-2147483648
 1114 0084 CCF8003B 		str	r3, [ip, #2816]
 590:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** }
 1115              		.loc 1 590 1 view .LVU320
 1116 0088 70BD     		pop	{r4, r5, r6, pc}
 1117              	.LVL110:
 1118              	.L59:
 564:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1119              		.loc 1 564 5 is_stmt 1 view .LVU321
 564:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1120              		.loc 1 564 45 is_stmt 0 view .LVU322
 1121 008a 2C22     		movs	r2, #44
 1122 008c 02FB0102 		mla	r2, r2, r1, r0
 1123 0090 D2F87421 		ldr	r2, [r2, #372]
 564:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1124              		.loc 1 564 35 view .LVU323
 1125 0094 1344     		add	r3, r3, r2
 564:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1126              		.loc 1 564 57 view .LVU324
 1127 0096 013B     		subs	r3, r3, #1
 564:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1128              		.loc 1 564 12 view .LVU325
 1129 0098 B3FBF2F3 		udiv	r3, r3, r2
 1130              	.LVL111:
 567:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1131              		.loc 1 567 5 is_stmt 1 view .LVU326
 567:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1132              		.loc 1 567 58 is_stmt 0 view .LVU327
 1133 009c C2F31202 		ubfx	r2, r2, #0, #19
 1134 00a0 C3F31206 		ubfx	r6, r3, #0, #19
 1135 00a4 06FB02F2 		mul	r2, r6, r2
 567:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1136              		.loc 1 567 36 view .LVU328
 1137 00a8 2669     		ldr	r6, [r4, #16]
 1138 00aa 62F31206 		bfi	r6, r2, #0, #19
 1139 00ae 2661     		str	r6, [r4, #16]
 1140              	.LVL112:
 570:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 1141              		.loc 1 570 5 is_stmt 1 view .LVU329
 570:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 1142              		.loc 1 570 34 is_stmt 0 view .LVU330
 1143 00b0 2269     		ldr	r2, [r4, #16]
 1144 00b2 63F3DC42 		bfi	r2, r3, #19, #10
 1145 00b6 2261     		str	r2, [r4, #16]
 1146 00b8 D3E7     		b	.L60
 1147              	.LVL113:
 1148              	.L64:
 575:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****    {
 1149              		.loc 1 575 4 is_stmt 1 view .LVU331
 575:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****    {
 1150              		.loc 1 575 21 is_stmt 0 view .LVU332
 1151 00ba AB68     		ldr	r3, [r5, #8]
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 33


 575:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****    {
 1152              		.loc 1 575 6 view .LVU333
 1153 00bc 13F4807F 		tst	r3, #256
 1154 00c0 06D1     		bne	.L62
 577:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****    }
 1155              		.loc 1 577 6 is_stmt 1 view .LVU334
 577:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****    }
 1156              		.loc 1 577 36 is_stmt 0 view .LVU335
 1157 00c2 DCF8003B 		ldr	r3, [ip, #2816]
 1158 00c6 43F00053 		orr	r3, r3, #536870912
 1159 00ca CCF8003B 		str	r3, [ip, #2816]
 1160 00ce CFE7     		b	.L61
 1161              	.L62:
 581:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****    }
 1162              		.loc 1 581 6 is_stmt 1 view .LVU336
 581:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****    }
 1163              		.loc 1 581 36 is_stmt 0 view .LVU337
 1164 00d0 DCF8003B 		ldr	r3, [ip, #2816]
 1165 00d4 43F08053 		orr	r3, r3, #268435456
 1166 00d8 CCF8003B 		str	r3, [ip, #2816]
 1167 00dc C8E7     		b	.L61
 1168              		.cfi_endproc
 1169              	.LFE154:
 1171              		.section	.text.usbd_core_out_handler,"ax",%progbits
 1172              		.align	1
 1173              		.global	usbd_core_out_handler
 1174              		.syntax unified
 1175              		.thumb
 1176              		.thumb_func
 1178              	usbd_core_out_handler:
 1179              	.LVL114:
 1180              	.LFB137:
 102:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****    /* get endpoint info*/
 1181              		.loc 1 102 1 is_stmt 1 view -0
 1182              		.cfi_startproc
 1183              		@ args = 0, pretend = 0, frame = 0
 1184              		@ frame_needed = 0, uses_anonymous_args = 0
 102:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****    /* get endpoint info*/
 1185              		.loc 1 102 1 is_stmt 0 view .LVU339
 1186 0000 10B5     		push	{r4, lr}
 1187              	.LCFI13:
 1188              		.cfi_def_cfa_offset 8
 1189              		.cfi_offset 4, -8
 1190              		.cfi_offset 14, -4
 1191 0002 0446     		mov	r4, r0
 104:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1192              		.loc 1 104 3 is_stmt 1 view .LVU340
 1193              	.LVL115:
 106:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 1194              		.loc 1 106 3 view .LVU341
 106:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 1195              		.loc 1 106 5 is_stmt 0 view .LVU342
 1196 0004 51BB     		cbnz	r1, .L66
 1197 0006 01F07F02 		and	r2, r1, #127
 1198              	.LVL116:
 109:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     {
 1199              		.loc 1 109 5 is_stmt 1 view .LVU343
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 34


 109:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     {
 1200              		.loc 1 109 12 is_stmt 0 view .LVU344
 1201 000a 90F8E032 		ldrb	r3, [r0, #736]	@ zero_extendqisi2
 109:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     {
 1202              		.loc 1 109 7 view .LVU345
 1203 000e 032B     		cmp	r3, #3
 1204 0010 00D0     		beq	.L73
 1205              	.LVL117:
 1206              	.L65:
 133:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1207              		.loc 1 133 1 view .LVU346
 1208 0012 10BD     		pop	{r4, pc}
 1209              	.LVL118:
 1210              	.L73:
 111:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       {
 1211              		.loc 1 111 7 is_stmt 1 view .LVU347
 111:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       {
 1212              		.loc 1 111 18 is_stmt 0 view .LVU348
 1213 0014 2C23     		movs	r3, #44
 1214 0016 03FB0203 		mla	r3, r3, r2, r0
 1215 001a D3F89001 		ldr	r0, [r3, #400]
 1216              	.LVL119:
 111:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       {
 1217              		.loc 1 111 39 view .LVU349
 1218 001e D3F87431 		ldr	r3, [r3, #372]
 111:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       {
 1219              		.loc 1 111 9 view .LVU350
 1220 0022 9842     		cmp	r0, r3
 1221 0024 11D9     		bls	.L68
 113:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         usbd_ept_recv(udev, ept_addr, ept_info->trans_buf,
 1222              		.loc 1 113 9 is_stmt 1 view .LVU351
 113:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         usbd_ept_recv(udev, ept_addr, ept_info->trans_buf,
 1223              		.loc 1 113 28 is_stmt 0 view .LVU352
 1224 0026 C01A     		subs	r0, r0, r3
 1225 0028 4FF02C0C 		mov	ip, #44
 1226 002c 0CFB0242 		mla	r2, ip, r2, r4
 1227              	.LVL120:
 113:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         usbd_ept_recv(udev, ept_addr, ept_info->trans_buf,
 1228              		.loc 1 113 28 view .LVU353
 1229 0030 C2F89001 		str	r0, [r2, #400]
 114:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****                       MIN(ept_info->rem0_len, ept_info->maxpacket));
 1230              		.loc 1 114 9 is_stmt 1 view .LVU354
 1231 0034 D2F88021 		ldr	r2, [r2, #384]
 1232 0038 8342     		cmp	r3, r0
 1233 003a 04D9     		bls	.L69
 114:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****                       MIN(ept_info->rem0_len, ept_info->maxpacket));
 1234              		.loc 1 114 9 is_stmt 0 discriminator 1 view .LVU355
 1235 003c 83B2     		uxth	r3, r0
 1236              	.L70:
 114:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****                       MIN(ept_info->rem0_len, ept_info->maxpacket));
 1237              		.loc 1 114 9 discriminator 4 view .LVU356
 1238 003e 2046     		mov	r0, r4
 1239 0040 FFF7FEFF 		bl	usbd_ept_recv
 1240              	.LVL121:
 114:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****                       MIN(ept_info->rem0_len, ept_info->maxpacket));
 1241              		.loc 1 114 9 discriminator 4 view .LVU357
 1242 0044 E5E7     		b	.L65
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 35


 1243              	.LVL122:
 1244              	.L69:
 114:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****                       MIN(ept_info->rem0_len, ept_info->maxpacket));
 1245              		.loc 1 114 9 discriminator 2 view .LVU358
 1246 0046 9BB2     		uxth	r3, r3
 1247 0048 F9E7     		b	.L70
 1248              	.LVL123:
 1249              	.L68:
 119:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****           {
 1250              		.loc 1 119 11 is_stmt 1 view .LVU359
 119:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****           {
 1251              		.loc 1 119 18 is_stmt 0 view .LVU360
 1252 004a 6368     		ldr	r3, [r4, #4]
 119:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****           {
 1253              		.loc 1 119 33 view .LVU361
 1254 004c 1B69     		ldr	r3, [r3, #16]
 119:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****           {
 1255              		.loc 1 119 13 view .LVU362
 1256 004e 0BB1     		cbz	r3, .L71
 121:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****           }
 1257              		.loc 1 121 13 is_stmt 1 view .LVU363
 1258 0050 2046     		mov	r0, r4
 1259 0052 9847     		blx	r3
 1260              	.LVL124:
 1261              	.L71:
 123:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       }
 1262              		.loc 1 123 11 view .LVU364
 1263 0054 2046     		mov	r0, r4
 1264 0056 FFF7FEFF 		bl	usbd_ctrl_send_status
 1265              	.LVL125:
 1266 005a DAE7     		b	.L65
 1267              	.LVL126:
 1268              	.L66:
 127:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****           udev->conn_state == USB_CONN_STATE_CONFIGURED)
 1269              		.loc 1 127 8 view .LVU365
 127:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****           udev->conn_state == USB_CONN_STATE_CONFIGURED)
 1270              		.loc 1 127 15 is_stmt 0 view .LVU366
 1271 005c 4368     		ldr	r3, [r0, #4]
 127:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****           udev->conn_state == USB_CONN_STATE_CONFIGURED)
 1272              		.loc 1 127 30 view .LVU367
 1273 005e 9B69     		ldr	r3, [r3, #24]
 127:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****           udev->conn_state == USB_CONN_STATE_CONFIGURED)
 1274              		.loc 1 127 10 view .LVU368
 1275 0060 002B     		cmp	r3, #0
 1276 0062 D6D0     		beq	.L65
 128:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 1277              		.loc 1 128 15 discriminator 1 view .LVU369
 1278 0064 90F8E422 		ldrb	r2, [r0, #740]	@ zero_extendqisi2
 127:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****           udev->conn_state == USB_CONN_STATE_CONFIGURED)
 1279              		.loc 1 127 49 discriminator 1 view .LVU370
 1280 0068 032A     		cmp	r2, #3
 1281 006a D2D1     		bne	.L65
 131:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 1282              		.loc 1 131 5 is_stmt 1 view .LVU371
 1283 006c 9847     		blx	r3
 1284              	.LVL127:
 133:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 36


 1285              		.loc 1 133 1 is_stmt 0 view .LVU372
 1286 006e D0E7     		b	.L65
 1287              		.cfi_endproc
 1288              	.LFE137:
 1290              		.section	.text.usbd_ctrl_recv,"ax",%progbits
 1291              		.align	1
 1292              		.global	usbd_ctrl_recv
 1293              		.syntax unified
 1294              		.thumb
 1295              		.thumb_func
 1297              	usbd_ctrl_recv:
 1298              	.LVL128:
 1299              	.LFB140:
 197:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_ept_info *ept_info = &udev->ept_out[0];
 1300              		.loc 1 197 1 is_stmt 1 view -0
 1301              		.cfi_startproc
 1302              		@ args = 0, pretend = 0, frame = 0
 1303              		@ frame_needed = 0, uses_anonymous_args = 0
 197:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_ept_info *ept_info = &udev->ept_out[0];
 1304              		.loc 1 197 1 is_stmt 0 view .LVU374
 1305 0000 08B5     		push	{r3, lr}
 1306              	.LCFI14:
 1307              		.cfi_def_cfa_offset 8
 1308              		.cfi_offset 3, -8
 1309              		.cfi_offset 14, -4
 1310 0002 1346     		mov	r3, r2
 198:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1311              		.loc 1 198 3 is_stmt 1 view .LVU375
 1312              	.LVL129:
 200:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   ept_info->rem0_len = len;
 1313              		.loc 1 200 3 view .LVU376
 200:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   ept_info->rem0_len = len;
 1314              		.loc 1 200 23 is_stmt 0 view .LVU377
 1315 0004 C0F89421 		str	r2, [r0, #404]
 201:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   udev->ept0_sts = USB_EPT0_DATA_OUT;
 1316              		.loc 1 201 3 is_stmt 1 view .LVU378
 201:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   udev->ept0_sts = USB_EPT0_DATA_OUT;
 1317              		.loc 1 201 22 is_stmt 0 view .LVU379
 1318 0008 C0F89021 		str	r2, [r0, #400]
 202:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1319              		.loc 1 202 3 is_stmt 1 view .LVU380
 202:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1320              		.loc 1 202 18 is_stmt 0 view .LVU381
 1321 000c 0322     		movs	r2, #3
 1322              	.LVL130:
 202:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1323              		.loc 1 202 18 view .LVU382
 1324 000e 80F8E022 		strb	r2, [r0, #736]
 204:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** }
 1325              		.loc 1 204 3 is_stmt 1 view .LVU383
 1326 0012 0A46     		mov	r2, r1
 1327 0014 0021     		movs	r1, #0
 1328              	.LVL131:
 204:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** }
 1329              		.loc 1 204 3 is_stmt 0 view .LVU384
 1330 0016 FFF7FEFF 		bl	usbd_ept_recv
 1331              	.LVL132:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 37


 205:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1332              		.loc 1 205 1 view .LVU385
 1333 001a 08BD     		pop	{r3, pc}
 1334              		.cfi_endproc
 1335              	.LFE140:
 1337              		.section	.text.usbd_ctrl_recv_status,"ax",%progbits
 1338              		.align	1
 1339              		.global	usbd_ctrl_recv_status
 1340              		.syntax unified
 1341              		.thumb
 1342              		.thumb_func
 1344              	usbd_ctrl_recv_status:
 1345              	.LVL133:
 1346              	.LFB142:
 225:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   udev->ept0_sts = USB_EPT0_STATUS_OUT;
 1347              		.loc 1 225 1 is_stmt 1 view -0
 1348              		.cfi_startproc
 1349              		@ args = 0, pretend = 0, frame = 0
 1350              		@ frame_needed = 0, uses_anonymous_args = 0
 225:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   udev->ept0_sts = USB_EPT0_STATUS_OUT;
 1351              		.loc 1 225 1 is_stmt 0 view .LVU387
 1352 0000 08B5     		push	{r3, lr}
 1353              	.LCFI15:
 1354              		.cfi_def_cfa_offset 8
 1355              		.cfi_offset 3, -8
 1356              		.cfi_offset 14, -4
 226:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1357              		.loc 1 226 3 is_stmt 1 view .LVU388
 226:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1358              		.loc 1 226 18 is_stmt 0 view .LVU389
 1359 0002 0523     		movs	r3, #5
 1360 0004 80F8E032 		strb	r3, [r0, #736]
 228:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** }
 1361              		.loc 1 228 3 is_stmt 1 view .LVU390
 1362 0008 0023     		movs	r3, #0
 1363 000a 1A46     		mov	r2, r3
 1364 000c 1946     		mov	r1, r3
 1365 000e FFF7FEFF 		bl	usbd_ept_recv
 1366              	.LVL134:
 229:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1367              		.loc 1 229 1 is_stmt 0 view .LVU391
 1368 0012 08BD     		pop	{r3, pc}
 1369              		.cfi_endproc
 1370              	.LFE142:
 1372              		.section	.text.usbd_core_in_handler,"ax",%progbits
 1373              		.align	1
 1374              		.global	usbd_core_in_handler
 1375              		.syntax unified
 1376              		.thumb
 1377              		.thumb_func
 1379              	usbd_core_in_handler:
 1380              	.LVL135:
 1381              	.LFB136:
  51:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* get endpoint info*/
 1382              		.loc 1 51 1 is_stmt 1 view -0
 1383              		.cfi_startproc
 1384              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 38


 1385              		@ frame_needed = 0, uses_anonymous_args = 0
  51:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* get endpoint info*/
 1386              		.loc 1 51 1 is_stmt 0 view .LVU393
 1387 0000 70B5     		push	{r4, r5, r6, lr}
 1388              	.LCFI16:
 1389              		.cfi_def_cfa_offset 16
 1390              		.cfi_offset 4, -16
 1391              		.cfi_offset 5, -12
 1392              		.cfi_offset 6, -8
 1393              		.cfi_offset 14, -4
 1394 0002 0446     		mov	r4, r0
 1395 0004 0D46     		mov	r5, r1
  53:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1396              		.loc 1 53 3 is_stmt 1 view .LVU394
 1397              	.LVL136:
  55:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 1398              		.loc 1 55 3 view .LVU395
  55:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 1399              		.loc 1 55 5 is_stmt 0 view .LVU396
 1400 0006 0029     		cmp	r1, #0
 1401 0008 4CD1     		bne	.L79
 1402 000a 01F07F02 		and	r2, r1, #127
 1403              	.LVL137:
  57:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     {
 1404              		.loc 1 57 5 is_stmt 1 view .LVU397
  57:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     {
 1405              		.loc 1 57 12 is_stmt 0 view .LVU398
 1406 000e 90F8E032 		ldrb	r3, [r0, #736]	@ zero_extendqisi2
  57:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     {
 1407              		.loc 1 57 7 view .LVU399
 1408 0012 022B     		cmp	r3, #2
 1409 0014 00D0     		beq	.L87
 1410              	.LVL138:
 1411              	.L78:
  93:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1412              		.loc 1 93 1 view .LVU400
 1413 0016 70BD     		pop	{r4, r5, r6, pc}
 1414              	.LVL139:
 1415              	.L87:
  59:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       {
 1416              		.loc 1 59 7 is_stmt 1 view .LVU401
  59:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       {
 1417              		.loc 1 59 18 is_stmt 0 view .LVU402
 1418 0018 2C23     		movs	r3, #44
 1419 001a 03FB0203 		mla	r3, r3, r2, r0
 1420 001e 196B     		ldr	r1, [r3, #48]
 1421              	.LVL140:
  59:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       {
 1422              		.loc 1 59 39 view .LVU403
 1423 0020 5B69     		ldr	r3, [r3, #20]
  59:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       {
 1424              		.loc 1 59 9 view .LVU404
 1425 0022 9942     		cmp	r1, r3
 1426 0024 0FD9     		bls	.L81
  61:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         usbd_ept_send(udev, 0, ept_info->trans_buf,
 1427              		.loc 1 61 9 is_stmt 1 view .LVU405
  61:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         usbd_ept_send(udev, 0, ept_info->trans_buf,
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 39


 1428              		.loc 1 61 28 is_stmt 0 view .LVU406
 1429 0026 C91A     		subs	r1, r1, r3
 1430 0028 2C20     		movs	r0, #44
 1431              	.LVL141:
  61:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         usbd_ept_send(udev, 0, ept_info->trans_buf,
 1432              		.loc 1 61 28 view .LVU407
 1433 002a 00FB0242 		mla	r2, r0, r2, r4
 1434              	.LVL142:
  61:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         usbd_ept_send(udev, 0, ept_info->trans_buf,
 1435              		.loc 1 61 28 view .LVU408
 1436 002e 1163     		str	r1, [r2, #48]
  62:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****                       MIN(ept_info->rem0_len, ept_info->maxpacket));
 1437              		.loc 1 62 9 is_stmt 1 view .LVU409
 1438 0030 126A     		ldr	r2, [r2, #32]
 1439 0032 8B42     		cmp	r3, r1
 1440 0034 05D9     		bls	.L82
  62:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****                       MIN(ept_info->rem0_len, ept_info->maxpacket));
 1441              		.loc 1 62 9 is_stmt 0 discriminator 1 view .LVU410
 1442 0036 8BB2     		uxth	r3, r1
 1443              	.L83:
  62:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****                       MIN(ept_info->rem0_len, ept_info->maxpacket));
 1444              		.loc 1 62 9 discriminator 4 view .LVU411
 1445 0038 0021     		movs	r1, #0
 1446 003a 2046     		mov	r0, r4
 1447 003c FFF7FEFF 		bl	usbd_ept_send
 1448              	.LVL143:
 1449 0040 E9E7     		b	.L78
 1450              	.L82:
  62:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****                       MIN(ept_info->rem0_len, ept_info->maxpacket));
 1451              		.loc 1 62 9 discriminator 2 view .LVU412
 1452 0042 9BB2     		uxth	r3, r3
 1453 0044 F8E7     		b	.L83
 1454              	.LVL144:
 1455              	.L81:
  66:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         && ept_info->ept0_slen >= ept_info->maxpacket
 1456              		.loc 1 66 12 is_stmt 1 view .LVU413
  66:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         && ept_info->ept0_slen >= ept_info->maxpacket
 1457              		.loc 1 66 23 is_stmt 0 view .LVU414
 1458 0046 2C21     		movs	r1, #44
 1459 0048 01FB0201 		mla	r1, r1, r2, r0
 1460 004c C96A     		ldr	r1, [r1, #44]
  66:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         && ept_info->ept0_slen >= ept_info->maxpacket
 1461              		.loc 1 66 14 view .LVU415
 1462 004e 8B42     		cmp	r3, r1
 1463 0050 0AD0     		beq	.L88
 1464              	.L84:
  77:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****             udev->conn_state == USB_CONN_STATE_CONFIGURED)
 1465              		.loc 1 77 9 is_stmt 1 view .LVU416
  77:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****             udev->conn_state == USB_CONN_STATE_CONFIGURED)
 1466              		.loc 1 77 16 is_stmt 0 view .LVU417
 1467 0052 6368     		ldr	r3, [r4, #4]
  77:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****             udev->conn_state == USB_CONN_STATE_CONFIGURED)
 1468              		.loc 1 77 31 view .LVU418
 1469 0054 DB68     		ldr	r3, [r3, #12]
  77:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****             udev->conn_state == USB_CONN_STATE_CONFIGURED)
 1470              		.loc 1 77 11 view .LVU419
 1471 0056 1BB1     		cbz	r3, .L85
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 40


  78:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         {
 1472              		.loc 1 78 17 discriminator 1 view .LVU420
 1473 0058 94F8E422 		ldrb	r2, [r4, #740]	@ zero_extendqisi2
 1474              	.LVL145:
  77:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****             udev->conn_state == USB_CONN_STATE_CONFIGURED)
 1475              		.loc 1 77 54 discriminator 1 view .LVU421
 1476 005c 032A     		cmp	r2, #3
 1477 005e 1ED0     		beq	.L89
 1478              	.LVL146:
 1479              	.L85:
  82:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1480              		.loc 1 82 9 is_stmt 1 view .LVU422
 1481 0060 2046     		mov	r0, r4
 1482 0062 FFF7FEFF 		bl	usbd_ctrl_recv_status
 1483              	.LVL147:
 1484 0066 D6E7     		b	.L78
 1485              	.LVL148:
 1486              	.L88:
  67:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         && ept_info->ept0_slen < udev->ept0_wlength)
 1487              		.loc 1 67 20 is_stmt 0 view .LVU423
 1488 0068 2C21     		movs	r1, #44
 1489 006a 01FB0201 		mla	r1, r1, r2, r0
 1490 006e 496B     		ldr	r1, [r1, #52]
  67:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         && ept_info->ept0_slen < udev->ept0_wlength)
 1491              		.loc 1 67 9 view .LVU424
 1492 0070 8B42     		cmp	r3, r1
 1493 0072 EED8     		bhi	.L84
  68:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       {
 1494              		.loc 1 68 38 view .LVU425
 1495 0074 B0F8E232 		ldrh	r3, [r0, #738]
  68:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       {
 1496              		.loc 1 68 9 view .LVU426
 1497 0078 9942     		cmp	r1, r3
 1498 007a EAD2     		bcs	.L84
  70:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         usbd_ept_send(udev, 0, 0, 0);
 1499              		.loc 1 70 9 is_stmt 1 view .LVU427
  70:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         usbd_ept_send(udev, 0, 0, 0);
 1500              		.loc 1 70 28 is_stmt 0 view .LVU428
 1501 007c 2C23     		movs	r3, #44
 1502 007e 03FB0202 		mla	r2, r3, r2, r0
 1503              	.LVL149:
  70:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         usbd_ept_send(udev, 0, 0, 0);
 1504              		.loc 1 70 28 view .LVU429
 1505 0082 0026     		movs	r6, #0
 1506 0084 D662     		str	r6, [r2, #44]
  71:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         usbd_ept_recv(udev, ept_addr, 0, 0);
 1507              		.loc 1 71 9 is_stmt 1 view .LVU430
 1508 0086 3346     		mov	r3, r6
 1509 0088 3246     		mov	r2, r6
 1510 008a 3146     		mov	r1, r6
 1511 008c FFF7FEFF 		bl	usbd_ept_send
 1512              	.LVL150:
  72:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       }
 1513              		.loc 1 72 9 view .LVU431
 1514 0090 3346     		mov	r3, r6
 1515 0092 3246     		mov	r2, r6
 1516 0094 2946     		mov	r1, r5
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 41


 1517 0096 2046     		mov	r0, r4
 1518 0098 FFF7FEFF 		bl	usbd_ept_recv
 1519              	.LVL151:
 1520 009c BBE7     		b	.L78
 1521              	.LVL152:
 1522              	.L89:
  80:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         }
 1523              		.loc 1 80 11 view .LVU432
 1524 009e 2046     		mov	r0, r4
 1525              	.LVL153:
  80:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****         }
 1526              		.loc 1 80 11 is_stmt 0 view .LVU433
 1527 00a0 9847     		blx	r3
 1528              	.LVL154:
 1529 00a2 DDE7     		b	.L85
 1530              	.LVL155:
 1531              	.L79:
  87:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****           udev->conn_state == USB_CONN_STATE_CONFIGURED)
 1532              		.loc 1 87 8 is_stmt 1 view .LVU434
  87:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****           udev->conn_state == USB_CONN_STATE_CONFIGURED)
 1533              		.loc 1 87 15 is_stmt 0 view .LVU435
 1534 00a4 4368     		ldr	r3, [r0, #4]
  87:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****           udev->conn_state == USB_CONN_STATE_CONFIGURED)
 1535              		.loc 1 87 30 view .LVU436
 1536 00a6 5B69     		ldr	r3, [r3, #20]
  87:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****           udev->conn_state == USB_CONN_STATE_CONFIGURED)
 1537              		.loc 1 87 10 view .LVU437
 1538 00a8 002B     		cmp	r3, #0
 1539 00aa B4D0     		beq	.L78
  88:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 1540              		.loc 1 88 15 discriminator 1 view .LVU438
 1541 00ac 90F8E422 		ldrb	r2, [r0, #740]	@ zero_extendqisi2
  87:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****           udev->conn_state == USB_CONN_STATE_CONFIGURED)
 1542              		.loc 1 87 48 discriminator 1 view .LVU439
 1543 00b0 032A     		cmp	r2, #3
 1544 00b2 B0D1     		bne	.L78
  91:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 1545              		.loc 1 91 5 is_stmt 1 view .LVU440
 1546 00b4 9847     		blx	r3
 1547              	.LVL156:
  93:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1548              		.loc 1 93 1 is_stmt 0 view .LVU441
 1549 00b6 AEE7     		b	.L78
 1550              		.cfi_endproc
 1551              	.LFE136:
 1553              		.section	.text.usbd_connect_state_get,"ax",%progbits
 1554              		.align	1
 1555              		.global	usbd_connect_state_get
 1556              		.syntax unified
 1557              		.thumb
 1558              		.thumb_func
 1560              	usbd_connect_state_get:
 1561              	.LVL157:
 1562              	.LFB155:
 591:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 592:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** /**
 593:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @brief  get usb connect state
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 42


 594:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  udev: to the structure of usbd_core_type
 595:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @retval usb connect state
 596:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   */
 597:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** usbd_conn_state usbd_connect_state_get(usbd_core_type *udev)
 598:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** {
 1563              		.loc 1 598 1 is_stmt 1 view -0
 1564              		.cfi_startproc
 1565              		@ args = 0, pretend = 0, frame = 0
 1566              		@ frame_needed = 0, uses_anonymous_args = 0
 1567              		@ link register save eliminated.
 599:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   return udev->conn_state;
 1568              		.loc 1 599 3 view .LVU443
 600:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** }
 1569              		.loc 1 600 1 is_stmt 0 view .LVU444
 1570 0000 90F8E402 		ldrb	r0, [r0, #740]	@ zero_extendqisi2
 1571              	.LVL158:
 1572              		.loc 1 600 1 view .LVU445
 1573 0004 7047     		bx	lr
 1574              		.cfi_endproc
 1575              	.LFE155:
 1577              		.section	.text.usbd_remote_wakeup,"ax",%progbits
 1578              		.align	1
 1579              		.global	usbd_remote_wakeup
 1580              		.syntax unified
 1581              		.thumb
 1582              		.thumb_func
 1584              	usbd_remote_wakeup:
 1585              	.LVL159:
 1586              	.LFB156:
 601:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 602:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** /**
 603:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @brief  usb device remote wakeup
 604:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  udev: to the structure of usbd_core_type
 605:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @retval none
 606:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   */
 607:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** void usbd_remote_wakeup(usbd_core_type *udev)
 608:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** {
 1587              		.loc 1 608 1 is_stmt 1 view -0
 1588              		.cfi_startproc
 1589              		@ args = 0, pretend = 0, frame = 0
 1590              		@ frame_needed = 0, uses_anonymous_args = 0
 1591              		.loc 1 608 1 is_stmt 0 view .LVU447
 1592 0000 10B5     		push	{r4, lr}
 1593              	.LCFI17:
 1594              		.cfi_def_cfa_offset 8
 1595              		.cfi_offset 4, -8
 1596              		.cfi_offset 14, -4
 1597 0002 0446     		mov	r4, r0
 609:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* check device is in suspend mode */
 610:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   if(usb_suspend_status_get(udev->usb_reg) == 1)
 1598              		.loc 1 610 3 is_stmt 1 view .LVU448
 1599              		.loc 1 610 6 is_stmt 0 view .LVU449
 1600 0004 0068     		ldr	r0, [r0]
 1601              	.LVL160:
 1602              		.loc 1 610 6 view .LVU450
 1603 0006 FFF7FEFF 		bl	usb_suspend_status_get
 1604              	.LVL161:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 43


 1605              		.loc 1 610 5 view .LVU451
 1606 000a 0128     		cmp	r0, #1
 1607 000c 00D0     		beq	.L94
 1608              	.L91:
 611:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 612:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     /* set connect state */
 613:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     udev->conn_state = udev->old_conn_state;
 614:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 615:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     /* open phy clock */
 616:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     usb_open_phy_clk(udev->usb_reg);
 617:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 618:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     /* set remote wakeup */
 619:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     usb_remote_wkup_set(udev->usb_reg);
 620:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 621:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     /* delay 10 ms */
 622:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     usb_delay_ms(10);
 623:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 624:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     /* clear remote wakup */
 625:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     usb_remote_wkup_clear(udev->usb_reg);
 626:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 627:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** }
 1609              		.loc 1 627 1 view .LVU452
 1610 000e 10BD     		pop	{r4, pc}
 1611              	.LVL162:
 1612              	.L94:
 613:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1613              		.loc 1 613 5 is_stmt 1 view .LVU453
 613:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1614              		.loc 1 613 28 is_stmt 0 view .LVU454
 1615 0010 94F8E532 		ldrb	r3, [r4, #741]	@ zero_extendqisi2
 613:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1616              		.loc 1 613 22 view .LVU455
 1617 0014 84F8E432 		strb	r3, [r4, #740]
 616:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1618              		.loc 1 616 5 is_stmt 1 view .LVU456
 1619 0018 2068     		ldr	r0, [r4]
 1620 001a FFF7FEFF 		bl	usb_open_phy_clk
 1621              	.LVL163:
 619:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1622              		.loc 1 619 5 view .LVU457
 1623 001e 2068     		ldr	r0, [r4]
 1624 0020 FFF7FEFF 		bl	usb_remote_wkup_set
 1625              	.LVL164:
 622:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1626              		.loc 1 622 5 view .LVU458
 1627 0024 0A20     		movs	r0, #10
 1628 0026 FFF7FEFF 		bl	usb_delay_ms
 1629              	.LVL165:
 625:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 1630              		.loc 1 625 5 view .LVU459
 1631 002a 2068     		ldr	r0, [r4]
 1632 002c FFF7FEFF 		bl	usb_remote_wkup_clear
 1633              	.LVL166:
 1634              		.loc 1 627 1 is_stmt 0 view .LVU460
 1635 0030 EDE7     		b	.L91
 1636              		.cfi_endproc
 1637              	.LFE156:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 44


 1639              		.section	.text.usbd_enter_suspend,"ax",%progbits
 1640              		.align	1
 1641              		.global	usbd_enter_suspend
 1642              		.syntax unified
 1643              		.thumb
 1644              		.thumb_func
 1646              	usbd_enter_suspend:
 1647              	.LVL167:
 1648              	.LFB157:
 628:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 629:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** /**
 630:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @brief  usb device enter suspend mode
 631:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  udev: to the structure of usbd_core_type
 632:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @retval none
 633:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   */
 634:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** void usbd_enter_suspend(usbd_core_type *udev)
 635:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** {
 1649              		.loc 1 635 1 is_stmt 1 view -0
 1650              		.cfi_startproc
 1651              		@ args = 0, pretend = 0, frame = 0
 1652              		@ frame_needed = 0, uses_anonymous_args = 0
 1653              		.loc 1 635 1 is_stmt 0 view .LVU462
 1654 0000 10B5     		push	{r4, lr}
 1655              	.LCFI18:
 1656              		.cfi_def_cfa_offset 8
 1657              		.cfi_offset 4, -8
 1658              		.cfi_offset 14, -4
 1659 0002 0446     		mov	r4, r0
 636:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* check device is in suspend mode */
 637:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   if(usb_suspend_status_get(udev->usb_reg) == 1)
 1660              		.loc 1 637 3 is_stmt 1 view .LVU463
 1661              		.loc 1 637 6 is_stmt 0 view .LVU464
 1662 0004 0068     		ldr	r0, [r0]
 1663              	.LVL168:
 1664              		.loc 1 637 6 view .LVU465
 1665 0006 FFF7FEFF 		bl	usb_suspend_status_get
 1666              	.LVL169:
 1667              		.loc 1 637 5 view .LVU466
 1668 000a 0128     		cmp	r0, #1
 1669 000c 00D0     		beq	.L98
 1670              	.L95:
 638:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 639:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     /* stop phy clk */
 640:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     usb_stop_phy_clk(udev->usb_reg);
 641:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 642:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** }
 1671              		.loc 1 642 1 view .LVU467
 1672 000e 10BD     		pop	{r4, pc}
 1673              	.LVL170:
 1674              	.L98:
 640:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 1675              		.loc 1 640 5 is_stmt 1 view .LVU468
 1676 0010 2068     		ldr	r0, [r4]
 1677 0012 FFF7FEFF 		bl	usb_stop_phy_clk
 1678              	.LVL171:
 1679              		.loc 1 642 1 is_stmt 0 view .LVU469
 1680 0016 FAE7     		b	.L95
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 45


 1681              		.cfi_endproc
 1682              	.LFE157:
 1684              		.section	.text.usbd_flush_tx_fifo,"ax",%progbits
 1685              		.align	1
 1686              		.global	usbd_flush_tx_fifo
 1687              		.syntax unified
 1688              		.thumb
 1689              		.thumb_func
 1691              	usbd_flush_tx_fifo:
 1692              	.LVL172:
 1693              	.LFB158:
 643:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 644:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** /**
 645:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @brief  usb device flush in endpoint fifo
 646:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  udev: to the structure of usbd_core_type
 647:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  ept_num: endpoint number
 648:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @retval none
 649:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   */
 650:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** void usbd_flush_tx_fifo(usbd_core_type *udev, uint8_t ept_num)
 651:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** {
 1694              		.loc 1 651 1 is_stmt 1 view -0
 1695              		.cfi_startproc
 1696              		@ args = 0, pretend = 0, frame = 0
 1697              		@ frame_needed = 0, uses_anonymous_args = 0
 1698              		.loc 1 651 1 is_stmt 0 view .LVU471
 1699 0000 08B5     		push	{r3, lr}
 1700              	.LCFI19:
 1701              		.cfi_def_cfa_offset 8
 1702              		.cfi_offset 3, -8
 1703              		.cfi_offset 14, -4
 652:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* flush endpoint tx fifo */
 653:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_flush_tx_fifo(udev->usb_reg, ept_num & 0x1F);
 1704              		.loc 1 653 3 is_stmt 1 view .LVU472
 1705 0002 01F01F01 		and	r1, r1, #31
 1706              	.LVL173:
 1707              		.loc 1 653 3 is_stmt 0 view .LVU473
 1708 0006 0068     		ldr	r0, [r0]
 1709              	.LVL174:
 1710              		.loc 1 653 3 view .LVU474
 1711 0008 FFF7FEFF 		bl	usb_flush_tx_fifo
 1712              	.LVL175:
 654:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** }
 1713              		.loc 1 654 1 view .LVU475
 1714 000c 08BD     		pop	{r3, pc}
 1715              		.cfi_endproc
 1716              	.LFE158:
 1718              		.section	.text.usbd_fifo_alloc,"ax",%progbits
 1719              		.align	1
 1720              		.global	usbd_fifo_alloc
 1721              		.syntax unified
 1722              		.thumb
 1723              		.thumb_func
 1725              	usbd_fifo_alloc:
 1726              	.LVL176:
 1727              	.LFB159:
 655:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 656:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** /**
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 46


 657:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @brief  usb device endpoint fifo alloc
 658:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  udev: to the structure of usbd_core_type
 659:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @retval none
 660:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   */
 661:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** void usbd_fifo_alloc(usbd_core_type *udev)
 662:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** {
 1728              		.loc 1 662 1 is_stmt 1 view -0
 1729              		.cfi_startproc
 1730              		@ args = 0, pretend = 0, frame = 0
 1731              		@ frame_needed = 0, uses_anonymous_args = 0
 1732              		.loc 1 662 1 is_stmt 0 view .LVU477
 1733 0000 10B5     		push	{r4, lr}
 1734              	.LCFI20:
 1735              		.cfi_def_cfa_offset 8
 1736              		.cfi_offset 4, -8
 1737              		.cfi_offset 14, -4
 663:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_reg_type *usbx = udev->usb_reg;
 1738              		.loc 1 663 3 is_stmt 1 view .LVU478
 1739              		.loc 1 663 17 is_stmt 0 view .LVU479
 1740 0002 0468     		ldr	r4, [r0]
 1741              	.LVL177:
 664:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 665:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   if(usbx == OTG1_GLOBAL)
 1742              		.loc 1 665 3 is_stmt 1 view .LVU480
 1743              		.loc 1 665 5 is_stmt 0 view .LVU481
 1744 0004 B4F1A04F 		cmp	r4, #1342177280
 1745 0008 03D0     		beq	.L105
 1746              	.LVL178:
 1747              	.L102:
 666:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 667:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     /* set receive fifo size */
 668:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     usb_set_rx_fifo(usbx, USBD_RX_SIZE);
 669:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 670:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     /* set endpoint0 tx fifo size */
 671:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     usb_set_tx_fifo(usbx, USB_EPT0, USBD_EP0_TX_SIZE);
 672:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 673:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     /* set endpoint1 tx fifo size */
 674:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     usb_set_tx_fifo(usbx, USB_EPT1, USBD_EP1_TX_SIZE);
 675:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 676:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     /* set endpoint2 tx fifo size */
 677:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     usb_set_tx_fifo(usbx, USB_EPT2, USBD_EP2_TX_SIZE);
 678:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 679:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     /* set endpoint3 tx fifo size */
 680:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     usb_set_tx_fifo(usbx, USB_EPT3, USBD_EP3_TX_SIZE);
 681:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 682:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     if(USB_EPT_MAX_NUM == 8)
 683:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     {
 684:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       /* set endpoint4 tx fifo size */
 685:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       usb_set_tx_fifo(usbx, USB_EPT4, USBD_EP4_TX_SIZE);
 686:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 687:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       /* set endpoint5 tx fifo size */
 688:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       usb_set_tx_fifo(usbx, USB_EPT5, USBD_EP5_TX_SIZE);
 689:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 690:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       /* set endpoint6 tx fifo size */
 691:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       usb_set_tx_fifo(usbx, USB_EPT6, USBD_EP6_TX_SIZE);
 692:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 693:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       /* set endpoint7 tx fifo size */
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 47


 694:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       usb_set_tx_fifo(usbx, USB_EPT7, USBD_EP7_TX_SIZE);
 695:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     }
 696:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 697:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** #ifdef OTG2_GLOBAL
 698:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   if(usbx == OTG2_GLOBAL)
 1748              		.loc 1 698 3 is_stmt 1 view .LVU482
 1749              		.loc 1 698 5 is_stmt 0 view .LVU483
 1750 000a 2F4B     		ldr	r3, .L107
 1751 000c 9C42     		cmp	r4, r3
 1752 000e 2DD0     		beq	.L106
 1753              	.L101:
 699:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 700:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     /* set receive fifo size */
 701:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     usb_set_rx_fifo(usbx, USBD2_RX_SIZE);
 702:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 703:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     /* set endpoint0 tx fifo size */
 704:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     usb_set_tx_fifo(usbx, USB_EPT0, USBD2_EP0_TX_SIZE);
 705:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 706:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     /* set endpoint1 tx fifo size */
 707:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     usb_set_tx_fifo(usbx, USB_EPT1, USBD2_EP1_TX_SIZE);
 708:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 709:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     /* set endpoint2 tx fifo size */
 710:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     usb_set_tx_fifo(usbx, USB_EPT2, USBD2_EP2_TX_SIZE);
 711:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 712:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     /* set endpoint3 tx fifo size */
 713:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     usb_set_tx_fifo(usbx, USB_EPT3, USBD2_EP3_TX_SIZE);
 714:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 715:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     if(USB_EPT_MAX_NUM == 8)
 716:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     {
 717:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       /* set endpoint4 tx fifo size */
 718:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       usb_set_tx_fifo(usbx, USB_EPT4, USBD2_EP4_TX_SIZE);
 719:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 720:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       /* set endpoint5 tx fifo size */
 721:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       usb_set_tx_fifo(usbx, USB_EPT5, USBD2_EP5_TX_SIZE);
 722:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 723:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       /* set endpoint6 tx fifo size */
 724:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       usb_set_tx_fifo(usbx, USB_EPT6, USBD2_EP6_TX_SIZE);
 725:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 726:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       /* set endpoint7 tx fifo size */
 727:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       usb_set_tx_fifo(usbx, USB_EPT7, USBD2_EP7_TX_SIZE);
 728:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     }
 729:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 730:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** #endif
 731:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** }
 1754              		.loc 1 731 1 view .LVU484
 1755 0010 10BD     		pop	{r4, pc}
 1756              	.LVL179:
 1757              	.L105:
 668:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1758              		.loc 1 668 5 is_stmt 1 view .LVU485
 1759 0012 8021     		movs	r1, #128
 1760 0014 2046     		mov	r0, r4
 1761              	.LVL180:
 668:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1762              		.loc 1 668 5 is_stmt 0 view .LVU486
 1763 0016 FFF7FEFF 		bl	usb_set_rx_fifo
 1764              	.LVL181:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 48


 671:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1765              		.loc 1 671 5 is_stmt 1 view .LVU487
 1766 001a 1822     		movs	r2, #24
 1767 001c 0021     		movs	r1, #0
 1768 001e 2046     		mov	r0, r4
 1769 0020 FFF7FEFF 		bl	usb_set_tx_fifo
 1770              	.LVL182:
 674:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1771              		.loc 1 674 5 view .LVU488
 1772 0024 1422     		movs	r2, #20
 1773 0026 0121     		movs	r1, #1
 1774 0028 2046     		mov	r0, r4
 1775 002a FFF7FEFF 		bl	usb_set_tx_fifo
 1776              	.LVL183:
 677:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1777              		.loc 1 677 5 view .LVU489
 1778 002e 1422     		movs	r2, #20
 1779 0030 0221     		movs	r1, #2
 1780 0032 2046     		mov	r0, r4
 1781 0034 FFF7FEFF 		bl	usb_set_tx_fifo
 1782              	.LVL184:
 680:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1783              		.loc 1 680 5 view .LVU490
 1784 0038 1422     		movs	r2, #20
 1785 003a 0321     		movs	r1, #3
 1786 003c 2046     		mov	r0, r4
 1787 003e FFF7FEFF 		bl	usb_set_tx_fifo
 1788              	.LVL185:
 682:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     {
 1789              		.loc 1 682 5 view .LVU491
 685:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1790              		.loc 1 685 7 view .LVU492
 1791 0042 1422     		movs	r2, #20
 1792 0044 0421     		movs	r1, #4
 1793 0046 2046     		mov	r0, r4
 1794 0048 FFF7FEFF 		bl	usb_set_tx_fifo
 1795              	.LVL186:
 688:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1796              		.loc 1 688 7 view .LVU493
 1797 004c 1422     		movs	r2, #20
 1798 004e 0521     		movs	r1, #5
 1799 0050 2046     		mov	r0, r4
 1800 0052 FFF7FEFF 		bl	usb_set_tx_fifo
 1801              	.LVL187:
 691:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1802              		.loc 1 691 7 view .LVU494
 1803 0056 1422     		movs	r2, #20
 1804 0058 0621     		movs	r1, #6
 1805 005a 2046     		mov	r0, r4
 1806 005c FFF7FEFF 		bl	usb_set_tx_fifo
 1807              	.LVL188:
 694:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     }
 1808              		.loc 1 694 7 view .LVU495
 1809 0060 1422     		movs	r2, #20
 1810 0062 0721     		movs	r1, #7
 1811 0064 2046     		mov	r0, r4
 1812 0066 FFF7FEFF 		bl	usb_set_tx_fifo
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 49


 1813              	.LVL189:
 1814 006a CEE7     		b	.L102
 1815              	.L106:
 701:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1816              		.loc 1 701 5 view .LVU496
 1817 006c 8021     		movs	r1, #128
 1818 006e 2046     		mov	r0, r4
 1819 0070 FFF7FEFF 		bl	usb_set_rx_fifo
 1820              	.LVL190:
 704:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1821              		.loc 1 704 5 view .LVU497
 1822 0074 1822     		movs	r2, #24
 1823 0076 0021     		movs	r1, #0
 1824 0078 2046     		mov	r0, r4
 1825 007a FFF7FEFF 		bl	usb_set_tx_fifo
 1826              	.LVL191:
 707:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1827              		.loc 1 707 5 view .LVU498
 1828 007e 1422     		movs	r2, #20
 1829 0080 0121     		movs	r1, #1
 1830 0082 2046     		mov	r0, r4
 1831 0084 FFF7FEFF 		bl	usb_set_tx_fifo
 1832              	.LVL192:
 710:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1833              		.loc 1 710 5 view .LVU499
 1834 0088 1422     		movs	r2, #20
 1835 008a 0221     		movs	r1, #2
 1836 008c 2046     		mov	r0, r4
 1837 008e FFF7FEFF 		bl	usb_set_tx_fifo
 1838              	.LVL193:
 713:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1839              		.loc 1 713 5 view .LVU500
 1840 0092 1422     		movs	r2, #20
 1841 0094 0321     		movs	r1, #3
 1842 0096 2046     		mov	r0, r4
 1843 0098 FFF7FEFF 		bl	usb_set_tx_fifo
 1844              	.LVL194:
 715:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     {
 1845              		.loc 1 715 5 view .LVU501
 718:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1846              		.loc 1 718 7 view .LVU502
 1847 009c 1422     		movs	r2, #20
 1848 009e 0421     		movs	r1, #4
 1849 00a0 2046     		mov	r0, r4
 1850 00a2 FFF7FEFF 		bl	usb_set_tx_fifo
 1851              	.LVL195:
 721:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1852              		.loc 1 721 7 view .LVU503
 1853 00a6 1422     		movs	r2, #20
 1854 00a8 0521     		movs	r1, #5
 1855 00aa 2046     		mov	r0, r4
 1856 00ac FFF7FEFF 		bl	usb_set_tx_fifo
 1857              	.LVL196:
 724:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 1858              		.loc 1 724 7 view .LVU504
 1859 00b0 1422     		movs	r2, #20
 1860 00b2 0621     		movs	r1, #6
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 50


 1861 00b4 2046     		mov	r0, r4
 1862 00b6 FFF7FEFF 		bl	usb_set_tx_fifo
 1863              	.LVL197:
 727:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     }
 1864              		.loc 1 727 7 view .LVU505
 1865 00ba 1422     		movs	r2, #20
 1866 00bc 0721     		movs	r1, #7
 1867 00be 2046     		mov	r0, r4
 1868 00c0 FFF7FEFF 		bl	usb_set_tx_fifo
 1869              	.LVL198:
 1870              		.loc 1 731 1 is_stmt 0 view .LVU506
 1871 00c4 A4E7     		b	.L101
 1872              	.L108:
 1873 00c6 00BF     		.align	2
 1874              	.L107:
 1875 00c8 00000440 		.word	1074003968
 1876              		.cfi_endproc
 1877              	.LFE159:
 1879              		.section	.text.usbd_core_init,"ax",%progbits
 1880              		.align	1
 1881              		.global	usbd_core_init
 1882              		.syntax unified
 1883              		.thumb
 1884              		.thumb_func
 1886              	usbd_core_init:
 1887              	.LVL199:
 1888              	.LFB160:
 732:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 733:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** /**
 734:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @brief  usb device core initialization
 735:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  udev: to the structure of usbd_core_type
 736:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  usb_reg: usb otgfs peripheral global register
 737:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   *         this parameter can be one of the following values:
 738:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   *         OTG1_GLOBAL , OTG2_GLOBAL
 739:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  class_handler: usb class handler
 740:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  desc_handler: device config handler
 741:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @param  core_id: usb core id number
 742:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   * @retval usb_sts_type
 743:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   */
 744:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** usb_sts_type usbd_core_init(usbd_core_type *udev,
 745:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****                             usb_reg_type *usb_reg,
 746:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****                             usbd_class_handler *class_handler,
 747:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****                             usbd_desc_handler *desc_handler,
 748:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****                             uint8_t core_id)
 749:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** {
 1889              		.loc 1 749 1 is_stmt 1 view -0
 1890              		.cfi_startproc
 1891              		@ args = 4, pretend = 0, frame = 0
 1892              		@ frame_needed = 0, uses_anonymous_args = 0
 1893              		.loc 1 749 1 is_stmt 0 view .LVU508
 1894 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1895              	.LCFI21:
 1896              		.cfi_def_cfa_offset 24
 1897              		.cfi_offset 3, -24
 1898              		.cfi_offset 4, -20
 1899              		.cfi_offset 5, -16
 1900              		.cfi_offset 6, -12
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 51


 1901              		.cfi_offset 7, -8
 1902              		.cfi_offset 14, -4
 1903 0002 0646     		mov	r6, r0
 1904 0004 0D46     		mov	r5, r1
 750:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_reg_type *usbx;
 1905              		.loc 1 750 3 is_stmt 1 view .LVU509
 751:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   otg_device_type *dev;
 1906              		.loc 1 751 3 view .LVU510
 752:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   otg_eptin_type *ept_in;
 1907              		.loc 1 752 3 view .LVU511
 753:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   otg_eptout_type *ept_out;
 1908              		.loc 1 753 3 view .LVU512
 754:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   uint32_t i_index;
 1909              		.loc 1 754 3 view .LVU513
 755:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 756:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   udev->usb_reg = usb_reg;
 1910              		.loc 1 756 3 view .LVU514
 1911              		.loc 1 756 17 is_stmt 0 view .LVU515
 1912 0006 0160     		str	r1, [r0]
 757:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usbx = usb_reg;
 1913              		.loc 1 757 3 is_stmt 1 view .LVU516
 1914              	.LVL200:
 758:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   dev = OTG_DEVICE(usbx);
 1915              		.loc 1 758 3 view .LVU517
 1916              		.loc 1 758 9 is_stmt 0 view .LVU518
 1917 0008 01F50067 		add	r7, r1, #2048
 1918              	.LVL201:
 759:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 760:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* set connect state */
 761:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   udev->conn_state = USB_CONN_STATE_DEFAULT;
 1919              		.loc 1 761 3 is_stmt 1 view .LVU519
 1920              		.loc 1 761 20 is_stmt 0 view .LVU520
 1921 000c 0121     		movs	r1, #1
 1922              	.LVL202:
 1923              		.loc 1 761 20 view .LVU521
 1924 000e 80F8E412 		strb	r1, [r0, #740]
 762:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 763:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* device class config */
 764:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   udev->device_addr = 0;
 1925              		.loc 1 764 3 is_stmt 1 view .LVU522
 1926              		.loc 1 764 21 is_stmt 0 view .LVU523
 1927 0012 0024     		movs	r4, #0
 1928 0014 80F8E642 		strb	r4, [r0, #742]
 765:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   udev->class_handler = class_handler;
 1929              		.loc 1 765 3 is_stmt 1 view .LVU524
 1930              		.loc 1 765 23 is_stmt 0 view .LVU525
 1931 0018 4260     		str	r2, [r0, #4]
 766:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   udev->desc_handler = desc_handler;
 1932              		.loc 1 766 3 is_stmt 1 view .LVU526
 1933              		.loc 1 766 22 is_stmt 0 view .LVU527
 1934 001a 8360     		str	r3, [r0, #8]
 767:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* set device disconnect */
 768:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usbd_disconnect(udev);
 1935              		.loc 1 768 3 is_stmt 1 view .LVU528
 1936 001c FFF7FEFF 		bl	usbd_disconnect
 1937              	.LVL203:
 769:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 52


 770:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* set endpoint to default status */
 771:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_ept_default_init(udev);
 1938              		.loc 1 771 3 view .LVU529
 1939 0020 3046     		mov	r0, r6
 1940 0022 FFF7FEFF 		bl	usb_ept_default_init
 1941              	.LVL204:
 772:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 773:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* disable usb global interrupt */
 774:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_interrupt_disable(usbx);
 1942              		.loc 1 774 3 view .LVU530
 1943 0026 2846     		mov	r0, r5
 1944 0028 FFF7FEFF 		bl	usb_interrupt_disable
 1945              	.LVL205:
 775:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 776:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* init global register */
 777:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_global_init(usbx);
 1946              		.loc 1 777 3 view .LVU531
 1947 002c 2846     		mov	r0, r5
 1948 002e FFF7FEFF 		bl	usb_global_init
 1949              	.LVL206:
 778:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 779:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* set device mode */
 780:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_global_set_mode(usbx, OTG_DEVICE_MODE);
 1950              		.loc 1 780 3 view .LVU532
 1951 0032 2146     		mov	r1, r4
 1952 0034 2846     		mov	r0, r5
 1953 0036 FFF7FEFF 		bl	usb_global_set_mode
 1954              	.LVL207:
 781:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 782:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* open phy clock */
 783:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_open_phy_clk(udev->usb_reg);
 1955              		.loc 1 783 3 view .LVU533
 1956 003a 3068     		ldr	r0, [r6]
 1957 003c FFF7FEFF 		bl	usb_open_phy_clk
 1958              	.LVL208:
 784:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 785:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* set periodic frame interval */
 786:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   dev->dcfg_bit.perfrint = DCFG_PERFRINT_80;
 1959              		.loc 1 786 3 view .LVU534
 1960              		.loc 1 786 26 is_stmt 0 view .LVU535
 1961 0040 D5F80038 		ldr	r3, [r5, #2048]
 1962 0044 64F3CC23 		bfi	r3, r4, #11, #2
 1963 0048 C5F80038 		str	r3, [r5, #2048]
 1964              	.LVL209:
 787:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 788:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* set device speed to full-speed */
 789:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   dev->dcfg_bit.devspd = USB_DCFG_FULL_SPEED;
 1965              		.loc 1 789 3 is_stmt 1 view .LVU536
 1966              		.loc 1 789 24 is_stmt 0 view .LVU537
 1967 004c D5F80038 		ldr	r3, [r5, #2048]
 1968 0050 43F00303 		orr	r3, r3, #3
 1969 0054 C5F80038 		str	r3, [r5, #2048]
 790:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 791:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* flush all tx fifo */
 792:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_flush_tx_fifo(usbx, 16);
 1970              		.loc 1 792 3 is_stmt 1 view .LVU538
 1971 0058 1021     		movs	r1, #16
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 53


 1972 005a 2846     		mov	r0, r5
 1973 005c FFF7FEFF 		bl	usb_flush_tx_fifo
 1974              	.LVL210:
 793:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 794:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* flush share rx fifo */
 795:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_flush_rx_fifo(usbx);
 1975              		.loc 1 795 3 view .LVU539
 1976 0060 2846     		mov	r0, r5
 1977 0062 FFF7FEFF 		bl	usb_flush_rx_fifo
 1978              	.LVL211:
 796:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 797:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* clear all endpoint interrupt flag and mask */
 798:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   dev->daint = 0xFFFFFFFF;
 1979              		.loc 1 798 3 view .LVU540
 1980              		.loc 1 798 14 is_stmt 0 view .LVU541
 1981 0066 4FF0FF33 		mov	r3, #-1
 1982 006a BB61     		str	r3, [r7, #24]
 799:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   dev->daintmsk = 0;
 1983              		.loc 1 799 3 is_stmt 1 view .LVU542
 1984              		.loc 1 799 17 is_stmt 0 view .LVU543
 1985 006c FC61     		str	r4, [r7, #28]
 800:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   dev->diepmsk = 0;
 1986              		.loc 1 800 3 is_stmt 1 view .LVU544
 1987              		.loc 1 800 16 is_stmt 0 view .LVU545
 1988 006e 3C61     		str	r4, [r7, #16]
 801:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   dev->doepmsk = 0;
 1989              		.loc 1 801 3 is_stmt 1 view .LVU546
 1990              		.loc 1 801 16 is_stmt 0 view .LVU547
 1991 0070 7C61     		str	r4, [r7, #20]
 802:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 803:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   for(i_index = 0; i_index < USB_EPT_MAX_NUM; i_index ++)
 1992              		.loc 1 803 3 is_stmt 1 view .LVU548
 1993              	.LVL212:
 1994              		.loc 1 803 15 is_stmt 0 view .LVU549
 1995 0072 2346     		mov	r3, r4
 1996              		.loc 1 803 3 view .LVU550
 1997 0074 06E0     		b	.L110
 1998              	.LVL213:
 1999              	.L111:
 804:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 805:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     usbx->dieptxfn[i_index] = 0;
 2000              		.loc 1 805 5 is_stmt 1 discriminator 3 view .LVU551
 2001              		.loc 1 805 29 is_stmt 0 discriminator 3 view .LVU552
 2002 0076 03F14002 		add	r2, r3, #64
 2003 007a 05EB8202 		add	r2, r5, r2, lsl #2
 2004 007e 0021     		movs	r1, #0
 2005 0080 5160     		str	r1, [r2, #4]
 803:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 2006              		.loc 1 803 47 is_stmt 1 discriminator 3 view .LVU553
 803:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 2007              		.loc 1 803 55 is_stmt 0 discriminator 3 view .LVU554
 2008 0082 0133     		adds	r3, r3, #1
 2009              	.LVL214:
 2010              	.L110:
 803:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 2011              		.loc 1 803 20 is_stmt 1 discriminator 1 view .LVU555
 803:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 54


 2012              		.loc 1 803 3 is_stmt 0 discriminator 1 view .LVU556
 2013 0084 072B     		cmp	r3, #7
 2014 0086 F6D9     		bls	.L111
 806:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 807:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 808:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* endpoint fifo alloc */
 809:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usbd_fifo_alloc(udev);
 2015              		.loc 1 809 3 is_stmt 1 view .LVU557
 2016 0088 3046     		mov	r0, r6
 2017 008a FFF7FEFF 		bl	usbd_fifo_alloc
 2018              	.LVL215:
 810:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 811:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* disable all in endpoint */
 812:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   for(i_index = 0; i_index < USB_EPT_MAX_NUM; i_index ++)
 2019              		.loc 1 812 3 view .LVU558
 2020              		.loc 1 812 15 is_stmt 0 view .LVU559
 2021 008e 0022     		movs	r2, #0
 2022              		.loc 1 812 3 view .LVU560
 2023 0090 07E0     		b	.L112
 2024              	.LVL216:
 2025              	.L113:
 813:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 814:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     ept_in = USB_INEPT(usbx, i_index);
 815:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     if(ept_in->diepctl_bit.eptena)
 816:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     {
 817:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       ept_in->diepctl = 0;
 818:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       ept_in->diepctl_bit.eptdis = TRUE;
 819:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       ept_in->diepctl_bit.snak = TRUE;
 820:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     }
 821:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     else
 822:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     {
 823:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       ept_in->diepctl = 0;
 2026              		.loc 1 823 7 is_stmt 1 view .LVU561
 2027              		.loc 1 823 23 is_stmt 0 view .LVU562
 2028 0092 0020     		movs	r0, #0
 2029 0094 C3F80009 		str	r0, [r3, #2304]
 2030              	.L114:
 824:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     }
 825:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     ept_in->dieptsiz = 0;
 2031              		.loc 1 825 5 is_stmt 1 discriminator 2 view .LVU563
 2032              		.loc 1 825 22 is_stmt 0 discriminator 2 view .LVU564
 2033 0098 0023     		movs	r3, #0
 2034 009a 0B61     		str	r3, [r1, #16]
 826:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     ept_in->diepint = 0xFF;
 2035              		.loc 1 826 5 is_stmt 1 discriminator 2 view .LVU565
 2036              		.loc 1 826 21 is_stmt 0 discriminator 2 view .LVU566
 2037 009c FF23     		movs	r3, #255
 2038 009e 8B60     		str	r3, [r1, #8]
 812:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 2039              		.loc 1 812 47 is_stmt 1 discriminator 2 view .LVU567
 812:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 2040              		.loc 1 812 55 is_stmt 0 discriminator 2 view .LVU568
 2041 00a0 0132     		adds	r2, r2, #1
 2042              	.LVL217:
 2043              	.L112:
 812:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 2044              		.loc 1 812 20 is_stmt 1 discriminator 1 view .LVU569
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 55


 812:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 2045              		.loc 1 812 3 is_stmt 0 discriminator 1 view .LVU570
 2046 00a2 072A     		cmp	r2, #7
 2047 00a4 17D8     		bhi	.L121
 814:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     if(ept_in->diepctl_bit.eptena)
 2048              		.loc 1 814 5 is_stmt 1 view .LVU571
 814:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     if(ept_in->diepctl_bit.eptena)
 2049              		.loc 1 814 14 is_stmt 0 view .LVU572
 2050 00a6 05EB4213 		add	r3, r5, r2, lsl #5
 2051 00aa 03F51061 		add	r1, r3, #2304
 2052              	.LVL218:
 815:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     {
 2053              		.loc 1 815 5 is_stmt 1 view .LVU573
 815:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     {
 2054              		.loc 1 815 27 is_stmt 0 view .LVU574
 2055 00ae D3F80009 		ldr	r0, [r3, #2304]
 815:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     {
 2056              		.loc 1 815 7 view .LVU575
 2057 00b2 0028     		cmp	r0, #0
 2058 00b4 EDDA     		bge	.L113
 817:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       ept_in->diepctl_bit.eptdis = TRUE;
 2059              		.loc 1 817 7 is_stmt 1 view .LVU576
 817:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       ept_in->diepctl_bit.eptdis = TRUE;
 2060              		.loc 1 817 23 is_stmt 0 view .LVU577
 2061 00b6 0020     		movs	r0, #0
 2062 00b8 C3F80009 		str	r0, [r3, #2304]
 818:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       ept_in->diepctl_bit.snak = TRUE;
 2063              		.loc 1 818 7 is_stmt 1 view .LVU578
 818:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       ept_in->diepctl_bit.snak = TRUE;
 2064              		.loc 1 818 34 is_stmt 0 view .LVU579
 2065 00bc D3F80009 		ldr	r0, [r3, #2304]
 2066 00c0 40F08040 		orr	r0, r0, #1073741824
 2067 00c4 C3F80009 		str	r0, [r3, #2304]
 819:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     }
 2068              		.loc 1 819 7 is_stmt 1 view .LVU580
 819:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     }
 2069              		.loc 1 819 32 is_stmt 0 view .LVU581
 2070 00c8 D3F80009 		ldr	r0, [r3, #2304]
 2071 00cc 40F00060 		orr	r0, r0, #134217728
 2072 00d0 C3F80009 		str	r0, [r3, #2304]
 2073 00d4 E0E7     		b	.L114
 2074              	.LVL219:
 2075              	.L121:
 827:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 828:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 829:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* disable all out endpoint */
 830:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   for(i_index = 0; i_index < USB_EPT_MAX_NUM; i_index ++)
 2076              		.loc 1 830 15 view .LVU582
 2077 00d6 0022     		movs	r2, #0
 2078              	.LVL220:
 2079              		.loc 1 830 15 view .LVU583
 2080 00d8 07E0     		b	.L116
 2081              	.LVL221:
 2082              	.L117:
 831:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 832:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     ept_out = USB_OUTEPT(usbx, i_index);
 833:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     if(ept_out->doepctl_bit.eptena)
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 56


 834:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     {
 835:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       ept_out->doepctl = 0;
 836:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       ept_out->doepctl_bit.eptdis = TRUE;
 837:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       ept_out->doepctl_bit.snak = TRUE;
 838:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     }
 839:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     else
 840:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     {
 841:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       ept_out->doepctl = 0;
 2083              		.loc 1 841 7 is_stmt 1 view .LVU584
 2084              		.loc 1 841 24 is_stmt 0 view .LVU585
 2085 00da 0020     		movs	r0, #0
 2086 00dc C3F8000B 		str	r0, [r3, #2816]
 2087              	.L118:
 842:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     }
 843:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     ept_out->doeptsiz = 0;
 2088              		.loc 1 843 5 is_stmt 1 discriminator 2 view .LVU586
 2089              		.loc 1 843 23 is_stmt 0 discriminator 2 view .LVU587
 2090 00e0 0023     		movs	r3, #0
 2091 00e2 0B61     		str	r3, [r1, #16]
 844:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     ept_out->doepint = 0xFF;
 2092              		.loc 1 844 5 is_stmt 1 discriminator 2 view .LVU588
 2093              		.loc 1 844 22 is_stmt 0 discriminator 2 view .LVU589
 2094 00e4 FF23     		movs	r3, #255
 2095 00e6 8B60     		str	r3, [r1, #8]
 830:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 2096              		.loc 1 830 47 is_stmt 1 discriminator 2 view .LVU590
 830:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 2097              		.loc 1 830 55 is_stmt 0 discriminator 2 view .LVU591
 2098 00e8 0132     		adds	r2, r2, #1
 2099              	.LVL222:
 2100              	.L116:
 830:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 2101              		.loc 1 830 20 is_stmt 1 discriminator 1 view .LVU592
 830:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   {
 2102              		.loc 1 830 3 is_stmt 0 discriminator 1 view .LVU593
 2103 00ea 072A     		cmp	r2, #7
 2104 00ec 17D8     		bhi	.L122
 832:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     if(ept_out->doepctl_bit.eptena)
 2105              		.loc 1 832 5 is_stmt 1 view .LVU594
 832:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     if(ept_out->doepctl_bit.eptena)
 2106              		.loc 1 832 15 is_stmt 0 view .LVU595
 2107 00ee 05EB4213 		add	r3, r5, r2, lsl #5
 2108 00f2 03F53061 		add	r1, r3, #2816
 2109              	.LVL223:
 833:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     {
 2110              		.loc 1 833 5 is_stmt 1 view .LVU596
 833:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     {
 2111              		.loc 1 833 28 is_stmt 0 view .LVU597
 2112 00f6 D3F8000B 		ldr	r0, [r3, #2816]
 833:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     {
 2113              		.loc 1 833 7 view .LVU598
 2114 00fa 0028     		cmp	r0, #0
 2115 00fc EDDA     		bge	.L117
 835:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       ept_out->doepctl_bit.eptdis = TRUE;
 2116              		.loc 1 835 7 is_stmt 1 view .LVU599
 835:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       ept_out->doepctl_bit.eptdis = TRUE;
 2117              		.loc 1 835 24 is_stmt 0 view .LVU600
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 57


 2118 00fe 0020     		movs	r0, #0
 2119 0100 C3F8000B 		str	r0, [r3, #2816]
 836:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       ept_out->doepctl_bit.snak = TRUE;
 2120              		.loc 1 836 7 is_stmt 1 view .LVU601
 836:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****       ept_out->doepctl_bit.snak = TRUE;
 2121              		.loc 1 836 35 is_stmt 0 view .LVU602
 2122 0104 D3F8000B 		ldr	r0, [r3, #2816]
 2123 0108 40F08040 		orr	r0, r0, #1073741824
 2124 010c C3F8000B 		str	r0, [r3, #2816]
 837:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     }
 2125              		.loc 1 837 7 is_stmt 1 view .LVU603
 837:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****     }
 2126              		.loc 1 837 33 is_stmt 0 view .LVU604
 2127 0110 D3F8000B 		ldr	r0, [r3, #2816]
 2128 0114 40F00060 		orr	r0, r0, #134217728
 2129 0118 C3F8000B 		str	r0, [r3, #2816]
 2130 011c E0E7     		b	.L118
 2131              	.LVL224:
 2132              	.L122:
 845:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   }
 846:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   dev->diepmsk_bit.txfifoudrmsk = TRUE;
 2133              		.loc 1 846 3 is_stmt 1 view .LVU605
 2134              		.loc 1 846 33 is_stmt 0 view .LVU606
 2135 011e 3B69     		ldr	r3, [r7, #16]
 2136 0120 43F48073 		orr	r3, r3, #256
 2137 0124 3B61     		str	r3, [r7, #16]
 847:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 848:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* clear global interrupt and mask */
 849:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usbx->gintmsk = 0;
 2138              		.loc 1 849 3 is_stmt 1 view .LVU607
 2139              		.loc 1 849 17 is_stmt 0 view .LVU608
 2140 0126 0024     		movs	r4, #0
 2141 0128 AC61     		str	r4, [r5, #24]
 850:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usbx->gintsts = 0xBFFFFFFF;
 2142              		.loc 1 850 3 is_stmt 1 view .LVU609
 2143              		.loc 1 850 17 is_stmt 0 view .LVU610
 2144 012a 6FF08043 		mvn	r3, #1073741824
 2145 012e 6B61     		str	r3, [r5, #20]
 851:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 852:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* enable global interrupt mask */
 853:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usbx->gintmsk = USB_OTG_SOF_INT | USB_OTG_RXFLVL_INT |
 2146              		.loc 1 853 3 is_stmt 1 view .LVU611
 2147              		.loc 1 853 17 is_stmt 0 view .LVU612
 2148 0130 A3F17F53 		sub	r3, r3, #1069547520
 2149 0134 A3F57133 		sub	r3, r3, #246784
 2150 0138 A3F2E333 		subw	r3, r3, #995
 2151 013c AB61     		str	r3, [r5, #24]
 854:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****                   USB_OTG_USBSUSP_INT | USB_OTG_USBRST_INT |
 855:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****                   USB_OTG_ENUMDONE_INT | USB_OTG_IEPT_INT |
 856:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****                   USB_OTG_OEPT_INT | USB_OTG_INCOMISOIN_INT |
 857:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****                   USB_OTG_INCOMPIP_INCOMPISOOUT_INT | USB_OTG_WKUP_INT |
 858:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****                   USB_OTG_OTGINT_INT;
 859:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 860:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* usb connect */
 861:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usbd_connect(udev);
 2152              		.loc 1 861 3 is_stmt 1 view .LVU613
 2153 013e 3046     		mov	r0, r6
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 58


 2154 0140 FFF7FEFF 		bl	usbd_connect
 2155              	.LVL225:
 862:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 863:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   /* enable global interrupt */
 864:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   usb_interrupt_enable(usbx);
 2156              		.loc 1 864 3 view .LVU614
 2157 0144 2846     		mov	r0, r5
 2158 0146 FFF7FEFF 		bl	usb_interrupt_enable
 2159              	.LVL226:
 865:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 866:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c ****   return USB_OK;
 2160              		.loc 1 866 3 view .LVU615
 867:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** 
 868:HW_Lib/AT32F435/USB/usb_drivers/src/usbd_core.c **** }
 2161              		.loc 1 868 1 is_stmt 0 view .LVU616
 2162 014a 2046     		mov	r0, r4
 2163 014c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2164              		.loc 1 868 1 view .LVU617
 2165              		.cfi_endproc
 2166              	.LFE160:
 2168              		.text
 2169              	.Letext0:
 2170              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 2171              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 2172              		.file 4 "HW_Lib/AT32F435/device_support/at32f435_437.h"
 2173              		.file 5 "HW_Lib/AT32F435/drivers/inc/at32f435_437_usb.h"
 2174              		.file 6 "HW_Lib/AT32F435/USB/usb_drivers/inc/usb_std.h"
 2175              		.file 7 "HW_Lib/AT32F435/USB/usb_drivers/inc/usbd_core.h"
 2176              		.file 8 "HW_Lib/AT32F435/USB/usb_conf.h"
 2177              		.file 9 "HW_Lib/AT32F435/USB/usb_drivers/inc/usbd_sdr.h"
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 59


DEFINED SYMBOLS
                            *ABS*:00000000 usbd_core.c
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:20     .text.usbd_core_setup_handler:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:26     .text.usbd_core_setup_handler:00000000 usbd_core_setup_handler
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:99     .text.usbd_clear_stall:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:105    .text.usbd_clear_stall:00000000 usbd_clear_stall
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:173    .text.usbd_set_stall:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:179    .text.usbd_set_stall:00000000 usbd_set_stall
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:247    .text.usbd_ctrl_unsupport:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:253    .text.usbd_ctrl_unsupport:00000000 usbd_ctrl_unsupport
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:283    .text.usbd_get_recv_len:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:289    .text.usbd_get_recv_len:00000000 usbd_get_recv_len
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:313    .text.usbd_ept_open:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:319    .text.usbd_ept_open:00000000 usbd_ept_open
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:397    .text.usbd_ept_close:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:403    .text.usbd_ept_close:00000000 usbd_ept_close
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:460    .text.usbd_connect:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:466    .text.usbd_connect:00000000 usbd_connect
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:491    .text.usbd_disconnect:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:497    .text.usbd_disconnect:00000000 usbd_disconnect
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:522    .text.usbd_set_device_addr:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:528    .text.usbd_set_device_addr:00000000 usbd_set_device_addr
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:553    .text.usb_ept_default_init:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:559    .text.usb_ept_default_init:00000000 usb_ept_default_init
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:655    .text.usbd_ept_send:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:661    .text.usbd_ept_send:00000000 usbd_ept_send
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:921    .text.usbd_ctrl_send:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:927    .text.usbd_ctrl_send:00000000 usbd_ctrl_send
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:968    .text.usbd_ctrl_send_status:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:974    .text.usbd_ctrl_send_status:00000000 usbd_ctrl_send_status
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:1003   .text.usbd_ept_recv:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:1009   .text.usbd_ept_recv:00000000 usbd_ept_recv
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:1172   .text.usbd_core_out_handler:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:1178   .text.usbd_core_out_handler:00000000 usbd_core_out_handler
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:1291   .text.usbd_ctrl_recv:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:1297   .text.usbd_ctrl_recv:00000000 usbd_ctrl_recv
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:1338   .text.usbd_ctrl_recv_status:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:1344   .text.usbd_ctrl_recv_status:00000000 usbd_ctrl_recv_status
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:1373   .text.usbd_core_in_handler:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:1379   .text.usbd_core_in_handler:00000000 usbd_core_in_handler
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:1554   .text.usbd_connect_state_get:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:1560   .text.usbd_connect_state_get:00000000 usbd_connect_state_get
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:1578   .text.usbd_remote_wakeup:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:1584   .text.usbd_remote_wakeup:00000000 usbd_remote_wakeup
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:1640   .text.usbd_enter_suspend:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:1646   .text.usbd_enter_suspend:00000000 usbd_enter_suspend
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:1685   .text.usbd_flush_tx_fifo:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:1691   .text.usbd_flush_tx_fifo:00000000 usbd_flush_tx_fifo
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:1719   .text.usbd_fifo_alloc:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:1725   .text.usbd_fifo_alloc:00000000 usbd_fifo_alloc
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:1875   .text.usbd_fifo_alloc:000000c8 $d
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:1880   .text.usbd_core_init:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s:1886   .text.usbd_core_init:00000000 usbd_core_init

UNDEFINED SYMBOLS
usbd_setup_request_parse
usbd_device_request
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccKXocuE.s 			page 60


usbd_interface_request
usbd_endpoint_request
usb_ept_clear_stall
usb_ept_stall
usb_ept_open
usb_ept_close
usb_connect
usb_disconnect
usb_set_address
usb_write_packet
usb_suspend_status_get
usb_open_phy_clk
usb_remote_wkup_set
usb_delay_ms
usb_remote_wkup_clear
usb_stop_phy_clk
usb_flush_tx_fifo
usb_set_rx_fifo
usb_set_tx_fifo
usb_interrupt_disable
usb_global_init
usb_global_set_mode
usb_flush_rx_fifo
usb_interrupt_enable
