ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"Bsp_Spi.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.BspSPI_Get_Clock,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	BspSPI_Get_Clock:
  26              	.LVL0:
  27              	.LFB133:
  28              		.file 1 "HW_Lib/AT32F435/bsp/Bsp_Spi.c"
   1:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** #include "Bsp_Spi.h"
   2:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** #include "Bsp_GPIO.h"
   3:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** #include "at32f435_437.h"
   4:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
   5:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** #define Dummy_Byte 0xFF
   6:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** #define To_SPI_Instance(x) ((spi_type *)x)
   7:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
   8:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** /* internal function */
   9:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** static crm_periph_clock_type BspSPI_Get_Clock(spi_type *type);
  10:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** static bool BspSPI_Pin_Init(BspSPI_PinConfig_TypeDef pin);
  11:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
  12:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** /* external function */
  13:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** static bool BspSPI_Init(BspSPI_NorModeConfig_TypeDef spi_cfg, void *spi_instance);
  14:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** static bool BspSPI_Deinit(BspSPI_NorModeConfig_TypeDef spi_cfg);
  15:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** static bool BspSPI_Transmit(void *instance, uint8_t *tx, uint16_t size, uint16_t time_out);
  16:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** static bool BspSPI_Receive(void *instance, uint8_t *rx, uint16_t size, uint16_t time_out);
  17:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** static uint16_t BspSPI_Trans_Receive(void *instance, uint8_t *tx, uint8_t *rx, uint16_t size, uint1
  18:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** static bool BspSPI_Set_Speed(void *instance, uint32_t speed);
  19:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
  20:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** BspSpi_TypeDef BspSPI = {
  21:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     .init = BspSPI_Init,
  22:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     .deinit = BspSPI_Deinit,
  23:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     .trans = BspSPI_Transmit,
  24:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     .receive = BspSPI_Receive,
  25:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     .trans_receive = BspSPI_Trans_Receive,
  26:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     .set_speed = BspSPI_Set_Speed,
  27:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** };
  28:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
  29:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** static crm_periph_clock_type BspSPI_Get_Clock(spi_type *type)
  30:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** {
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s 			page 2


  29              		.loc 1 30 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  31:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     switch((uint32_t)type)
  34              		.loc 1 31 5 view .LVU1
  35 0000 0D4B     		ldr	r3, .L8
  36 0002 9842     		cmp	r0, r3
  37 0004 0FD0     		beq	.L4
  38 0006 09D8     		bhi	.L3
  39 0008 A3F57843 		sub	r3, r3, #63488
  40 000c 9842     		cmp	r0, r3
  41 000e 0CD0     		beq	.L5
  42 0010 03F58063 		add	r3, r3, #1024
  43 0014 9842     		cmp	r0, r3
  44 0016 0AD1     		bne	.L6
  32:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     {
  33:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         case (uint32_t)SPI1:
  34:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****             return CRM_SPI1_PERIPH_CLOCK;
  35:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         
  36:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         case (uint32_t)SPI2:
  37:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****             return CRM_SPI2_PERIPH_CLOCK;
  38:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     
  39:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         case (uint32_t)SPI3:
  40:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****             return CRM_SPI3_PERIPH_CLOCK;
  45              		.loc 1 40 20 is_stmt 0 view .LVU2
  46 0018 0848     		ldr	r0, .L8+4
  47              	.LVL1:
  48              		.loc 1 40 20 view .LVU3
  49 001a 7047     		bx	lr
  50              	.LVL2:
  51              	.L3:
  31:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     switch((uint32_t)type)
  52              		.loc 1 31 5 view .LVU4
  53 001c 084B     		ldr	r3, .L8+8
  54 001e 9842     		cmp	r0, r3
  55 0020 07D1     		bne	.L7
  41:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     
  42:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         case (uint32_t)SPI4:
  43:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****             return CRM_SPI4_PERIPH_CLOCK;
  56              		.loc 1 43 20 view .LVU5
  57 0022 0848     		ldr	r0, .L8+12
  58              	.LVL3:
  59              		.loc 1 43 20 view .LVU6
  60 0024 7047     		bx	lr
  61              	.LVL4:
  62              	.L4:
  31:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     {
  63              		.loc 1 31 5 view .LVU7
  64 0026 0848     		ldr	r0, .L8+16
  65              	.LVL5:
  31:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     {
  66              		.loc 1 31 5 view .LVU8
  67 0028 7047     		bx	lr
  68              	.LVL6:
  69              	.L5:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s 			page 3


  37:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     
  70              		.loc 1 37 20 view .LVU9
  71 002a 0848     		ldr	r0, .L8+20
  72              	.LVL7:
  37:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     
  73              		.loc 1 37 20 view .LVU10
  74 002c 7047     		bx	lr
  75              	.LVL8:
  76              	.L6:
  44:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
  45:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         default:
  46:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****             return 0;
  77              		.loc 1 46 20 view .LVU11
  78 002e 0020     		movs	r0, #0
  79              	.LVL9:
  80              		.loc 1 46 20 view .LVU12
  81 0030 7047     		bx	lr
  82              	.LVL10:
  83              	.L7:
  84              		.loc 1 46 20 view .LVU13
  85 0032 0020     		movs	r0, #0
  86              	.LVL11:
  47:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     }
  48:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** }
  87              		.loc 1 48 1 view .LVU14
  88 0034 7047     		bx	lr
  89              	.L9:
  90 0036 00BF     		.align	2
  91              	.L8:
  92 0038 00300140 		.word	1073819648
  93 003c 0F004000 		.word	4194319
  94 0040 00340140 		.word	1073820672
  95 0044 0D004400 		.word	4456461
  96 0048 0C004400 		.word	4456460
  97 004c 0E004000 		.word	4194318
  98              		.cfi_endproc
  99              	.LFE133:
 101              		.section	.text.BspSPI_Set_Speed,"ax",%progbits
 102              		.align	1
 103              		.syntax unified
 104              		.thumb
 105              		.thumb_func
 107              	BspSPI_Set_Speed:
 108              	.LVL12:
 109              	.LFB140:
  49:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
  50:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** static bool BspSPI_Pin_Init(BspSPI_PinConfig_TypeDef pin)
  51:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** {
  52:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     BspGPIO_Obj_TypeDef GPIO_Pin_Obj;
  53:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     BspGPIO_Port_TypeDef GPIO_Port_Obj;
  54:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
  55:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     if( (pin.port_clk == NULL) || \
  56:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         (pin.port_miso == NULL) || \
  57:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         (pin.port_mosi == NULL))
  58:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
  59:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
  60:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     memset(&GPIO_Pin_Obj, 0, sizeof(BspGPIO_Obj_TypeDef));
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s 			page 4


  61:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     memset(&GPIO_Port_Obj, 0, sizeof(BspGPIO_Port_TypeDef));
  62:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
  63:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     /* sck */
  64:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Port_Obj.port = pin.port_clk;
  65:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Pin_Obj.alternate = pin.pin_Alternate;
  66:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Pin_Obj.pin = pin.pin_clk;
  67:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Pin_Obj.port = &GPIO_Port_Obj;
  68:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     if(!BspGPIO.alt_init(GPIO_Pin_Obj, GPIO_OUTPUT_PUSH_PULL))
  69:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
  70:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
  71:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     /* mosi */
  72:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Port_Obj.port = pin.port_mosi;
  73:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Pin_Obj.alternate = pin.pin_Alternate;
  74:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Pin_Obj.pin = pin.pin_mosi;
  75:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Pin_Obj.port = &GPIO_Port_Obj;
  76:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     if(!BspGPIO.alt_init(GPIO_Pin_Obj, GPIO_OUTPUT_PUSH_PULL))
  77:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
  78:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
  79:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     /* miso */
  80:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Port_Obj.port = pin.port_miso;
  81:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Pin_Obj.alternate = pin.pin_Alternate;
  82:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Pin_Obj.pin = pin.pin_miso;
  83:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Pin_Obj.port = &GPIO_Port_Obj;
  84:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     if(!BspGPIO.alt_init(GPIO_Pin_Obj, GPIO_OUTPUT_PUSH_PULL))
  85:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
  86:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
  87:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     return true;
  88:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** }
  89:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
  90:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** static bool BspSPI_Init(BspSPI_NorModeConfig_TypeDef spi_cfg, void *spi_instance)
  91:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** {
  92:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_init_type spi_init_struct;
  93:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     crm_periph_clock_type clk = 0;
  94:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_master_slave_mode_type mode = SPI_MODE_MASTER;
  95:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
  96:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     if((spi_cfg.Instance == NULL) || !BspSPI_Pin_Init(spi_cfg.Pin) || (spi_cfg.work_mode > BspSPI_M
  97:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
  98:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
  99:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     clk = BspSPI_Get_Clock(spi_cfg.Instance);
 100:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     if(clk == 0)
 101:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 102:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 103:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     crm_periph_clock_enable(clk, TRUE);
 104:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_default_para_init(&spi_init_struct);
 105:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 106:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     if (spi_cfg.work_mode == BspSPI_Mode_Slave)
 107:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         mode = SPI_MODE_SLAVE;
 108:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 109:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_init_struct.transmission_mode = SPI_TRANSMIT_FULL_DUPLEX;
 110:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_init_struct.master_slave_mode = mode;
 111:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_init_struct.mclk_freq_division = spi_cfg.BaudRatePrescaler;
 112:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_init_struct.first_bit_transmission = SPI_FIRST_BIT_MSB;
 113:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_init_struct.frame_bit_num = SPI_FRAME_8BIT;
 114:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_init_struct.clock_polarity = spi_cfg.CLKPolarity;
 115:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_init_struct.clock_phase = spi_cfg.CLKPhase;
 116:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_init_struct.cs_mode_selection = SPI_CS_SOFTWARE_MODE;
 117:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s 			page 5


 118:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_init(To_SPI_Instance(spi_cfg.Instance), &spi_init_struct);
 119:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_enable(To_SPI_Instance(spi_cfg.Instance), TRUE);
 120:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 121:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     *(uint32_t *)spi_instance = (uint32_t *)spi_cfg.Instance;
 122:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 123:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     return true;
 124:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** }
 125:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 126:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** static bool BspSPI_Deinit(BspSPI_NorModeConfig_TypeDef spi_cfg)
 127:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** {
 128:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     uint32_t clk = 0;
 129:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 130:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     if(spi_cfg.Instance == NULL)
 131:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 132:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 133:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     clk = BspSPI_Get_Clock(spi_cfg.Instance);
 134:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     if(clk == 0)
 135:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 136:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 137:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     crm_periph_clock_enable(clk, FALSE);
 138:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_enable(To_SPI_Instance(spi_cfg.Instance), FALSE);
 139:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 140:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     return true;
 141:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** }
 142:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 143:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** static bool BspSPI_Transmit(void *instance, uint8_t *tx, uint16_t size, uint16_t time_out)
 144:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** {
 145:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     uint64_t start_time = System_GetTick();
 146:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 147:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     if((instance == NULL) || (tx == NULL) || (size == 0))
 148:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 149:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 150:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     for(uint16_t i = 0; i < size; i++)
 151:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     {
 152:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         while(spi_i2s_flag_get(To_SPI_Instance(*(uint32_t *)instance), SPI_I2S_TDBE_FLAG) == RESET)
 153:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         {
 154:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****             if ((System_GetTick() - start_time) > time_out)
 155:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****                 return false;
 156:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         }
 157:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         spi_i2s_data_transmit(To_SPI_Instance(*(uint32_t *)instance), tx[i]);
 158:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         
 159:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         while(spi_i2s_flag_get(To_SPI_Instance(*(uint32_t *)instance), SPI_I2S_RDBF_FLAG) == RESET)
 160:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         {
 161:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****             if ((System_GetTick() - start_time) > time_out)
 162:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****                 return false;
 163:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         }
 164:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         spi_i2s_data_receive(To_SPI_Instance(*(uint32_t *)instance));
 165:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     }
 166:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 167:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     return true;
 168:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** }
 169:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 170:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** static bool BspSPI_Receive(void *instance, uint8_t *rx, uint16_t size, uint16_t time_out)
 171:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** {
 172:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     uint64_t start_time = System_GetTick();
 173:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 174:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     if((instance == NULL) || (rx == NULL) || (size == 0))
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s 			page 6


 175:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 176:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 177:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     for(uint16_t i = 0; i < size; i++)
 178:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     {
 179:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         while(spi_i2s_flag_get(To_SPI_Instance(*(uint32_t *)instance), SPI_I2S_TDBE_FLAG) == RESET)
 180:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         {
 181:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****             if ((System_GetTick() - start_time) > time_out)
 182:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****                 return false;
 183:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         }
 184:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         spi_i2s_data_transmit(To_SPI_Instance(*(uint32_t *)instance), Dummy_Byte);
 185:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         
 186:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         while(spi_i2s_flag_get(To_SPI_Instance(*(uint32_t *)instance), SPI_I2S_RDBF_FLAG) == RESET)
 187:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         {
 188:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****             if ((System_GetTick() - start_time) > time_out)
 189:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****                 return false;
 190:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         }
 191:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         rx[i] = spi_i2s_data_receive(To_SPI_Instance(*(uint32_t *)instance));
 192:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     }
 193:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 194:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     return true;
 195:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** }
 196:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 197:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** static uint16_t BspSPI_Trans_Receive(void *instance, uint8_t *tx, uint8_t *rx, uint16_t size, uint1
 198:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** {
 199:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     uint64_t start_time = System_GetTick();
 200:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 201:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     if((instance == NULL) || (tx == NULL) || (rx == NULL) || (size == 0))
 202:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return 0;
 203:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 204:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     for(uint16_t i = 0; i < size; i++)
 205:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     {
 206:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         while(spi_i2s_flag_get(To_SPI_Instance(*(uint32_t *)instance), SPI_I2S_TDBE_FLAG) == RESET)
 207:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         {
 208:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****             if ((System_GetTick() - start_time) > time_out)
 209:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****                 return 0;
 210:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         }
 211:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         spi_i2s_data_transmit(To_SPI_Instance(*(uint32_t *)instance), tx[i]);
 212:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 213:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         while(spi_i2s_flag_get(To_SPI_Instance(*(uint32_t *)instance), SPI_I2S_RDBF_FLAG) == RESET)
 214:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         {
 215:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****             if ((System_GetTick() - start_time) > time_out)
 216:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****                 return 0;
 217:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         }
 218:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         rx[i] = spi_i2s_data_receive(To_SPI_Instance(*(uint32_t *)instance));
 219:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     }
 220:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 221:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     return size;
 222:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** }
 223:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 224:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** static bool BspSPI_Set_Speed(void *instance, uint32_t speed)
 225:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** {
 110              		.loc 1 225 1 is_stmt 1 view -0
 111              		.cfi_startproc
 112              		@ args = 0, pretend = 0, frame = 0
 113              		@ frame_needed = 0, uses_anonymous_args = 0
 114              		@ link register save eliminated.
 226:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     UNUSED(instance);
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s 			page 7


 115              		.loc 1 226 5 view .LVU16
 227:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     UNUSED(speed);
 116              		.loc 1 227 5 view .LVU17
 228:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 229:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     return false;
 117              		.loc 1 229 5 view .LVU18
 230:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** }
 118              		.loc 1 230 1 is_stmt 0 view .LVU19
 119 0000 0020     		movs	r0, #0
 120              	.LVL13:
 121              		.loc 1 230 1 view .LVU20
 122 0002 7047     		bx	lr
 123              		.cfi_endproc
 124              	.LFE140:
 126              		.section	.text.BspSPI_Trans_Receive,"ax",%progbits
 127              		.align	1
 128              		.syntax unified
 129              		.thumb
 130              		.thumb_func
 132              	BspSPI_Trans_Receive:
 133              	.LVL14:
 134              	.LFB139:
 198:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     uint64_t start_time = System_GetTick();
 135              		.loc 1 198 1 is_stmt 1 view -0
 136              		.cfi_startproc
 137              		@ args = 4, pretend = 0, frame = 8
 138              		@ frame_needed = 0, uses_anonymous_args = 0
 198:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     uint64_t start_time = System_GetTick();
 139              		.loc 1 198 1 is_stmt 0 view .LVU22
 140 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 141              	.LCFI0:
 142              		.cfi_def_cfa_offset 36
 143              		.cfi_offset 4, -36
 144              		.cfi_offset 5, -32
 145              		.cfi_offset 6, -28
 146              		.cfi_offset 7, -24
 147              		.cfi_offset 8, -20
 148              		.cfi_offset 9, -16
 149              		.cfi_offset 10, -12
 150              		.cfi_offset 11, -8
 151              		.cfi_offset 14, -4
 152 0004 83B0     		sub	sp, sp, #12
 153              	.LCFI1:
 154              		.cfi_def_cfa_offset 48
 155 0006 0546     		mov	r5, r0
 156 0008 8946     		mov	r9, r1
 157 000a 9246     		mov	r10, r2
 158 000c 9846     		mov	r8, r3
 159 000e BDF83070 		ldrh	r7, [sp, #48]
 199:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 160              		.loc 1 199 5 is_stmt 1 view .LVU23
 199:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 161              		.loc 1 199 27 is_stmt 0 view .LVU24
 162 0012 FFF7FEFF 		bl	System_GetTick
 163              	.LVL15:
 201:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return 0;
 164              		.loc 1 201 5 is_stmt 1 view .LVU25
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s 			page 8


 201:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return 0;
 165              		.loc 1 201 7 is_stmt 0 view .LVU26
 166 0016 002D     		cmp	r5, #0
 167 0018 46D0     		beq	.L18
 168 001a 0446     		mov	r4, r0
 169 001c 0E46     		mov	r6, r1
 201:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return 0;
 170              		.loc 1 201 27 discriminator 1 view .LVU27
 171 001e B9F1000F 		cmp	r9, #0
 172 0022 43D0     		beq	.L19
 201:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return 0;
 173              		.loc 1 201 43 discriminator 2 view .LVU28
 174 0024 BAF1000F 		cmp	r10, #0
 175 0028 42D0     		beq	.L20
 201:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return 0;
 176              		.loc 1 201 59 discriminator 3 view .LVU29
 177 002a B8F1000F 		cmp	r8, #0
 178 002e 41D0     		beq	.L21
 179              	.LBB2:
 204:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     {
 180              		.loc 1 204 18 view .LVU30
 181 0030 4FF0000B 		mov	fp, #0
 182              	.LVL16:
 183              	.L13:
 204:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     {
 184              		.loc 1 204 25 is_stmt 1 discriminator 1 view .LVU31
 204:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     {
 185              		.loc 1 204 5 is_stmt 0 discriminator 1 view .LVU32
 186 0034 C345     		cmp	fp, r8
 187 0036 35D2     		bcs	.L25
 188              	.L17:
 206:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         {
 189              		.loc 1 206 14 is_stmt 1 view .LVU33
 206:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         {
 190              		.loc 1 206 15 is_stmt 0 view .LVU34
 191 0038 0221     		movs	r1, #2
 192 003a 2868     		ldr	r0, [r5]
 193 003c FFF7FEFF 		bl	spi_i2s_flag_get
 194              	.LVL17:
 206:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         {
 195              		.loc 1 206 14 view .LVU35
 196 0040 68B9     		cbnz	r0, .L26
 208:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****                 return 0;
 197              		.loc 1 208 13 is_stmt 1 view .LVU36
 208:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****                 return 0;
 198              		.loc 1 208 18 is_stmt 0 view .LVU37
 199 0042 FFF7FEFF 		bl	System_GetTick
 200              	.LVL18:
 208:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****                 return 0;
 201              		.loc 1 208 35 view .LVU38
 202 0046 001B     		subs	r0, r0, r4
 203 0048 61EB0601 		sbc	r1, r1, r6
 208:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****                 return 0;
 204              		.loc 1 208 16 view .LVU39
 205 004c 8742     		cmp	r7, r0
 206 004e 4FF00003 		mov	r3, #0
 207 0052 8B41     		sbcs	r3, r3, r1
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s 			page 9


 208 0054 F0D2     		bcs	.L17
 209:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         }
 209              		.loc 1 209 24 view .LVU40
 210 0056 0020     		movs	r0, #0
 211              	.LVL19:
 212              	.L12:
 209:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         }
 213              		.loc 1 209 24 view .LVU41
 214              	.LBE2:
 222:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 215              		.loc 1 222 1 view .LVU42
 216 0058 03B0     		add	sp, sp, #12
 217              	.LCFI2:
 218              		.cfi_remember_state
 219              		.cfi_def_cfa_offset 36
 220              		@ sp needed
 221 005a BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 222              	.LVL20:
 223              	.L26:
 224              	.LCFI3:
 225              		.cfi_restore_state
 226              	.LBB3:
 211:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 227              		.loc 1 211 9 is_stmt 1 view .LVU43
 211:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 228              		.loc 1 211 73 is_stmt 0 view .LVU44
 229 005e CDF804B0 		str	fp, [sp, #4]
 211:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 230              		.loc 1 211 9 view .LVU45
 231 0062 19F80B10 		ldrb	r1, [r9, fp]	@ zero_extendqisi2
 232 0066 2868     		ldr	r0, [r5]
 233 0068 FFF7FEFF 		bl	spi_i2s_data_transmit
 234              	.LVL21:
 213:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         {
 235              		.loc 1 213 9 is_stmt 1 view .LVU46
 236              	.L15:
 213:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         {
 237              		.loc 1 213 14 view .LVU47
 213:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         {
 238              		.loc 1 213 15 is_stmt 0 view .LVU48
 239 006c 0121     		movs	r1, #1
 240 006e 2868     		ldr	r0, [r5]
 241 0070 FFF7FEFF 		bl	spi_i2s_flag_get
 242              	.LVL22:
 213:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         {
 243              		.loc 1 213 14 view .LVU49
 244 0074 58B9     		cbnz	r0, .L27
 215:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****                 return 0;
 245              		.loc 1 215 13 is_stmt 1 view .LVU50
 215:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****                 return 0;
 246              		.loc 1 215 18 is_stmt 0 view .LVU51
 247 0076 FFF7FEFF 		bl	System_GetTick
 248              	.LVL23:
 215:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****                 return 0;
 249              		.loc 1 215 35 view .LVU52
 250 007a 001B     		subs	r0, r0, r4
 251 007c 61EB0601 		sbc	r1, r1, r6
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s 			page 10


 215:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****                 return 0;
 252              		.loc 1 215 16 view .LVU53
 253 0080 8742     		cmp	r7, r0
 254 0082 4FF00003 		mov	r3, #0
 255 0086 8B41     		sbcs	r3, r3, r1
 256 0088 F0D2     		bcs	.L15
 216:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         }
 257              		.loc 1 216 24 view .LVU54
 258 008a 0020     		movs	r0, #0
 259 008c E4E7     		b	.L12
 260              	.L27:
 218:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     }
 261              		.loc 1 218 9 is_stmt 1 discriminator 2 view .LVU55
 218:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     }
 262              		.loc 1 218 17 is_stmt 0 discriminator 2 view .LVU56
 263 008e 2868     		ldr	r0, [r5]
 264 0090 FFF7FEFF 		bl	spi_i2s_data_receive
 265              	.LVL24:
 218:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     }
 266              		.loc 1 218 15 discriminator 2 view .LVU57
 267 0094 019B     		ldr	r3, [sp, #4]
 268 0096 0AF80300 		strb	r0, [r10, r3]
 204:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     {
 269              		.loc 1 204 35 is_stmt 1 discriminator 2 view .LVU58
 204:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     {
 270              		.loc 1 204 36 is_stmt 0 discriminator 2 view .LVU59
 271 009a 0BF1010B 		add	fp, fp, #1
 272              	.LVL25:
 204:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     {
 273              		.loc 1 204 36 discriminator 2 view .LVU60
 274 009e 1FFA8BFB 		uxth	fp, fp
 275              	.LVL26:
 204:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     {
 276              		.loc 1 204 36 discriminator 2 view .LVU61
 277 00a2 C7E7     		b	.L13
 278              	.L25:
 204:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     {
 279              		.loc 1 204 36 discriminator 2 view .LVU62
 280              	.LBE3:
 221:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** }
 281              		.loc 1 221 12 view .LVU63
 282 00a4 4046     		mov	r0, r8
 283              	.LBB4:
 284 00a6 D7E7     		b	.L12
 285              	.LVL27:
 286              	.L18:
 221:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** }
 287              		.loc 1 221 12 view .LVU64
 288              	.LBE4:
 202:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 289              		.loc 1 202 16 view .LVU65
 290 00a8 0020     		movs	r0, #0
 291              	.LVL28:
 202:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 292              		.loc 1 202 16 view .LVU66
 293 00aa D5E7     		b	.L12
 294              	.LVL29:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s 			page 11


 295              	.L19:
 202:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 296              		.loc 1 202 16 view .LVU67
 297 00ac 0020     		movs	r0, #0
 298              	.LVL30:
 202:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 299              		.loc 1 202 16 view .LVU68
 300 00ae D3E7     		b	.L12
 301              	.LVL31:
 302              	.L20:
 202:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 303              		.loc 1 202 16 view .LVU69
 304 00b0 0020     		movs	r0, #0
 305              	.LVL32:
 202:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 306              		.loc 1 202 16 view .LVU70
 307 00b2 D1E7     		b	.L12
 308              	.LVL33:
 309              	.L21:
 202:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 310              		.loc 1 202 16 view .LVU71
 311 00b4 4046     		mov	r0, r8
 312              	.LVL34:
 202:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 313              		.loc 1 202 16 view .LVU72
 314 00b6 CFE7     		b	.L12
 315              		.cfi_endproc
 316              	.LFE139:
 318              		.section	.text.BspSPI_Receive,"ax",%progbits
 319              		.align	1
 320              		.syntax unified
 321              		.thumb
 322              		.thumb_func
 324              	BspSPI_Receive:
 325              	.LVL35:
 326              	.LFB138:
 171:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     uint64_t start_time = System_GetTick();
 327              		.loc 1 171 1 is_stmt 1 view -0
 328              		.cfi_startproc
 329              		@ args = 0, pretend = 0, frame = 0
 330              		@ frame_needed = 0, uses_anonymous_args = 0
 171:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     uint64_t start_time = System_GetTick();
 331              		.loc 1 171 1 is_stmt 0 view .LVU74
 332 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 333              	.LCFI4:
 334              		.cfi_def_cfa_offset 32
 335              		.cfi_offset 4, -32
 336              		.cfi_offset 5, -28
 337              		.cfi_offset 6, -24
 338              		.cfi_offset 7, -20
 339              		.cfi_offset 8, -16
 340              		.cfi_offset 9, -12
 341              		.cfi_offset 10, -8
 342              		.cfi_offset 14, -4
 343 0004 0546     		mov	r5, r0
 344 0006 8946     		mov	r9, r1
 345 0008 9046     		mov	r8, r2
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s 			page 12


 346 000a 1E46     		mov	r6, r3
 172:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 347              		.loc 1 172 5 is_stmt 1 view .LVU75
 172:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 348              		.loc 1 172 27 is_stmt 0 view .LVU76
 349 000c FFF7FEFF 		bl	System_GetTick
 350              	.LVL36:
 174:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 351              		.loc 1 174 5 is_stmt 1 view .LVU77
 174:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 352              		.loc 1 174 7 is_stmt 0 view .LVU78
 353 0010 002D     		cmp	r5, #0
 354 0012 3ED0     		beq	.L35
 355 0014 0446     		mov	r4, r0
 356 0016 0F46     		mov	r7, r1
 174:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 357              		.loc 1 174 27 discriminator 1 view .LVU79
 358 0018 B9F1000F 		cmp	r9, #0
 359 001c 3BD0     		beq	.L36
 174:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 360              		.loc 1 174 43 discriminator 2 view .LVU80
 361 001e B8F1000F 		cmp	r8, #0
 362 0022 3AD0     		beq	.L37
 363              	.LBB5:
 177:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     {
 364              		.loc 1 177 18 view .LVU81
 365 0024 4FF0000A 		mov	r10, #0
 366              	.LVL37:
 367              	.L30:
 177:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     {
 368              		.loc 1 177 25 is_stmt 1 discriminator 1 view .LVU82
 177:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     {
 369              		.loc 1 177 5 is_stmt 0 discriminator 1 view .LVU83
 370 0028 C245     		cmp	r10, r8
 371 002a 30D2     		bcs	.L41
 372              	.L34:
 179:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         {
 373              		.loc 1 179 14 is_stmt 1 view .LVU84
 179:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         {
 374              		.loc 1 179 15 is_stmt 0 view .LVU85
 375 002c 0221     		movs	r1, #2
 376 002e 2868     		ldr	r0, [r5]
 377 0030 FFF7FEFF 		bl	spi_i2s_flag_get
 378              	.LVL38:
 179:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         {
 379              		.loc 1 179 14 view .LVU86
 380 0034 60B9     		cbnz	r0, .L42
 181:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****                 return false;
 381              		.loc 1 181 13 is_stmt 1 view .LVU87
 181:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****                 return false;
 382              		.loc 1 181 18 is_stmt 0 view .LVU88
 383 0036 FFF7FEFF 		bl	System_GetTick
 384              	.LVL39:
 181:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****                 return false;
 385              		.loc 1 181 35 view .LVU89
 386 003a 001B     		subs	r0, r0, r4
 387 003c 61EB0701 		sbc	r1, r1, r7
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s 			page 13


 181:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****                 return false;
 388              		.loc 1 181 16 view .LVU90
 389 0040 8642     		cmp	r6, r0
 390 0042 4FF00003 		mov	r3, #0
 391 0046 8B41     		sbcs	r3, r3, r1
 392 0048 F0D2     		bcs	.L34
 182:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         }
 393              		.loc 1 182 24 view .LVU91
 394 004a 0020     		movs	r0, #0
 395              	.LVL40:
 396              	.L29:
 182:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         }
 397              		.loc 1 182 24 view .LVU92
 398              	.LBE5:
 195:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 399              		.loc 1 195 1 view .LVU93
 400 004c BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 401              	.LVL41:
 402              	.L42:
 403              	.LBB6:
 184:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         
 404              		.loc 1 184 9 is_stmt 1 view .LVU94
 405 0050 FF21     		movs	r1, #255
 406 0052 2868     		ldr	r0, [r5]
 407 0054 FFF7FEFF 		bl	spi_i2s_data_transmit
 408              	.LVL42:
 186:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         {
 409              		.loc 1 186 9 view .LVU95
 410              	.L32:
 186:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         {
 411              		.loc 1 186 14 view .LVU96
 186:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         {
 412              		.loc 1 186 15 is_stmt 0 view .LVU97
 413 0058 0121     		movs	r1, #1
 414 005a 2868     		ldr	r0, [r5]
 415 005c FFF7FEFF 		bl	spi_i2s_flag_get
 416              	.LVL43:
 186:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         {
 417              		.loc 1 186 14 view .LVU98
 418 0060 58B9     		cbnz	r0, .L43
 188:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****                 return false;
 419              		.loc 1 188 13 is_stmt 1 view .LVU99
 188:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****                 return false;
 420              		.loc 1 188 18 is_stmt 0 view .LVU100
 421 0062 FFF7FEFF 		bl	System_GetTick
 422              	.LVL44:
 188:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****                 return false;
 423              		.loc 1 188 35 view .LVU101
 424 0066 001B     		subs	r0, r0, r4
 425 0068 61EB0701 		sbc	r1, r1, r7
 188:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****                 return false;
 426              		.loc 1 188 16 view .LVU102
 427 006c 8642     		cmp	r6, r0
 428 006e 4FF00003 		mov	r3, #0
 429 0072 8B41     		sbcs	r3, r3, r1
 430 0074 F0D2     		bcs	.L32
 189:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         }
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s 			page 14


 431              		.loc 1 189 24 view .LVU103
 432 0076 0020     		movs	r0, #0
 433 0078 E8E7     		b	.L29
 434              	.L43:
 191:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     }
 435              		.loc 1 191 9 is_stmt 1 discriminator 2 view .LVU104
 191:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     }
 436              		.loc 1 191 17 is_stmt 0 discriminator 2 view .LVU105
 437 007a 2868     		ldr	r0, [r5]
 438 007c FFF7FEFF 		bl	spi_i2s_data_receive
 439              	.LVL45:
 191:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     }
 440              		.loc 1 191 15 discriminator 2 view .LVU106
 441 0080 09F80A00 		strb	r0, [r9, r10]
 177:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     {
 442              		.loc 1 177 35 is_stmt 1 discriminator 2 view .LVU107
 177:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     {
 443              		.loc 1 177 36 is_stmt 0 discriminator 2 view .LVU108
 444 0084 0AF1010A 		add	r10, r10, #1
 445              	.LVL46:
 177:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     {
 446              		.loc 1 177 36 discriminator 2 view .LVU109
 447 0088 1FFA8AFA 		uxth	r10, r10
 448              	.LVL47:
 177:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     {
 449              		.loc 1 177 36 discriminator 2 view .LVU110
 450 008c CCE7     		b	.L30
 451              	.L41:
 177:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     {
 452              		.loc 1 177 36 discriminator 2 view .LVU111
 453              	.LBE6:
 194:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** }
 454              		.loc 1 194 12 view .LVU112
 455 008e 0120     		movs	r0, #1
 456              	.LBB7:
 457 0090 DCE7     		b	.L29
 458              	.LVL48:
 459              	.L35:
 194:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** }
 460              		.loc 1 194 12 view .LVU113
 461              	.LBE7:
 175:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 462              		.loc 1 175 16 view .LVU114
 463 0092 0020     		movs	r0, #0
 464              	.LVL49:
 175:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 465              		.loc 1 175 16 view .LVU115
 466 0094 DAE7     		b	.L29
 467              	.LVL50:
 468              	.L36:
 175:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 469              		.loc 1 175 16 view .LVU116
 470 0096 0020     		movs	r0, #0
 471              	.LVL51:
 175:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 472              		.loc 1 175 16 view .LVU117
 473 0098 D8E7     		b	.L29
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s 			page 15


 474              	.LVL52:
 475              	.L37:
 175:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 476              		.loc 1 175 16 view .LVU118
 477 009a 0020     		movs	r0, #0
 478              	.LVL53:
 175:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 479              		.loc 1 175 16 view .LVU119
 480 009c D6E7     		b	.L29
 481              		.cfi_endproc
 482              	.LFE138:
 484              		.section	.text.BspSPI_Transmit,"ax",%progbits
 485              		.align	1
 486              		.syntax unified
 487              		.thumb
 488              		.thumb_func
 490              	BspSPI_Transmit:
 491              	.LVL54:
 492              	.LFB137:
 144:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     uint64_t start_time = System_GetTick();
 493              		.loc 1 144 1 is_stmt 1 view -0
 494              		.cfi_startproc
 495              		@ args = 0, pretend = 0, frame = 0
 496              		@ frame_needed = 0, uses_anonymous_args = 0
 144:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     uint64_t start_time = System_GetTick();
 497              		.loc 1 144 1 is_stmt 0 view .LVU121
 498 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 499              	.LCFI5:
 500              		.cfi_def_cfa_offset 32
 501              		.cfi_offset 4, -32
 502              		.cfi_offset 5, -28
 503              		.cfi_offset 6, -24
 504              		.cfi_offset 7, -20
 505              		.cfi_offset 8, -16
 506              		.cfi_offset 9, -12
 507              		.cfi_offset 10, -8
 508              		.cfi_offset 14, -4
 509 0004 0546     		mov	r5, r0
 510 0006 8946     		mov	r9, r1
 511 0008 9046     		mov	r8, r2
 512 000a 1E46     		mov	r6, r3
 145:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 513              		.loc 1 145 5 is_stmt 1 view .LVU122
 145:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 514              		.loc 1 145 27 is_stmt 0 view .LVU123
 515 000c FFF7FEFF 		bl	System_GetTick
 516              	.LVL55:
 147:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 517              		.loc 1 147 5 is_stmt 1 view .LVU124
 147:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 518              		.loc 1 147 7 is_stmt 0 view .LVU125
 519 0010 002D     		cmp	r5, #0
 520 0012 3DD0     		beq	.L51
 521 0014 0446     		mov	r4, r0
 522 0016 0F46     		mov	r7, r1
 147:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 523              		.loc 1 147 27 discriminator 1 view .LVU126
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s 			page 16


 524 0018 B9F1000F 		cmp	r9, #0
 525 001c 3AD0     		beq	.L52
 147:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 526              		.loc 1 147 43 discriminator 2 view .LVU127
 527 001e B8F1000F 		cmp	r8, #0
 528 0022 39D0     		beq	.L53
 529              	.LBB8:
 150:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     {
 530              		.loc 1 150 18 view .LVU128
 531 0024 4FF0000A 		mov	r10, #0
 532              	.LVL56:
 533              	.L46:
 150:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     {
 534              		.loc 1 150 25 is_stmt 1 discriminator 1 view .LVU129
 150:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     {
 535              		.loc 1 150 5 is_stmt 0 discriminator 1 view .LVU130
 536 0028 C245     		cmp	r10, r8
 537 002a 2FD2     		bcs	.L57
 538              	.L50:
 152:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         {
 539              		.loc 1 152 14 is_stmt 1 view .LVU131
 152:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         {
 540              		.loc 1 152 15 is_stmt 0 view .LVU132
 541 002c 0221     		movs	r1, #2
 542 002e 2868     		ldr	r0, [r5]
 543 0030 FFF7FEFF 		bl	spi_i2s_flag_get
 544              	.LVL57:
 152:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         {
 545              		.loc 1 152 14 view .LVU133
 546 0034 60B9     		cbnz	r0, .L58
 154:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****                 return false;
 547              		.loc 1 154 13 is_stmt 1 view .LVU134
 154:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****                 return false;
 548              		.loc 1 154 18 is_stmt 0 view .LVU135
 549 0036 FFF7FEFF 		bl	System_GetTick
 550              	.LVL58:
 154:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****                 return false;
 551              		.loc 1 154 35 view .LVU136
 552 003a 001B     		subs	r0, r0, r4
 553 003c 61EB0701 		sbc	r1, r1, r7
 154:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****                 return false;
 554              		.loc 1 154 16 view .LVU137
 555 0040 8642     		cmp	r6, r0
 556 0042 4FF00003 		mov	r3, #0
 557 0046 8B41     		sbcs	r3, r3, r1
 558 0048 F0D2     		bcs	.L50
 155:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         }
 559              		.loc 1 155 24 view .LVU138
 560 004a 0020     		movs	r0, #0
 561              	.LVL59:
 562              	.L45:
 155:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         }
 563              		.loc 1 155 24 view .LVU139
 564              	.LBE8:
 168:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 565              		.loc 1 168 1 view .LVU140
 566 004c BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s 			page 17


 567              	.LVL60:
 568              	.L58:
 569              	.LBB9:
 157:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         
 570              		.loc 1 157 9 is_stmt 1 view .LVU141
 571 0050 19F80A10 		ldrb	r1, [r9, r10]	@ zero_extendqisi2
 572 0054 2868     		ldr	r0, [r5]
 573 0056 FFF7FEFF 		bl	spi_i2s_data_transmit
 574              	.LVL61:
 159:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         {
 575              		.loc 1 159 9 view .LVU142
 576              	.L48:
 159:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         {
 577              		.loc 1 159 14 view .LVU143
 159:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         {
 578              		.loc 1 159 15 is_stmt 0 view .LVU144
 579 005a 0121     		movs	r1, #1
 580 005c 2868     		ldr	r0, [r5]
 581 005e FFF7FEFF 		bl	spi_i2s_flag_get
 582              	.LVL62:
 159:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         {
 583              		.loc 1 159 14 view .LVU145
 584 0062 58B9     		cbnz	r0, .L59
 161:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****                 return false;
 585              		.loc 1 161 13 is_stmt 1 view .LVU146
 161:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****                 return false;
 586              		.loc 1 161 18 is_stmt 0 view .LVU147
 587 0064 FFF7FEFF 		bl	System_GetTick
 588              	.LVL63:
 161:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****                 return false;
 589              		.loc 1 161 35 view .LVU148
 590 0068 001B     		subs	r0, r0, r4
 591 006a 61EB0701 		sbc	r1, r1, r7
 161:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****                 return false;
 592              		.loc 1 161 16 view .LVU149
 593 006e 8642     		cmp	r6, r0
 594 0070 4FF00003 		mov	r3, #0
 595 0074 8B41     		sbcs	r3, r3, r1
 596 0076 F0D2     		bcs	.L48
 162:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         }
 597              		.loc 1 162 24 view .LVU150
 598 0078 0020     		movs	r0, #0
 599 007a E7E7     		b	.L45
 600              	.L59:
 164:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     }
 601              		.loc 1 164 9 is_stmt 1 discriminator 2 view .LVU151
 602 007c 2868     		ldr	r0, [r5]
 603 007e FFF7FEFF 		bl	spi_i2s_data_receive
 604              	.LVL64:
 150:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     {
 605              		.loc 1 150 35 discriminator 2 view .LVU152
 150:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     {
 606              		.loc 1 150 36 is_stmt 0 discriminator 2 view .LVU153
 607 0082 0AF1010A 		add	r10, r10, #1
 608              	.LVL65:
 150:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     {
 609              		.loc 1 150 36 discriminator 2 view .LVU154
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s 			page 18


 610 0086 1FFA8AFA 		uxth	r10, r10
 611              	.LVL66:
 150:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     {
 612              		.loc 1 150 36 discriminator 2 view .LVU155
 613 008a CDE7     		b	.L46
 614              	.L57:
 150:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     {
 615              		.loc 1 150 36 discriminator 2 view .LVU156
 616              	.LBE9:
 167:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** }
 617              		.loc 1 167 12 view .LVU157
 618 008c 0120     		movs	r0, #1
 619              	.LBB10:
 620 008e DDE7     		b	.L45
 621              	.LVL67:
 622              	.L51:
 167:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** }
 623              		.loc 1 167 12 view .LVU158
 624              	.LBE10:
 148:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 625              		.loc 1 148 16 view .LVU159
 626 0090 0020     		movs	r0, #0
 627              	.LVL68:
 148:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 628              		.loc 1 148 16 view .LVU160
 629 0092 DBE7     		b	.L45
 630              	.LVL69:
 631              	.L52:
 148:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 632              		.loc 1 148 16 view .LVU161
 633 0094 0020     		movs	r0, #0
 634              	.LVL70:
 148:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 635              		.loc 1 148 16 view .LVU162
 636 0096 D9E7     		b	.L45
 637              	.LVL71:
 638              	.L53:
 148:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 639              		.loc 1 148 16 view .LVU163
 640 0098 0020     		movs	r0, #0
 641              	.LVL72:
 148:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 642              		.loc 1 148 16 view .LVU164
 643 009a D7E7     		b	.L45
 644              		.cfi_endproc
 645              	.LFE137:
 647              		.section	.text.BspSPI_Deinit,"ax",%progbits
 648              		.align	1
 649              		.syntax unified
 650              		.thumb
 651              		.thumb_func
 653              	BspSPI_Deinit:
 654              	.LFB136:
 127:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     uint32_t clk = 0;
 655              		.loc 1 127 1 is_stmt 1 view -0
 656              		.cfi_startproc
 657              		@ args = 48, pretend = 16, frame = 0
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s 			page 19


 658              		@ frame_needed = 0, uses_anonymous_args = 0
 659 0000 84B0     		sub	sp, sp, #16
 660              	.LCFI6:
 661              		.cfi_def_cfa_offset 16
 662 0002 10B5     		push	{r4, lr}
 663              	.LCFI7:
 664              		.cfi_def_cfa_offset 24
 665              		.cfi_offset 4, -24
 666              		.cfi_offset 14, -20
 667 0004 02AC     		add	r4, sp, #8
 668 0006 84E80F00 		stm	r4, {r0, r1, r2, r3}
 128:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 669              		.loc 1 128 5 view .LVU166
 670              	.LVL73:
 130:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 671              		.loc 1 130 5 view .LVU167
 130:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 672              		.loc 1 130 15 is_stmt 0 view .LVU168
 673 000a 0A9C     		ldr	r4, [sp, #40]
 130:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 674              		.loc 1 130 7 view .LVU169
 675 000c 8CB1     		cbz	r4, .L62
 133:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     if(clk == 0)
 676              		.loc 1 133 5 is_stmt 1 view .LVU170
 133:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     if(clk == 0)
 677              		.loc 1 133 11 is_stmt 0 view .LVU171
 678 000e 2046     		mov	r0, r4
 679 0010 FFF7FEFF 		bl	BspSPI_Get_Clock
 680              	.LVL74:
 134:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 681              		.loc 1 134 5 is_stmt 1 view .LVU172
 134:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 682              		.loc 1 134 7 is_stmt 0 view .LVU173
 683 0014 20B9     		cbnz	r0, .L65
 135:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 684              		.loc 1 135 16 view .LVU174
 685 0016 0020     		movs	r0, #0
 686              	.LVL75:
 687              	.L61:
 141:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 688              		.loc 1 141 1 view .LVU175
 689 0018 BDE81040 		pop	{r4, lr}
 690              	.LCFI8:
 691              		.cfi_remember_state
 692              		.cfi_restore 14
 693              		.cfi_restore 4
 694              		.cfi_def_cfa_offset 16
 695 001c 04B0     		add	sp, sp, #16
 696              	.LCFI9:
 697              		.cfi_def_cfa_offset 0
 698 001e 7047     		bx	lr
 699              	.LVL76:
 700              	.L65:
 701              	.LCFI10:
 702              		.cfi_restore_state
 137:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_enable(To_SPI_Instance(spi_cfg.Instance), FALSE);
 703              		.loc 1 137 5 is_stmt 1 view .LVU176
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s 			page 20


 704 0020 0021     		movs	r1, #0
 705 0022 FFF7FEFF 		bl	crm_periph_clock_enable
 706              	.LVL77:
 138:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 707              		.loc 1 138 5 view .LVU177
 708 0026 0021     		movs	r1, #0
 709 0028 2046     		mov	r0, r4
 710 002a FFF7FEFF 		bl	spi_enable
 711              	.LVL78:
 140:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** }
 712              		.loc 1 140 5 view .LVU178
 140:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** }
 713              		.loc 1 140 12 is_stmt 0 view .LVU179
 714 002e 0120     		movs	r0, #1
 715 0030 F2E7     		b	.L61
 716              	.LVL79:
 717              	.L62:
 131:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 718              		.loc 1 131 16 view .LVU180
 719 0032 0020     		movs	r0, #0
 720 0034 F0E7     		b	.L61
 721              		.cfi_endproc
 722              	.LFE136:
 724              		.section	.text.BspSPI_Pin_Init,"ax",%progbits
 725              		.align	1
 726              		.syntax unified
 727              		.thumb
 728              		.thumb_func
 730              	BspSPI_Pin_Init:
 731              	.LFB134:
  51:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     BspGPIO_Obj_TypeDef GPIO_Pin_Obj;
 732              		.loc 1 51 1 is_stmt 1 view -0
 733              		.cfi_startproc
 734              		@ args = 28, pretend = 16, frame = 16
 735              		@ frame_needed = 0, uses_anonymous_args = 0
 736 0000 84B0     		sub	sp, sp, #16
 737              	.LCFI11:
 738              		.cfi_def_cfa_offset 16
 739 0002 F0B5     		push	{r4, r5, r6, r7, lr}
 740              	.LCFI12:
 741              		.cfi_def_cfa_offset 36
 742              		.cfi_offset 4, -36
 743              		.cfi_offset 5, -32
 744              		.cfi_offset 6, -28
 745              		.cfi_offset 7, -24
 746              		.cfi_offset 14, -20
 747 0004 85B0     		sub	sp, sp, #20
 748              	.LCFI13:
 749              		.cfi_def_cfa_offset 56
 750 0006 0AAC     		add	r4, sp, #40
 751 0008 84E80F00 		stm	r4, {r0, r1, r2, r3}
  52:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     BspGPIO_Port_TypeDef GPIO_Port_Obj;
 752              		.loc 1 52 5 view .LVU182
  53:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 753              		.loc 1 53 5 view .LVU183
  55:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         (pin.port_miso == NULL) || \
 754              		.loc 1 55 5 view .LVU184
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s 			page 21


  55:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         (pin.port_miso == NULL) || \
 755              		.loc 1 55 7 is_stmt 0 view .LVU185
 756 000c 002A     		cmp	r2, #0
 757 000e 37D0     		beq	.L68
 758 0010 1146     		mov	r1, r2
  56:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         (pin.port_mosi == NULL))
 759              		.loc 1 56 13 discriminator 1 view .LVU186
 760 0012 0B9C     		ldr	r4, [sp, #44]
  55:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         (pin.port_miso == NULL) || \
 761              		.loc 1 55 32 discriminator 1 view .LVU187
 762 0014 002C     		cmp	r4, #0
 763 0016 35D0     		beq	.L69
  57:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 764              		.loc 1 57 13 view .LVU188
 765 0018 0546     		mov	r5, r0
  56:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         (pin.port_mosi == NULL))
 766              		.loc 1 56 33 view .LVU189
 767 001a 0028     		cmp	r0, #0
 768 001c 34D0     		beq	.L70
  60:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     memset(&GPIO_Port_Obj, 0, sizeof(BspGPIO_Port_TypeDef));
 769              		.loc 1 60 5 is_stmt 1 view .LVU190
 770 001e 01AA     		add	r2, sp, #4
 771 0020 0023     		movs	r3, #0
 772 0022 0193     		str	r3, [sp, #4]
 773 0024 0293     		str	r3, [sp, #8]
 774 0026 0393     		str	r3, [sp, #12]
  61:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 775              		.loc 1 61 5 view .LVU191
 776 0028 0093     		str	r3, [sp]
  64:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Pin_Obj.alternate = pin.pin_Alternate;
 777              		.loc 1 64 5 view .LVU192
  64:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Pin_Obj.alternate = pin.pin_Alternate;
 778              		.loc 1 64 24 is_stmt 0 view .LVU193
 779 002a 0091     		str	r1, [sp]
  65:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Pin_Obj.pin = pin.pin_clk;
 780              		.loc 1 65 5 is_stmt 1 view .LVU194
  65:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Pin_Obj.pin = pin.pin_clk;
 781              		.loc 1 65 33 is_stmt 0 view .LVU195
 782 002c 109E     		ldr	r6, [sp, #64]
  65:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Pin_Obj.pin = pin.pin_clk;
 783              		.loc 1 65 28 view .LVU196
 784 002e 0396     		str	r6, [sp, #12]
  66:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Pin_Obj.port = &GPIO_Port_Obj;
 785              		.loc 1 66 5 is_stmt 1 view .LVU197
  66:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Pin_Obj.port = &GPIO_Port_Obj;
 786              		.loc 1 66 27 is_stmt 0 view .LVU198
 787 0030 0F99     		ldr	r1, [sp, #60]
  66:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Pin_Obj.port = &GPIO_Port_Obj;
 788              		.loc 1 66 22 view .LVU199
 789 0032 ADF80810 		strh	r1, [sp, #8]	@ movhi
  67:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     if(!BspGPIO.alt_init(GPIO_Pin_Obj, GPIO_OUTPUT_PUSH_PULL))
 790              		.loc 1 67 5 is_stmt 1 view .LVU200
  67:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     if(!BspGPIO.alt_init(GPIO_Pin_Obj, GPIO_OUTPUT_PUSH_PULL))
 791              		.loc 1 67 23 is_stmt 0 view .LVU201
 792 0036 CDF804D0 		str	sp, [sp, #4]
  68:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 793              		.loc 1 68 5 is_stmt 1 view .LVU202
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s 			page 22


  68:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 794              		.loc 1 68 16 is_stmt 0 view .LVU203
 795 003a 1649     		ldr	r1, .L72
 796 003c CF68     		ldr	r7, [r1, #12]
  68:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 797              		.loc 1 68 9 view .LVU204
 798 003e 07CA     		ldm	r2, {r0, r1, r2}
 799 0040 B847     		blx	r7
 800              	.LVL80:
  68:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 801              		.loc 1 68 7 view .LVU205
 802 0042 10B3     		cbz	r0, .L67
  72:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Pin_Obj.alternate = pin.pin_Alternate;
 803              		.loc 1 72 5 is_stmt 1 view .LVU206
  72:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Pin_Obj.alternate = pin.pin_Alternate;
 804              		.loc 1 72 24 is_stmt 0 view .LVU207
 805 0044 0095     		str	r5, [sp]
  73:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Pin_Obj.pin = pin.pin_mosi;
 806              		.loc 1 73 5 is_stmt 1 view .LVU208
  73:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Pin_Obj.pin = pin.pin_mosi;
 807              		.loc 1 73 28 is_stmt 0 view .LVU209
 808 0046 0396     		str	r6, [sp, #12]
  74:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Pin_Obj.port = &GPIO_Port_Obj;
 809              		.loc 1 74 5 is_stmt 1 view .LVU210
  74:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Pin_Obj.port = &GPIO_Port_Obj;
 810              		.loc 1 74 27 is_stmt 0 view .LVU211
 811 0048 0D9B     		ldr	r3, [sp, #52]
  74:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Pin_Obj.port = &GPIO_Port_Obj;
 812              		.loc 1 74 22 view .LVU212
 813 004a ADF80830 		strh	r3, [sp, #8]	@ movhi
  75:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     if(!BspGPIO.alt_init(GPIO_Pin_Obj, GPIO_OUTPUT_PUSH_PULL))
 814              		.loc 1 75 5 is_stmt 1 view .LVU213
  75:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     if(!BspGPIO.alt_init(GPIO_Pin_Obj, GPIO_OUTPUT_PUSH_PULL))
 815              		.loc 1 75 23 is_stmt 0 view .LVU214
 816 004e CDF804D0 		str	sp, [sp, #4]
  76:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 817              		.loc 1 76 5 is_stmt 1 view .LVU215
  76:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 818              		.loc 1 76 16 is_stmt 0 view .LVU216
 819 0052 104B     		ldr	r3, .L72
 820 0054 DD68     		ldr	r5, [r3, #12]
  76:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 821              		.loc 1 76 9 view .LVU217
 822 0056 0023     		movs	r3, #0
 823 0058 04AA     		add	r2, sp, #16
 824 005a 12E90700 		ldmdb	r2, {r0, r1, r2}
 825 005e A847     		blx	r5
 826              	.LVL81:
  76:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 827              		.loc 1 76 7 view .LVU218
 828 0060 98B1     		cbz	r0, .L67
  80:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Pin_Obj.alternate = pin.pin_Alternate;
 829              		.loc 1 80 5 is_stmt 1 view .LVU219
  80:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Pin_Obj.alternate = pin.pin_Alternate;
 830              		.loc 1 80 24 is_stmt 0 view .LVU220
 831 0062 0094     		str	r4, [sp]
  81:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Pin_Obj.pin = pin.pin_miso;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s 			page 23


 832              		.loc 1 81 5 is_stmt 1 view .LVU221
  81:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Pin_Obj.pin = pin.pin_miso;
 833              		.loc 1 81 28 is_stmt 0 view .LVU222
 834 0064 0396     		str	r6, [sp, #12]
  82:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Pin_Obj.port = &GPIO_Port_Obj;
 835              		.loc 1 82 5 is_stmt 1 view .LVU223
  82:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Pin_Obj.port = &GPIO_Port_Obj;
 836              		.loc 1 82 27 is_stmt 0 view .LVU224
 837 0066 0E9B     		ldr	r3, [sp, #56]
  82:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     GPIO_Pin_Obj.port = &GPIO_Port_Obj;
 838              		.loc 1 82 22 view .LVU225
 839 0068 ADF80830 		strh	r3, [sp, #8]	@ movhi
  83:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     if(!BspGPIO.alt_init(GPIO_Pin_Obj, GPIO_OUTPUT_PUSH_PULL))
 840              		.loc 1 83 5 is_stmt 1 view .LVU226
  83:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     if(!BspGPIO.alt_init(GPIO_Pin_Obj, GPIO_OUTPUT_PUSH_PULL))
 841              		.loc 1 83 23 is_stmt 0 view .LVU227
 842 006c CDF804D0 		str	sp, [sp, #4]
  84:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 843              		.loc 1 84 5 is_stmt 1 view .LVU228
  84:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 844              		.loc 1 84 16 is_stmt 0 view .LVU229
 845 0070 084B     		ldr	r3, .L72
 846 0072 DC68     		ldr	r4, [r3, #12]
  84:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 847              		.loc 1 84 9 view .LVU230
 848 0074 0023     		movs	r3, #0
 849 0076 04AA     		add	r2, sp, #16
 850 0078 12E90700 		ldmdb	r2, {r0, r1, r2}
 851 007c A047     		blx	r4
 852              	.LVL82:
 853 007e 04E0     		b	.L67
 854              	.L68:
  58:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 855              		.loc 1 58 16 view .LVU231
 856 0080 0020     		movs	r0, #0
 857 0082 02E0     		b	.L67
 858              	.L69:
 859 0084 0020     		movs	r0, #0
 860 0086 00E0     		b	.L67
 861              	.L70:
 862 0088 0020     		movs	r0, #0
 863              	.L67:
  88:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 864              		.loc 1 88 1 view .LVU232
 865 008a 05B0     		add	sp, sp, #20
 866              	.LCFI14:
 867              		.cfi_def_cfa_offset 36
 868              		@ sp needed
 869 008c BDE8F040 		pop	{r4, r5, r6, r7, lr}
 870              	.LCFI15:
 871              		.cfi_restore 14
 872              		.cfi_restore 7
 873              		.cfi_restore 6
 874              		.cfi_restore 5
 875              		.cfi_restore 4
 876              		.cfi_def_cfa_offset 16
 877 0090 04B0     		add	sp, sp, #16
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s 			page 24


 878              	.LCFI16:
 879              		.cfi_def_cfa_offset 0
 880 0092 7047     		bx	lr
 881              	.L73:
 882              		.align	2
 883              	.L72:
 884 0094 00000000 		.word	BspGPIO
 885              		.cfi_endproc
 886              	.LFE134:
 888              		.section	.text.BspSPI_Init,"ax",%progbits
 889              		.align	1
 890              		.syntax unified
 891              		.thumb
 892              		.thumb_func
 894              	BspSPI_Init:
 895              	.LVL83:
 896              	.LFB135:
  91:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_init_type spi_init_struct;
 897              		.loc 1 91 1 is_stmt 1 view -0
 898              		.cfi_startproc
 899              		@ args = 52, pretend = 16, frame = 8
 900              		@ frame_needed = 0, uses_anonymous_args = 0
  91:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_init_type spi_init_struct;
 901              		.loc 1 91 1 is_stmt 0 view .LVU234
 902 0000 84B0     		sub	sp, sp, #16
 903              	.LCFI17:
 904              		.cfi_def_cfa_offset 16
 905 0002 70B5     		push	{r4, r5, r6, lr}
 906              	.LCFI18:
 907              		.cfi_def_cfa_offset 32
 908              		.cfi_offset 4, -32
 909              		.cfi_offset 5, -28
 910              		.cfi_offset 6, -24
 911              		.cfi_offset 14, -20
 912 0004 86B0     		sub	sp, sp, #24
 913              	.LCFI19:
 914              		.cfi_def_cfa_offset 56
 915 0006 0AAC     		add	r4, sp, #40
 916 0008 84E80F00 		stm	r4, {r0, r1, r2, r3}
  92:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     crm_periph_clock_type clk = 0;
 917              		.loc 1 92 5 is_stmt 1 view .LVU235
  93:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_master_slave_mode_type mode = SPI_MODE_MASTER;
 918              		.loc 1 93 5 view .LVU236
 919              	.LVL84:
  94:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 920              		.loc 1 94 5 view .LVU237
  96:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 921              		.loc 1 96 5 view .LVU238
  96:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 922              		.loc 1 96 16 is_stmt 0 view .LVU239
 923 000c 129C     		ldr	r4, [sp, #72]
  96:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 924              		.loc 1 96 7 view .LVU240
 925 000e A4B1     		cbz	r4, .L75
  96:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 926              		.loc 1 96 39 discriminator 1 view .LVU241
 927 0010 0EAB     		add	r3, sp, #56
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s 			page 25


 928 0012 93E80700 		ldm	r3, {r0, r1, r2}
 929 0016 8DE80700 		stm	sp, {r0, r1, r2}
 930 001a 0AAB     		add	r3, sp, #40
 931 001c 0FCB     		ldm	r3, {r0, r1, r2, r3}
 932 001e FFF7FEFF 		bl	BspSPI_Pin_Init
 933              	.LVL85:
  96:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 934              		.loc 1 96 35 discriminator 1 view .LVU242
 935 0022 0546     		mov	r5, r0
 936 0024 48B1     		cbz	r0, .L75
  96:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 937              		.loc 1 96 79 discriminator 2 view .LVU243
 938 0026 9DF84460 		ldrb	r6, [sp, #68]	@ zero_extendqisi2
  96:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 939              		.loc 1 96 68 discriminator 2 view .LVU244
 940 002a 012E     		cmp	r6, #1
 941 002c 05D8     		bhi	.L75
  99:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     if(clk == 0)
 942              		.loc 1 99 5 is_stmt 1 view .LVU245
  99:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     if(clk == 0)
 943              		.loc 1 99 11 is_stmt 0 view .LVU246
 944 002e 2046     		mov	r0, r4
 945 0030 FFF7FEFF 		bl	BspSPI_Get_Clock
 946              	.LVL86:
 100:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 947              		.loc 1 100 5 is_stmt 1 view .LVU247
 100:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         return false;
 948              		.loc 1 100 7 is_stmt 0 view .LVU248
 949 0034 40B9     		cbnz	r0, .L82
 101:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 950              		.loc 1 101 16 view .LVU249
 951 0036 0025     		movs	r5, #0
 952 0038 00E0     		b	.L77
 953              	.LVL87:
 954              	.L75:
  97:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 955              		.loc 1 97 9 is_stmt 1 view .LVU250
  97:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 956              		.loc 1 97 16 is_stmt 0 view .LVU251
 957 003a 0025     		movs	r5, #0
 958              	.LVL88:
 959              	.L77:
 124:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 960              		.loc 1 124 1 view .LVU252
 961 003c 2846     		mov	r0, r5
 962 003e 06B0     		add	sp, sp, #24
 963              	.LCFI20:
 964              		.cfi_remember_state
 965              		.cfi_def_cfa_offset 32
 966              		@ sp needed
 967 0040 BDE87040 		pop	{r4, r5, r6, lr}
 968              	.LCFI21:
 969              		.cfi_restore 14
 970              		.cfi_restore 6
 971              		.cfi_restore 5
 972              		.cfi_restore 4
 973              		.cfi_def_cfa_offset 16
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s 			page 26


 974 0044 04B0     		add	sp, sp, #16
 975              	.LCFI22:
 976              		.cfi_def_cfa_offset 0
 977 0046 7047     		bx	lr
 978              	.LVL89:
 979              	.L82:
 980              	.LCFI23:
 981              		.cfi_restore_state
 103:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_default_para_init(&spi_init_struct);
 982              		.loc 1 103 5 is_stmt 1 view .LVU253
 983 0048 0121     		movs	r1, #1
 984 004a FFF7FEFF 		bl	crm_periph_clock_enable
 985              	.LVL90:
 104:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 986              		.loc 1 104 5 view .LVU254
 987 004e 04A8     		add	r0, sp, #16
 988 0050 FFF7FEFF 		bl	spi_default_para_init
 989              	.LVL91:
 106:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         mode = SPI_MODE_SLAVE;
 990              		.loc 1 106 5 view .LVU255
 106:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****         mode = SPI_MODE_SLAVE;
 991              		.loc 1 106 8 is_stmt 0 view .LVU256
 992 0054 012E     		cmp	r6, #1
 993 0056 23D0     		beq	.L80
  94:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 994              		.loc 1 94 32 view .LVU257
 995 0058 0122     		movs	r2, #1
 996              	.L78:
 997              	.LVL92:
 109:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_init_struct.master_slave_mode = mode;
 998              		.loc 1 109 5 is_stmt 1 view .LVU258
 109:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_init_struct.master_slave_mode = mode;
 999              		.loc 1 109 39 is_stmt 0 view .LVU259
 1000 005a 0023     		movs	r3, #0
 1001 005c 8DF81030 		strb	r3, [sp, #16]
 110:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_init_struct.mclk_freq_division = spi_cfg.BaudRatePrescaler;
 1002              		.loc 1 110 5 is_stmt 1 view .LVU260
 110:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_init_struct.mclk_freq_division = spi_cfg.BaudRatePrescaler;
 1003              		.loc 1 110 39 is_stmt 0 view .LVU261
 1004 0060 8DF81120 		strb	r2, [sp, #17]
 111:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_init_struct.first_bit_transmission = SPI_FIRST_BIT_MSB;
 1005              		.loc 1 111 5 is_stmt 1 view .LVU262
 111:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_init_struct.first_bit_transmission = SPI_FIRST_BIT_MSB;
 1006              		.loc 1 111 49 is_stmt 0 view .LVU263
 1007 0064 9DF85420 		ldrb	r2, [sp, #84]	@ zero_extendqisi2
 1008              	.LVL93:
 111:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_init_struct.first_bit_transmission = SPI_FIRST_BIT_MSB;
 1009              		.loc 1 111 40 view .LVU264
 1010 0068 8DF81220 		strb	r2, [sp, #18]
 112:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_init_struct.frame_bit_num = SPI_FRAME_8BIT;
 1011              		.loc 1 112 5 is_stmt 1 view .LVU265
 112:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_init_struct.frame_bit_num = SPI_FRAME_8BIT;
 1012              		.loc 1 112 44 is_stmt 0 view .LVU266
 1013 006c 8DF81330 		strb	r3, [sp, #19]
 113:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_init_struct.clock_polarity = spi_cfg.CLKPolarity;
 1014              		.loc 1 113 5 is_stmt 1 view .LVU267
 113:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_init_struct.clock_polarity = spi_cfg.CLKPolarity;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s 			page 27


 1015              		.loc 1 113 35 is_stmt 0 view .LVU268
 1016 0070 8DF81430 		strb	r3, [sp, #20]
 114:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_init_struct.clock_phase = spi_cfg.CLKPhase;
 1017              		.loc 1 114 5 is_stmt 1 view .LVU269
 114:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_init_struct.clock_phase = spi_cfg.CLKPhase;
 1018              		.loc 1 114 45 is_stmt 0 view .LVU270
 1019 0074 9DF84C30 		ldrb	r3, [sp, #76]	@ zero_extendqisi2
 114:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_init_struct.clock_phase = spi_cfg.CLKPhase;
 1020              		.loc 1 114 36 view .LVU271
 1021 0078 8DF81530 		strb	r3, [sp, #21]
 115:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_init_struct.cs_mode_selection = SPI_CS_SOFTWARE_MODE;
 1022              		.loc 1 115 5 is_stmt 1 view .LVU272
 115:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_init_struct.cs_mode_selection = SPI_CS_SOFTWARE_MODE;
 1023              		.loc 1 115 42 is_stmt 0 view .LVU273
 1024 007c 9DF85030 		ldrb	r3, [sp, #80]	@ zero_extendqisi2
 115:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_init_struct.cs_mode_selection = SPI_CS_SOFTWARE_MODE;
 1025              		.loc 1 115 33 view .LVU274
 1026 0080 8DF81630 		strb	r3, [sp, #22]
 116:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 1027              		.loc 1 116 5 is_stmt 1 view .LVU275
 116:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 1028              		.loc 1 116 39 is_stmt 0 view .LVU276
 1029 0084 0126     		movs	r6, #1
 1030 0086 8DF81760 		strb	r6, [sp, #23]
 118:HW_Lib/AT32F435/bsp/Bsp_Spi.c ****     spi_enable(To_SPI_Instance(spi_cfg.Instance), TRUE);
 1031              		.loc 1 118 5 is_stmt 1 view .LVU277
 1032 008a 04A9     		add	r1, sp, #16
 1033 008c 2046     		mov	r0, r4
 1034 008e FFF7FEFF 		bl	spi_init
 1035              	.LVL94:
 119:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 1036              		.loc 1 119 5 view .LVU278
 1037 0092 3146     		mov	r1, r6
 1038 0094 2046     		mov	r0, r4
 1039 0096 FFF7FEFF 		bl	spi_enable
 1040              	.LVL95:
 121:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 1041              		.loc 1 121 5 view .LVU279
 121:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 1042              		.loc 1 121 31 is_stmt 0 view .LVU280
 1043 009a 169B     		ldr	r3, [sp, #88]
 1044 009c 1C60     		str	r4, [r3]
 123:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** }
 1045              		.loc 1 123 5 is_stmt 1 view .LVU281
 123:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** }
 1046              		.loc 1 123 12 is_stmt 0 view .LVU282
 1047 009e CDE7     		b	.L77
 1048              	.LVL96:
 1049              	.L80:
 107:HW_Lib/AT32F435/bsp/Bsp_Spi.c **** 
 1050              		.loc 1 107 14 view .LVU283
 1051 00a0 0022     		movs	r2, #0
 1052 00a2 DAE7     		b	.L78
 1053              		.cfi_endproc
 1054              	.LFE135:
 1056              		.global	BspSPI
 1057              		.section	.data.BspSPI,"aw"
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s 			page 28


 1058              		.align	2
 1061              	BspSPI:
 1062 0000 00000000 		.word	BspSPI_Init
 1063 0004 00000000 		.word	BspSPI_Deinit
 1064 0008 00000000 		.word	BspSPI_Transmit
 1065 000c 00000000 		.word	BspSPI_Receive
 1066 0010 00000000 		.word	BspSPI_Trans_Receive
 1067 0014 00000000 		.word	BspSPI_Set_Speed
 1068              		.text
 1069              	.Letext0:
 1070              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 1071              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 1072              		.file 4 "HW_Lib/Port_Def/Bsp_SPI_Port_Def.h"
 1073              		.file 5 "HW_Lib/AT32F435/device_support/at32f435_437.h"
 1074              		.file 6 "HW_Lib/AT32F435/drivers/inc/at32f435_437_crm.h"
 1075              		.file 7 "HW_Lib/AT32F435/drivers/inc/at32f435_437_tmr.h"
 1076              		.file 8 "HW_Lib/AT32F435/drivers/inc/at32f435_437_gpio.h"
 1077              		.file 9 "HW_Lib/AT32F435/drivers/inc/at32f435_437_spi.h"
 1078              		.file 10 "HW_Lib/Port_Def/Bsp_GPIO_Port_Def.h"
 1079              		.file 11 "HW_Lib/AT32F435/bsp/Bsp_GPIO.h"
 1080              		.file 12 "HW_Lib/AT32F435/bsp/Bsp_Spi.h"
 1081              		.file 13 "HW_Lib/AT32F435/device_support/system_at32f435_437.h"
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s 			page 29


DEFINED SYMBOLS
                            *ABS*:00000000 Bsp_Spi.c
C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s:20     .text.BspSPI_Get_Clock:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s:25     .text.BspSPI_Get_Clock:00000000 BspSPI_Get_Clock
C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s:92     .text.BspSPI_Get_Clock:00000038 $d
C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s:102    .text.BspSPI_Set_Speed:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s:107    .text.BspSPI_Set_Speed:00000000 BspSPI_Set_Speed
C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s:127    .text.BspSPI_Trans_Receive:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s:132    .text.BspSPI_Trans_Receive:00000000 BspSPI_Trans_Receive
C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s:319    .text.BspSPI_Receive:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s:324    .text.BspSPI_Receive:00000000 BspSPI_Receive
C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s:485    .text.BspSPI_Transmit:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s:490    .text.BspSPI_Transmit:00000000 BspSPI_Transmit
C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s:648    .text.BspSPI_Deinit:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s:653    .text.BspSPI_Deinit:00000000 BspSPI_Deinit
C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s:725    .text.BspSPI_Pin_Init:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s:730    .text.BspSPI_Pin_Init:00000000 BspSPI_Pin_Init
C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s:884    .text.BspSPI_Pin_Init:00000094 $d
C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s:889    .text.BspSPI_Init:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s:894    .text.BspSPI_Init:00000000 BspSPI_Init
C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s:1061   .data.BspSPI:00000000 BspSPI
C:\Users\8bit\AppData\Local\Temp\ccHxOyvs.s:1058   .data.BspSPI:00000000 $d

UNDEFINED SYMBOLS
System_GetTick
spi_i2s_flag_get
spi_i2s_data_transmit
spi_i2s_data_receive
crm_periph_clock_enable
spi_enable
BspGPIO
spi_default_para_init
spi_init
