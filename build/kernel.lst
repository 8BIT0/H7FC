ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 1
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"kernel.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.text.Kernel_SetBASEPRI,"ax",%progbits
  19              		.align	1
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	Kernel_SetBASEPRI:
  25              	.LVL0:
  26              	.LFB151:
  27              		.file 1 "System/kernel/kernel.c"
   1:System/kernel/kernel.c **** /*
   2:System/kernel/kernel.c ****  * coder: 8_B!T0
   3:System/kernel/kernel.c ****  * Kernel Funciont portable for any Kernel u use
   4:System/kernel/kernel.c ****  * for stm32 some assemble and regsiter are in common
   5:System/kernel/kernel.c ****  */
   6:System/kernel/kernel.c **** 
   7:System/kernel/kernel.c **** #include "kernel.h"
   8:System/kernel/kernel.c **** #include "system_cfg.h"
   9:System/kernel/kernel.c **** #include "stm32h7xx_hal_rcc.h"
  10:System/kernel/kernel.c **** #include "stm32h7xx_hal_pwr.h"
  11:System/kernel/kernel.c **** 
  12:System/kernel/kernel.c **** #define KERNEL_SYSPRI2_REG (*((volatile uint32_t *)0xe000ed20))
  13:System/kernel/kernel.c **** 
  14:System/kernel/kernel.c **** #define KERNEL_INTERRUPT_PRIORITY (KERNEL_LOWEST_INTERRUPT_PRIORITY << 4)
  15:System/kernel/kernel.c **** 
  16:System/kernel/kernel.c **** static uint16_t CriticalNasting_Cnt = 0;
  17:System/kernel/kernel.c **** 
  18:System/kernel/kernel.c **** static bool KernelClock_Init(void);
  19:System/kernel/kernel.c **** 
  20:System/kernel/kernel.c **** bool Kernel_Init(void)
  21:System/kernel/kernel.c **** {
  22:System/kernel/kernel.c ****     // disable interrupt at the first place
  23:System/kernel/kernel.c ****     Kernel_DisableIRQ();
  24:System/kernel/kernel.c **** 
  25:System/kernel/kernel.c ****     HAL_Init();
  26:System/kernel/kernel.c **** 
  27:System/kernel/kernel.c ****     return KernelClock_Init();
  28:System/kernel/kernel.c **** }
  29:System/kernel/kernel.c **** 
  30:System/kernel/kernel.c **** /*
  31:System/kernel/kernel.c ****  * clock init
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s 			page 2


  32:System/kernel/kernel.c ****  * general by stm32cubemx
  33:System/kernel/kernel.c ****  */
  34:System/kernel/kernel.c **** static bool KernelClock_Init(void)
  35:System/kernel/kernel.c **** {
  36:System/kernel/kernel.c ****     RCC_PeriphCLKInitTypeDef PeriphClkInitStruct = {0};
  37:System/kernel/kernel.c ****     RCC_OscInitTypeDef RCC_OscInitStruct = {0};
  38:System/kernel/kernel.c ****     RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
  39:System/kernel/kernel.c **** 
  40:System/kernel/kernel.c ****     /** Supply configuration update enable
  41:System/kernel/kernel.c ****      */
  42:System/kernel/kernel.c ****     HAL_PWREx_ConfigSupply(PWR_LDO_SUPPLY);
  43:System/kernel/kernel.c ****     /** Configure the main internal regulator output voltage
  44:System/kernel/kernel.c ****      */
  45:System/kernel/kernel.c ****     __HAL_PWR_VOLTAGESCALING_CONFIG(PWR_REGULATOR_VOLTAGE_SCALE1);
  46:System/kernel/kernel.c **** 
  47:System/kernel/kernel.c ****     while (!__HAL_PWR_GET_FLAG(PWR_FLAG_VOSRDY))
  48:System/kernel/kernel.c ****     {
  49:System/kernel/kernel.c ****     }
  50:System/kernel/kernel.c ****     /** Macro to configure the PLL clock source
  51:System/kernel/kernel.c ****      */
  52:System/kernel/kernel.c ****     __HAL_RCC_PLL_PLLSOURCE_CONFIG(RCC_PLLSOURCE_HSE);
  53:System/kernel/kernel.c ****     /** Initializes the RCC Oscillators according to the specified parameters
  54:System/kernel/kernel.c ****      * in the RCC_OscInitTypeDef structure.
  55:System/kernel/kernel.c ****      */
  56:System/kernel/kernel.c ****     RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_HSI48 | RCC_OSCILLATORTYPE_HSE;
  57:System/kernel/kernel.c ****     RCC_OscInitStruct.HSEState = RCC_HSE_ON;
  58:System/kernel/kernel.c ****     RCC_OscInitStruct.HSI48State = RCC_HSI48_ON;
  59:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
  60:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
  61:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLM = 1;
  62:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLN = 100;
  63:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLP = 2;
  64:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLQ = 80;
  65:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLR = 2;
  66:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLRGE = RCC_PLL1VCIRANGE_3;
  67:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLVCOSEL = RCC_PLL1VCOWIDE;
  68:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLFRACN = 0;
  69:System/kernel/kernel.c ****     if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
  70:System/kernel/kernel.c ****         return false;
  71:System/kernel/kernel.c **** 
  72:System/kernel/kernel.c ****     /** Initializes the CPU, AHB and APB buses clocks
  73:System/kernel/kernel.c ****      */
  74:System/kernel/kernel.c ****     RCC_ClkInitStruct.ClockType = RCC_CLOCKTYPE_HCLK | RCC_CLOCKTYPE_SYSCLK | RCC_CLOCKTYPE_PCLK1 |
  75:System/kernel/kernel.c ****     RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
  76:System/kernel/kernel.c ****     RCC_ClkInitStruct.SYSCLKDivider = RCC_SYSCLK_DIV1;
  77:System/kernel/kernel.c ****     RCC_ClkInitStruct.AHBCLKDivider = RCC_HCLK_DIV2;
  78:System/kernel/kernel.c ****     RCC_ClkInitStruct.APB3CLKDivider = RCC_APB3_DIV2;
  79:System/kernel/kernel.c ****     RCC_ClkInitStruct.APB1CLKDivider = RCC_APB1_DIV2;
  80:System/kernel/kernel.c ****     RCC_ClkInitStruct.APB2CLKDivider = RCC_APB2_DIV2;
  81:System/kernel/kernel.c ****     RCC_ClkInitStruct.APB4CLKDivider = RCC_APB4_DIV2;
  82:System/kernel/kernel.c **** 
  83:System/kernel/kernel.c ****     if (HAL_RCC_ClockConfig(&RCC_ClkInitStruct, FLASH_LATENCY_2) != HAL_OK)
  84:System/kernel/kernel.c ****         return false;
  85:System/kernel/kernel.c **** 
  86:System/kernel/kernel.c ****     /** Initializes the peripherals clock
  87:System/kernel/kernel.c ****      */
  88:System/kernel/kernel.c ****     PeriphClkInitStruct.PeriphClockSelection = RCC_PERIPHCLK_SPI3 | RCC_PERIPHCLK_SPI2 | RCC_PERIPH
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s 			page 3


  89:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL2.PLL2M = 2;
  90:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL2.PLL2N = 144;
  91:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL2.PLL2P = 9;
  92:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL2.PLL2Q = 9;
  93:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL2.PLL2R = 2;
  94:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL2.PLL2RGE = RCC_PLL2VCIRANGE_2;
  95:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL2.PLL2VCOSEL = RCC_PLL2VCOWIDE;
  96:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL2.PLL2FRACN = 0;
  97:System/kernel/kernel.c ****     PeriphClkInitStruct.Spi123ClockSelection = RCC_SPI123CLKSOURCE_PLL2;
  98:System/kernel/kernel.c ****     PeriphClkInitStruct.Spi45ClockSelection = RCC_SPI45CLKSOURCE_PLL2;
  99:System/kernel/kernel.c ****     if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInitStruct) != HAL_OK)
 100:System/kernel/kernel.c ****         return false;
 101:System/kernel/kernel.c **** 
 102:System/kernel/kernel.c ****     __HAL_RCC_GPIOH_CLK_ENABLE();
 103:System/kernel/kernel.c ****     __HAL_RCC_SYSCFG_CLK_ENABLE();
 104:System/kernel/kernel.c **** 
 105:System/kernel/kernel.c ****     // we need set systick priority as 15 pendsv priority as 14
 106:System/kernel/kernel.c ****     KERNEL_SYSPRI2_REG |= (((uint32_t)KERNEL_INTERRUPT_PRIORITY) << 16UL);
 107:System/kernel/kernel.c ****     KERNEL_SYSPRI2_REG |= (((uint32_t)KERNEL_INTERRUPT_PRIORITY) << 24UL);
 108:System/kernel/kernel.c **** 
 109:System/kernel/kernel.c ****     // enable irq
 110:System/kernel/kernel.c ****     Kernel_EnableIRQ();
 111:System/kernel/kernel.c **** 
 112:System/kernel/kernel.c ****     return true;
 113:System/kernel/kernel.c **** }
 114:System/kernel/kernel.c **** 
 115:System/kernel/kernel.c **** /*
 116:System/kernel/kernel.c ****  * init irq vactor and set perticular memory address for msp
 117:System/kernel/kernel.c ****  */
 118:System/kernel/kernel.c **** void Kernel_LoadProcess(void)
 119:System/kernel/kernel.c **** {
 120:System/kernel/kernel.c ****     uint32_t msp_addr = 0;
 121:System/kernel/kernel.c **** 
 122:System/kernel/kernel.c ****     /* clear PSP */
 123:System/kernel/kernel.c ****     __ASM("MOVS     R0, #0");
 124:System/kernel/kernel.c ****     __ASM("MSR      PSP, R0");
 125:System/kernel/kernel.c **** 
 126:System/kernel/kernel.c ****     /* set irq vactor */
 127:System/kernel/kernel.c ****     __ASM("LDR      R0, =0xE000ED08");
 128:System/kernel/kernel.c ****     __ASM("LDR      R0, [R0]");
 129:System/kernel/kernel.c ****     __ASM("LDR      R0, [R0]");
 130:System/kernel/kernel.c ****     __ASM("MSR      MSP, R0");
 131:System/kernel/kernel.c **** 
 132:System/kernel/kernel.c ****     /* trigger svc to push first task in process stack */
 133:System/kernel/kernel.c ****     __asm("SVC      0");
 134:System/kernel/kernel.c ****     __asm("ISB");
 135:System/kernel/kernel.c ****     __asm("NOP");
 136:System/kernel/kernel.c **** }
 137:System/kernel/kernel.c **** 
 138:System/kernel/kernel.c **** __attribute__((naked)) void Kernel_EnablePendSV(void)
 139:System/kernel/kernel.c **** {
 140:System/kernel/kernel.c ****     __ASM(".equ NVIC_SYSPRI14, 0xE000ED22");
 141:System/kernel/kernel.c ****     __ASM(".equ NVIC_PENDSV_PRI, 0xFF");
 142:System/kernel/kernel.c **** 
 143:System/kernel/kernel.c ****     __ASM("LDR      R0, =NVIC_SYSPRI14");
 144:System/kernel/kernel.c ****     __ASM("LDR      R1, =NVIC_PENDSV_PRI");
 145:System/kernel/kernel.c ****     __ASM("STRB     R1, [R0]");
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s 			page 4


 146:System/kernel/kernel.c ****     __ASM("BX       LR");
 147:System/kernel/kernel.c **** }
 148:System/kernel/kernel.c **** 
 149:System/kernel/kernel.c **** __attribute__((naked)) void Kernel_TriggerPendSV(void)
 150:System/kernel/kernel.c **** {
 151:System/kernel/kernel.c ****     __ASM(".equ NVIC_INT_CTRL, 0xE000ED04");
 152:System/kernel/kernel.c ****     __ASM(".equ NVIC_PENDSVSET, 0x10000000");
 153:System/kernel/kernel.c **** 
 154:System/kernel/kernel.c ****     __ASM("LDR      R0, =NVIC_INT_CTRL");
 155:System/kernel/kernel.c ****     __ASM("LDR      R1, =NVIC_PENDSVSET");
 156:System/kernel/kernel.c ****     __ASM("STR      R1, [R0]");
 157:System/kernel/kernel.c ****     __ASM("BX       LR");
 158:System/kernel/kernel.c **** }
 159:System/kernel/kernel.c **** 
 160:System/kernel/kernel.c **** /*
 161:System/kernel/kernel.c ****  *   return IRQ serial number in IRQ_Handler
 162:System/kernel/kernel.c ****  */
 163:System/kernel/kernel.c **** uint32_t Kernel_GetPSR(void)
 164:System/kernel/kernel.c **** {
 165:System/kernel/kernel.c ****     return __get_IPSR();
 166:System/kernel/kernel.c **** }
 167:System/kernel/kernel.c **** 
 168:System/kernel/kernel.c **** /*
 169:System/kernel/kernel.c ****  * control[0] : 0 is privilage mode / 1 is none privilage mode
 170:System/kernel/kernel.c ****  * control[1] : 0 is MSP / 1 is PSP
 171:System/kernel/kernel.c ****  */
 172:System/kernel/kernel.c **** uint32_t Kernel_GetMode(void)
 173:System/kernel/kernel.c **** {
 174:System/kernel/kernel.c ****     return __get_CONTROL();
 175:System/kernel/kernel.c **** }
 176:System/kernel/kernel.c **** 
 177:System/kernel/kernel.c **** static void Kernel_SetBASEPRI(uint32_t ulBASEPRI)
 178:System/kernel/kernel.c **** {
  28              		.loc 1 178 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
 179:System/kernel/kernel.c ****     __ASM("	msr basepri, %0	" ::"r"(ulBASEPRI)
  33              		.loc 1 179 5 view .LVU1
  34              		.syntax unified
  35              	@ 179 "System/kernel/kernel.c" 1
  36 0000 80F31188 			msr basepri, r0	
  37              	@ 0 "" 2
 180:System/kernel/kernel.c ****           : "memory");
 181:System/kernel/kernel.c ****     __ASM("DSB");
  38              		.loc 1 181 5 view .LVU2
  39              	@ 181 "System/kernel/kernel.c" 1
  40 0004 BFF34F8F 		DSB
  41              	@ 0 "" 2
 182:System/kernel/kernel.c ****     __ASM("ISB");
  42              		.loc 1 182 5 view .LVU3
  43              	@ 182 "System/kernel/kernel.c" 1
  44 0008 BFF36F8F 		ISB
  45              	@ 0 "" 2
 183:System/kernel/kernel.c **** }
  46              		.loc 1 183 1 is_stmt 0 view .LVU4
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s 			page 5


  47              		.thumb
  48              		.syntax unified
  49 000c 7047     		bx	lr
  50              		.cfi_endproc
  51              	.LFE151:
  53              		.section	.text.KernelClock_Init,"ax",%progbits
  54              		.align	1
  55              		.syntax unified
  56              		.thumb
  57              		.thumb_func
  59              	KernelClock_Init:
  60              	.LFB145:
  35:System/kernel/kernel.c ****     RCC_PeriphCLKInitTypeDef PeriphClkInitStruct = {0};
  61              		.loc 1 35 1 is_stmt 1 view -0
  62              		.cfi_startproc
  63              		@ args = 0, pretend = 0, frame = 312
  64              		@ frame_needed = 0, uses_anonymous_args = 0
  65 0000 00B5     		push	{lr}
  66              	.LCFI0:
  67              		.cfi_def_cfa_offset 4
  68              		.cfi_offset 14, -4
  69 0002 CFB0     		sub	sp, sp, #316
  70              	.LCFI1:
  71              		.cfi_def_cfa_offset 320
  36:System/kernel/kernel.c ****     RCC_OscInitTypeDef RCC_OscInitStruct = {0};
  72              		.loc 1 36 5 view .LVU6
  36:System/kernel/kernel.c ****     RCC_OscInitTypeDef RCC_OscInitStruct = {0};
  73              		.loc 1 36 30 is_stmt 0 view .LVU7
  74 0004 BC22     		movs	r2, #188
  75 0006 0021     		movs	r1, #0
  76 0008 1FA8     		add	r0, sp, #124
  77 000a FFF7FEFF 		bl	memset
  78              	.LVL1:
  37:System/kernel/kernel.c ****     RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
  79              		.loc 1 37 5 is_stmt 1 view .LVU8
  37:System/kernel/kernel.c ****     RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
  80              		.loc 1 37 24 is_stmt 0 view .LVU9
  81 000e 4C22     		movs	r2, #76
  82 0010 0021     		movs	r1, #0
  83 0012 0CA8     		add	r0, sp, #48
  84 0014 FFF7FEFF 		bl	memset
  85              	.LVL2:
  38:System/kernel/kernel.c **** 
  86              		.loc 1 38 5 is_stmt 1 view .LVU10
  38:System/kernel/kernel.c **** 
  87              		.loc 1 38 24 is_stmt 0 view .LVU11
  88 0018 2022     		movs	r2, #32
  89 001a 0021     		movs	r1, #0
  90 001c 04A8     		add	r0, sp, #16
  91 001e FFF7FEFF 		bl	memset
  92              	.LVL3:
  42:System/kernel/kernel.c ****     /** Configure the main internal regulator output voltage
  93              		.loc 1 42 5 is_stmt 1 view .LVU12
  94 0022 0220     		movs	r0, #2
  95 0024 FFF7FEFF 		bl	HAL_PWREx_ConfigSupply
  96              	.LVL4:
  45:System/kernel/kernel.c **** 
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s 			page 6


  97              		.loc 1 45 5 view .LVU13
  98              	.LBB6:
  45:System/kernel/kernel.c **** 
  99              		.loc 1 45 5 view .LVU14
 100 0028 0023     		movs	r3, #0
 101 002a 0193     		str	r3, [sp, #4]
  45:System/kernel/kernel.c **** 
 102              		.loc 1 45 5 view .LVU15
  45:System/kernel/kernel.c **** 
 103              		.loc 1 45 5 view .LVU16
 104 002c 4C4B     		ldr	r3, .L11
 105 002e DA6A     		ldr	r2, [r3, #44]
 106 0030 22F00102 		bic	r2, r2, #1
 107 0034 DA62     		str	r2, [r3, #44]
  45:System/kernel/kernel.c **** 
 108              		.loc 1 45 5 view .LVU17
 109 0036 DB6A     		ldr	r3, [r3, #44]
 110 0038 03F00103 		and	r3, r3, #1
 111 003c 0193     		str	r3, [sp, #4]
  45:System/kernel/kernel.c **** 
 112              		.loc 1 45 5 view .LVU18
 113 003e 494B     		ldr	r3, .L11+4
 114 0040 9A69     		ldr	r2, [r3, #24]
 115 0042 42F44042 		orr	r2, r2, #49152
 116 0046 9A61     		str	r2, [r3, #24]
  45:System/kernel/kernel.c **** 
 117              		.loc 1 45 5 view .LVU19
 118 0048 9B69     		ldr	r3, [r3, #24]
 119 004a 03F44043 		and	r3, r3, #49152
 120 004e 0193     		str	r3, [sp, #4]
  45:System/kernel/kernel.c **** 
 121              		.loc 1 45 5 view .LVU20
 122 0050 019B     		ldr	r3, [sp, #4]
 123              	.LBE6:
  45:System/kernel/kernel.c **** 
 124              		.loc 1 45 5 view .LVU21
  47:System/kernel/kernel.c ****     {
 125              		.loc 1 47 5 view .LVU22
 126              	.L3:
  49:System/kernel/kernel.c ****     /** Macro to configure the PLL clock source
 127              		.loc 1 49 5 discriminator 1 view .LVU23
  47:System/kernel/kernel.c ****     {
 128              		.loc 1 47 11 discriminator 1 view .LVU24
  47:System/kernel/kernel.c ****     {
 129              		.loc 1 47 13 is_stmt 0 discriminator 1 view .LVU25
 130 0052 444B     		ldr	r3, .L11+4
 131 0054 9B69     		ldr	r3, [r3, #24]
  47:System/kernel/kernel.c ****     {
 132              		.loc 1 47 11 discriminator 1 view .LVU26
 133 0056 13F4005F 		tst	r3, #8192
 134 005a FAD0     		beq	.L3
  52:System/kernel/kernel.c ****     /** Initializes the RCC Oscillators according to the specified parameters
 135              		.loc 1 52 5 is_stmt 1 view .LVU27
 136 005c 424A     		ldr	r2, .L11+8
 137 005e 936A     		ldr	r3, [r2, #40]
 138 0060 23F00303 		bic	r3, r3, #3
 139 0064 43F00203 		orr	r3, r3, #2
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s 			page 7


 140 0068 9362     		str	r3, [r2, #40]
  56:System/kernel/kernel.c ****     RCC_OscInitStruct.HSEState = RCC_HSE_ON;
 141              		.loc 1 56 5 view .LVU28
  56:System/kernel/kernel.c ****     RCC_OscInitStruct.HSEState = RCC_HSE_ON;
 142              		.loc 1 56 38 is_stmt 0 view .LVU29
 143 006a 2123     		movs	r3, #33
 144 006c 0C93     		str	r3, [sp, #48]
  57:System/kernel/kernel.c ****     RCC_OscInitStruct.HSI48State = RCC_HSI48_ON;
 145              		.loc 1 57 5 is_stmt 1 view .LVU30
  57:System/kernel/kernel.c ****     RCC_OscInitStruct.HSI48State = RCC_HSI48_ON;
 146              		.loc 1 57 32 is_stmt 0 view .LVU31
 147 006e 4FF48033 		mov	r3, #65536
 148 0072 0D93     		str	r3, [sp, #52]
  58:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 149              		.loc 1 58 5 is_stmt 1 view .LVU32
  58:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 150              		.loc 1 58 34 is_stmt 0 view .LVU33
 151 0074 0122     		movs	r2, #1
 152 0076 1292     		str	r2, [sp, #72]
  59:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
 153              		.loc 1 59 5 is_stmt 1 view .LVU34
  59:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
 154              		.loc 1 59 36 is_stmt 0 view .LVU35
 155 0078 0223     		movs	r3, #2
 156 007a 1593     		str	r3, [sp, #84]
  60:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLM = 1;
 157              		.loc 1 60 5 is_stmt 1 view .LVU36
  60:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLM = 1;
 158              		.loc 1 60 37 is_stmt 0 view .LVU37
 159 007c 1693     		str	r3, [sp, #88]
  61:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLN = 100;
 160              		.loc 1 61 5 is_stmt 1 view .LVU38
  61:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLN = 100;
 161              		.loc 1 61 32 is_stmt 0 view .LVU39
 162 007e 1792     		str	r2, [sp, #92]
  62:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLP = 2;
 163              		.loc 1 62 5 is_stmt 1 view .LVU40
  62:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLP = 2;
 164              		.loc 1 62 32 is_stmt 0 view .LVU41
 165 0080 6422     		movs	r2, #100
 166 0082 1892     		str	r2, [sp, #96]
  63:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLQ = 80;
 167              		.loc 1 63 5 is_stmt 1 view .LVU42
  63:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLQ = 80;
 168              		.loc 1 63 32 is_stmt 0 view .LVU43
 169 0084 1993     		str	r3, [sp, #100]
  64:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLR = 2;
 170              		.loc 1 64 5 is_stmt 1 view .LVU44
  64:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLR = 2;
 171              		.loc 1 64 32 is_stmt 0 view .LVU45
 172 0086 5022     		movs	r2, #80
 173 0088 1A92     		str	r2, [sp, #104]
  65:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLRGE = RCC_PLL1VCIRANGE_3;
 174              		.loc 1 65 5 is_stmt 1 view .LVU46
  65:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLRGE = RCC_PLL1VCIRANGE_3;
 175              		.loc 1 65 32 is_stmt 0 view .LVU47
 176 008a 1B93     		str	r3, [sp, #108]
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s 			page 8


  66:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLVCOSEL = RCC_PLL1VCOWIDE;
 177              		.loc 1 66 5 is_stmt 1 view .LVU48
  66:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLVCOSEL = RCC_PLL1VCOWIDE;
 178              		.loc 1 66 34 is_stmt 0 view .LVU49
 179 008c 0C23     		movs	r3, #12
 180 008e 1C93     		str	r3, [sp, #112]
  67:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLFRACN = 0;
 181              		.loc 1 67 5 is_stmt 1 view .LVU50
  67:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLFRACN = 0;
 182              		.loc 1 67 37 is_stmt 0 view .LVU51
 183 0090 0023     		movs	r3, #0
 184 0092 1D93     		str	r3, [sp, #116]
  68:System/kernel/kernel.c ****     if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 185              		.loc 1 68 5 is_stmt 1 view .LVU52
  68:System/kernel/kernel.c ****     if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 186              		.loc 1 68 36 is_stmt 0 view .LVU53
 187 0094 1E93     		str	r3, [sp, #120]
  69:System/kernel/kernel.c ****         return false;
 188              		.loc 1 69 5 is_stmt 1 view .LVU54
  69:System/kernel/kernel.c ****         return false;
 189              		.loc 1 69 9 is_stmt 0 view .LVU55
 190 0096 0CA8     		add	r0, sp, #48
 191 0098 FFF7FEFF 		bl	HAL_RCC_OscConfig
 192              	.LVL5:
  69:System/kernel/kernel.c ****         return false;
 193              		.loc 1 69 8 view .LVU56
 194 009c 18B1     		cbz	r0, .L9
  70:System/kernel/kernel.c **** 
 195              		.loc 1 70 16 view .LVU57
 196 009e 0020     		movs	r0, #0
 197              	.L4:
 113:System/kernel/kernel.c **** 
 198              		.loc 1 113 1 view .LVU58
 199 00a0 4FB0     		add	sp, sp, #316
 200              	.LCFI2:
 201              		.cfi_remember_state
 202              		.cfi_def_cfa_offset 4
 203              		@ sp needed
 204 00a2 5DF804FB 		ldr	pc, [sp], #4
 205              	.L9:
 206              	.LCFI3:
 207              		.cfi_restore_state
  74:System/kernel/kernel.c ****     RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
 208              		.loc 1 74 5 is_stmt 1 view .LVU59
  74:System/kernel/kernel.c ****     RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
 209              		.loc 1 74 33 is_stmt 0 view .LVU60
 210 00a6 3F23     		movs	r3, #63
 211 00a8 0493     		str	r3, [sp, #16]
  75:System/kernel/kernel.c ****     RCC_ClkInitStruct.SYSCLKDivider = RCC_SYSCLK_DIV1;
 212              		.loc 1 75 5 is_stmt 1 view .LVU61
  75:System/kernel/kernel.c ****     RCC_ClkInitStruct.SYSCLKDivider = RCC_SYSCLK_DIV1;
 213              		.loc 1 75 36 is_stmt 0 view .LVU62
 214 00aa 0323     		movs	r3, #3
 215 00ac 0593     		str	r3, [sp, #20]
  76:System/kernel/kernel.c ****     RCC_ClkInitStruct.AHBCLKDivider = RCC_HCLK_DIV2;
 216              		.loc 1 76 5 is_stmt 1 view .LVU63
  76:System/kernel/kernel.c ****     RCC_ClkInitStruct.AHBCLKDivider = RCC_HCLK_DIV2;
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s 			page 9


 217              		.loc 1 76 37 is_stmt 0 view .LVU64
 218 00ae 0023     		movs	r3, #0
 219 00b0 0693     		str	r3, [sp, #24]
  77:System/kernel/kernel.c ****     RCC_ClkInitStruct.APB3CLKDivider = RCC_APB3_DIV2;
 220              		.loc 1 77 5 is_stmt 1 view .LVU65
  77:System/kernel/kernel.c ****     RCC_ClkInitStruct.APB3CLKDivider = RCC_APB3_DIV2;
 221              		.loc 1 77 37 is_stmt 0 view .LVU66
 222 00b2 0823     		movs	r3, #8
 223 00b4 0793     		str	r3, [sp, #28]
  78:System/kernel/kernel.c ****     RCC_ClkInitStruct.APB1CLKDivider = RCC_APB1_DIV2;
 224              		.loc 1 78 5 is_stmt 1 view .LVU67
  78:System/kernel/kernel.c ****     RCC_ClkInitStruct.APB1CLKDivider = RCC_APB1_DIV2;
 225              		.loc 1 78 38 is_stmt 0 view .LVU68
 226 00b6 4023     		movs	r3, #64
 227 00b8 0893     		str	r3, [sp, #32]
  79:System/kernel/kernel.c ****     RCC_ClkInitStruct.APB2CLKDivider = RCC_APB2_DIV2;
 228              		.loc 1 79 5 is_stmt 1 view .LVU69
  79:System/kernel/kernel.c ****     RCC_ClkInitStruct.APB2CLKDivider = RCC_APB2_DIV2;
 229              		.loc 1 79 38 is_stmt 0 view .LVU70
 230 00ba 0993     		str	r3, [sp, #36]
  80:System/kernel/kernel.c ****     RCC_ClkInitStruct.APB4CLKDivider = RCC_APB4_DIV2;
 231              		.loc 1 80 5 is_stmt 1 view .LVU71
  80:System/kernel/kernel.c ****     RCC_ClkInitStruct.APB4CLKDivider = RCC_APB4_DIV2;
 232              		.loc 1 80 38 is_stmt 0 view .LVU72
 233 00bc 4FF48062 		mov	r2, #1024
 234 00c0 0A92     		str	r2, [sp, #40]
  81:System/kernel/kernel.c **** 
 235              		.loc 1 81 5 is_stmt 1 view .LVU73
  81:System/kernel/kernel.c **** 
 236              		.loc 1 81 38 is_stmt 0 view .LVU74
 237 00c2 0B93     		str	r3, [sp, #44]
  83:System/kernel/kernel.c ****         return false;
 238              		.loc 1 83 5 is_stmt 1 view .LVU75
  83:System/kernel/kernel.c ****         return false;
 239              		.loc 1 83 9 is_stmt 0 view .LVU76
 240 00c4 0221     		movs	r1, #2
 241 00c6 04A8     		add	r0, sp, #16
 242 00c8 FFF7FEFF 		bl	HAL_RCC_ClockConfig
 243              	.LVL6:
  83:System/kernel/kernel.c ****         return false;
 244              		.loc 1 83 8 view .LVU77
 245 00cc 08B1     		cbz	r0, .L10
  84:System/kernel/kernel.c **** 
 246              		.loc 1 84 16 view .LVU78
 247 00ce 0020     		movs	r0, #0
 248 00d0 E6E7     		b	.L4
 249              	.L10:
  88:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL2.PLL2M = 2;
 250              		.loc 1 88 5 is_stmt 1 view .LVU79
  88:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL2.PLL2M = 2;
 251              		.loc 1 88 46 is_stmt 0 view .LVU80
 252 00d2 4FF44053 		mov	r3, #12288
 253 00d6 1F93     		str	r3, [sp, #124]
  89:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL2.PLL2N = 144;
 254              		.loc 1 89 5 is_stmt 1 view .LVU81
  89:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL2.PLL2N = 144;
 255              		.loc 1 89 36 is_stmt 0 view .LVU82
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s 			page 10


 256 00d8 0223     		movs	r3, #2
 257 00da 2093     		str	r3, [sp, #128]
  90:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL2.PLL2P = 9;
 258              		.loc 1 90 5 is_stmt 1 view .LVU83
  90:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL2.PLL2P = 9;
 259              		.loc 1 90 36 is_stmt 0 view .LVU84
 260 00dc 9022     		movs	r2, #144
 261 00de 2192     		str	r2, [sp, #132]
  91:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL2.PLL2Q = 9;
 262              		.loc 1 91 5 is_stmt 1 view .LVU85
  91:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL2.PLL2Q = 9;
 263              		.loc 1 91 36 is_stmt 0 view .LVU86
 264 00e0 0922     		movs	r2, #9
 265 00e2 2292     		str	r2, [sp, #136]
  92:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL2.PLL2R = 2;
 266              		.loc 1 92 5 is_stmt 1 view .LVU87
  92:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL2.PLL2R = 2;
 267              		.loc 1 92 36 is_stmt 0 view .LVU88
 268 00e4 2392     		str	r2, [sp, #140]
  93:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL2.PLL2RGE = RCC_PLL2VCIRANGE_2;
 269              		.loc 1 93 5 is_stmt 1 view .LVU89
  93:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL2.PLL2RGE = RCC_PLL2VCIRANGE_2;
 270              		.loc 1 93 36 is_stmt 0 view .LVU90
 271 00e6 2493     		str	r3, [sp, #144]
  94:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL2.PLL2VCOSEL = RCC_PLL2VCOWIDE;
 272              		.loc 1 94 5 is_stmt 1 view .LVU91
  94:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL2.PLL2VCOSEL = RCC_PLL2VCOWIDE;
 273              		.loc 1 94 38 is_stmt 0 view .LVU92
 274 00e8 8023     		movs	r3, #128
 275 00ea 2593     		str	r3, [sp, #148]
  95:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL2.PLL2FRACN = 0;
 276              		.loc 1 95 5 is_stmt 1 view .LVU93
  95:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL2.PLL2FRACN = 0;
 277              		.loc 1 95 41 is_stmt 0 view .LVU94
 278 00ec 0023     		movs	r3, #0
 279 00ee 2693     		str	r3, [sp, #152]
  96:System/kernel/kernel.c ****     PeriphClkInitStruct.Spi123ClockSelection = RCC_SPI123CLKSOURCE_PLL2;
 280              		.loc 1 96 5 is_stmt 1 view .LVU95
  96:System/kernel/kernel.c ****     PeriphClkInitStruct.Spi123ClockSelection = RCC_SPI123CLKSOURCE_PLL2;
 281              		.loc 1 96 40 is_stmt 0 view .LVU96
 282 00f0 2793     		str	r3, [sp, #156]
  97:System/kernel/kernel.c ****     PeriphClkInitStruct.Spi45ClockSelection = RCC_SPI45CLKSOURCE_PLL2;
 283              		.loc 1 97 5 is_stmt 1 view .LVU97
  97:System/kernel/kernel.c ****     PeriphClkInitStruct.Spi45ClockSelection = RCC_SPI45CLKSOURCE_PLL2;
 284              		.loc 1 97 46 is_stmt 0 view .LVU98
 285 00f2 4FF48053 		mov	r3, #4096
 286 00f6 3693     		str	r3, [sp, #216]
  98:System/kernel/kernel.c ****     if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInitStruct) != HAL_OK)
 287              		.loc 1 98 5 is_stmt 1 view .LVU99
  98:System/kernel/kernel.c ****     if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInitStruct) != HAL_OK)
 288              		.loc 1 98 45 is_stmt 0 view .LVU100
 289 00f8 4FF48033 		mov	r3, #65536
 290 00fc 3793     		str	r3, [sp, #220]
  99:System/kernel/kernel.c ****         return false;
 291              		.loc 1 99 5 is_stmt 1 view .LVU101
  99:System/kernel/kernel.c ****         return false;
 292              		.loc 1 99 9 is_stmt 0 view .LVU102
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s 			page 11


 293 00fe 1FA8     		add	r0, sp, #124
 294 0100 FFF7FEFF 		bl	HAL_RCCEx_PeriphCLKConfig
 295              	.LVL7:
  99:System/kernel/kernel.c ****         return false;
 296              		.loc 1 99 8 view .LVU103
 297 0104 48BB     		cbnz	r0, .L7
 102:System/kernel/kernel.c ****     __HAL_RCC_SYSCFG_CLK_ENABLE();
 298              		.loc 1 102 5 is_stmt 1 view .LVU104
 299              	.LBB7:
 102:System/kernel/kernel.c ****     __HAL_RCC_SYSCFG_CLK_ENABLE();
 300              		.loc 1 102 5 view .LVU105
 102:System/kernel/kernel.c ****     __HAL_RCC_SYSCFG_CLK_ENABLE();
 301              		.loc 1 102 5 view .LVU106
 302 0106 184B     		ldr	r3, .L11+8
 303 0108 D3F8E020 		ldr	r2, [r3, #224]
 304 010c 42F08002 		orr	r2, r2, #128
 305 0110 C3F8E020 		str	r2, [r3, #224]
 102:System/kernel/kernel.c ****     __HAL_RCC_SYSCFG_CLK_ENABLE();
 306              		.loc 1 102 5 view .LVU107
 307 0114 D3F8E020 		ldr	r2, [r3, #224]
 308 0118 02F08002 		and	r2, r2, #128
 309 011c 0292     		str	r2, [sp, #8]
 102:System/kernel/kernel.c ****     __HAL_RCC_SYSCFG_CLK_ENABLE();
 310              		.loc 1 102 5 view .LVU108
 311 011e 029A     		ldr	r2, [sp, #8]
 312              	.LBE7:
 102:System/kernel/kernel.c ****     __HAL_RCC_SYSCFG_CLK_ENABLE();
 313              		.loc 1 102 5 view .LVU109
 103:System/kernel/kernel.c **** 
 314              		.loc 1 103 5 view .LVU110
 315              	.LBB8:
 103:System/kernel/kernel.c **** 
 316              		.loc 1 103 5 view .LVU111
 103:System/kernel/kernel.c **** 
 317              		.loc 1 103 5 view .LVU112
 318 0120 D3F8F420 		ldr	r2, [r3, #244]
 319 0124 42F00202 		orr	r2, r2, #2
 320 0128 C3F8F420 		str	r2, [r3, #244]
 103:System/kernel/kernel.c **** 
 321              		.loc 1 103 5 view .LVU113
 322 012c D3F8F430 		ldr	r3, [r3, #244]
 323 0130 03F00203 		and	r3, r3, #2
 324 0134 0393     		str	r3, [sp, #12]
 103:System/kernel/kernel.c **** 
 325              		.loc 1 103 5 view .LVU114
 326 0136 039B     		ldr	r3, [sp, #12]
 327              	.LBE8:
 103:System/kernel/kernel.c **** 
 328              		.loc 1 103 5 view .LVU115
 106:System/kernel/kernel.c ****     KERNEL_SYSPRI2_REG |= (((uint32_t)KERNEL_INTERRUPT_PRIORITY) << 24UL);
 329              		.loc 1 106 5 view .LVU116
 106:System/kernel/kernel.c ****     KERNEL_SYSPRI2_REG |= (((uint32_t)KERNEL_INTERRUPT_PRIORITY) << 24UL);
 330              		.loc 1 106 24 is_stmt 0 view .LVU117
 331 0138 4FF0E023 		mov	r3, #-536813568
 332 013c D3F8202D 		ldr	r2, [r3, #3360]
 333 0140 42F47002 		orr	r2, r2, #15728640
 334 0144 C3F8202D 		str	r2, [r3, #3360]
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s 			page 12


 107:System/kernel/kernel.c **** 
 335              		.loc 1 107 5 is_stmt 1 view .LVU118
 107:System/kernel/kernel.c **** 
 336              		.loc 1 107 24 is_stmt 0 view .LVU119
 337 0148 D3F8202D 		ldr	r2, [r3, #3360]
 338 014c 42F07042 		orr	r2, r2, #-268435456
 339 0150 C3F8202D 		str	r2, [r3, #3360]
 110:System/kernel/kernel.c **** 
 340              		.loc 1 110 5 is_stmt 1 view .LVU120
 341              		.syntax unified
 342              	@ 110 "System/kernel/kernel.c" 1
 343 0154 62B6     		cpsie i
 344              	@ 0 "" 2
 112:System/kernel/kernel.c **** }
 345              		.loc 1 112 5 view .LVU121
 112:System/kernel/kernel.c **** }
 346              		.loc 1 112 12 is_stmt 0 view .LVU122
 347              		.thumb
 348              		.syntax unified
 349 0156 0120     		movs	r0, #1
 350 0158 A2E7     		b	.L4
 351              	.L7:
 100:System/kernel/kernel.c **** 
 352              		.loc 1 100 16 view .LVU123
 353 015a 0020     		movs	r0, #0
 354 015c A0E7     		b	.L4
 355              	.L12:
 356 015e 00BF     		.align	2
 357              	.L11:
 358 0160 00040058 		.word	1476396032
 359 0164 00480258 		.word	1476544512
 360 0168 00440258 		.word	1476543488
 361              		.cfi_endproc
 362              	.LFE145:
 364              		.section	.text.Kernel_Init,"ax",%progbits
 365              		.align	1
 366              		.global	Kernel_Init
 367              		.syntax unified
 368              		.thumb
 369              		.thumb_func
 371              	Kernel_Init:
 372              	.LFB144:
  21:System/kernel/kernel.c ****     // disable interrupt at the first place
 373              		.loc 1 21 1 is_stmt 1 view -0
 374              		.cfi_startproc
 375              		@ args = 0, pretend = 0, frame = 0
 376              		@ frame_needed = 0, uses_anonymous_args = 0
 377 0000 08B5     		push	{r3, lr}
 378              	.LCFI4:
 379              		.cfi_def_cfa_offset 8
 380              		.cfi_offset 3, -8
 381              		.cfi_offset 14, -4
  23:System/kernel/kernel.c **** 
 382              		.loc 1 23 5 view .LVU125
 383              		.syntax unified
 384              	@ 23 "System/kernel/kernel.c" 1
 385 0002 72B6     		cpsid i
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s 			page 13


 386              	@ 0 "" 2
  25:System/kernel/kernel.c **** 
 387              		.loc 1 25 5 view .LVU126
 388              		.thumb
 389              		.syntax unified
 390 0004 FFF7FEFF 		bl	HAL_Init
 391              	.LVL8:
  27:System/kernel/kernel.c **** }
 392              		.loc 1 27 5 view .LVU127
  27:System/kernel/kernel.c **** }
 393              		.loc 1 27 12 is_stmt 0 view .LVU128
 394 0008 FFF7FEFF 		bl	KernelClock_Init
 395              	.LVL9:
  28:System/kernel/kernel.c **** 
 396              		.loc 1 28 1 view .LVU129
 397 000c 08BD     		pop	{r3, pc}
 398              		.cfi_endproc
 399              	.LFE144:
 401              		.section	.text.Kernel_LoadProcess,"ax",%progbits
 402              		.align	1
 403              		.global	Kernel_LoadProcess
 404              		.syntax unified
 405              		.thumb
 406              		.thumb_func
 408              	Kernel_LoadProcess:
 409              	.LFB146:
 119:System/kernel/kernel.c ****     uint32_t msp_addr = 0;
 410              		.loc 1 119 1 is_stmt 1 view -0
 411              		.cfi_startproc
 412              		@ args = 0, pretend = 0, frame = 0
 413              		@ frame_needed = 0, uses_anonymous_args = 0
 414              		@ link register save eliminated.
 120:System/kernel/kernel.c **** 
 415              		.loc 1 120 5 view .LVU131
 416              	.LVL10:
 123:System/kernel/kernel.c ****     __ASM("MSR      PSP, R0");
 417              		.loc 1 123 5 view .LVU132
 418              		.syntax unified
 419              	@ 123 "System/kernel/kernel.c" 1
 420 0000 0020     		MOVS     R0, #0
 421              	@ 0 "" 2
 124:System/kernel/kernel.c **** 
 422              		.loc 1 124 5 view .LVU133
 423              	@ 124 "System/kernel/kernel.c" 1
 424 0002 80F30988 		MSR      PSP, R0
 425              	@ 0 "" 2
 127:System/kernel/kernel.c ****     __ASM("LDR      R0, [R0]");
 426              		.loc 1 127 5 view .LVU134
 427              	@ 127 "System/kernel/kernel.c" 1
 428 0006 0548     		LDR      R0, =0xE000ED08
 429              	@ 0 "" 2
 128:System/kernel/kernel.c ****     __ASM("LDR      R0, [R0]");
 430              		.loc 1 128 5 view .LVU135
 431              	@ 128 "System/kernel/kernel.c" 1
 432 0008 0068     		LDR      R0, [R0]
 433              	@ 0 "" 2
 129:System/kernel/kernel.c ****     __ASM("MSR      MSP, R0");
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s 			page 14


 434              		.loc 1 129 5 view .LVU136
 435              	@ 129 "System/kernel/kernel.c" 1
 436 000a 0068     		LDR      R0, [R0]
 437              	@ 0 "" 2
 130:System/kernel/kernel.c **** 
 438              		.loc 1 130 5 view .LVU137
 439              	@ 130 "System/kernel/kernel.c" 1
 440 000c 80F30888 		MSR      MSP, R0
 441              	@ 0 "" 2
 133:System/kernel/kernel.c ****     __asm("ISB");
 442              		.loc 1 133 5 view .LVU138
 443              	@ 133 "System/kernel/kernel.c" 1
 444 0010 00DF     		SVC      0
 445              	@ 0 "" 2
 134:System/kernel/kernel.c ****     __asm("NOP");
 446              		.loc 1 134 5 view .LVU139
 447              	@ 134 "System/kernel/kernel.c" 1
 448 0012 BFF36F8F 		ISB
 449              	@ 0 "" 2
 135:System/kernel/kernel.c **** }
 450              		.loc 1 135 5 view .LVU140
 451              	@ 135 "System/kernel/kernel.c" 1
 452 0016 00BF     		NOP
 453              	@ 0 "" 2
 136:System/kernel/kernel.c **** 
 454              		.loc 1 136 1 is_stmt 0 view .LVU141
 455              		.thumb
 456              		.syntax unified
 457 0018 7047     		bx	lr
 458              		.cfi_endproc
 459              	.LFE146:
 461 001a 0000     		.section	.text.Kernel_EnablePendSV,"ax",%progbits
 462              		.align	1
 463              		.global	Kernel_EnablePendSV
 464              		.syntax unified
 465              		.thumb
 466              		.thumb_func
 468              	Kernel_EnablePendSV:
 469              	.LFB147:
 139:System/kernel/kernel.c ****     __ASM(".equ NVIC_SYSPRI14, 0xE000ED22");
 470              		.loc 1 139 1 is_stmt 1 view -0
 471              		.cfi_startproc
 472              		@ Naked Function: prologue and epilogue provided by programmer.
 473              		@ args = 0, pretend = 0, frame = 0
 474              		@ frame_needed = 0, uses_anonymous_args = 0
 140:System/kernel/kernel.c ****     __ASM(".equ NVIC_PENDSV_PRI, 0xFF");
 475              		.loc 1 140 5 view .LVU143
 476              		.syntax unified
 477              	@ 140 "System/kernel/kernel.c" 1
 478              		.equ NVIC_SYSPRI14, 0xE000ED22
 479              	@ 0 "" 2
 141:System/kernel/kernel.c **** 
 480              		.loc 1 141 5 view .LVU144
 481              	@ 141 "System/kernel/kernel.c" 1
 482              		.equ NVIC_PENDSV_PRI, 0xFF
 483              	@ 0 "" 2
 143:System/kernel/kernel.c ****     __ASM("LDR      R1, =NVIC_PENDSV_PRI");
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s 			page 15


 484              		.loc 1 143 5 view .LVU145
 485              	@ 143 "System/kernel/kernel.c" 1
 486 0000 0248     		LDR      R0, =NVIC_SYSPRI14
 487              	@ 0 "" 2
 144:System/kernel/kernel.c ****     __ASM("STRB     R1, [R0]");
 488              		.loc 1 144 5 view .LVU146
 489              	@ 144 "System/kernel/kernel.c" 1
 490 0002 4FF0FF01 		LDR      R1, =NVIC_PENDSV_PRI
 491              	@ 0 "" 2
 145:System/kernel/kernel.c ****     __ASM("BX       LR");
 492              		.loc 1 145 5 view .LVU147
 493              	@ 145 "System/kernel/kernel.c" 1
 494 0006 0170     		STRB     R1, [R0]
 495              	@ 0 "" 2
 146:System/kernel/kernel.c **** }
 496              		.loc 1 146 5 view .LVU148
 497              	@ 146 "System/kernel/kernel.c" 1
 498 0008 7047     		BX       LR
 499              	@ 0 "" 2
 147:System/kernel/kernel.c **** 
 500              		.loc 1 147 1 is_stmt 0 view .LVU149
 501              		.thumb
 502              		.syntax unified
 503              		.cfi_endproc
 504              	.LFE147:
 506 000a 0000     		.section	.text.Kernel_TriggerPendSV,"ax",%progbits
 507              		.align	1
 508              		.global	Kernel_TriggerPendSV
 509              		.syntax unified
 510              		.thumb
 511              		.thumb_func
 513              	Kernel_TriggerPendSV:
 514              	.LFB148:
 150:System/kernel/kernel.c ****     __ASM(".equ NVIC_INT_CTRL, 0xE000ED04");
 515              		.loc 1 150 1 is_stmt 1 view -0
 516              		.cfi_startproc
 517              		@ Naked Function: prologue and epilogue provided by programmer.
 518              		@ args = 0, pretend = 0, frame = 0
 519              		@ frame_needed = 0, uses_anonymous_args = 0
 151:System/kernel/kernel.c ****     __ASM(".equ NVIC_PENDSVSET, 0x10000000");
 520              		.loc 1 151 5 view .LVU151
 521              		.syntax unified
 522              	@ 151 "System/kernel/kernel.c" 1
 523              		.equ NVIC_INT_CTRL, 0xE000ED04
 524              	@ 0 "" 2
 152:System/kernel/kernel.c **** 
 525              		.loc 1 152 5 view .LVU152
 526              	@ 152 "System/kernel/kernel.c" 1
 527              		.equ NVIC_PENDSVSET, 0x10000000
 528              	@ 0 "" 2
 154:System/kernel/kernel.c ****     __ASM("LDR      R1, =NVIC_PENDSVSET");
 529              		.loc 1 154 5 view .LVU153
 530              	@ 154 "System/kernel/kernel.c" 1
 531 0000 0248     		LDR      R0, =NVIC_INT_CTRL
 532              	@ 0 "" 2
 155:System/kernel/kernel.c ****     __ASM("STR      R1, [R0]");
 533              		.loc 1 155 5 view .LVU154
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s 			page 16


 534              	@ 155 "System/kernel/kernel.c" 1
 535 0002 4FF08051 		LDR      R1, =NVIC_PENDSVSET
 536              	@ 0 "" 2
 156:System/kernel/kernel.c ****     __ASM("BX       LR");
 537              		.loc 1 156 5 view .LVU155
 538              	@ 156 "System/kernel/kernel.c" 1
 539 0006 0160     		STR      R1, [R0]
 540              	@ 0 "" 2
 157:System/kernel/kernel.c **** }
 541              		.loc 1 157 5 view .LVU156
 542              	@ 157 "System/kernel/kernel.c" 1
 543 0008 7047     		BX       LR
 544              	@ 0 "" 2
 158:System/kernel/kernel.c **** 
 545              		.loc 1 158 1 is_stmt 0 view .LVU157
 546              		.thumb
 547              		.syntax unified
 548              		.cfi_endproc
 549              	.LFE148:
 551 000a 0000     		.section	.text.Kernel_GetPSR,"ax",%progbits
 552              		.align	1
 553              		.global	Kernel_GetPSR
 554              		.syntax unified
 555              		.thumb
 556              		.thumb_func
 558              	Kernel_GetPSR:
 559              	.LFB149:
 164:System/kernel/kernel.c ****     return __get_IPSR();
 560              		.loc 1 164 1 is_stmt 1 view -0
 561              		.cfi_startproc
 562              		@ args = 0, pretend = 0, frame = 0
 563              		@ frame_needed = 0, uses_anonymous_args = 0
 564              		@ link register save eliminated.
 165:System/kernel/kernel.c **** }
 565              		.loc 1 165 5 view .LVU159
 566              	.LBB9:
 567              	.LBI9:
 568              		.file 2 "HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h"
   1:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** /**************************************************************************//**
   2:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  * @file     cmsis_gcc.h
   3:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  * @brief    CMSIS compiler GCC header file
   4:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  * @version  V5.2.0
   5:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  * @date     08. May 2019
   6:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  ******************************************************************************/
   7:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** /*
   8:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  * Copyright (c) 2009-2019 Arm Limited. All rights reserved.
   9:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  *
  10:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  * SPDX-License-Identifier: Apache-2.0
  11:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  *
  12:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  * Licensed under the Apache License, Version 2.0 (the License); you may
  13:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  * not use this file except in compliance with the License.
  14:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  * You may obtain a copy of the License at
  15:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  *
  16:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  * www.apache.org/licenses/LICENSE-2.0
  17:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  *
  18:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  * Unless required by applicable law or agreed to in writing, software
  19:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  * distributed under the License is distributed on an AS IS BASIS, WITHOUT
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s 			page 17


  20:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  21:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  * See the License for the specific language governing permissions and
  22:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  * limitations under the License.
  23:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  */
  24:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
  25:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef __CMSIS_GCC_H
  26:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #define __CMSIS_GCC_H
  27:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
  28:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** /* ignore some GCC warnings */
  29:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #pragma GCC diagnostic push
  30:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wsign-conversion"
  31:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wconversion"
  32:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wunused-parameter"
  33:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
  34:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** /* Fallback for __has_builtin */
  35:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef __has_builtin
  36:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __has_builtin(x) (0)
  37:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  38:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
  39:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** /* CMSIS compiler specific defines */
  40:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __ASM
  41:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __ASM                                  __asm
  42:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  43:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __INLINE
  44:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __INLINE                               inline
  45:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  46:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __STATIC_INLINE
  47:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __STATIC_INLINE                        static inline
  48:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  49:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __STATIC_FORCEINLINE                 
  50:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __STATIC_FORCEINLINE                   __attribute__((always_inline)) static inline
  51:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif                                           
  52:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __NO_RETURN
  53:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __NO_RETURN                            __attribute__((__noreturn__))
  54:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  55:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __USED
  56:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __USED                                 __attribute__((used))
  57:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  58:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __WEAK
  59:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __WEAK                                 __attribute__((weak))
  60:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  61:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __PACKED
  62:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __PACKED                               __attribute__((packed, aligned(1)))
  63:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  64:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __PACKED_STRUCT
  65:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __PACKED_STRUCT                        struct __attribute__((packed, aligned(1)))
  66:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  67:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __PACKED_UNION
  68:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __PACKED_UNION                         union __attribute__((packed, aligned(1)))
  69:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  70:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32        /* deprecated */
  71:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  72:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  73:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  74:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   struct __attribute__((packed)) T_UINT32 { uint32_t v; };
  75:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  76:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32(x)                  (((struct T_UINT32 *)(x))->v)
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s 			page 18


  77:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  78:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_WRITE
  79:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  80:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  81:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  82:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_WRITE { uint16_t v; };
  83:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  84:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_WRITE(addr, val)    (void)((((struct T_UINT16_WRITE *)(void *)(addr))-
  85:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  86:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_READ
  87:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  88:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  89:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  90:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_READ { uint16_t v; };
  91:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  92:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_READ(addr)          (((const struct T_UINT16_READ *)(const void *)(add
  93:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  94:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_WRITE
  95:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  96:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  97:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  98:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_WRITE { uint32_t v; };
  99:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 100:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_WRITE(addr, val)    (void)((((struct T_UINT32_WRITE *)(void *)(addr))-
 101:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 102:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_READ
 103:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
 104:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
 105:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
 106:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_READ { uint32_t v; };
 107:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 108:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_READ(addr)          (((const struct T_UINT32_READ *)(const void *)(add
 109:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 110:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __ALIGNED
 111:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __ALIGNED(x)                           __attribute__((aligned(x)))
 112:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 113:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __RESTRICT
 114:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __RESTRICT                             __restrict
 115:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 116:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __COMPILER_BARRIER
 117:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __COMPILER_BARRIER()                   __ASM volatile("":::"memory")
 118:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 119:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 120:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** /* #########################  Startup and Lowlevel Init  ######################## */
 121:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 122:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef __PROGRAM_START
 123:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 124:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** /**
 125:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Initializes data and bss sections
 126:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \details This default implementations initialized all data and additional bss
 127:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****            sections relying on .copy.table and .zero.table specified properly
 128:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****            in the used linker script.
 129:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   
 130:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  */
 131:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE __NO_RETURN void __cmsis_start(void)
 132:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** {
 133:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   extern void _start(void) __NO_RETURN;
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s 			page 19


 134:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   
 135:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   typedef struct {
 136:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****     uint32_t const* src;
 137:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****     uint32_t* dest;
 138:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****     uint32_t  wlen;
 139:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   } __copy_table_t;
 140:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   
 141:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   typedef struct {
 142:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****     uint32_t* dest;
 143:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****     uint32_t  wlen;
 144:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   } __zero_table_t;
 145:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   
 146:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   extern const __copy_table_t __copy_table_start__;
 147:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   extern const __copy_table_t __copy_table_end__;
 148:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   extern const __zero_table_t __zero_table_start__;
 149:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   extern const __zero_table_t __zero_table_end__;
 150:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 151:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   for (__copy_table_t const* pTable = &__copy_table_start__; pTable < &__copy_table_end__; ++pTable
 152:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****     for(uint32_t i=0u; i<pTable->wlen; ++i) {
 153:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****       pTable->dest[i] = pTable->src[i];
 154:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****     }
 155:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   }
 156:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  
 157:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   for (__zero_table_t const* pTable = &__zero_table_start__; pTable < &__zero_table_end__; ++pTable
 158:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****     for(uint32_t i=0u; i<pTable->wlen; ++i) {
 159:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****       pTable->dest[i] = 0u;
 160:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****     }
 161:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   }
 162:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  
 163:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   _start();
 164:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** }
 165:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   
 166:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #define __PROGRAM_START           __cmsis_start
 167:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 168:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 169:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef __INITIAL_SP
 170:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #define __INITIAL_SP              __StackTop
 171:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 172:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 173:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef __STACK_LIMIT
 174:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #define __STACK_LIMIT             __StackLimit
 175:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 176:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 177:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef __VECTOR_TABLE
 178:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #define __VECTOR_TABLE            __Vectors
 179:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 180:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 181:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef __VECTOR_TABLE_ATTRIBUTE
 182:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #define __VECTOR_TABLE_ATTRIBUTE  __attribute((used, section(".vectors")))
 183:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 184:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 185:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** /* ###########################  Core Function Access  ########################### */
 186:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** /** \ingroup  CMSIS_Core_FunctionInterface
 187:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****     \defgroup CMSIS_Core_RegAccFunctions CMSIS Core Register Access Functions
 188:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   @{
 189:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  */
 190:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s 			page 20


 191:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** /**
 192:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Enable IRQ Interrupts
 193:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \details Enables IRQ interrupts by clearing the I-bit in the CPSR.
 194:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 195:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  */
 196:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __enable_irq(void)
 197:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** {
 198:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("cpsie i" : : : "memory");
 199:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** }
 200:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 201:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 202:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** /**
 203:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Disable IRQ Interrupts
 204:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \details Disables IRQ interrupts by setting the I-bit in the CPSR.
 205:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 206:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  */
 207:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __disable_irq(void)
 208:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** {
 209:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("cpsid i" : : : "memory");
 210:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** }
 211:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 212:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 213:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** /**
 214:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Get Control Register
 215:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \details Returns the content of the Control Register.
 216:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \return               Control Register value
 217:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  */
 218:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_CONTROL(void)
 219:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** {
 220:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   uint32_t result;
 221:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 222:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, control" : "=r" (result) );
 223:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   return(result);
 224:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** }
 225:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 226:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 227:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 228:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** /**
 229:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Get Control Register (non-secure)
 230:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \details Returns the content of the non-secure Control Register when in secure mode.
 231:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \return               non-secure Control Register value
 232:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  */
 233:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_CONTROL_NS(void)
 234:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** {
 235:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   uint32_t result;
 236:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 237:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, control_ns" : "=r" (result) );
 238:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   return(result);
 239:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** }
 240:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 241:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 242:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 243:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** /**
 244:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Set Control Register
 245:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \details Writes the given value to the Control Register.
 246:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \param [in]    control  Control Register value to set
 247:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  */
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s 			page 21


 248:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_CONTROL(uint32_t control)
 249:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** {
 250:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MSR control, %0" : : "r" (control) : "memory");
 251:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** }
 252:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 253:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 254:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 255:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** /**
 256:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Set Control Register (non-secure)
 257:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \details Writes the given value to the non-secure Control Register when in secure state.
 258:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \param [in]    control  Control Register value to set
 259:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  */
 260:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_CONTROL_NS(uint32_t control)
 261:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** {
 262:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MSR control_ns, %0" : : "r" (control) : "memory");
 263:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** }
 264:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 265:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 266:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 267:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** /**
 268:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Get IPSR Register
 269:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \details Returns the content of the IPSR Register.
 270:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \return               IPSR Register value
 271:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  */
 272:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_IPSR(void)
 569              		.loc 2 272 31 view .LVU160
 570              	.LBB10:
 273:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** {
 274:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   uint32_t result;
 571              		.loc 2 274 3 view .LVU161
 275:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 276:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, ipsr" : "=r" (result) );
 572              		.loc 2 276 3 view .LVU162
 573              		.syntax unified
 574              	@ 276 "HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h" 1
 575 0000 EFF30580 		MRS r0, ipsr
 576              	@ 0 "" 2
 577              	.LVL11:
 277:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   return(result);
 578              		.loc 2 277 3 view .LVU163
 579              		.loc 2 277 3 is_stmt 0 view .LVU164
 580              		.thumb
 581              		.syntax unified
 582              	.LBE10:
 583              	.LBE9:
 166:System/kernel/kernel.c **** 
 584              		.loc 1 166 1 view .LVU165
 585 0004 7047     		bx	lr
 586              		.cfi_endproc
 587              	.LFE149:
 589              		.section	.text.Kernel_GetMode,"ax",%progbits
 590              		.align	1
 591              		.global	Kernel_GetMode
 592              		.syntax unified
 593              		.thumb
 594              		.thumb_func
 596              	Kernel_GetMode:
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s 			page 22


 597              	.LFB150:
 173:System/kernel/kernel.c ****     return __get_CONTROL();
 598              		.loc 1 173 1 is_stmt 1 view -0
 599              		.cfi_startproc
 600              		@ args = 0, pretend = 0, frame = 0
 601              		@ frame_needed = 0, uses_anonymous_args = 0
 602              		@ link register save eliminated.
 174:System/kernel/kernel.c **** }
 603              		.loc 1 174 5 view .LVU167
 604              	.LBB11:
 605              	.LBI11:
 218:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** {
 606              		.loc 2 218 31 view .LVU168
 607              	.LBB12:
 220:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 608              		.loc 2 220 3 view .LVU169
 222:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   return(result);
 609              		.loc 2 222 3 view .LVU170
 610              		.syntax unified
 611              	@ 222 "HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h" 1
 612 0000 EFF31480 		MRS r0, control
 613              	@ 0 "" 2
 614              	.LVL12:
 223:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** }
 615              		.loc 2 223 3 view .LVU171
 223:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** }
 616              		.loc 2 223 3 is_stmt 0 view .LVU172
 617              		.thumb
 618              		.syntax unified
 619              	.LBE12:
 620              	.LBE11:
 175:System/kernel/kernel.c **** 
 621              		.loc 1 175 1 view .LVU173
 622 0004 7047     		bx	lr
 623              		.cfi_endproc
 624              	.LFE150:
 626              		.section	.text.Kernel_EnterCritical,"ax",%progbits
 627              		.align	1
 628              		.global	Kernel_EnterCritical
 629              		.syntax unified
 630              		.thumb
 631              		.thumb_func
 633              	Kernel_EnterCritical:
 634              	.LFB152:
 184:System/kernel/kernel.c **** 
 185:System/kernel/kernel.c **** void Kernel_EnterCritical(void)
 186:System/kernel/kernel.c **** {
 635              		.loc 1 186 1 is_stmt 1 view -0
 636              		.cfi_startproc
 637              		@ args = 0, pretend = 0, frame = 0
 638              		@ frame_needed = 0, uses_anonymous_args = 0
 639 0000 08B5     		push	{r3, lr}
 640              	.LCFI5:
 641              		.cfi_def_cfa_offset 8
 642              		.cfi_offset 3, -8
 643              		.cfi_offset 14, -4
 187:System/kernel/kernel.c ****     Kernel_SetBASEPRI(SYSCALL_INTERRUPT_PRIORITY);
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s 			page 23


 644              		.loc 1 187 5 view .LVU175
 645 0002 3020     		movs	r0, #48
 646 0004 FFF7FEFF 		bl	Kernel_SetBASEPRI
 647              	.LVL13:
 188:System/kernel/kernel.c ****     CriticalNasting_Cnt++;
 648              		.loc 1 188 5 view .LVU176
 649              		.loc 1 188 24 is_stmt 0 view .LVU177
 650 0008 024A     		ldr	r2, .L22
 651 000a 1388     		ldrh	r3, [r2]
 652 000c 0133     		adds	r3, r3, #1
 653 000e 1380     		strh	r3, [r2]	@ movhi
 189:System/kernel/kernel.c **** }
 654              		.loc 1 189 1 view .LVU178
 655 0010 08BD     		pop	{r3, pc}
 656              	.L23:
 657 0012 00BF     		.align	2
 658              	.L22:
 659 0014 00000000 		.word	.LANCHOR0
 660              		.cfi_endproc
 661              	.LFE152:
 663              		.section	.text.Kernel_ExitCritical,"ax",%progbits
 664              		.align	1
 665              		.global	Kernel_ExitCritical
 666              		.syntax unified
 667              		.thumb
 668              		.thumb_func
 670              	Kernel_ExitCritical:
 671              	.LFB153:
 190:System/kernel/kernel.c **** 
 191:System/kernel/kernel.c **** void Kernel_ExitCritical(void)
 192:System/kernel/kernel.c **** {
 672              		.loc 1 192 1 is_stmt 1 view -0
 673              		.cfi_startproc
 674              		@ args = 0, pretend = 0, frame = 0
 675              		@ frame_needed = 0, uses_anonymous_args = 0
 676 0000 08B5     		push	{r3, lr}
 677              	.LCFI6:
 678              		.cfi_def_cfa_offset 8
 679              		.cfi_offset 3, -8
 680              		.cfi_offset 14, -4
 193:System/kernel/kernel.c ****     if (CriticalNasting_Cnt > 0)
 681              		.loc 1 193 5 view .LVU180
 682              		.loc 1 193 29 is_stmt 0 view .LVU181
 683 0002 084B     		ldr	r3, .L29
 684 0004 1B88     		ldrh	r3, [r3]
 685              		.loc 1 193 8 view .LVU182
 686 0006 4BB1     		cbz	r3, .L25
 194:System/kernel/kernel.c ****     {
 195:System/kernel/kernel.c ****         CriticalNasting_Cnt--;
 687              		.loc 1 195 9 is_stmt 1 view .LVU183
 688              		.loc 1 195 28 is_stmt 0 view .LVU184
 689 0008 013B     		subs	r3, r3, #1
 690 000a 9BB2     		uxth	r3, r3
 691 000c 054A     		ldr	r2, .L29
 692 000e 1380     		strh	r3, [r2]	@ movhi
 196:System/kernel/kernel.c **** 
 197:System/kernel/kernel.c ****         if (CriticalNasting_Cnt == 0)
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s 			page 24


 693              		.loc 1 197 9 is_stmt 1 view .LVU185
 694              		.loc 1 197 12 is_stmt 0 view .LVU186
 695 0010 03B1     		cbz	r3, .L28
 696              	.L24:
 198:System/kernel/kernel.c ****         {
 199:System/kernel/kernel.c ****             Kernel_SetBASEPRI(0);
 200:System/kernel/kernel.c ****         }
 201:System/kernel/kernel.c ****     }
 202:System/kernel/kernel.c ****     else
 203:System/kernel/kernel.c ****         Kernel_SetBASEPRI(0);
 204:System/kernel/kernel.c **** }
 697              		.loc 1 204 1 view .LVU187
 698 0012 08BD     		pop	{r3, pc}
 699              	.L28:
 199:System/kernel/kernel.c ****         }
 700              		.loc 1 199 13 is_stmt 1 view .LVU188
 701 0014 0020     		movs	r0, #0
 702 0016 FFF7FEFF 		bl	Kernel_SetBASEPRI
 703              	.LVL14:
 704 001a FAE7     		b	.L24
 705              	.L25:
 203:System/kernel/kernel.c **** }
 706              		.loc 1 203 9 view .LVU189
 707 001c 0020     		movs	r0, #0
 708 001e FFF7FEFF 		bl	Kernel_SetBASEPRI
 709              	.LVL15:
 710              		.loc 1 204 1 is_stmt 0 view .LVU190
 711 0022 F6E7     		b	.L24
 712              	.L30:
 713              		.align	2
 714              	.L29:
 715 0024 00000000 		.word	.LANCHOR0
 716              		.cfi_endproc
 717              	.LFE153:
 719              		.section	.bss.CriticalNasting_Cnt,"aw",%nobits
 720              		.align	1
 721              		.set	.LANCHOR0,. + 0
 724              	CriticalNasting_Cnt:
 725 0000 0000     		.space	2
 726              		.text
 727              	.Letext0:
 728              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 729              		.file 4 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 730              		.file 5 "HAL_Lib/CMSIS/Device/ST/STM32H7xx/Include/stm32h743xx.h"
 731              		.file 6 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_rcc.h"
 732              		.file 7 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_rcc_ex.h"
 733              		.file 8 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_pwr_ex.h"
 734              		.file 9 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal.h"
 735              		.file 10 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 736              		.file 11 "<built-in>"
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s 			page 25


DEFINED SYMBOLS
                            *ABS*:00000000 kernel.c
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:19     .text.Kernel_SetBASEPRI:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:24     .text.Kernel_SetBASEPRI:00000000 Kernel_SetBASEPRI
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:54     .text.KernelClock_Init:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:59     .text.KernelClock_Init:00000000 KernelClock_Init
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:358    .text.KernelClock_Init:00000160 $d
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:365    .text.Kernel_Init:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:371    .text.Kernel_Init:00000000 Kernel_Init
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:402    .text.Kernel_LoadProcess:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:408    .text.Kernel_LoadProcess:00000000 Kernel_LoadProcess
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:462    .text.Kernel_EnablePendSV:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:468    .text.Kernel_EnablePendSV:00000000 Kernel_EnablePendSV
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:478    *ABS*:e000ed22 NVIC_SYSPRI14
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:482    *ABS*:000000ff NVIC_PENDSV_PRI
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:507    .text.Kernel_TriggerPendSV:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:513    .text.Kernel_TriggerPendSV:00000000 Kernel_TriggerPendSV
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:523    *ABS*:e000ed04 NVIC_INT_CTRL
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:527    *ABS*:10000000 NVIC_PENDSVSET
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:552    .text.Kernel_GetPSR:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:558    .text.Kernel_GetPSR:00000000 Kernel_GetPSR
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:590    .text.Kernel_GetMode:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:596    .text.Kernel_GetMode:00000000 Kernel_GetMode
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:627    .text.Kernel_EnterCritical:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:633    .text.Kernel_EnterCritical:00000000 Kernel_EnterCritical
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:659    .text.Kernel_EnterCritical:00000014 $d
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:664    .text.Kernel_ExitCritical:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:670    .text.Kernel_ExitCritical:00000000 Kernel_ExitCritical
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:715    .text.Kernel_ExitCritical:00000024 $d
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:720    .bss.CriticalNasting_Cnt:00000000 $d
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:724    .bss.CriticalNasting_Cnt:00000000 CriticalNasting_Cnt
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:551    .text.Kernel_TriggerPendSV:0000000a $d
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:4425   .text.Kernel_TriggerPendSV:0000000c $d
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:506    .text.Kernel_EnablePendSV:0000000a $d
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:4425   .text.Kernel_EnablePendSV:0000000c $d
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:461    .text.Kernel_LoadProcess:0000001a $d
C:\Users\HUAV\AppData\Local\Temp\ccI3qdco.s:4425   .text.Kernel_LoadProcess:0000001c $d

UNDEFINED SYMBOLS
memset
HAL_PWREx_ConfigSupply
HAL_RCC_OscConfig
HAL_RCC_ClockConfig
HAL_RCCEx_PeriphCLKConfig
HAL_Init
