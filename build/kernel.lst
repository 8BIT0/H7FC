ARM GAS  C:\Users\huav\AppData\Local\Temp\cci8n2xT.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 1
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"kernel.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.Kernel_SetBASEPRI,"ax",%progbits
  17              		.align	1
  18              		.arch armv7e-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv5-d16
  24              	Kernel_SetBASEPRI:
  25              	.LVL0:
  26              	.LFB340:
  27              		.file 1 "System/kernel/kernel.c"
   1:System/kernel/kernel.c **** /*
   2:System/kernel/kernel.c ****  * coder: 8_B!T0
   3:System/kernel/kernel.c ****  * Kernel Funciont portable for any Kernel u use
   4:System/kernel/kernel.c ****  * for stm32 some assemble and regsiter are in common
   5:System/kernel/kernel.c ****  */
   6:System/kernel/kernel.c **** 
   7:System/kernel/kernel.c **** #include "kernel.h"
   8:System/kernel/kernel.c **** #include "stm32h7xx_hal_rcc.h"
   9:System/kernel/kernel.c **** #include "stm32h7xx_hal_pwr.h"
  10:System/kernel/kernel.c **** #include "system_cfg.h"
  11:System/kernel/kernel.c **** 
  12:System/kernel/kernel.c **** #define KERNEL_SYSPRI2_REG (*((volatile uint32_t *)0xe000ed20))
  13:System/kernel/kernel.c **** 
  14:System/kernel/kernel.c **** #define KERNEL_INTERRUPT_PRIORITY (KERNEL_LOWEST_INTERRUPT_PRIORITY << 4)
  15:System/kernel/kernel.c **** 
  16:System/kernel/kernel.c **** static uint16_t CriticalNasting_Cnt = 0;
  17:System/kernel/kernel.c **** 
  18:System/kernel/kernel.c **** static bool KernelClock_Init(void);
  19:System/kernel/kernel.c **** 
  20:System/kernel/kernel.c **** bool Kernel_Init(void)
  21:System/kernel/kernel.c **** {
  22:System/kernel/kernel.c ****     // disable interrupt at the first place
  23:System/kernel/kernel.c ****     Kernel_DisableIRQ();
  24:System/kernel/kernel.c **** 
  25:System/kernel/kernel.c ****     HAL_Init();
  26:System/kernel/kernel.c **** 
  27:System/kernel/kernel.c ****     return KernelClock_Init();
  28:System/kernel/kernel.c **** }
  29:System/kernel/kernel.c **** 
  30:System/kernel/kernel.c **** /*
  31:System/kernel/kernel.c ****  * clock init
ARM GAS  C:\Users\huav\AppData\Local\Temp\cci8n2xT.s 			page 2


  32:System/kernel/kernel.c ****  * general by stm32cubemx
  33:System/kernel/kernel.c ****  */
  34:System/kernel/kernel.c **** static bool KernelClock_Init(void)
  35:System/kernel/kernel.c **** {
  36:System/kernel/kernel.c ****     RCC_OscInitTypeDef RCC_OscInitStruct = {0};
  37:System/kernel/kernel.c ****     RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
  38:System/kernel/kernel.c ****     RCC_PeriphCLKInitTypeDef PeriphClkInitStruct = {0};
  39:System/kernel/kernel.c **** 
  40:System/kernel/kernel.c ****     /** Supply configuration update enable
  41:System/kernel/kernel.c ****      */
  42:System/kernel/kernel.c ****     HAL_PWREx_ConfigSupply(PWR_LDO_SUPPLY);
  43:System/kernel/kernel.c ****     /** Configure the main internal regulator output voltage
  44:System/kernel/kernel.c ****      */
  45:System/kernel/kernel.c ****     __HAL_PWR_VOLTAGESCALING_CONFIG(PWR_REGULATOR_VOLTAGE_SCALE0);
  46:System/kernel/kernel.c **** 
  47:System/kernel/kernel.c ****     while (!__HAL_PWR_GET_FLAG(PWR_FLAG_VOSRDY))
  48:System/kernel/kernel.c ****     {
  49:System/kernel/kernel.c ****     }
  50:System/kernel/kernel.c ****     /** Macro to configure the PLL clock source
  51:System/kernel/kernel.c ****      */
  52:System/kernel/kernel.c ****     // __HAL_RCC_PLL_PLLSOURCE_CONFIG(RCC_PLLSOURCE_HSE);
  53:System/kernel/kernel.c ****     /** Initializes the RCC Oscillators according to the specified parameters
  54:System/kernel/kernel.c ****      * in the RCC_OscInitTypeDef structure.
  55:System/kernel/kernel.c ****      */
  56:System/kernel/kernel.c ****     RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_LSI | RCC_OSCILLATORTYPE_HSE;
  57:System/kernel/kernel.c ****     RCC_OscInitStruct.HSEState = RCC_HSE_ON;
  58:System/kernel/kernel.c ****     RCC_OscInitStruct.LSIState = RCC_LSI_ON;
  59:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
  60:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
  61:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLM = 5;
  62:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLN = 128;
  63:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLP = 2;
  64:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLQ = 8;
  65:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLR = 8;
  66:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLRGE = RCC_PLL1VCIRANGE_2;
  67:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLVCOSEL = RCC_PLL1VCOWIDE;
  68:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLFRACN = 0;
  69:System/kernel/kernel.c ****     if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
  70:System/kernel/kernel.c ****     {
  71:System/kernel/kernel.c ****         return false;
  72:System/kernel/kernel.c ****     }
  73:System/kernel/kernel.c **** 
  74:System/kernel/kernel.c ****     RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_HSI48 | RCC_OSCILLATORTYPE_HSI;
  75:System/kernel/kernel.c ****     RCC_OscInitStruct.HSIState = RCC_HSI_DIV1;
  76:System/kernel/kernel.c ****     RCC_OscInitStruct.HSICalibrationValue = RCC_HSICALIBRATION_DEFAULT;
  77:System/kernel/kernel.c ****     RCC_OscInitStruct.HSI48State = RCC_HSI48_ON;
  78:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLState = RCC_PLL_NONE;
  79:System/kernel/kernel.c ****     if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
  80:System/kernel/kernel.c ****     {
  81:System/kernel/kernel.c ****         return false;
  82:System/kernel/kernel.c ****     }
  83:System/kernel/kernel.c **** 
  84:System/kernel/kernel.c ****     /** Initializes the CPU, AHB and APB buses clocks
  85:System/kernel/kernel.c ****      */
  86:System/kernel/kernel.c ****     RCC_ClkInitStruct.ClockType = RCC_CLOCKTYPE_HCLK | RCC_CLOCKTYPE_SYSCLK | RCC_CLOCKTYPE_PCLK1 |
  87:System/kernel/kernel.c ****     RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
  88:System/kernel/kernel.c ****     RCC_ClkInitStruct.SYSCLKDivider = RCC_SYSCLK_DIV1;
ARM GAS  C:\Users\huav\AppData\Local\Temp\cci8n2xT.s 			page 3


  89:System/kernel/kernel.c ****     RCC_ClkInitStruct.AHBCLKDivider = RCC_HCLK_DIV2;
  90:System/kernel/kernel.c ****     RCC_ClkInitStruct.APB3CLKDivider = RCC_APB3_DIV2;
  91:System/kernel/kernel.c ****     RCC_ClkInitStruct.APB1CLKDivider = RCC_APB1_DIV2;
  92:System/kernel/kernel.c ****     RCC_ClkInitStruct.APB2CLKDivider = RCC_APB2_DIV2;
  93:System/kernel/kernel.c ****     RCC_ClkInitStruct.APB4CLKDivider = RCC_APB4_DIV2;
  94:System/kernel/kernel.c ****     if (HAL_RCC_ClockConfig(&RCC_ClkInitStruct, FLASH_LATENCY_2) != HAL_OK)
  95:System/kernel/kernel.c ****     {
  96:System/kernel/kernel.c ****         return false;
  97:System/kernel/kernel.c ****     }
  98:System/kernel/kernel.c **** 
  99:System/kernel/kernel.c ****     PeriphClkInitStruct.PeriphClockSelection = RCC_PERIPHCLK_USART3 | RCC_PERIPHCLK_UART4 | RCC_PER
 100:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL3.PLL3M = 25;
 101:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL3.PLL3N = 240;
 102:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL3.PLL3P = 4;
 103:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL3.PLL3Q = 3;
 104:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL3.PLL3R = 2;
 105:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL3.PLL3RGE = RCC_PLL3VCIRANGE_0;
 106:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL3.PLL3VCOSEL = RCC_PLL3VCOWIDE;
 107:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL3.PLL3FRACN = 0;
 108:System/kernel/kernel.c ****     PeriphClkInitStruct.Spi123ClockSelection = RCC_SPI123CLKSOURCE_PLL3;
 109:System/kernel/kernel.c ****     PeriphClkInitStruct.Usart234578ClockSelection = RCC_USART234578CLKSOURCE_D2PCLK1;
 110:System/kernel/kernel.c ****     PeriphClkInitStruct.Usart16ClockSelection = RCC_USART16CLKSOURCE_D2PCLK2;
 111:System/kernel/kernel.c ****     if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInitStruct) != HAL_OK)
 112:System/kernel/kernel.c ****     {
 113:System/kernel/kernel.c ****         return false;
 114:System/kernel/kernel.c ****     }
 115:System/kernel/kernel.c **** 
 116:System/kernel/kernel.c ****     // we need set systick priority as 15 pendsv priority as 14
 117:System/kernel/kernel.c ****     KERNEL_SYSPRI2_REG |= (((uint32_t)KERNEL_INTERRUPT_PRIORITY) << 16UL);
 118:System/kernel/kernel.c ****     KERNEL_SYSPRI2_REG |= (((uint32_t)KERNEL_INTERRUPT_PRIORITY) << 24UL);
 119:System/kernel/kernel.c **** 
 120:System/kernel/kernel.c ****     // enable irq
 121:System/kernel/kernel.c ****     Kernel_EnableIRQ();
 122:System/kernel/kernel.c **** 
 123:System/kernel/kernel.c ****     return true;
 124:System/kernel/kernel.c **** }
 125:System/kernel/kernel.c **** 
 126:System/kernel/kernel.c **** /*
 127:System/kernel/kernel.c ****  * init irq vactor and set perticular memory address for msp
 128:System/kernel/kernel.c ****  */
 129:System/kernel/kernel.c **** void Kernel_LoadProcess(void)
 130:System/kernel/kernel.c **** {
 131:System/kernel/kernel.c ****     uint32_t msp_addr = 0;
 132:System/kernel/kernel.c **** 
 133:System/kernel/kernel.c ****     /* clear PSP */
 134:System/kernel/kernel.c ****     __ASM("MOVS     R0, #0");
 135:System/kernel/kernel.c ****     __ASM("MSR      PSP, R0");
 136:System/kernel/kernel.c **** 
 137:System/kernel/kernel.c ****     /* set irq vactor */
 138:System/kernel/kernel.c ****     __ASM("LDR      R0, =0xE000ED08");
 139:System/kernel/kernel.c ****     __ASM("LDR      R0, [R0]");
 140:System/kernel/kernel.c ****     __ASM("LDR      R0, [R0]");
 141:System/kernel/kernel.c ****     __ASM("MSR      MSP, R0");
 142:System/kernel/kernel.c **** 
 143:System/kernel/kernel.c ****     /* trigger svc to push first task in process stack */
 144:System/kernel/kernel.c ****     __asm("SVC      0");
 145:System/kernel/kernel.c ****     __asm("ISB");
ARM GAS  C:\Users\huav\AppData\Local\Temp\cci8n2xT.s 			page 4


 146:System/kernel/kernel.c ****     __asm("NOP");
 147:System/kernel/kernel.c **** }
 148:System/kernel/kernel.c **** 
 149:System/kernel/kernel.c **** __attribute__((naked)) void Kernel_EnablePendSV(void)
 150:System/kernel/kernel.c **** {
 151:System/kernel/kernel.c ****     __ASM(".equ NVIC_SYSPRI14, 0xE000ED22");
 152:System/kernel/kernel.c ****     __ASM(".equ NVIC_PENDSV_PRI, 0xFF");
 153:System/kernel/kernel.c **** 
 154:System/kernel/kernel.c ****     __ASM("LDR      R0, =NVIC_SYSPRI14");
 155:System/kernel/kernel.c ****     __ASM("LDR      R1, =NVIC_PENDSV_PRI");
 156:System/kernel/kernel.c ****     __ASM("STRB     R1, [R0]");
 157:System/kernel/kernel.c ****     __ASM("BX       LR");
 158:System/kernel/kernel.c **** }
 159:System/kernel/kernel.c **** 
 160:System/kernel/kernel.c **** __attribute__((naked)) void Kernel_TriggerPendSV(void)
 161:System/kernel/kernel.c **** {
 162:System/kernel/kernel.c ****     __ASM(".equ NVIC_INT_CTRL, 0xE000ED04");
 163:System/kernel/kernel.c ****     __ASM(".equ NVIC_PENDSVSET, 0x10000000");
 164:System/kernel/kernel.c **** 
 165:System/kernel/kernel.c ****     __ASM("LDR      R0, =NVIC_INT_CTRL");
 166:System/kernel/kernel.c ****     __ASM("LDR      R1, =NVIC_PENDSVSET");
 167:System/kernel/kernel.c ****     __ASM("STR      R1, [R0]");
 168:System/kernel/kernel.c ****     __ASM("BX       LR");
 169:System/kernel/kernel.c **** }
 170:System/kernel/kernel.c **** 
 171:System/kernel/kernel.c **** /*
 172:System/kernel/kernel.c ****  *   return IRQ serial number in IRQ_Handler
 173:System/kernel/kernel.c ****  */
 174:System/kernel/kernel.c **** uint32_t Kernel_GetPSR(void)
 175:System/kernel/kernel.c **** {
 176:System/kernel/kernel.c ****     return __get_IPSR();
 177:System/kernel/kernel.c **** }
 178:System/kernel/kernel.c **** 
 179:System/kernel/kernel.c **** /*
 180:System/kernel/kernel.c ****  * control[0] : 0 is privilage mode / 1 is none privilage mode
 181:System/kernel/kernel.c ****  * control[1] : 0 is MSP / 1 is PSP
 182:System/kernel/kernel.c ****  */
 183:System/kernel/kernel.c **** uint32_t Kernel_GetMode(void)
 184:System/kernel/kernel.c **** {
 185:System/kernel/kernel.c ****     return __get_CONTROL();
 186:System/kernel/kernel.c **** }
 187:System/kernel/kernel.c **** 
 188:System/kernel/kernel.c **** static void Kernel_SetBASEPRI(uint32_t ulBASEPRI)
 189:System/kernel/kernel.c **** {
  28              		.loc 1 189 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
 190:System/kernel/kernel.c ****     __ASM("	msr basepri, %0	" ::"r"(ulBASEPRI)
  33              		.loc 1 190 5 view .LVU1
  34              		.syntax unified
  35              	@ 190 "System/kernel/kernel.c" 1
  36 0000 80F31188 			msr basepri, r0	
  37              	@ 0 "" 2
 191:System/kernel/kernel.c ****           : "memory");
 192:System/kernel/kernel.c ****     __ASM("DSB");
ARM GAS  C:\Users\huav\AppData\Local\Temp\cci8n2xT.s 			page 5


  38              		.loc 1 192 5 view .LVU2
  39              	@ 192 "System/kernel/kernel.c" 1
  40 0004 BFF34F8F 		DSB
  41              	@ 0 "" 2
 193:System/kernel/kernel.c ****     __ASM("ISB");
  42              		.loc 1 193 5 view .LVU3
  43              	@ 193 "System/kernel/kernel.c" 1
  44 0008 BFF36F8F 		ISB
  45              	@ 0 "" 2
 194:System/kernel/kernel.c **** }
  46              		.loc 1 194 1 is_stmt 0 view .LVU4
  47              		.thumb
  48              		.syntax unified
  49 000c 7047     		bx	lr
  50              		.cfi_endproc
  51              	.LFE340:
  53              		.section	.text.KernelClock_Init,"ax",%progbits
  54              		.align	1
  55              		.syntax unified
  56              		.thumb
  57              		.thumb_func
  58              		.fpu fpv5-d16
  60              	KernelClock_Init:
  61              	.LFB334:
  35:System/kernel/kernel.c ****     RCC_OscInitTypeDef RCC_OscInitStruct = {0};
  62              		.loc 1 35 1 is_stmt 1 view -0
  63              		.cfi_startproc
  64              		@ args = 0, pretend = 0, frame = 304
  65              		@ frame_needed = 0, uses_anonymous_args = 0
  66 0000 00B5     		push	{lr}
  67              	.LCFI0:
  68              		.cfi_def_cfa_offset 4
  69              		.cfi_offset 14, -4
  70 0002 CDB0     		sub	sp, sp, #308
  71              	.LCFI1:
  72              		.cfi_def_cfa_offset 312
  36:System/kernel/kernel.c ****     RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
  73              		.loc 1 36 5 view .LVU6
  36:System/kernel/kernel.c ****     RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
  74              		.loc 1 36 24 is_stmt 0 view .LVU7
  75 0004 4C22     		movs	r2, #76
  76 0006 0021     		movs	r1, #0
  77 0008 39A8     		add	r0, sp, #228
  78 000a FFF7FEFF 		bl	memset
  79              	.LVL1:
  37:System/kernel/kernel.c ****     RCC_PeriphCLKInitTypeDef PeriphClkInitStruct = {0};
  80              		.loc 1 37 5 is_stmt 1 view .LVU8
  37:System/kernel/kernel.c ****     RCC_PeriphCLKInitTypeDef PeriphClkInitStruct = {0};
  81              		.loc 1 37 24 is_stmt 0 view .LVU9
  82 000e 2022     		movs	r2, #32
  83 0010 0021     		movs	r1, #0
  84 0012 31A8     		add	r0, sp, #196
  85 0014 FFF7FEFF 		bl	memset
  86              	.LVL2:
  38:System/kernel/kernel.c **** 
  87              		.loc 1 38 5 is_stmt 1 view .LVU10
  38:System/kernel/kernel.c **** 
ARM GAS  C:\Users\huav\AppData\Local\Temp\cci8n2xT.s 			page 6


  88              		.loc 1 38 30 is_stmt 0 view .LVU11
  89 0018 BC22     		movs	r2, #188
  90 001a 0021     		movs	r1, #0
  91 001c 02A8     		add	r0, sp, #8
  92 001e FFF7FEFF 		bl	memset
  93              	.LVL3:
  42:System/kernel/kernel.c ****     /** Configure the main internal regulator output voltage
  94              		.loc 1 42 5 is_stmt 1 view .LVU12
  95 0022 0220     		movs	r0, #2
  96 0024 FFF7FEFF 		bl	HAL_PWREx_ConfigSupply
  97              	.LVL4:
  45:System/kernel/kernel.c **** 
  98              		.loc 1 45 5 view .LVU13
  99              	.LBB6:
  45:System/kernel/kernel.c **** 
 100              		.loc 1 45 5 view .LVU14
 101 0028 0023     		movs	r3, #0
 102 002a 0193     		str	r3, [sp, #4]
  45:System/kernel/kernel.c **** 
 103              		.loc 1 45 5 view .LVU15
  45:System/kernel/kernel.c **** 
 104              		.loc 1 45 5 view .LVU16
 105 002c 434B     		ldr	r3, .L13
 106 002e 9A69     		ldr	r2, [r3, #24]
 107 0030 42F44042 		orr	r2, r2, #49152
 108 0034 9A61     		str	r2, [r3, #24]
  45:System/kernel/kernel.c **** 
 109              		.loc 1 45 5 view .LVU17
 110 0036 9B69     		ldr	r3, [r3, #24]
 111 0038 03F44043 		and	r3, r3, #49152
 112 003c 0193     		str	r3, [sp, #4]
  45:System/kernel/kernel.c **** 
 113              		.loc 1 45 5 view .LVU18
 114 003e 404B     		ldr	r3, .L13+4
 115 0040 DA6A     		ldr	r2, [r3, #44]
 116 0042 42F00102 		orr	r2, r2, #1
 117 0046 DA62     		str	r2, [r3, #44]
  45:System/kernel/kernel.c **** 
 118              		.loc 1 45 5 view .LVU19
 119 0048 DB6A     		ldr	r3, [r3, #44]
 120 004a 03F00103 		and	r3, r3, #1
 121 004e 0193     		str	r3, [sp, #4]
  45:System/kernel/kernel.c **** 
 122              		.loc 1 45 5 view .LVU20
 123 0050 019B     		ldr	r3, [sp, #4]
 124              	.LBE6:
  45:System/kernel/kernel.c **** 
 125              		.loc 1 45 5 view .LVU21
  47:System/kernel/kernel.c ****     {
 126              		.loc 1 47 5 view .LVU22
 127              	.L3:
  49:System/kernel/kernel.c ****     /** Macro to configure the PLL clock source
 128              		.loc 1 49 5 discriminator 1 view .LVU23
  47:System/kernel/kernel.c ****     {
 129              		.loc 1 47 11 discriminator 1 view .LVU24
  47:System/kernel/kernel.c ****     {
 130              		.loc 1 47 13 is_stmt 0 discriminator 1 view .LVU25
ARM GAS  C:\Users\huav\AppData\Local\Temp\cci8n2xT.s 			page 7


 131 0052 3A4B     		ldr	r3, .L13
 132 0054 9B69     		ldr	r3, [r3, #24]
  47:System/kernel/kernel.c ****     {
 133              		.loc 1 47 11 discriminator 1 view .LVU26
 134 0056 13F4005F 		tst	r3, #8192
 135 005a FAD0     		beq	.L3
  56:System/kernel/kernel.c ****     RCC_OscInitStruct.HSEState = RCC_HSE_ON;
 136              		.loc 1 56 5 is_stmt 1 view .LVU27
  56:System/kernel/kernel.c ****     RCC_OscInitStruct.HSEState = RCC_HSE_ON;
 137              		.loc 1 56 38 is_stmt 0 view .LVU28
 138 005c 0923     		movs	r3, #9
 139 005e 3993     		str	r3, [sp, #228]
  57:System/kernel/kernel.c ****     RCC_OscInitStruct.LSIState = RCC_LSI_ON;
 140              		.loc 1 57 5 is_stmt 1 view .LVU29
  57:System/kernel/kernel.c ****     RCC_OscInitStruct.LSIState = RCC_LSI_ON;
 141              		.loc 1 57 32 is_stmt 0 view .LVU30
 142 0060 4FF48033 		mov	r3, #65536
 143 0064 3A93     		str	r3, [sp, #232]
  58:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 144              		.loc 1 58 5 is_stmt 1 view .LVU31
  58:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 145              		.loc 1 58 32 is_stmt 0 view .LVU32
 146 0066 0123     		movs	r3, #1
 147 0068 3E93     		str	r3, [sp, #248]
  59:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
 148              		.loc 1 59 5 is_stmt 1 view .LVU33
  59:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
 149              		.loc 1 59 36 is_stmt 0 view .LVU34
 150 006a 0223     		movs	r3, #2
 151 006c 4293     		str	r3, [sp, #264]
  60:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLM = 5;
 152              		.loc 1 60 5 is_stmt 1 view .LVU35
  60:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLM = 5;
 153              		.loc 1 60 37 is_stmt 0 view .LVU36
 154 006e 4393     		str	r3, [sp, #268]
  61:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLN = 128;
 155              		.loc 1 61 5 is_stmt 1 view .LVU37
  61:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLN = 128;
 156              		.loc 1 61 32 is_stmt 0 view .LVU38
 157 0070 0522     		movs	r2, #5
 158 0072 4492     		str	r2, [sp, #272]
  62:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLP = 2;
 159              		.loc 1 62 5 is_stmt 1 view .LVU39
  62:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLP = 2;
 160              		.loc 1 62 32 is_stmt 0 view .LVU40
 161 0074 8022     		movs	r2, #128
 162 0076 4592     		str	r2, [sp, #276]
  63:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLQ = 8;
 163              		.loc 1 63 5 is_stmt 1 view .LVU41
  63:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLQ = 8;
 164              		.loc 1 63 32 is_stmt 0 view .LVU42
 165 0078 4693     		str	r3, [sp, #280]
  64:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLR = 8;
 166              		.loc 1 64 5 is_stmt 1 view .LVU43
  64:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLR = 8;
 167              		.loc 1 64 32 is_stmt 0 view .LVU44
 168 007a 0823     		movs	r3, #8
ARM GAS  C:\Users\huav\AppData\Local\Temp\cci8n2xT.s 			page 8


 169 007c 4793     		str	r3, [sp, #284]
  65:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLRGE = RCC_PLL1VCIRANGE_2;
 170              		.loc 1 65 5 is_stmt 1 view .LVU45
  65:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLRGE = RCC_PLL1VCIRANGE_2;
 171              		.loc 1 65 32 is_stmt 0 view .LVU46
 172 007e 4893     		str	r3, [sp, #288]
  66:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLVCOSEL = RCC_PLL1VCOWIDE;
 173              		.loc 1 66 5 is_stmt 1 view .LVU47
  66:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLVCOSEL = RCC_PLL1VCOWIDE;
 174              		.loc 1 66 34 is_stmt 0 view .LVU48
 175 0080 4993     		str	r3, [sp, #292]
  67:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLFRACN = 0;
 176              		.loc 1 67 5 is_stmt 1 view .LVU49
  67:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLFRACN = 0;
 177              		.loc 1 67 37 is_stmt 0 view .LVU50
 178 0082 0023     		movs	r3, #0
 179 0084 4A93     		str	r3, [sp, #296]
  68:System/kernel/kernel.c ****     if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 180              		.loc 1 68 5 is_stmt 1 view .LVU51
  68:System/kernel/kernel.c ****     if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 181              		.loc 1 68 36 is_stmt 0 view .LVU52
 182 0086 4B93     		str	r3, [sp, #300]
  69:System/kernel/kernel.c ****     {
 183              		.loc 1 69 5 is_stmt 1 view .LVU53
  69:System/kernel/kernel.c ****     {
 184              		.loc 1 69 9 is_stmt 0 view .LVU54
 185 0088 39A8     		add	r0, sp, #228
 186 008a FFF7FEFF 		bl	HAL_RCC_OscConfig
 187              	.LVL5:
  69:System/kernel/kernel.c ****     {
 188              		.loc 1 69 8 view .LVU55
 189 008e 18B1     		cbz	r0, .L10
  71:System/kernel/kernel.c ****     }
 190              		.loc 1 71 16 view .LVU56
 191 0090 0020     		movs	r0, #0
 192              	.L4:
 124:System/kernel/kernel.c **** 
 193              		.loc 1 124 1 view .LVU57
 194 0092 4DB0     		add	sp, sp, #308
 195              	.LCFI2:
 196              		.cfi_remember_state
 197              		.cfi_def_cfa_offset 4
 198              		@ sp needed
 199 0094 5DF804FB 		ldr	pc, [sp], #4
 200              	.L10:
 201              	.LCFI3:
 202              		.cfi_restore_state
  74:System/kernel/kernel.c ****     RCC_OscInitStruct.HSIState = RCC_HSI_DIV1;
 203              		.loc 1 74 5 is_stmt 1 view .LVU58
  74:System/kernel/kernel.c ****     RCC_OscInitStruct.HSIState = RCC_HSI_DIV1;
 204              		.loc 1 74 38 is_stmt 0 view .LVU59
 205 0098 2223     		movs	r3, #34
 206 009a 3993     		str	r3, [sp, #228]
  75:System/kernel/kernel.c ****     RCC_OscInitStruct.HSICalibrationValue = RCC_HSICALIBRATION_DEFAULT;
 207              		.loc 1 75 5 is_stmt 1 view .LVU60
  75:System/kernel/kernel.c ****     RCC_OscInitStruct.HSICalibrationValue = RCC_HSICALIBRATION_DEFAULT;
 208              		.loc 1 75 32 is_stmt 0 view .LVU61
ARM GAS  C:\Users\huav\AppData\Local\Temp\cci8n2xT.s 			page 9


 209 009c 0123     		movs	r3, #1
 210 009e 3C93     		str	r3, [sp, #240]
  76:System/kernel/kernel.c ****     RCC_OscInitStruct.HSI48State = RCC_HSI48_ON;
 211              		.loc 1 76 5 is_stmt 1 view .LVU62
  76:System/kernel/kernel.c ****     RCC_OscInitStruct.HSI48State = RCC_HSI48_ON;
 212              		.loc 1 76 43 is_stmt 0 view .LVU63
 213 00a0 4022     		movs	r2, #64
 214 00a2 3D92     		str	r2, [sp, #244]
  77:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLState = RCC_PLL_NONE;
 215              		.loc 1 77 5 is_stmt 1 view .LVU64
  77:System/kernel/kernel.c ****     RCC_OscInitStruct.PLL.PLLState = RCC_PLL_NONE;
 216              		.loc 1 77 34 is_stmt 0 view .LVU65
 217 00a4 3F93     		str	r3, [sp, #252]
  78:System/kernel/kernel.c ****     if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 218              		.loc 1 78 5 is_stmt 1 view .LVU66
  78:System/kernel/kernel.c ****     if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 219              		.loc 1 78 36 is_stmt 0 view .LVU67
 220 00a6 0023     		movs	r3, #0
 221 00a8 4293     		str	r3, [sp, #264]
  79:System/kernel/kernel.c ****     {
 222              		.loc 1 79 5 is_stmt 1 view .LVU68
  79:System/kernel/kernel.c ****     {
 223              		.loc 1 79 9 is_stmt 0 view .LVU69
 224 00aa 39A8     		add	r0, sp, #228
 225 00ac FFF7FEFF 		bl	HAL_RCC_OscConfig
 226              	.LVL6:
  79:System/kernel/kernel.c ****     {
 227              		.loc 1 79 8 view .LVU70
 228 00b0 08B1     		cbz	r0, .L11
  81:System/kernel/kernel.c ****     }
 229              		.loc 1 81 16 view .LVU71
 230 00b2 0020     		movs	r0, #0
 231 00b4 EDE7     		b	.L4
 232              	.L11:
  86:System/kernel/kernel.c ****     RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
 233              		.loc 1 86 5 is_stmt 1 view .LVU72
  86:System/kernel/kernel.c ****     RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
 234              		.loc 1 86 33 is_stmt 0 view .LVU73
 235 00b6 3F23     		movs	r3, #63
 236 00b8 3193     		str	r3, [sp, #196]
  87:System/kernel/kernel.c ****     RCC_ClkInitStruct.SYSCLKDivider = RCC_SYSCLK_DIV1;
 237              		.loc 1 87 5 is_stmt 1 view .LVU74
  87:System/kernel/kernel.c ****     RCC_ClkInitStruct.SYSCLKDivider = RCC_SYSCLK_DIV1;
 238              		.loc 1 87 36 is_stmt 0 view .LVU75
 239 00ba 0323     		movs	r3, #3
 240 00bc 3293     		str	r3, [sp, #200]
  88:System/kernel/kernel.c ****     RCC_ClkInitStruct.AHBCLKDivider = RCC_HCLK_DIV2;
 241              		.loc 1 88 5 is_stmt 1 view .LVU76
  88:System/kernel/kernel.c ****     RCC_ClkInitStruct.AHBCLKDivider = RCC_HCLK_DIV2;
 242              		.loc 1 88 37 is_stmt 0 view .LVU77
 243 00be 0023     		movs	r3, #0
 244 00c0 3393     		str	r3, [sp, #204]
  89:System/kernel/kernel.c ****     RCC_ClkInitStruct.APB3CLKDivider = RCC_APB3_DIV2;
 245              		.loc 1 89 5 is_stmt 1 view .LVU78
  89:System/kernel/kernel.c ****     RCC_ClkInitStruct.APB3CLKDivider = RCC_APB3_DIV2;
 246              		.loc 1 89 37 is_stmt 0 view .LVU79
 247 00c2 0823     		movs	r3, #8
ARM GAS  C:\Users\huav\AppData\Local\Temp\cci8n2xT.s 			page 10


 248 00c4 3493     		str	r3, [sp, #208]
  90:System/kernel/kernel.c ****     RCC_ClkInitStruct.APB1CLKDivider = RCC_APB1_DIV2;
 249              		.loc 1 90 5 is_stmt 1 view .LVU80
  90:System/kernel/kernel.c ****     RCC_ClkInitStruct.APB1CLKDivider = RCC_APB1_DIV2;
 250              		.loc 1 90 38 is_stmt 0 view .LVU81
 251 00c6 4023     		movs	r3, #64
 252 00c8 3593     		str	r3, [sp, #212]
  91:System/kernel/kernel.c ****     RCC_ClkInitStruct.APB2CLKDivider = RCC_APB2_DIV2;
 253              		.loc 1 91 5 is_stmt 1 view .LVU82
  91:System/kernel/kernel.c ****     RCC_ClkInitStruct.APB2CLKDivider = RCC_APB2_DIV2;
 254              		.loc 1 91 38 is_stmt 0 view .LVU83
 255 00ca 3693     		str	r3, [sp, #216]
  92:System/kernel/kernel.c ****     RCC_ClkInitStruct.APB4CLKDivider = RCC_APB4_DIV2;
 256              		.loc 1 92 5 is_stmt 1 view .LVU84
  92:System/kernel/kernel.c ****     RCC_ClkInitStruct.APB4CLKDivider = RCC_APB4_DIV2;
 257              		.loc 1 92 38 is_stmt 0 view .LVU85
 258 00cc 4FF48062 		mov	r2, #1024
 259 00d0 3792     		str	r2, [sp, #220]
  93:System/kernel/kernel.c ****     if (HAL_RCC_ClockConfig(&RCC_ClkInitStruct, FLASH_LATENCY_2) != HAL_OK)
 260              		.loc 1 93 5 is_stmt 1 view .LVU86
  93:System/kernel/kernel.c ****     if (HAL_RCC_ClockConfig(&RCC_ClkInitStruct, FLASH_LATENCY_2) != HAL_OK)
 261              		.loc 1 93 38 is_stmt 0 view .LVU87
 262 00d2 3893     		str	r3, [sp, #224]
  94:System/kernel/kernel.c ****     {
 263              		.loc 1 94 5 is_stmt 1 view .LVU88
  94:System/kernel/kernel.c ****     {
 264              		.loc 1 94 9 is_stmt 0 view .LVU89
 265 00d4 0221     		movs	r1, #2
 266 00d6 31A8     		add	r0, sp, #196
 267 00d8 FFF7FEFF 		bl	HAL_RCC_ClockConfig
 268              	.LVL7:
  94:System/kernel/kernel.c ****     {
 269              		.loc 1 94 8 view .LVU90
 270 00dc 08B1     		cbz	r0, .L12
  96:System/kernel/kernel.c ****     }
 271              		.loc 1 96 16 view .LVU91
 272 00de 0020     		movs	r0, #0
 273 00e0 D7E7     		b	.L4
 274              	.L12:
  99:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL3.PLL3M = 25;
 275              		.loc 1 99 5 is_stmt 1 view .LVU92
  99:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL3.PLL3M = 25;
 276              		.loc 1 99 46 is_stmt 0 view .LVU93
 277 00e2 41F20303 		movw	r3, #4099
 278 00e6 0293     		str	r3, [sp, #8]
 100:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL3.PLL3N = 240;
 279              		.loc 1 100 5 is_stmt 1 view .LVU94
 100:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL3.PLL3N = 240;
 280              		.loc 1 100 36 is_stmt 0 view .LVU95
 281 00e8 1923     		movs	r3, #25
 282 00ea 0B93     		str	r3, [sp, #44]
 101:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL3.PLL3P = 4;
 283              		.loc 1 101 5 is_stmt 1 view .LVU96
 101:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL3.PLL3P = 4;
 284              		.loc 1 101 36 is_stmt 0 view .LVU97
 285 00ec F023     		movs	r3, #240
 286 00ee 0C93     		str	r3, [sp, #48]
ARM GAS  C:\Users\huav\AppData\Local\Temp\cci8n2xT.s 			page 11


 102:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL3.PLL3Q = 3;
 287              		.loc 1 102 5 is_stmt 1 view .LVU98
 102:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL3.PLL3Q = 3;
 288              		.loc 1 102 36 is_stmt 0 view .LVU99
 289 00f0 0423     		movs	r3, #4
 290 00f2 0D93     		str	r3, [sp, #52]
 103:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL3.PLL3R = 2;
 291              		.loc 1 103 5 is_stmt 1 view .LVU100
 103:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL3.PLL3R = 2;
 292              		.loc 1 103 36 is_stmt 0 view .LVU101
 293 00f4 0323     		movs	r3, #3
 294 00f6 0E93     		str	r3, [sp, #56]
 104:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL3.PLL3RGE = RCC_PLL3VCIRANGE_0;
 295              		.loc 1 104 5 is_stmt 1 view .LVU102
 104:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL3.PLL3RGE = RCC_PLL3VCIRANGE_0;
 296              		.loc 1 104 36 is_stmt 0 view .LVU103
 297 00f8 0223     		movs	r3, #2
 298 00fa 0F93     		str	r3, [sp, #60]
 105:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL3.PLL3VCOSEL = RCC_PLL3VCOWIDE;
 299              		.loc 1 105 5 is_stmt 1 view .LVU104
 105:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL3.PLL3VCOSEL = RCC_PLL3VCOWIDE;
 300              		.loc 1 105 38 is_stmt 0 view .LVU105
 301 00fc 0023     		movs	r3, #0
 302 00fe 1093     		str	r3, [sp, #64]
 106:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL3.PLL3FRACN = 0;
 303              		.loc 1 106 5 is_stmt 1 view .LVU106
 106:System/kernel/kernel.c ****     PeriphClkInitStruct.PLL3.PLL3FRACN = 0;
 304              		.loc 1 106 41 is_stmt 0 view .LVU107
 305 0100 1193     		str	r3, [sp, #68]
 107:System/kernel/kernel.c ****     PeriphClkInitStruct.Spi123ClockSelection = RCC_SPI123CLKSOURCE_PLL3;
 306              		.loc 1 107 5 is_stmt 1 view .LVU108
 107:System/kernel/kernel.c ****     PeriphClkInitStruct.Spi123ClockSelection = RCC_SPI123CLKSOURCE_PLL3;
 307              		.loc 1 107 40 is_stmt 0 view .LVU109
 308 0102 1293     		str	r3, [sp, #72]
 108:System/kernel/kernel.c ****     PeriphClkInitStruct.Usart234578ClockSelection = RCC_USART234578CLKSOURCE_D2PCLK1;
 309              		.loc 1 108 5 is_stmt 1 view .LVU110
 108:System/kernel/kernel.c ****     PeriphClkInitStruct.Usart234578ClockSelection = RCC_USART234578CLKSOURCE_D2PCLK1;
 310              		.loc 1 108 46 is_stmt 0 view .LVU111
 311 0104 4FF40052 		mov	r2, #8192
 312 0108 1992     		str	r2, [sp, #100]
 109:System/kernel/kernel.c ****     PeriphClkInitStruct.Usart16ClockSelection = RCC_USART16CLKSOURCE_D2PCLK2;
 313              		.loc 1 109 5 is_stmt 1 view .LVU112
 109:System/kernel/kernel.c ****     PeriphClkInitStruct.Usart16ClockSelection = RCC_USART16CLKSOURCE_D2PCLK2;
 314              		.loc 1 109 51 is_stmt 0 view .LVU113
 315 010a 1F93     		str	r3, [sp, #124]
 110:System/kernel/kernel.c ****     if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInitStruct) != HAL_OK)
 316              		.loc 1 110 5 is_stmt 1 view .LVU114
 110:System/kernel/kernel.c ****     if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInitStruct) != HAL_OK)
 317              		.loc 1 110 47 is_stmt 0 view .LVU115
 318 010c 2093     		str	r3, [sp, #128]
 111:System/kernel/kernel.c ****     {
 319              		.loc 1 111 5 is_stmt 1 view .LVU116
 111:System/kernel/kernel.c ****     {
 320              		.loc 1 111 9 is_stmt 0 view .LVU117
 321 010e 02A8     		add	r0, sp, #8
 322 0110 FFF7FEFF 		bl	HAL_RCCEx_PeriphCLKConfig
 323              	.LVL8:
ARM GAS  C:\Users\huav\AppData\Local\Temp\cci8n2xT.s 			page 12


 111:System/kernel/kernel.c ****     {
 324              		.loc 1 111 8 view .LVU118
 325 0114 80B9     		cbnz	r0, .L8
 117:System/kernel/kernel.c ****     KERNEL_SYSPRI2_REG |= (((uint32_t)KERNEL_INTERRUPT_PRIORITY) << 24UL);
 326              		.loc 1 117 5 is_stmt 1 view .LVU119
 117:System/kernel/kernel.c ****     KERNEL_SYSPRI2_REG |= (((uint32_t)KERNEL_INTERRUPT_PRIORITY) << 24UL);
 327              		.loc 1 117 24 is_stmt 0 view .LVU120
 328 0116 4FF0E023 		mov	r3, #-536813568
 329 011a D3F8202D 		ldr	r2, [r3, #3360]
 330 011e 42F47002 		orr	r2, r2, #15728640
 331 0122 C3F8202D 		str	r2, [r3, #3360]
 118:System/kernel/kernel.c **** 
 332              		.loc 1 118 5 is_stmt 1 view .LVU121
 118:System/kernel/kernel.c **** 
 333              		.loc 1 118 24 is_stmt 0 view .LVU122
 334 0126 D3F8202D 		ldr	r2, [r3, #3360]
 335 012a 42F07042 		orr	r2, r2, #-268435456
 336 012e C3F8202D 		str	r2, [r3, #3360]
 121:System/kernel/kernel.c **** 
 337              		.loc 1 121 5 is_stmt 1 view .LVU123
 338              		.syntax unified
 339              	@ 121 "System/kernel/kernel.c" 1
 340 0132 62B6     		cpsie i
 341              	@ 0 "" 2
 123:System/kernel/kernel.c **** }
 342              		.loc 1 123 5 view .LVU124
 123:System/kernel/kernel.c **** }
 343              		.loc 1 123 12 is_stmt 0 view .LVU125
 344              		.thumb
 345              		.syntax unified
 346 0134 0120     		movs	r0, #1
 347 0136 ACE7     		b	.L4
 348              	.L8:
 113:System/kernel/kernel.c ****     }
 349              		.loc 1 113 16 view .LVU126
 350 0138 0020     		movs	r0, #0
 351 013a AAE7     		b	.L4
 352              	.L14:
 353              		.align	2
 354              	.L13:
 355 013c 00480258 		.word	1476544512
 356 0140 00040058 		.word	1476396032
 357              		.cfi_endproc
 358              	.LFE334:
 360              		.section	.text.Kernel_Init,"ax",%progbits
 361              		.align	1
 362              		.global	Kernel_Init
 363              		.syntax unified
 364              		.thumb
 365              		.thumb_func
 366              		.fpu fpv5-d16
 368              	Kernel_Init:
 369              	.LFB333:
  21:System/kernel/kernel.c ****     // disable interrupt at the first place
 370              		.loc 1 21 1 is_stmt 1 view -0
 371              		.cfi_startproc
 372              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\huav\AppData\Local\Temp\cci8n2xT.s 			page 13


 373              		@ frame_needed = 0, uses_anonymous_args = 0
 374 0000 08B5     		push	{r3, lr}
 375              	.LCFI4:
 376              		.cfi_def_cfa_offset 8
 377              		.cfi_offset 3, -8
 378              		.cfi_offset 14, -4
  23:System/kernel/kernel.c **** 
 379              		.loc 1 23 5 view .LVU128
 380              		.syntax unified
 381              	@ 23 "System/kernel/kernel.c" 1
 382 0002 72B6     		cpsid i
 383              	@ 0 "" 2
  25:System/kernel/kernel.c **** 
 384              		.loc 1 25 5 view .LVU129
 385              		.thumb
 386              		.syntax unified
 387 0004 FFF7FEFF 		bl	HAL_Init
 388              	.LVL9:
  27:System/kernel/kernel.c **** }
 389              		.loc 1 27 5 view .LVU130
  27:System/kernel/kernel.c **** }
 390              		.loc 1 27 12 is_stmt 0 view .LVU131
 391 0008 FFF7FEFF 		bl	KernelClock_Init
 392              	.LVL10:
  28:System/kernel/kernel.c **** 
 393              		.loc 1 28 1 view .LVU132
 394 000c 08BD     		pop	{r3, pc}
 395              		.cfi_endproc
 396              	.LFE333:
 398              		.section	.text.Kernel_LoadProcess,"ax",%progbits
 399              		.align	1
 400              		.global	Kernel_LoadProcess
 401              		.syntax unified
 402              		.thumb
 403              		.thumb_func
 404              		.fpu fpv5-d16
 406              	Kernel_LoadProcess:
 407              	.LFB335:
 130:System/kernel/kernel.c ****     uint32_t msp_addr = 0;
 408              		.loc 1 130 1 is_stmt 1 view -0
 409              		.cfi_startproc
 410              		@ args = 0, pretend = 0, frame = 0
 411              		@ frame_needed = 0, uses_anonymous_args = 0
 412              		@ link register save eliminated.
 131:System/kernel/kernel.c **** 
 413              		.loc 1 131 5 view .LVU134
 414              	.LVL11:
 134:System/kernel/kernel.c ****     __ASM("MSR      PSP, R0");
 415              		.loc 1 134 5 view .LVU135
 416              		.syntax unified
 417              	@ 134 "System/kernel/kernel.c" 1
 418 0000 0020     		MOVS     R0, #0
 419              	@ 0 "" 2
 135:System/kernel/kernel.c **** 
 420              		.loc 1 135 5 view .LVU136
 421              	@ 135 "System/kernel/kernel.c" 1
 422 0002 80F30988 		MSR      PSP, R0
ARM GAS  C:\Users\huav\AppData\Local\Temp\cci8n2xT.s 			page 14


 423              	@ 0 "" 2
 138:System/kernel/kernel.c ****     __ASM("LDR      R0, [R0]");
 424              		.loc 1 138 5 view .LVU137
 425              	@ 138 "System/kernel/kernel.c" 1
 426 0006 0548     		LDR      R0, =0xE000ED08
 427              	@ 0 "" 2
 139:System/kernel/kernel.c ****     __ASM("LDR      R0, [R0]");
 428              		.loc 1 139 5 view .LVU138
 429              	@ 139 "System/kernel/kernel.c" 1
 430 0008 0068     		LDR      R0, [R0]
 431              	@ 0 "" 2
 140:System/kernel/kernel.c ****     __ASM("MSR      MSP, R0");
 432              		.loc 1 140 5 view .LVU139
 433              	@ 140 "System/kernel/kernel.c" 1
 434 000a 0068     		LDR      R0, [R0]
 435              	@ 0 "" 2
 141:System/kernel/kernel.c **** 
 436              		.loc 1 141 5 view .LVU140
 437              	@ 141 "System/kernel/kernel.c" 1
 438 000c 80F30888 		MSR      MSP, R0
 439              	@ 0 "" 2
 144:System/kernel/kernel.c ****     __asm("ISB");
 440              		.loc 1 144 5 view .LVU141
 441              	@ 144 "System/kernel/kernel.c" 1
 442 0010 00DF     		SVC      0
 443              	@ 0 "" 2
 145:System/kernel/kernel.c ****     __asm("NOP");
 444              		.loc 1 145 5 view .LVU142
 445              	@ 145 "System/kernel/kernel.c" 1
 446 0012 BFF36F8F 		ISB
 447              	@ 0 "" 2
 146:System/kernel/kernel.c **** }
 448              		.loc 1 146 5 view .LVU143
 449              	@ 146 "System/kernel/kernel.c" 1
 450 0016 00BF     		NOP
 451              	@ 0 "" 2
 147:System/kernel/kernel.c **** 
 452              		.loc 1 147 1 is_stmt 0 view .LVU144
 453              		.thumb
 454              		.syntax unified
 455 0018 7047     		bx	lr
 456              		.cfi_endproc
 457              	.LFE335:
 459 001a 0000     		.section	.text.Kernel_EnablePendSV,"ax",%progbits
 460              		.align	1
 461              		.global	Kernel_EnablePendSV
 462              		.syntax unified
 463              		.thumb
 464              		.thumb_func
 465              		.fpu fpv5-d16
 467              	Kernel_EnablePendSV:
 468              	.LFB336:
 150:System/kernel/kernel.c ****     __ASM(".equ NVIC_SYSPRI14, 0xE000ED22");
 469              		.loc 1 150 1 is_stmt 1 view -0
 470              		.cfi_startproc
 471              		@ Naked Function: prologue and epilogue provided by programmer.
 472              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\huav\AppData\Local\Temp\cci8n2xT.s 			page 15


 473              		@ frame_needed = 0, uses_anonymous_args = 0
 151:System/kernel/kernel.c ****     __ASM(".equ NVIC_PENDSV_PRI, 0xFF");
 474              		.loc 1 151 5 view .LVU146
 475              		.syntax unified
 476              	@ 151 "System/kernel/kernel.c" 1
 477              		.equ NVIC_SYSPRI14, 0xE000ED22
 478              	@ 0 "" 2
 152:System/kernel/kernel.c **** 
 479              		.loc 1 152 5 view .LVU147
 480              	@ 152 "System/kernel/kernel.c" 1
 481              		.equ NVIC_PENDSV_PRI, 0xFF
 482              	@ 0 "" 2
 154:System/kernel/kernel.c ****     __ASM("LDR      R1, =NVIC_PENDSV_PRI");
 483              		.loc 1 154 5 view .LVU148
 484              	@ 154 "System/kernel/kernel.c" 1
 485 0000 0248     		LDR      R0, =NVIC_SYSPRI14
 486              	@ 0 "" 2
 155:System/kernel/kernel.c ****     __ASM("STRB     R1, [R0]");
 487              		.loc 1 155 5 view .LVU149
 488              	@ 155 "System/kernel/kernel.c" 1
 489 0002 4FF0FF01 		LDR      R1, =NVIC_PENDSV_PRI
 490              	@ 0 "" 2
 156:System/kernel/kernel.c ****     __ASM("BX       LR");
 491              		.loc 1 156 5 view .LVU150
 492              	@ 156 "System/kernel/kernel.c" 1
 493 0006 0170     		STRB     R1, [R0]
 494              	@ 0 "" 2
 157:System/kernel/kernel.c **** }
 495              		.loc 1 157 5 view .LVU151
 496              	@ 157 "System/kernel/kernel.c" 1
 497 0008 7047     		BX       LR
 498              	@ 0 "" 2
 158:System/kernel/kernel.c **** 
 499              		.loc 1 158 1 is_stmt 0 view .LVU152
 500              		.thumb
 501              		.syntax unified
 502              		.cfi_endproc
 503              	.LFE336:
 505 000a 0000     		.section	.text.Kernel_TriggerPendSV,"ax",%progbits
 506              		.align	1
 507              		.global	Kernel_TriggerPendSV
 508              		.syntax unified
 509              		.thumb
 510              		.thumb_func
 511              		.fpu fpv5-d16
 513              	Kernel_TriggerPendSV:
 514              	.LFB337:
 161:System/kernel/kernel.c ****     __ASM(".equ NVIC_INT_CTRL, 0xE000ED04");
 515              		.loc 1 161 1 is_stmt 1 view -0
 516              		.cfi_startproc
 517              		@ Naked Function: prologue and epilogue provided by programmer.
 518              		@ args = 0, pretend = 0, frame = 0
 519              		@ frame_needed = 0, uses_anonymous_args = 0
 162:System/kernel/kernel.c ****     __ASM(".equ NVIC_PENDSVSET, 0x10000000");
 520              		.loc 1 162 5 view .LVU154
 521              		.syntax unified
 522              	@ 162 "System/kernel/kernel.c" 1
ARM GAS  C:\Users\huav\AppData\Local\Temp\cci8n2xT.s 			page 16


 523              		.equ NVIC_INT_CTRL, 0xE000ED04
 524              	@ 0 "" 2
 163:System/kernel/kernel.c **** 
 525              		.loc 1 163 5 view .LVU155
 526              	@ 163 "System/kernel/kernel.c" 1
 527              		.equ NVIC_PENDSVSET, 0x10000000
 528              	@ 0 "" 2
 165:System/kernel/kernel.c ****     __ASM("LDR      R1, =NVIC_PENDSVSET");
 529              		.loc 1 165 5 view .LVU156
 530              	@ 165 "System/kernel/kernel.c" 1
 531 0000 0248     		LDR      R0, =NVIC_INT_CTRL
 532              	@ 0 "" 2
 166:System/kernel/kernel.c ****     __ASM("STR      R1, [R0]");
 533              		.loc 1 166 5 view .LVU157
 534              	@ 166 "System/kernel/kernel.c" 1
 535 0002 4FF08051 		LDR      R1, =NVIC_PENDSVSET
 536              	@ 0 "" 2
 167:System/kernel/kernel.c ****     __ASM("BX       LR");
 537              		.loc 1 167 5 view .LVU158
 538              	@ 167 "System/kernel/kernel.c" 1
 539 0006 0160     		STR      R1, [R0]
 540              	@ 0 "" 2
 168:System/kernel/kernel.c **** }
 541              		.loc 1 168 5 view .LVU159
 542              	@ 168 "System/kernel/kernel.c" 1
 543 0008 7047     		BX       LR
 544              	@ 0 "" 2
 169:System/kernel/kernel.c **** 
 545              		.loc 1 169 1 is_stmt 0 view .LVU160
 546              		.thumb
 547              		.syntax unified
 548              		.cfi_endproc
 549              	.LFE337:
 551 000a 0000     		.section	.text.Kernel_GetPSR,"ax",%progbits
 552              		.align	1
 553              		.global	Kernel_GetPSR
 554              		.syntax unified
 555              		.thumb
 556              		.thumb_func
 557              		.fpu fpv5-d16
 559              	Kernel_GetPSR:
 560              	.LFB338:
 175:System/kernel/kernel.c ****     return __get_IPSR();
 561              		.loc 1 175 1 is_stmt 1 view -0
 562              		.cfi_startproc
 563              		@ args = 0, pretend = 0, frame = 0
 564              		@ frame_needed = 0, uses_anonymous_args = 0
 565              		@ link register save eliminated.
 176:System/kernel/kernel.c **** }
 566              		.loc 1 176 5 view .LVU162
 567              	.LBB7:
 568              	.LBI7:
 569              		.file 2 "HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h"
   1:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** /**************************************************************************//**
   2:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  * @file     cmsis_gcc.h
   3:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  * @brief    CMSIS compiler GCC header file
   4:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  * @version  V5.2.0
ARM GAS  C:\Users\huav\AppData\Local\Temp\cci8n2xT.s 			page 17


   5:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  * @date     08. May 2019
   6:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  ******************************************************************************/
   7:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** /*
   8:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  * Copyright (c) 2009-2019 Arm Limited. All rights reserved.
   9:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  *
  10:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  * SPDX-License-Identifier: Apache-2.0
  11:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  *
  12:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  * Licensed under the Apache License, Version 2.0 (the License); you may
  13:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  * not use this file except in compliance with the License.
  14:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  * You may obtain a copy of the License at
  15:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  *
  16:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  * www.apache.org/licenses/LICENSE-2.0
  17:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  *
  18:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  * Unless required by applicable law or agreed to in writing, software
  19:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  * distributed under the License is distributed on an AS IS BASIS, WITHOUT
  20:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  21:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  * See the License for the specific language governing permissions and
  22:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  * limitations under the License.
  23:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  */
  24:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
  25:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef __CMSIS_GCC_H
  26:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #define __CMSIS_GCC_H
  27:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
  28:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** /* ignore some GCC warnings */
  29:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #pragma GCC diagnostic push
  30:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wsign-conversion"
  31:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wconversion"
  32:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wunused-parameter"
  33:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
  34:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** /* Fallback for __has_builtin */
  35:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef __has_builtin
  36:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __has_builtin(x) (0)
  37:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  38:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
  39:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** /* CMSIS compiler specific defines */
  40:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __ASM
  41:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __ASM                                  __asm
  42:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  43:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __INLINE
  44:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __INLINE                               inline
  45:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  46:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __STATIC_INLINE
  47:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __STATIC_INLINE                        static inline
  48:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  49:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __STATIC_FORCEINLINE                 
  50:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __STATIC_FORCEINLINE                   __attribute__((always_inline)) static inline
  51:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif                                           
  52:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __NO_RETURN
  53:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __NO_RETURN                            __attribute__((__noreturn__))
  54:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  55:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __USED
  56:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __USED                                 __attribute__((used))
  57:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  58:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __WEAK
  59:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __WEAK                                 __attribute__((weak))
  60:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  61:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __PACKED
ARM GAS  C:\Users\huav\AppData\Local\Temp\cci8n2xT.s 			page 18


  62:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __PACKED                               __attribute__((packed, aligned(1)))
  63:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  64:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __PACKED_STRUCT
  65:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __PACKED_STRUCT                        struct __attribute__((packed, aligned(1)))
  66:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  67:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __PACKED_UNION
  68:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __PACKED_UNION                         union __attribute__((packed, aligned(1)))
  69:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  70:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32        /* deprecated */
  71:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  72:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  73:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  74:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   struct __attribute__((packed)) T_UINT32 { uint32_t v; };
  75:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  76:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32(x)                  (((struct T_UINT32 *)(x))->v)
  77:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  78:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_WRITE
  79:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  80:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  81:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  82:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_WRITE { uint16_t v; };
  83:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  84:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_WRITE(addr, val)    (void)((((struct T_UINT16_WRITE *)(void *)(addr))-
  85:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  86:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_READ
  87:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  88:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  89:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  90:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_READ { uint16_t v; };
  91:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  92:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_READ(addr)          (((const struct T_UINT16_READ *)(const void *)(add
  93:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
  94:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_WRITE
  95:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  96:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  97:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  98:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_WRITE { uint32_t v; };
  99:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 100:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_WRITE(addr, val)    (void)((((struct T_UINT32_WRITE *)(void *)(addr))-
 101:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 102:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_READ
 103:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
 104:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
 105:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
 106:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_READ { uint32_t v; };
 107:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 108:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_READ(addr)          (((const struct T_UINT32_READ *)(const void *)(add
 109:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 110:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __ALIGNED
 111:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __ALIGNED(x)                           __attribute__((aligned(x)))
 112:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 113:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __RESTRICT
 114:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __RESTRICT                             __restrict
 115:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 116:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef   __COMPILER_BARRIER
 117:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   #define __COMPILER_BARRIER()                   __ASM volatile("":::"memory")
 118:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
ARM GAS  C:\Users\huav\AppData\Local\Temp\cci8n2xT.s 			page 19


 119:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 120:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** /* #########################  Startup and Lowlevel Init  ######################## */
 121:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 122:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef __PROGRAM_START
 123:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 124:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** /**
 125:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Initializes data and bss sections
 126:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \details This default implementations initialized all data and additional bss
 127:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****            sections relying on .copy.table and .zero.table specified properly
 128:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****            in the used linker script.
 129:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   
 130:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  */
 131:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE __NO_RETURN void __cmsis_start(void)
 132:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** {
 133:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   extern void _start(void) __NO_RETURN;
 134:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   
 135:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   typedef struct {
 136:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****     uint32_t const* src;
 137:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****     uint32_t* dest;
 138:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****     uint32_t  wlen;
 139:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   } __copy_table_t;
 140:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   
 141:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   typedef struct {
 142:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****     uint32_t* dest;
 143:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****     uint32_t  wlen;
 144:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   } __zero_table_t;
 145:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   
 146:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   extern const __copy_table_t __copy_table_start__;
 147:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   extern const __copy_table_t __copy_table_end__;
 148:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   extern const __zero_table_t __zero_table_start__;
 149:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   extern const __zero_table_t __zero_table_end__;
 150:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 151:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   for (__copy_table_t const* pTable = &__copy_table_start__; pTable < &__copy_table_end__; ++pTable
 152:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****     for(uint32_t i=0u; i<pTable->wlen; ++i) {
 153:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****       pTable->dest[i] = pTable->src[i];
 154:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****     }
 155:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   }
 156:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  
 157:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   for (__zero_table_t const* pTable = &__zero_table_start__; pTable < &__zero_table_end__; ++pTable
 158:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****     for(uint32_t i=0u; i<pTable->wlen; ++i) {
 159:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****       pTable->dest[i] = 0u;
 160:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****     }
 161:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   }
 162:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  
 163:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   _start();
 164:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** }
 165:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   
 166:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #define __PROGRAM_START           __cmsis_start
 167:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 168:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 169:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef __INITIAL_SP
 170:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #define __INITIAL_SP              __StackTop
 171:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 172:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 173:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef __STACK_LIMIT
 174:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #define __STACK_LIMIT             __StackLimit
 175:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
ARM GAS  C:\Users\huav\AppData\Local\Temp\cci8n2xT.s 			page 20


 176:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 177:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef __VECTOR_TABLE
 178:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #define __VECTOR_TABLE            __Vectors
 179:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 180:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 181:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #ifndef __VECTOR_TABLE_ATTRIBUTE
 182:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #define __VECTOR_TABLE_ATTRIBUTE  __attribute((used, section(".vectors")))
 183:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 184:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 185:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** /* ###########################  Core Function Access  ########################### */
 186:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** /** \ingroup  CMSIS_Core_FunctionInterface
 187:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****     \defgroup CMSIS_Core_RegAccFunctions CMSIS Core Register Access Functions
 188:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   @{
 189:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  */
 190:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 191:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** /**
 192:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Enable IRQ Interrupts
 193:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \details Enables IRQ interrupts by clearing the I-bit in the CPSR.
 194:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 195:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  */
 196:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __enable_irq(void)
 197:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** {
 198:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("cpsie i" : : : "memory");
 199:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** }
 200:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 201:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 202:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** /**
 203:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Disable IRQ Interrupts
 204:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \details Disables IRQ interrupts by setting the I-bit in the CPSR.
 205:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 206:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  */
 207:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __disable_irq(void)
 208:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** {
 209:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("cpsid i" : : : "memory");
 210:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** }
 211:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 212:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 213:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** /**
 214:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Get Control Register
 215:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \details Returns the content of the Control Register.
 216:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \return               Control Register value
 217:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  */
 218:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_CONTROL(void)
 219:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** {
 220:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   uint32_t result;
 221:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 222:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, control" : "=r" (result) );
 223:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   return(result);
 224:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** }
 225:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 226:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 227:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 228:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** /**
 229:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Get Control Register (non-secure)
 230:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \details Returns the content of the non-secure Control Register when in secure mode.
 231:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \return               non-secure Control Register value
 232:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  */
ARM GAS  C:\Users\huav\AppData\Local\Temp\cci8n2xT.s 			page 21


 233:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __TZ_get_CONTROL_NS(void)
 234:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** {
 235:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   uint32_t result;
 236:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 237:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, control_ns" : "=r" (result) );
 238:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   return(result);
 239:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** }
 240:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 241:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 242:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 243:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** /**
 244:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Set Control Register
 245:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \details Writes the given value to the Control Register.
 246:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \param [in]    control  Control Register value to set
 247:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  */
 248:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __set_CONTROL(uint32_t control)
 249:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** {
 250:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MSR control, %0" : : "r" (control) : "memory");
 251:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** }
 252:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 253:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 254:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #if (defined (__ARM_FEATURE_CMSE ) && (__ARM_FEATURE_CMSE == 3))
 255:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** /**
 256:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Set Control Register (non-secure)
 257:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \details Writes the given value to the non-secure Control Register when in secure state.
 258:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \param [in]    control  Control Register value to set
 259:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  */
 260:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __TZ_set_CONTROL_NS(uint32_t control)
 261:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** {
 262:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MSR control_ns, %0" : : "r" (control) : "memory");
 263:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** }
 264:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** #endif
 265:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 266:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 267:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** /**
 268:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \brief   Get IPSR Register
 269:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \details Returns the content of the IPSR Register.
 270:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   \return               IPSR Register value
 271:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****  */
 272:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE uint32_t __get_IPSR(void)
 570              		.loc 2 272 31 view .LVU163
 571              	.LBB8:
 273:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** {
 274:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   uint32_t result;
 572              		.loc 2 274 3 view .LVU164
 275:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 276:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   __ASM volatile ("MRS %0, ipsr" : "=r" (result) );
 573              		.loc 2 276 3 view .LVU165
 574              		.syntax unified
 575              	@ 276 "HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h" 1
 576 0000 EFF30580 		MRS r0, ipsr
 577              	@ 0 "" 2
 578              	.LVL12:
 277:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   return(result);
 579              		.loc 2 277 3 view .LVU166
 580              		.loc 2 277 3 is_stmt 0 view .LVU167
 581              		.thumb
ARM GAS  C:\Users\huav\AppData\Local\Temp\cci8n2xT.s 			page 22


 582              		.syntax unified
 583              	.LBE8:
 584              	.LBE7:
 177:System/kernel/kernel.c **** 
 585              		.loc 1 177 1 view .LVU168
 586 0004 7047     		bx	lr
 587              		.cfi_endproc
 588              	.LFE338:
 590              		.section	.text.Kernel_GetMode,"ax",%progbits
 591              		.align	1
 592              		.global	Kernel_GetMode
 593              		.syntax unified
 594              		.thumb
 595              		.thumb_func
 596              		.fpu fpv5-d16
 598              	Kernel_GetMode:
 599              	.LFB339:
 184:System/kernel/kernel.c ****     return __get_CONTROL();
 600              		.loc 1 184 1 is_stmt 1 view -0
 601              		.cfi_startproc
 602              		@ args = 0, pretend = 0, frame = 0
 603              		@ frame_needed = 0, uses_anonymous_args = 0
 604              		@ link register save eliminated.
 185:System/kernel/kernel.c **** }
 605              		.loc 1 185 5 view .LVU170
 606              	.LBB9:
 607              	.LBI9:
 218:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** {
 608              		.loc 2 218 31 view .LVU171
 609              	.LBB10:
 220:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** 
 610              		.loc 2 220 3 view .LVU172
 222:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h ****   return(result);
 611              		.loc 2 222 3 view .LVU173
 612              		.syntax unified
 613              	@ 222 "HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h" 1
 614 0000 EFF31480 		MRS r0, control
 615              	@ 0 "" 2
 616              	.LVL13:
 223:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** }
 617              		.loc 2 223 3 view .LVU174
 223:HAL_Lib/CMSIS/Core/Include/cmsis_gcc.h **** }
 618              		.loc 2 223 3 is_stmt 0 view .LVU175
 619              		.thumb
 620              		.syntax unified
 621              	.LBE10:
 622              	.LBE9:
 186:System/kernel/kernel.c **** 
 623              		.loc 1 186 1 view .LVU176
 624 0004 7047     		bx	lr
 625              		.cfi_endproc
 626              	.LFE339:
 628              		.section	.text.Kernel_EnterCritical,"ax",%progbits
 629              		.align	1
 630              		.global	Kernel_EnterCritical
 631              		.syntax unified
 632              		.thumb
ARM GAS  C:\Users\huav\AppData\Local\Temp\cci8n2xT.s 			page 23


 633              		.thumb_func
 634              		.fpu fpv5-d16
 636              	Kernel_EnterCritical:
 637              	.LFB341:
 195:System/kernel/kernel.c **** 
 196:System/kernel/kernel.c **** void Kernel_EnterCritical(void)
 197:System/kernel/kernel.c **** {
 638              		.loc 1 197 1 is_stmt 1 view -0
 639              		.cfi_startproc
 640              		@ args = 0, pretend = 0, frame = 0
 641              		@ frame_needed = 0, uses_anonymous_args = 0
 642 0000 08B5     		push	{r3, lr}
 643              	.LCFI5:
 644              		.cfi_def_cfa_offset 8
 645              		.cfi_offset 3, -8
 646              		.cfi_offset 14, -4
 198:System/kernel/kernel.c ****     Kernel_SetBASEPRI(SYSCALL_INTERRUPT_PRIORITY);
 647              		.loc 1 198 5 view .LVU178
 648 0002 3020     		movs	r0, #48
 649 0004 FFF7FEFF 		bl	Kernel_SetBASEPRI
 650              	.LVL14:
 199:System/kernel/kernel.c ****     CriticalNasting_Cnt++;
 651              		.loc 1 199 5 view .LVU179
 652              		.loc 1 199 24 is_stmt 0 view .LVU180
 653 0008 024A     		ldr	r2, .L24
 654 000a 1388     		ldrh	r3, [r2]
 655 000c 0133     		adds	r3, r3, #1
 656 000e 1380     		strh	r3, [r2]	@ movhi
 200:System/kernel/kernel.c **** }
 657              		.loc 1 200 1 view .LVU181
 658 0010 08BD     		pop	{r3, pc}
 659              	.L25:
 660 0012 00BF     		.align	2
 661              	.L24:
 662 0014 00000000 		.word	.LANCHOR0
 663              		.cfi_endproc
 664              	.LFE341:
 666              		.section	.text.Kernel_ExitCritical,"ax",%progbits
 667              		.align	1
 668              		.global	Kernel_ExitCritical
 669              		.syntax unified
 670              		.thumb
 671              		.thumb_func
 672              		.fpu fpv5-d16
 674              	Kernel_ExitCritical:
 675              	.LFB342:
 201:System/kernel/kernel.c **** 
 202:System/kernel/kernel.c **** void Kernel_ExitCritical(void)
 203:System/kernel/kernel.c **** {
 676              		.loc 1 203 1 is_stmt 1 view -0
 677              		.cfi_startproc
 678              		@ args = 0, pretend = 0, frame = 0
 679              		@ frame_needed = 0, uses_anonymous_args = 0
 680 0000 08B5     		push	{r3, lr}
 681              	.LCFI6:
 682              		.cfi_def_cfa_offset 8
 683              		.cfi_offset 3, -8
ARM GAS  C:\Users\huav\AppData\Local\Temp\cci8n2xT.s 			page 24


 684              		.cfi_offset 14, -4
 204:System/kernel/kernel.c ****     if (CriticalNasting_Cnt > 0)
 685              		.loc 1 204 5 view .LVU183
 686              		.loc 1 204 29 is_stmt 0 view .LVU184
 687 0002 084B     		ldr	r3, .L31
 688 0004 1B88     		ldrh	r3, [r3]
 689              		.loc 1 204 8 view .LVU185
 690 0006 4BB1     		cbz	r3, .L27
 205:System/kernel/kernel.c ****     {
 206:System/kernel/kernel.c ****         CriticalNasting_Cnt--;
 691              		.loc 1 206 9 is_stmt 1 view .LVU186
 692              		.loc 1 206 28 is_stmt 0 view .LVU187
 693 0008 013B     		subs	r3, r3, #1
 694 000a 9BB2     		uxth	r3, r3
 695 000c 054A     		ldr	r2, .L31
 696 000e 1380     		strh	r3, [r2]	@ movhi
 207:System/kernel/kernel.c **** 
 208:System/kernel/kernel.c ****         if (CriticalNasting_Cnt == 0)
 697              		.loc 1 208 9 is_stmt 1 view .LVU188
 698              		.loc 1 208 12 is_stmt 0 view .LVU189
 699 0010 03B1     		cbz	r3, .L30
 700              	.L26:
 209:System/kernel/kernel.c ****         {
 210:System/kernel/kernel.c ****             Kernel_SetBASEPRI(0);
 211:System/kernel/kernel.c ****         }
 212:System/kernel/kernel.c ****     }
 213:System/kernel/kernel.c ****     else
 214:System/kernel/kernel.c ****         Kernel_SetBASEPRI(0);
 215:System/kernel/kernel.c **** }
 701              		.loc 1 215 1 view .LVU190
 702 0012 08BD     		pop	{r3, pc}
 703              	.L30:
 210:System/kernel/kernel.c ****         }
 704              		.loc 1 210 13 is_stmt 1 view .LVU191
 705 0014 0020     		movs	r0, #0
 706 0016 FFF7FEFF 		bl	Kernel_SetBASEPRI
 707              	.LVL15:
 708 001a FAE7     		b	.L26
 709              	.L27:
 214:System/kernel/kernel.c **** }
 710              		.loc 1 214 9 view .LVU192
 711 001c 0020     		movs	r0, #0
 712 001e FFF7FEFF 		bl	Kernel_SetBASEPRI
 713              	.LVL16:
 714              		.loc 1 215 1 is_stmt 0 view .LVU193
 715 0022 F6E7     		b	.L26
 716              	.L32:
 717              		.align	2
 718              	.L31:
 719 0024 00000000 		.word	.LANCHOR0
 720              		.cfi_endproc
 721              	.LFE342:
 723              		.section	.bss.CriticalNasting_Cnt,"aw",%nobits
 724              		.align	1
 725              		.set	.LANCHOR0,. + 0
 728              	CriticalNasting_Cnt:
 729 0000 0000     		.space	2
ARM GAS  C:\Users\huav\AppData\Local\Temp\cci8n2xT.s 			page 25


 730              		.text
 731              	.Letext0:
 732              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\inc
 733              		.file 4 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\inc
 734              		.file 5 "HAL_Lib/CMSIS/Device/ST/STM32H7xx/Include/stm32h743xx.h"
 735              		.file 6 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_rcc.h"
 736              		.file 7 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_rcc_ex.h"
 737              		.file 8 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_pwr_ex.h"
 738              		.file 9 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal.h"
 739              		.file 10 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 740              		.file 11 "<built-in>"
ARM GAS  C:\Users\huav\AppData\Local\Temp\cci8n2xT.s 			page 26


DEFINED SYMBOLS
                            *ABS*:00000000 kernel.c
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:17     .text.Kernel_SetBASEPRI:00000000 $t
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:24     .text.Kernel_SetBASEPRI:00000000 Kernel_SetBASEPRI
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:54     .text.KernelClock_Init:00000000 $t
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:60     .text.KernelClock_Init:00000000 KernelClock_Init
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:355    .text.KernelClock_Init:0000013c $d
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:361    .text.Kernel_Init:00000000 $t
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:368    .text.Kernel_Init:00000000 Kernel_Init
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:399    .text.Kernel_LoadProcess:00000000 $t
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:406    .text.Kernel_LoadProcess:00000000 Kernel_LoadProcess
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:460    .text.Kernel_EnablePendSV:00000000 $t
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:467    .text.Kernel_EnablePendSV:00000000 Kernel_EnablePendSV
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:477    *ABS*:e000ed22 NVIC_SYSPRI14
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:481    *ABS*:000000ff NVIC_PENDSV_PRI
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:506    .text.Kernel_TriggerPendSV:00000000 $t
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:513    .text.Kernel_TriggerPendSV:00000000 Kernel_TriggerPendSV
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:523    *ABS*:e000ed04 NVIC_INT_CTRL
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:527    *ABS*:10000000 NVIC_PENDSVSET
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:552    .text.Kernel_GetPSR:00000000 $t
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:559    .text.Kernel_GetPSR:00000000 Kernel_GetPSR
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:591    .text.Kernel_GetMode:00000000 $t
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:598    .text.Kernel_GetMode:00000000 Kernel_GetMode
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:629    .text.Kernel_EnterCritical:00000000 $t
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:636    .text.Kernel_EnterCritical:00000000 Kernel_EnterCritical
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:662    .text.Kernel_EnterCritical:00000014 $d
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:667    .text.Kernel_ExitCritical:00000000 $t
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:674    .text.Kernel_ExitCritical:00000000 Kernel_ExitCritical
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:719    .text.Kernel_ExitCritical:00000024 $d
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:724    .bss.CriticalNasting_Cnt:00000000 $d
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:728    .bss.CriticalNasting_Cnt:00000000 CriticalNasting_Cnt
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:551    .text.Kernel_TriggerPendSV:0000000a $d
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:3686   .text.Kernel_TriggerPendSV:0000000c $d
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:505    .text.Kernel_EnablePendSV:0000000a $d
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:3686   .text.Kernel_EnablePendSV:0000000c $d
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:459    .text.Kernel_LoadProcess:0000001a $d
C:\Users\huav\AppData\Local\Temp\cci8n2xT.s:3686   .text.Kernel_LoadProcess:0000001c $d

UNDEFINED SYMBOLS
memset
HAL_PWREx_ConfigSupply
HAL_RCC_OscConfig
HAL_RCC_ClockConfig
HAL_RCCEx_PeriphCLKConfig
HAL_Init
