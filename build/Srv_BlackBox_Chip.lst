ARM GAS  C:\Users\8bit\AppData\Local\Temp\cceos7su.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"Srv_BlackBox_Chip.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.SrvChip_BlackBox_GetInfo,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	SrvChip_BlackBox_GetInfo:
  26              	.LVL0:
  27              	.LFB150:
  28              		.file 1 "Service/Srv_BlackBox_Chip.c"
   1:Service/Srv_BlackBox_Chip.c **** #include "Srv_BlackBox_Def.h"
   2:Service/Srv_BlackBox_Chip.c **** #include "../System/storage/Storage.h"
   3:Service/Srv_BlackBox_Chip.c **** #include "HW_Def.h"
   4:Service/Srv_BlackBox_Chip.c **** #include "debug_util.h"
   5:Service/Srv_BlackBox_Chip.c **** 
   6:Service/Srv_BlackBox_Chip.c **** typedef struct
   7:Service/Srv_BlackBox_Chip.c **** {
   8:Service/Srv_BlackBox_Chip.c ****     bool init;
   9:Service/Srv_BlackBox_Chip.c ****     bool enable;
  10:Service/Srv_BlackBox_Chip.c ****     bool accessing;
  11:Service/Srv_BlackBox_Chip.c ****     uint8_t *p_buf;
  12:Service/Srv_BlackBox_Chip.c ****     uint32_t info_addr;
  13:Service/Srv_BlackBox_Chip.c ****     uint32_t info_size;
  14:Service/Srv_BlackBox_Chip.c ****     uint32_t log_cnt;
  15:Service/Srv_BlackBox_Chip.c ****     uint32_t log_size;
  16:Service/Srv_BlackBox_Chip.c ****     uint16_t log_unit;
  17:Service/Srv_BlackBox_Chip.c ****     uint32_t rom_addr;
  18:Service/Srv_BlackBox_Chip.c ****     uint32_t rom_size;
  19:Service/Srv_BlackBox_Chip.c **** } Chip_BlackBox_Monitor_TypeDef;
  20:Service/Srv_BlackBox_Chip.c **** 
  21:Service/Srv_BlackBox_Chip.c **** #pragma pack(1)
  22:Service/Srv_BlackBox_Chip.c **** typedef struct
  23:Service/Srv_BlackBox_Chip.c **** {
  24:Service/Srv_BlackBox_Chip.c ****     uint32_t cnt;
  25:Service/Srv_BlackBox_Chip.c ****     uint32_t size;
  26:Service/Srv_BlackBox_Chip.c **** } Chip_BlackBox_Info_TypeDef;
  27:Service/Srv_BlackBox_Chip.c **** #pragma pack()
  28:Service/Srv_BlackBox_Chip.c **** 
  29:Service/Srv_BlackBox_Chip.c **** /* internal function */
  30:Service/Srv_BlackBox_Chip.c **** static  Chip_BlackBox_Monitor_TypeDef ChipBlackBox_Monitor = {
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cceos7su.s 			page 2


  31:Service/Srv_BlackBox_Chip.c ****     .init = false,
  32:Service/Srv_BlackBox_Chip.c ****     .enable = false,
  33:Service/Srv_BlackBox_Chip.c ****     .accessing = false,
  34:Service/Srv_BlackBox_Chip.c ****     .info_addr = 0,
  35:Service/Srv_BlackBox_Chip.c ****     .info_size = 0,
  36:Service/Srv_BlackBox_Chip.c ****     .log_cnt = 0,
  37:Service/Srv_BlackBox_Chip.c ****     .log_size = 0,
  38:Service/Srv_BlackBox_Chip.c ****     .log_unit = 0,
  39:Service/Srv_BlackBox_Chip.c ****     .rom_addr = 0,
  40:Service/Srv_BlackBox_Chip.c ****     .rom_size = 0,
  41:Service/Srv_BlackBox_Chip.c **** };
  42:Service/Srv_BlackBox_Chip.c **** 
  43:Service/Srv_BlackBox_Chip.c **** #define BLACKBOX_CHIP_TAG "[ BLACKBOX CHIP INFO ] "
  44:Service/Srv_BlackBox_Chip.c **** #define BLACKBOX_CHIP_INFO(fmt, ...) Debug_Print(&DebugPort, BLACKBOX_CHIP_TAG , fmt, ##__VA_ARGS__
  45:Service/Srv_BlackBox_Chip.c **** 
  46:Service/Srv_BlackBox_Chip.c **** /* external function */
  47:Service/Srv_BlackBox_Chip.c **** static uint32_t SrvChip_BlackBox_Init(SrvBlackBox_Log_Callback callback);
  48:Service/Srv_BlackBox_Chip.c **** static bool SrvChip_BlackBox_PushData(uint8_t *p_data, uint32_t len);
  49:Service/Srv_BlackBox_Chip.c **** static bool SrvChip_BlackBox_Read(uint32_t addr_offset, uint8_t *p_data, uint32_t len);
  50:Service/Srv_BlackBox_Chip.c **** static bool SrvChip_BlackBox_GetInfo(uint32_t *cnt, uint32_t *size, bool *enable_state);
  51:Service/Srv_BlackBox_Chip.c **** static bool SrvChip_BlackBox_Enable(void);
  52:Service/Srv_BlackBox_Chip.c **** static bool SrvChip_BlackBox_Disable(void);
  53:Service/Srv_BlackBox_Chip.c **** 
  54:Service/Srv_BlackBox_Chip.c **** SrvBlackBox_TypeDef SrvChip_BlackBox = {
  55:Service/Srv_BlackBox_Chip.c ****     .init = SrvChip_BlackBox_Init,
  56:Service/Srv_BlackBox_Chip.c ****     .push = SrvChip_BlackBox_PushData,
  57:Service/Srv_BlackBox_Chip.c ****     .enable = SrvChip_BlackBox_Enable,
  58:Service/Srv_BlackBox_Chip.c ****     .disable = SrvChip_BlackBox_Disable,
  59:Service/Srv_BlackBox_Chip.c ****     .read = SrvChip_BlackBox_Read,
  60:Service/Srv_BlackBox_Chip.c ****     .get_info =SrvChip_BlackBox_GetInfo,
  61:Service/Srv_BlackBox_Chip.c **** };
  62:Service/Srv_BlackBox_Chip.c **** 
  63:Service/Srv_BlackBox_Chip.c **** /* return log unit size */
  64:Service/Srv_BlackBox_Chip.c **** static uint32_t SrvChip_BlackBox_Init(SrvBlackBox_Log_Callback callback)
  65:Service/Srv_BlackBox_Chip.c **** {
  66:Service/Srv_BlackBox_Chip.c ****     Storage_ExtFLashDevObj_TypeDef dev;
  67:Service/Srv_BlackBox_Chip.c ****     memset(&dev, 0, sizeof(Storage_ExtFLashDevObj_TypeDef));
  68:Service/Srv_BlackBox_Chip.c **** 
  69:Service/Srv_BlackBox_Chip.c ****     ChipBlackBox_Monitor.init = false;
  70:Service/Srv_BlackBox_Chip.c ****     /* get external storage flash info */
  71:Service/Srv_BlackBox_Chip.c ****     if (Storage.get_dev_info(&dev) == Storage_Error_None)
  72:Service/Srv_BlackBox_Chip.c ****     {
  73:Service/Srv_BlackBox_Chip.c ****         if ((dev.total_size + dev.start_addr) > BlackBox_Storage_Start_Addr)
  74:Service/Srv_BlackBox_Chip.c ****         {
  75:Service/Srv_BlackBox_Chip.c ****             ChipBlackBox_Monitor.info_addr = BlackBox_Storage_Start_Addr;
  76:Service/Srv_BlackBox_Chip.c ****             ChipBlackBox_Monitor.info_size = dev.sector_size;
  77:Service/Srv_BlackBox_Chip.c ****             ChipBlackBox_Monitor.rom_addr = ChipBlackBox_Monitor.info_addr + ChipBlackBox_Monitor.i
  78:Service/Srv_BlackBox_Chip.c ****             ChipBlackBox_Monitor.rom_size = (dev.total_size + dev.start_addr) - (BlackBox_Storage_S
  79:Service/Srv_BlackBox_Chip.c ****             ChipBlackBox_Monitor.log_unit = dev.sector_size;
  80:Service/Srv_BlackBox_Chip.c **** 
  81:Service/Srv_BlackBox_Chip.c ****             if (ChipBlackBox_Monitor.log_unit)
  82:Service/Srv_BlackBox_Chip.c ****             {
  83:Service/Srv_BlackBox_Chip.c ****                 ChipBlackBox_Monitor.p_buf = SrvOsCommon.malloc(ChipBlackBox_Monitor.log_unit);
  84:Service/Srv_BlackBox_Chip.c ****                 if (ChipBlackBox_Monitor.p_buf == NULL)
  85:Service/Srv_BlackBox_Chip.c ****                 {
  86:Service/Srv_BlackBox_Chip.c ****                     SrvOsCommon.free(ChipBlackBox_Monitor.p_buf);
  87:Service/Srv_BlackBox_Chip.c ****                     return 0;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cceos7su.s 			page 3


  88:Service/Srv_BlackBox_Chip.c ****                 }
  89:Service/Srv_BlackBox_Chip.c ****             }
  90:Service/Srv_BlackBox_Chip.c ****             else
  91:Service/Srv_BlackBox_Chip.c ****                 return 0;
  92:Service/Srv_BlackBox_Chip.c **** 
  93:Service/Srv_BlackBox_Chip.c ****             ChipBlackBox_Monitor.init = true;
  94:Service/Srv_BlackBox_Chip.c ****         }
  95:Service/Srv_BlackBox_Chip.c ****     }
  96:Service/Srv_BlackBox_Chip.c **** 
  97:Service/Srv_BlackBox_Chip.c ****     return ChipBlackBox_Monitor.log_unit;
  98:Service/Srv_BlackBox_Chip.c **** }
  99:Service/Srv_BlackBox_Chip.c **** 
 100:Service/Srv_BlackBox_Chip.c **** static bool SrvChip_BlackBox_PushData(uint8_t *p_data, uint32_t len)
 101:Service/Srv_BlackBox_Chip.c **** {
 102:Service/Srv_BlackBox_Chip.c ****     uint32_t update_addr = 0;
 103:Service/Srv_BlackBox_Chip.c **** 
 104:Service/Srv_BlackBox_Chip.c ****     if (ChipBlackBox_Monitor.init && ChipBlackBox_Monitor.enable)
 105:Service/Srv_BlackBox_Chip.c ****     {
 106:Service/Srv_BlackBox_Chip.c ****         if ((ChipBlackBox_Monitor.rom_size - ChipBlackBox_Monitor.log_size) < len)
 107:Service/Srv_BlackBox_Chip.c ****         {
 108:Service/Srv_BlackBox_Chip.c ****             /* disable log */
 109:Service/Srv_BlackBox_Chip.c ****             ChipBlackBox_Monitor.enable = false;
 110:Service/Srv_BlackBox_Chip.c ****             return false;
 111:Service/Srv_BlackBox_Chip.c ****         }
 112:Service/Srv_BlackBox_Chip.c **** 
 113:Service/Srv_BlackBox_Chip.c ****         ChipBlackBox_Monitor.accessing = true;
 114:Service/Srv_BlackBox_Chip.c ****         update_addr = ChipBlackBox_Monitor.rom_addr + ChipBlackBox_Monitor.log_size;
 115:Service/Srv_BlackBox_Chip.c **** 
 116:Service/Srv_BlackBox_Chip.c ****         /* write data to balckbox data section */
 117:Service/Srv_BlackBox_Chip.c ****         if (!Storage.write_section(update_addr, p_data, len))
 118:Service/Srv_BlackBox_Chip.c ****         {
 119:Service/Srv_BlackBox_Chip.c ****             BLACKBOX_CHIP_INFO("log failed\r\n");
 120:Service/Srv_BlackBox_Chip.c ****             return false;
 121:Service/Srv_BlackBox_Chip.c ****         }
 122:Service/Srv_BlackBox_Chip.c **** 
 123:Service/Srv_BlackBox_Chip.c ****         ChipBlackBox_Monitor.log_cnt ++;
 124:Service/Srv_BlackBox_Chip.c ****         ChipBlackBox_Monitor.log_size += ChipBlackBox_Monitor.log_unit;
 125:Service/Srv_BlackBox_Chip.c **** 
 126:Service/Srv_BlackBox_Chip.c ****         ChipBlackBox_Monitor.accessing = false;
 127:Service/Srv_BlackBox_Chip.c ****     
 128:Service/Srv_BlackBox_Chip.c ****         return true;
 129:Service/Srv_BlackBox_Chip.c ****     }
 130:Service/Srv_BlackBox_Chip.c **** 
 131:Service/Srv_BlackBox_Chip.c ****     return false;
 132:Service/Srv_BlackBox_Chip.c **** }
 133:Service/Srv_BlackBox_Chip.c **** 
 134:Service/Srv_BlackBox_Chip.c **** /* still in developping */
 135:Service/Srv_BlackBox_Chip.c **** static bool SrvChip_BlackBox_Read(uint32_t addr_offset, uint8_t *p_data, uint32_t len)
 136:Service/Srv_BlackBox_Chip.c **** {
 137:Service/Srv_BlackBox_Chip.c ****     Chip_BlackBox_Info_TypeDef info;
 138:Service/Srv_BlackBox_Chip.c ****     uint8_t read_cnt = 1;
 139:Service/Srv_BlackBox_Chip.c ****     uint32_t read_addr = 0;
 140:Service/Srv_BlackBox_Chip.c **** 
 141:Service/Srv_BlackBox_Chip.c ****     memset(&info, 0, sizeof(Chip_BlackBox_Info_TypeDef));
 142:Service/Srv_BlackBox_Chip.c ****     if (ChipBlackBox_Monitor.init && p_data && len && \
 143:Service/Srv_BlackBox_Chip.c ****         ((addr_offset % ChipBlackBox_Monitor.log_unit) == 0) && \
 144:Service/Srv_BlackBox_Chip.c ****         ((len % ChipBlackBox_Monitor.log_unit) == 0) && \
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cceos7su.s 			page 4


 145:Service/Srv_BlackBox_Chip.c ****         (addr_offset < ChipBlackBox_Monitor.rom_size))
 146:Service/Srv_BlackBox_Chip.c ****     {
 147:Service/Srv_BlackBox_Chip.c ****         read_addr = ChipBlackBox_Monitor.rom_addr + addr_offset;
 148:Service/Srv_BlackBox_Chip.c **** 
 149:Service/Srv_BlackBox_Chip.c ****         /* get info first */
 150:Service/Srv_BlackBox_Chip.c ****         if (!Storage.read_section(ChipBlackBox_Monitor.info_addr, ChipBlackBox_Monitor.p_buf, ChipB
 151:Service/Srv_BlackBox_Chip.c ****             return false;
 152:Service/Srv_BlackBox_Chip.c **** 
 153:Service/Srv_BlackBox_Chip.c ****         memcpy(&info, ChipBlackBox_Monitor.p_buf, sizeof(Chip_BlackBox_Info_TypeDef));
 154:Service/Srv_BlackBox_Chip.c ****         if ((info.cnt == 0) || (info.size == 0))
 155:Service/Srv_BlackBox_Chip.c ****             return false;
 156:Service/Srv_BlackBox_Chip.c **** 
 157:Service/Srv_BlackBox_Chip.c ****         /* get balckbox data */
 158:Service/Srv_BlackBox_Chip.c ****         if (!Storage.read_section(read_addr, p_data, len))
 159:Service/Srv_BlackBox_Chip.c ****             return false;
 160:Service/Srv_BlackBox_Chip.c **** 
 161:Service/Srv_BlackBox_Chip.c ****         return true;
 162:Service/Srv_BlackBox_Chip.c ****     }
 163:Service/Srv_BlackBox_Chip.c **** 
 164:Service/Srv_BlackBox_Chip.c ****     return false;
 165:Service/Srv_BlackBox_Chip.c **** }
 166:Service/Srv_BlackBox_Chip.c **** 
 167:Service/Srv_BlackBox_Chip.c **** static bool SrvChip_BlackBox_Enable(void)
 168:Service/Srv_BlackBox_Chip.c **** {
 169:Service/Srv_BlackBox_Chip.c ****     if (ChipBlackBox_Monitor.init)
 170:Service/Srv_BlackBox_Chip.c ****     {
 171:Service/Srv_BlackBox_Chip.c ****         ChipBlackBox_Monitor.log_cnt = 0;
 172:Service/Srv_BlackBox_Chip.c ****         ChipBlackBox_Monitor.log_size = 0;
 173:Service/Srv_BlackBox_Chip.c ****         ChipBlackBox_Monitor.enable = true;
 174:Service/Srv_BlackBox_Chip.c ****         return true;
 175:Service/Srv_BlackBox_Chip.c ****     }
 176:Service/Srv_BlackBox_Chip.c ****     else
 177:Service/Srv_BlackBox_Chip.c ****         BLACKBOX_CHIP_INFO("enable failed\r\n");
 178:Service/Srv_BlackBox_Chip.c **** 
 179:Service/Srv_BlackBox_Chip.c ****     return false;
 180:Service/Srv_BlackBox_Chip.c **** }
 181:Service/Srv_BlackBox_Chip.c **** 
 182:Service/Srv_BlackBox_Chip.c **** static bool SrvChip_BlackBox_Disable(void)
 183:Service/Srv_BlackBox_Chip.c **** {
 184:Service/Srv_BlackBox_Chip.c ****     Chip_BlackBox_Info_TypeDef BlackBoxDataInfo;
 185:Service/Srv_BlackBox_Chip.c ****     uint8_t retry = 10;
 186:Service/Srv_BlackBox_Chip.c **** 
 187:Service/Srv_BlackBox_Chip.c ****     memset(&BlackBoxDataInfo, 0, sizeof(Chip_BlackBox_Info_TypeDef));
 188:Service/Srv_BlackBox_Chip.c ****     if (ChipBlackBox_Monitor.init)
 189:Service/Srv_BlackBox_Chip.c ****     {
 190:Service/Srv_BlackBox_Chip.c ****         ChipBlackBox_Monitor.enable = false;
 191:Service/Srv_BlackBox_Chip.c ****         BlackBoxDataInfo.cnt = ChipBlackBox_Monitor.log_cnt;
 192:Service/Srv_BlackBox_Chip.c ****         BlackBoxDataInfo.size = ChipBlackBox_Monitor.log_size;
 193:Service/Srv_BlackBox_Chip.c ****         memcpy(ChipBlackBox_Monitor.p_buf, &BlackBoxDataInfo, sizeof(Chip_BlackBox_Info_TypeDef));
 194:Service/Srv_BlackBox_Chip.c ****         ChipBlackBox_Monitor.log_cnt = 0;
 195:Service/Srv_BlackBox_Chip.c ****         ChipBlackBox_Monitor.log_size = 0;
 196:Service/Srv_BlackBox_Chip.c **** 
 197:Service/Srv_BlackBox_Chip.c ****         while (retry)
 198:Service/Srv_BlackBox_Chip.c ****         {
 199:Service/Srv_BlackBox_Chip.c ****             /* update info section */
 200:Service/Srv_BlackBox_Chip.c ****             if (!Storage.write_section(ChipBlackBox_Monitor.info_addr, ChipBlackBox_Monitor.p_buf, 
 201:Service/Srv_BlackBox_Chip.c ****             {
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cceos7su.s 			page 5


 202:Service/Srv_BlackBox_Chip.c ****                 retry --;
 203:Service/Srv_BlackBox_Chip.c ****                 if (retry == 0)
 204:Service/Srv_BlackBox_Chip.c ****                 {
 205:Service/Srv_BlackBox_Chip.c ****                     BLACKBOX_CHIP_INFO("write info failed\r\n");
 206:Service/Srv_BlackBox_Chip.c ****                     return false;
 207:Service/Srv_BlackBox_Chip.c ****                 }
 208:Service/Srv_BlackBox_Chip.c ****                 else
 209:Service/Srv_BlackBox_Chip.c ****                     BLACKBOX_CHIP_INFO("info update retry\r\n");
 210:Service/Srv_BlackBox_Chip.c ****             }
 211:Service/Srv_BlackBox_Chip.c ****             else
 212:Service/Srv_BlackBox_Chip.c ****                 return true;
 213:Service/Srv_BlackBox_Chip.c **** 
 214:Service/Srv_BlackBox_Chip.c ****             SrvOsCommon.delay_ms(10);
 215:Service/Srv_BlackBox_Chip.c ****         }
 216:Service/Srv_BlackBox_Chip.c ****     }
 217:Service/Srv_BlackBox_Chip.c ****     else
 218:Service/Srv_BlackBox_Chip.c ****         BLACKBOX_CHIP_INFO("disable failed\r\n");
 219:Service/Srv_BlackBox_Chip.c **** 
 220:Service/Srv_BlackBox_Chip.c ****     return false;
 221:Service/Srv_BlackBox_Chip.c **** }
 222:Service/Srv_BlackBox_Chip.c **** 
 223:Service/Srv_BlackBox_Chip.c **** static bool SrvChip_BlackBox_GetInfo(uint32_t *cnt, uint32_t *size, bool *enable_state)
 224:Service/Srv_BlackBox_Chip.c **** {
  29              		.loc 1 224 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 8
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 224 1 is_stmt 0 view .LVU1
  34 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 20
  37              		.cfi_offset 4, -20
  38              		.cfi_offset 5, -16
  39              		.cfi_offset 6, -12
  40              		.cfi_offset 7, -8
  41              		.cfi_offset 14, -4
  42 0002 83B0     		sub	sp, sp, #12
  43              	.LCFI1:
  44              		.cfi_def_cfa_offset 32
 225:Service/Srv_BlackBox_Chip.c ****     Chip_BlackBox_Info_TypeDef info;
  45              		.loc 1 225 5 is_stmt 1 view .LVU2
 226:Service/Srv_BlackBox_Chip.c **** 
 227:Service/Srv_BlackBox_Chip.c ****     memset(&info, 0, sizeof(Chip_BlackBox_Info_TypeDef));
  46              		.loc 1 227 5 view .LVU3
  47 0004 0023     		movs	r3, #0
  48 0006 0093     		str	r3, [sp]
  49 0008 0193     		str	r3, [sp, #4]
 228:Service/Srv_BlackBox_Chip.c ****     if (ChipBlackBox_Monitor.init && cnt && size && enable_state)
  50              		.loc 1 228 5 view .LVU4
  51              		.loc 1 228 29 is_stmt 0 view .LVU5
  52 000a 0F4B     		ldr	r3, .L4
  53 000c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  54              		.loc 1 228 8 view .LVU6
  55 000e BBB1     		cbz	r3, .L2
  56 0010 0646     		mov	r6, r0
  57 0012 0D46     		mov	r5, r1
  58 0014 1446     		mov	r4, r2
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cceos7su.s 			page 6


  59              		.loc 1 228 35 discriminator 1 view .LVU7
  60 0016 98B1     		cbz	r0, .L2
  61              		.loc 1 228 42 discriminator 2 view .LVU8
  62 0018 91B1     		cbz	r1, .L2
  63              		.loc 1 228 50 discriminator 3 view .LVU9
  64 001a 8AB1     		cbz	r2, .L2
 229:Service/Srv_BlackBox_Chip.c ****     {
 230:Service/Srv_BlackBox_Chip.c ****         if (!Storage.read_section(ChipBlackBox_Monitor.info_addr, ChipBlackBox_Monitor.p_buf, ChipB
  65              		.loc 1 230 9 is_stmt 1 view .LVU10
  66              		.loc 1 230 21 is_stmt 0 view .LVU11
  67 001c 0B4B     		ldr	r3, .L4+4
  68 001e DF69     		ldr	r7, [r3, #28]
  69              		.loc 1 230 115 view .LVU12
  70 0020 094B     		ldr	r3, .L4
  71              		.loc 1 230 14 view .LVU13
  72 0022 9A89     		ldrh	r2, [r3, #12]
  73              	.LVL1:
  74              		.loc 1 230 14 view .LVU14
  75 0024 5968     		ldr	r1, [r3, #4]
  76              	.LVL2:
  77              		.loc 1 230 14 view .LVU15
  78 0026 9868     		ldr	r0, [r3, #8]
  79              	.LVL3:
  80              		.loc 1 230 14 view .LVU16
  81 0028 B847     		blx	r7
  82              	.LVL4:
  83              		.loc 1 230 12 view .LVU17
  84 002a 48B1     		cbz	r0, .L2
 231:Service/Srv_BlackBox_Chip.c ****             return false;
 232:Service/Srv_BlackBox_Chip.c **** 
 233:Service/Srv_BlackBox_Chip.c ****         memcpy(&info, ChipBlackBox_Monitor.p_buf, sizeof(Chip_BlackBox_Info_TypeDef));
  85              		.loc 1 233 9 is_stmt 1 view .LVU18
  86              		.loc 1 233 43 is_stmt 0 view .LVU19
  87 002c 064A     		ldr	r2, .L4
  88 002e 5168     		ldr	r1, [r2, #4]
  89              		.loc 1 233 9 view .LVU20
  90 0030 6B46     		mov	r3, sp
  91 0032 0868     		ldr	r0, [r1]	@ unaligned
  92 0034 4968     		ldr	r1, [r1, #4]	@ unaligned
  93 0036 03C3     		stmia	r3!, {r0, r1}
 234:Service/Srv_BlackBox_Chip.c ****         *cnt = info.cnt;
  94              		.loc 1 234 9 is_stmt 1 view .LVU21
  95              		.loc 1 234 14 is_stmt 0 view .LVU22
  96 0038 3060     		str	r0, [r6]
 235:Service/Srv_BlackBox_Chip.c ****         *size = info.size;
  97              		.loc 1 235 9 is_stmt 1 view .LVU23
  98              		.loc 1 235 15 is_stmt 0 view .LVU24
  99 003a 2960     		str	r1, [r5]
 236:Service/Srv_BlackBox_Chip.c ****         *enable_state = ChipBlackBox_Monitor.enable;
 100              		.loc 1 236 9 is_stmt 1 view .LVU25
 101              		.loc 1 236 45 is_stmt 0 view .LVU26
 102 003c 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 103              		.loc 1 236 23 view .LVU27
 104 003e 2370     		strb	r3, [r4]
 105              	.LVL5:
 106              	.L2:
 237:Service/Srv_BlackBox_Chip.c ****     }
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cceos7su.s 			page 7


 238:Service/Srv_BlackBox_Chip.c **** 
 239:Service/Srv_BlackBox_Chip.c ****     return false;
 240:Service/Srv_BlackBox_Chip.c **** }
 107              		.loc 1 240 1 view .LVU28
 108 0040 0020     		movs	r0, #0
 109 0042 03B0     		add	sp, sp, #12
 110              	.LCFI2:
 111              		.cfi_def_cfa_offset 20
 112              		@ sp needed
 113 0044 F0BD     		pop	{r4, r5, r6, r7, pc}
 114              	.L5:
 115 0046 00BF     		.align	2
 116              	.L4:
 117 0048 00000000 		.word	.LANCHOR0
 118 004c 00000000 		.word	Storage
 119              		.cfi_endproc
 120              	.LFE150:
 122              		.section	.text.SrvChip_BlackBox_Read,"ax",%progbits
 123              		.align	1
 124              		.syntax unified
 125              		.thumb
 126              		.thumb_func
 128              	SrvChip_BlackBox_Read:
 129              	.LVL6:
 130              	.LFB147:
 136:Service/Srv_BlackBox_Chip.c ****     Chip_BlackBox_Info_TypeDef info;
 131              		.loc 1 136 1 is_stmt 1 view -0
 132              		.cfi_startproc
 133              		@ args = 0, pretend = 0, frame = 8
 134              		@ frame_needed = 0, uses_anonymous_args = 0
 136:Service/Srv_BlackBox_Chip.c ****     Chip_BlackBox_Info_TypeDef info;
 135              		.loc 1 136 1 is_stmt 0 view .LVU30
 136 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 137              	.LCFI3:
 138              		.cfi_def_cfa_offset 20
 139              		.cfi_offset 4, -20
 140              		.cfi_offset 5, -16
 141              		.cfi_offset 6, -12
 142              		.cfi_offset 7, -8
 143              		.cfi_offset 14, -4
 144 0002 83B0     		sub	sp, sp, #12
 145              	.LCFI4:
 146              		.cfi_def_cfa_offset 32
 147 0004 8446     		mov	ip, r0
 137:Service/Srv_BlackBox_Chip.c ****     uint8_t read_cnt = 1;
 148              		.loc 1 137 5 is_stmt 1 view .LVU31
 138:Service/Srv_BlackBox_Chip.c ****     uint32_t read_addr = 0;
 149              		.loc 1 138 5 view .LVU32
 150              	.LVL7:
 139:Service/Srv_BlackBox_Chip.c **** 
 151              		.loc 1 139 5 view .LVU33
 141:Service/Srv_BlackBox_Chip.c ****     if (ChipBlackBox_Monitor.init && p_data && len && \
 152              		.loc 1 141 5 view .LVU34
 153 0006 0023     		movs	r3, #0
 154 0008 0093     		str	r3, [sp]
 155 000a 0193     		str	r3, [sp, #4]
 142:Service/Srv_BlackBox_Chip.c ****         ((addr_offset % ChipBlackBox_Monitor.log_unit) == 0) && \
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cceos7su.s 			page 8


 156              		.loc 1 142 5 view .LVU35
 142:Service/Srv_BlackBox_Chip.c ****         ((addr_offset % ChipBlackBox_Monitor.log_unit) == 0) && \
 157              		.loc 1 142 29 is_stmt 0 view .LVU36
 158 000c 1F4B     		ldr	r3, .L16
 159 000e 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 160              	.LVL8:
 142:Service/Srv_BlackBox_Chip.c ****         ((addr_offset % ChipBlackBox_Monitor.log_unit) == 0) && \
 161              		.loc 1 142 8 view .LVU37
 162 0010 0028     		cmp	r0, #0
 163 0012 2ED0     		beq	.L7
 164 0014 0D46     		mov	r5, r1
 165 0016 1446     		mov	r4, r2
 142:Service/Srv_BlackBox_Chip.c ****         ((addr_offset % ChipBlackBox_Monitor.log_unit) == 0) && \
 166              		.loc 1 142 35 discriminator 1 view .LVU38
 167 0018 41B3     		cbz	r1, .L8
 142:Service/Srv_BlackBox_Chip.c ****         ((addr_offset % ChipBlackBox_Monitor.log_unit) == 0) && \
 168              		.loc 1 142 45 discriminator 2 view .LVU39
 169 001a 4AB3     		cbz	r2, .L9
 143:Service/Srv_BlackBox_Chip.c ****         ((len % ChipBlackBox_Monitor.log_unit) == 0) && \
 170              		.loc 1 143 45 discriminator 3 view .LVU40
 171 001c 1A8B     		ldrh	r2, [r3, #24]
 172              	.LVL9:
 143:Service/Srv_BlackBox_Chip.c ****         ((len % ChipBlackBox_Monitor.log_unit) == 0) && \
 173              		.loc 1 143 23 discriminator 3 view .LVU41
 174 001e BCFBF2F3 		udiv	r3, ip, r2
 175 0022 02FB13C3 		mls	r3, r2, r3, ip
 142:Service/Srv_BlackBox_Chip.c ****         ((addr_offset % ChipBlackBox_Monitor.log_unit) == 0) && \
 176              		.loc 1 142 52 discriminator 3 view .LVU42
 177 0026 33BB     		cbnz	r3, .L10
 144:Service/Srv_BlackBox_Chip.c ****         (addr_offset < ChipBlackBox_Monitor.rom_size))
 178              		.loc 1 144 15 view .LVU43
 179 0028 B4FBF2F3 		udiv	r3, r4, r2
 180 002c 02FB1342 		mls	r2, r2, r3, r4
 143:Service/Srv_BlackBox_Chip.c ****         ((len % ChipBlackBox_Monitor.log_unit) == 0) && \
 181              		.loc 1 143 62 view .LVU44
 182 0030 1ABB     		cbnz	r2, .L11
 145:Service/Srv_BlackBox_Chip.c ****     {
 183              		.loc 1 145 44 view .LVU45
 184 0032 164B     		ldr	r3, .L16
 185 0034 1B6A     		ldr	r3, [r3, #32]
 144:Service/Srv_BlackBox_Chip.c ****         (addr_offset < ChipBlackBox_Monitor.rom_size))
 186              		.loc 1 144 54 view .LVU46
 187 0036 6345     		cmp	r3, ip
 188 0038 21D9     		bls	.L12
 147:Service/Srv_BlackBox_Chip.c **** 
 189              		.loc 1 147 9 is_stmt 1 view .LVU47
 147:Service/Srv_BlackBox_Chip.c **** 
 190              		.loc 1 147 41 is_stmt 0 view .LVU48
 191 003a 144B     		ldr	r3, .L16
 192 003c DE69     		ldr	r6, [r3, #28]
 147:Service/Srv_BlackBox_Chip.c **** 
 193              		.loc 1 147 19 view .LVU49
 194 003e 6644     		add	r6, r6, ip
 195              	.LVL10:
 150:Service/Srv_BlackBox_Chip.c ****             return false;
 196              		.loc 1 150 9 is_stmt 1 view .LVU50
 150:Service/Srv_BlackBox_Chip.c ****             return false;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cceos7su.s 			page 9


 197              		.loc 1 150 21 is_stmt 0 view .LVU51
 198 0040 134A     		ldr	r2, .L16+4
 199 0042 D769     		ldr	r7, [r2, #28]
 150:Service/Srv_BlackBox_Chip.c ****             return false;
 200              		.loc 1 150 14 view .LVU52
 201 0044 9A89     		ldrh	r2, [r3, #12]
 202 0046 5968     		ldr	r1, [r3, #4]
 203              	.LVL11:
 150:Service/Srv_BlackBox_Chip.c ****             return false;
 204              		.loc 1 150 14 view .LVU53
 205 0048 9868     		ldr	r0, [r3, #8]
 206 004a B847     		blx	r7
 207              	.LVL12:
 150:Service/Srv_BlackBox_Chip.c ****             return false;
 208              		.loc 1 150 12 view .LVU54
 209 004c 88B1     		cbz	r0, .L7
 153:Service/Srv_BlackBox_Chip.c ****         if ((info.cnt == 0) || (info.size == 0))
 210              		.loc 1 153 9 is_stmt 1 view .LVU55
 153:Service/Srv_BlackBox_Chip.c ****         if ((info.cnt == 0) || (info.size == 0))
 211              		.loc 1 153 43 is_stmt 0 view .LVU56
 212 004e 0F4B     		ldr	r3, .L16
 213 0050 5A68     		ldr	r2, [r3, #4]
 153:Service/Srv_BlackBox_Chip.c ****         if ((info.cnt == 0) || (info.size == 0))
 214              		.loc 1 153 9 view .LVU57
 215 0052 6B46     		mov	r3, sp
 216 0054 1068     		ldr	r0, [r2]	@ unaligned
 217 0056 5168     		ldr	r1, [r2, #4]	@ unaligned
 218 0058 03C3     		stmia	r3!, {r0, r1}
 154:Service/Srv_BlackBox_Chip.c ****             return false;
 219              		.loc 1 154 9 is_stmt 1 view .LVU58
 154:Service/Srv_BlackBox_Chip.c ****             return false;
 220              		.loc 1 154 12 is_stmt 0 view .LVU59
 221 005a 90B1     		cbz	r0, .L13
 154:Service/Srv_BlackBox_Chip.c ****             return false;
 222              		.loc 1 154 29 discriminator 1 view .LVU60
 223 005c 99B1     		cbz	r1, .L14
 158:Service/Srv_BlackBox_Chip.c ****             return false;
 224              		.loc 1 158 9 is_stmt 1 view .LVU61
 158:Service/Srv_BlackBox_Chip.c ****             return false;
 225              		.loc 1 158 21 is_stmt 0 view .LVU62
 226 005e 0C4B     		ldr	r3, .L16+4
 227 0060 DB69     		ldr	r3, [r3, #28]
 158:Service/Srv_BlackBox_Chip.c ****             return false;
 228              		.loc 1 158 14 view .LVU63
 229 0062 A2B2     		uxth	r2, r4
 230 0064 2946     		mov	r1, r5
 231 0066 3046     		mov	r0, r6
 232 0068 9847     		blx	r3
 233              	.LVL13:
 234 006a 02E0     		b	.L7
 235              	.LVL14:
 236              	.L8:
 164:Service/Srv_BlackBox_Chip.c **** }
 237              		.loc 1 164 12 view .LVU64
 238 006c 0020     		movs	r0, #0
 239 006e 00E0     		b	.L7
 240              	.L9:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cceos7su.s 			page 10


 241 0070 0020     		movs	r0, #0
 242              	.LVL15:
 243              	.L7:
 165:Service/Srv_BlackBox_Chip.c **** 
 244              		.loc 1 165 1 view .LVU65
 245 0072 03B0     		add	sp, sp, #12
 246              	.LCFI5:
 247              		.cfi_remember_state
 248              		.cfi_def_cfa_offset 20
 249              		@ sp needed
 250 0074 F0BD     		pop	{r4, r5, r6, r7, pc}
 251              	.LVL16:
 252              	.L10:
 253              	.LCFI6:
 254              		.cfi_restore_state
 164:Service/Srv_BlackBox_Chip.c **** }
 255              		.loc 1 164 12 view .LVU66
 256 0076 0020     		movs	r0, #0
 257 0078 FBE7     		b	.L7
 258              	.L11:
 259 007a 0020     		movs	r0, #0
 260 007c F9E7     		b	.L7
 261              	.L12:
 262 007e 0020     		movs	r0, #0
 263 0080 F7E7     		b	.L7
 264              	.LVL17:
 265              	.L13:
 155:Service/Srv_BlackBox_Chip.c **** 
 266              		.loc 1 155 20 view .LVU67
 267 0082 0020     		movs	r0, #0
 268 0084 F5E7     		b	.L7
 269              	.L14:
 270 0086 0020     		movs	r0, #0
 271 0088 F3E7     		b	.L7
 272              	.L17:
 273 008a 00BF     		.align	2
 274              	.L16:
 275 008c 00000000 		.word	.LANCHOR0
 276 0090 00000000 		.word	Storage
 277              		.cfi_endproc
 278              	.LFE147:
 280              		.section	.text.SrvChip_BlackBox_Init,"ax",%progbits
 281              		.align	1
 282              		.syntax unified
 283              		.thumb
 284              		.thumb_func
 286              	SrvChip_BlackBox_Init:
 287              	.LVL18:
 288              	.LFB145:
  65:Service/Srv_BlackBox_Chip.c ****     Storage_ExtFLashDevObj_TypeDef dev;
 289              		.loc 1 65 1 is_stmt 1 view -0
 290              		.cfi_startproc
 291              		@ args = 0, pretend = 0, frame = 56
 292              		@ frame_needed = 0, uses_anonymous_args = 0
  65:Service/Srv_BlackBox_Chip.c ****     Storage_ExtFLashDevObj_TypeDef dev;
 293              		.loc 1 65 1 is_stmt 0 view .LVU69
 294 0000 00B5     		push	{lr}
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cceos7su.s 			page 11


 295              	.LCFI7:
 296              		.cfi_def_cfa_offset 4
 297              		.cfi_offset 14, -4
 298 0002 8FB0     		sub	sp, sp, #60
 299              	.LCFI8:
 300              		.cfi_def_cfa_offset 64
  66:Service/Srv_BlackBox_Chip.c ****     memset(&dev, 0, sizeof(Storage_ExtFLashDevObj_TypeDef));
 301              		.loc 1 66 5 is_stmt 1 view .LVU70
  67:Service/Srv_BlackBox_Chip.c **** 
 302              		.loc 1 67 5 view .LVU71
 303 0004 3422     		movs	r2, #52
 304 0006 0021     		movs	r1, #0
 305 0008 01A8     		add	r0, sp, #4
 306              	.LVL19:
  67:Service/Srv_BlackBox_Chip.c **** 
 307              		.loc 1 67 5 is_stmt 0 view .LVU72
 308 000a FFF7FEFF 		bl	memset
 309              	.LVL20:
  69:Service/Srv_BlackBox_Chip.c ****     /* get external storage flash info */
 310              		.loc 1 69 5 is_stmt 1 view .LVU73
  69:Service/Srv_BlackBox_Chip.c ****     /* get external storage flash info */
 311              		.loc 1 69 31 is_stmt 0 view .LVU74
 312 000e 194B     		ldr	r3, .L25
 313 0010 0022     		movs	r2, #0
 314 0012 1A70     		strb	r2, [r3]
  71:Service/Srv_BlackBox_Chip.c ****     {
 315              		.loc 1 71 5 is_stmt 1 view .LVU75
  71:Service/Srv_BlackBox_Chip.c ****     {
 316              		.loc 1 71 16 is_stmt 0 view .LVU76
 317 0014 184B     		ldr	r3, .L25+4
 318 0016 5B69     		ldr	r3, [r3, #20]
  71:Service/Srv_BlackBox_Chip.c ****     {
 319              		.loc 1 71 9 view .LVU77
 320 0018 01A8     		add	r0, sp, #4
 321 001a 9847     		blx	r3
 322              	.LVL21:
  71:Service/Srv_BlackBox_Chip.c ****     {
 323              		.loc 1 71 8 view .LVU78
 324 001c E8B9     		cbnz	r0, .L19
  73:Service/Srv_BlackBox_Chip.c ****         {
 325              		.loc 1 73 9 is_stmt 1 view .LVU79
  73:Service/Srv_BlackBox_Chip.c ****         {
 326              		.loc 1 73 29 is_stmt 0 view .LVU80
 327 001e 039B     		ldr	r3, [sp, #12]
 328 0020 029A     		ldr	r2, [sp, #8]
 329 0022 1344     		add	r3, r3, r2
  73:Service/Srv_BlackBox_Chip.c ****         {
 330              		.loc 1 73 12 view .LVU81
 331 0024 B3F5501F 		cmp	r3, #3407872
 332 0028 17D9     		bls	.L19
  75:Service/Srv_BlackBox_Chip.c ****             ChipBlackBox_Monitor.info_size = dev.sector_size;
 333              		.loc 1 75 13 is_stmt 1 view .LVU82
  75:Service/Srv_BlackBox_Chip.c ****             ChipBlackBox_Monitor.info_size = dev.sector_size;
 334              		.loc 1 75 44 is_stmt 0 view .LVU83
 335 002a 124A     		ldr	r2, .L25
 336 002c 4FF45011 		mov	r1, #3407872
 337 0030 9160     		str	r1, [r2, #8]
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cceos7su.s 			page 12


  76:Service/Srv_BlackBox_Chip.c ****             ChipBlackBox_Monitor.rom_addr = ChipBlackBox_Monitor.info_addr + ChipBlackBox_Monitor.i
 338              		.loc 1 76 13 is_stmt 1 view .LVU84
  76:Service/Srv_BlackBox_Chip.c ****             ChipBlackBox_Monitor.rom_addr = ChipBlackBox_Monitor.info_addr + ChipBlackBox_Monitor.i
 339              		.loc 1 76 49 is_stmt 0 view .LVU85
 340 0032 0B98     		ldr	r0, [sp, #44]
  76:Service/Srv_BlackBox_Chip.c ****             ChipBlackBox_Monitor.rom_addr = ChipBlackBox_Monitor.info_addr + ChipBlackBox_Monitor.i
 341              		.loc 1 76 44 view .LVU86
 342 0034 D060     		str	r0, [r2, #12]
  77:Service/Srv_BlackBox_Chip.c ****             ChipBlackBox_Monitor.rom_size = (dev.total_size + dev.start_addr) - (BlackBox_Storage_S
 343              		.loc 1 77 13 is_stmt 1 view .LVU87
  77:Service/Srv_BlackBox_Chip.c ****             ChipBlackBox_Monitor.rom_size = (dev.total_size + dev.start_addr) - (BlackBox_Storage_S
 344              		.loc 1 77 76 is_stmt 0 view .LVU88
 345 0036 4118     		adds	r1, r0, r1
  77:Service/Srv_BlackBox_Chip.c ****             ChipBlackBox_Monitor.rom_size = (dev.total_size + dev.start_addr) - (BlackBox_Storage_S
 346              		.loc 1 77 43 view .LVU89
 347 0038 D161     		str	r1, [r2, #28]
  78:Service/Srv_BlackBox_Chip.c ****             ChipBlackBox_Monitor.log_unit = dev.sector_size;
 348              		.loc 1 78 13 is_stmt 1 view .LVU90
  78:Service/Srv_BlackBox_Chip.c ****             ChipBlackBox_Monitor.log_unit = dev.sector_size;
 349              		.loc 1 78 79 is_stmt 0 view .LVU91
 350 003a 1B1A     		subs	r3, r3, r0
 351 003c A3F55013 		sub	r3, r3, #3407872
  78:Service/Srv_BlackBox_Chip.c ****             ChipBlackBox_Monitor.log_unit = dev.sector_size;
 352              		.loc 1 78 43 view .LVU92
 353 0040 1362     		str	r3, [r2, #32]
  79:Service/Srv_BlackBox_Chip.c **** 
 354              		.loc 1 79 13 is_stmt 1 view .LVU93
  79:Service/Srv_BlackBox_Chip.c **** 
 355              		.loc 1 79 43 is_stmt 0 view .LVU94
 356 0042 80B2     		uxth	r0, r0
 357 0044 1083     		strh	r0, [r2, #24]	@ movhi
  81:Service/Srv_BlackBox_Chip.c ****             {
 358              		.loc 1 81 13 is_stmt 1 view .LVU95
  81:Service/Srv_BlackBox_Chip.c ****             {
 359              		.loc 1 81 16 is_stmt 0 view .LVU96
 360 0046 90B1     		cbz	r0, .L22
  83:Service/Srv_BlackBox_Chip.c ****                 if (ChipBlackBox_Monitor.p_buf == NULL)
 361              		.loc 1 83 17 is_stmt 1 view .LVU97
  83:Service/Srv_BlackBox_Chip.c ****                 if (ChipBlackBox_Monitor.p_buf == NULL)
 362              		.loc 1 83 57 is_stmt 0 view .LVU98
 363 0048 0C4B     		ldr	r3, .L25+8
 364 004a 9B6A     		ldr	r3, [r3, #40]
  83:Service/Srv_BlackBox_Chip.c ****                 if (ChipBlackBox_Monitor.p_buf == NULL)
 365              		.loc 1 83 46 view .LVU99
 366 004c 9847     		blx	r3
 367              	.LVL22:
  83:Service/Srv_BlackBox_Chip.c ****                 if (ChipBlackBox_Monitor.p_buf == NULL)
 368              		.loc 1 83 44 view .LVU100
 369 004e 094B     		ldr	r3, .L25
 370 0050 5860     		str	r0, [r3, #4]
  84:Service/Srv_BlackBox_Chip.c ****                 {
 371              		.loc 1 84 17 is_stmt 1 view .LVU101
  84:Service/Srv_BlackBox_Chip.c ****                 {
 372              		.loc 1 84 20 is_stmt 0 view .LVU102
 373 0052 38B1     		cbz	r0, .L24
  93:Service/Srv_BlackBox_Chip.c ****         }
 374              		.loc 1 93 13 is_stmt 1 view .LVU103
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cceos7su.s 			page 13


  93:Service/Srv_BlackBox_Chip.c ****         }
 375              		.loc 1 93 39 is_stmt 0 view .LVU104
 376 0054 074B     		ldr	r3, .L25
 377 0056 0122     		movs	r2, #1
 378 0058 1A70     		strb	r2, [r3]
 379              	.L19:
  97:Service/Srv_BlackBox_Chip.c **** }
 380              		.loc 1 97 5 is_stmt 1 view .LVU105
  97:Service/Srv_BlackBox_Chip.c **** }
 381              		.loc 1 97 32 is_stmt 0 view .LVU106
 382 005a 064B     		ldr	r3, .L25
 383 005c 188B     		ldrh	r0, [r3, #24]
 384              	.L18:
  98:Service/Srv_BlackBox_Chip.c **** 
 385              		.loc 1 98 1 view .LVU107
 386 005e 0FB0     		add	sp, sp, #60
 387              	.LCFI9:
 388              		.cfi_remember_state
 389              		.cfi_def_cfa_offset 4
 390              		@ sp needed
 391 0060 5DF804FB 		ldr	pc, [sp], #4
 392              	.L24:
 393              	.LCFI10:
 394              		.cfi_restore_state
  86:Service/Srv_BlackBox_Chip.c ****                     return 0;
 395              		.loc 1 86 21 is_stmt 1 view .LVU108
  86:Service/Srv_BlackBox_Chip.c ****                     return 0;
 396              		.loc 1 86 32 is_stmt 0 view .LVU109
 397 0064 054B     		ldr	r3, .L25+8
 398 0066 DB6A     		ldr	r3, [r3, #44]
  86:Service/Srv_BlackBox_Chip.c ****                     return 0;
 399              		.loc 1 86 21 view .LVU110
 400 0068 9847     		blx	r3
 401              	.LVL23:
  87:Service/Srv_BlackBox_Chip.c ****                 }
 402              		.loc 1 87 21 is_stmt 1 view .LVU111
  87:Service/Srv_BlackBox_Chip.c ****                 }
 403              		.loc 1 87 28 is_stmt 0 view .LVU112
 404 006a 0020     		movs	r0, #0
 405 006c F7E7     		b	.L18
 406              	.L22:
  91:Service/Srv_BlackBox_Chip.c **** 
 407              		.loc 1 91 24 view .LVU113
 408 006e 0020     		movs	r0, #0
 409 0070 F5E7     		b	.L18
 410              	.L26:
 411 0072 00BF     		.align	2
 412              	.L25:
 413 0074 00000000 		.word	.LANCHOR0
 414 0078 00000000 		.word	Storage
 415 007c 00000000 		.word	SrvOsCommon
 416              		.cfi_endproc
 417              	.LFE145:
 419              		.section	.rodata.SrvChip_BlackBox_PushData.str1.4,"aMS",%progbits,1
 420              		.align	2
 421              	.LC0:
 422 0000 6C6F6720 		.ascii	"log failed\015\012\000"
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cceos7su.s 			page 14


 422      6661696C 
 422      65640D0A 
 422      00
 423 000d 000000   		.align	2
 424              	.LC1:
 425 0010 5B20424C 		.ascii	"[ BLACKBOX CHIP INFO ] \000"
 425      41434B42 
 425      4F582043 
 425      48495020 
 425      494E464F 
 426              		.section	.text.SrvChip_BlackBox_PushData,"ax",%progbits
 427              		.align	1
 428              		.syntax unified
 429              		.thumb
 430              		.thumb_func
 432              	SrvChip_BlackBox_PushData:
 433              	.LVL24:
 434              	.LFB146:
 101:Service/Srv_BlackBox_Chip.c ****     uint32_t update_addr = 0;
 435              		.loc 1 101 1 is_stmt 1 view -0
 436              		.cfi_startproc
 437              		@ args = 0, pretend = 0, frame = 0
 438              		@ frame_needed = 0, uses_anonymous_args = 0
 101:Service/Srv_BlackBox_Chip.c ****     uint32_t update_addr = 0;
 439              		.loc 1 101 1 is_stmt 0 view .LVU115
 440 0000 38B5     		push	{r3, r4, r5, lr}
 441              	.LCFI11:
 442              		.cfi_def_cfa_offset 16
 443              		.cfi_offset 3, -16
 444              		.cfi_offset 4, -12
 445              		.cfi_offset 5, -8
 446              		.cfi_offset 14, -4
 102:Service/Srv_BlackBox_Chip.c **** 
 447              		.loc 1 102 5 is_stmt 1 view .LVU116
 448              	.LVL25:
 104:Service/Srv_BlackBox_Chip.c ****     {
 449              		.loc 1 104 5 view .LVU117
 104:Service/Srv_BlackBox_Chip.c ****     {
 450              		.loc 1 104 29 is_stmt 0 view .LVU118
 451 0002 164B     		ldr	r3, .L34
 452 0004 1C78     		ldrb	r4, [r3]	@ zero_extendqisi2
 104:Service/Srv_BlackBox_Chip.c ****     {
 453              		.loc 1 104 8 view .LVU119
 454 0006 ECB1     		cbz	r4, .L28
 104:Service/Srv_BlackBox_Chip.c ****     {
 455              		.loc 1 104 58 discriminator 1 view .LVU120
 456 0008 5C78     		ldrb	r4, [r3, #1]	@ zero_extendqisi2
 104:Service/Srv_BlackBox_Chip.c ****     {
 457              		.loc 1 104 35 discriminator 1 view .LVU121
 458 000a DCB1     		cbz	r4, .L28
 106:Service/Srv_BlackBox_Chip.c ****         {
 459              		.loc 1 106 9 is_stmt 1 view .LVU122
 106:Service/Srv_BlackBox_Chip.c ****         {
 460              		.loc 1 106 34 is_stmt 0 view .LVU123
 461 000c 1A46     		mov	r2, r3
 462 000e 1B6A     		ldr	r3, [r3, #32]
 106:Service/Srv_BlackBox_Chip.c ****         {
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cceos7su.s 			page 15


 463              		.loc 1 106 66 view .LVU124
 464 0010 5469     		ldr	r4, [r2, #20]
 106:Service/Srv_BlackBox_Chip.c ****         {
 465              		.loc 1 106 44 view .LVU125
 466 0012 1B1B     		subs	r3, r3, r4
 106:Service/Srv_BlackBox_Chip.c ****         {
 467              		.loc 1 106 12 view .LVU126
 468 0014 8B42     		cmp	r3, r1
 469 0016 17D3     		bcc	.L32
 113:Service/Srv_BlackBox_Chip.c ****         update_addr = ChipBlackBox_Monitor.rom_addr + ChipBlackBox_Monitor.log_size;
 470              		.loc 1 113 9 is_stmt 1 view .LVU127
 113:Service/Srv_BlackBox_Chip.c ****         update_addr = ChipBlackBox_Monitor.rom_addr + ChipBlackBox_Monitor.log_size;
 471              		.loc 1 113 40 is_stmt 0 view .LVU128
 472 0018 104B     		ldr	r3, .L34
 473 001a 0122     		movs	r2, #1
 474 001c 9A70     		strb	r2, [r3, #2]
 114:Service/Srv_BlackBox_Chip.c **** 
 475              		.loc 1 114 9 is_stmt 1 view .LVU129
 114:Service/Srv_BlackBox_Chip.c **** 
 476              		.loc 1 114 43 is_stmt 0 view .LVU130
 477 001e DD69     		ldr	r5, [r3, #28]
 478              	.LVL26:
 117:Service/Srv_BlackBox_Chip.c ****         {
 479              		.loc 1 117 9 is_stmt 1 view .LVU131
 117:Service/Srv_BlackBox_Chip.c ****         {
 480              		.loc 1 117 21 is_stmt 0 view .LVU132
 481 0020 0F4B     		ldr	r3, .L34+4
 482 0022 9B69     		ldr	r3, [r3, #24]
 117:Service/Srv_BlackBox_Chip.c ****         {
 483              		.loc 1 117 14 view .LVU133
 484 0024 8AB2     		uxth	r2, r1
 485 0026 0146     		mov	r1, r0
 486              	.LVL27:
 117:Service/Srv_BlackBox_Chip.c ****         {
 487              		.loc 1 117 14 view .LVU134
 488 0028 6019     		adds	r0, r4, r5
 489              	.LVL28:
 117:Service/Srv_BlackBox_Chip.c ****         {
 490              		.loc 1 117 14 view .LVU135
 491 002a 9847     		blx	r3
 492              	.LVL29:
 117:Service/Srv_BlackBox_Chip.c ****         {
 493              		.loc 1 117 12 view .LVU136
 494 002c 0446     		mov	r4, r0
 495              	.LVL30:
 117:Service/Srv_BlackBox_Chip.c ****         {
 496              		.loc 1 117 12 view .LVU137
 497 002e 70B1     		cbz	r0, .L33
 123:Service/Srv_BlackBox_Chip.c ****         ChipBlackBox_Monitor.log_size += ChipBlackBox_Monitor.log_unit;
 498              		.loc 1 123 9 is_stmt 1 view .LVU138
 123:Service/Srv_BlackBox_Chip.c ****         ChipBlackBox_Monitor.log_size += ChipBlackBox_Monitor.log_unit;
 499              		.loc 1 123 29 is_stmt 0 view .LVU139
 500 0030 0A4B     		ldr	r3, .L34
 501 0032 1A69     		ldr	r2, [r3, #16]
 123:Service/Srv_BlackBox_Chip.c ****         ChipBlackBox_Monitor.log_size += ChipBlackBox_Monitor.log_unit;
 502              		.loc 1 123 38 view .LVU140
 503 0034 0132     		adds	r2, r2, #1
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cceos7su.s 			page 16


 504 0036 1A61     		str	r2, [r3, #16]
 124:Service/Srv_BlackBox_Chip.c **** 
 505              		.loc 1 124 9 is_stmt 1 view .LVU141
 124:Service/Srv_BlackBox_Chip.c **** 
 506              		.loc 1 124 62 is_stmt 0 view .LVU142
 507 0038 198B     		ldrh	r1, [r3, #24]
 124:Service/Srv_BlackBox_Chip.c **** 
 508              		.loc 1 124 39 view .LVU143
 509 003a 5A69     		ldr	r2, [r3, #20]
 510 003c 0A44     		add	r2, r2, r1
 511 003e 5A61     		str	r2, [r3, #20]
 126:Service/Srv_BlackBox_Chip.c ****     
 512              		.loc 1 126 9 is_stmt 1 view .LVU144
 126:Service/Srv_BlackBox_Chip.c ****     
 513              		.loc 1 126 40 is_stmt 0 view .LVU145
 514 0040 0022     		movs	r2, #0
 515 0042 9A70     		strb	r2, [r3, #2]
 128:Service/Srv_BlackBox_Chip.c ****     }
 516              		.loc 1 128 9 is_stmt 1 view .LVU146
 517              	.L28:
 132:Service/Srv_BlackBox_Chip.c **** 
 518              		.loc 1 132 1 is_stmt 0 view .LVU147
 519 0044 2046     		mov	r0, r4
 520 0046 38BD     		pop	{r3, r4, r5, pc}
 521              	.LVL31:
 522              	.L32:
 109:Service/Srv_BlackBox_Chip.c ****             return false;
 523              		.loc 1 109 13 is_stmt 1 view .LVU148
 109:Service/Srv_BlackBox_Chip.c ****             return false;
 524              		.loc 1 109 41 is_stmt 0 view .LVU149
 525 0048 0024     		movs	r4, #0
 526 004a 5470     		strb	r4, [r2, #1]
 110:Service/Srv_BlackBox_Chip.c ****         }
 527              		.loc 1 110 13 is_stmt 1 view .LVU150
 110:Service/Srv_BlackBox_Chip.c ****         }
 528              		.loc 1 110 20 is_stmt 0 view .LVU151
 529 004c FAE7     		b	.L28
 530              	.LVL32:
 531              	.L33:
 119:Service/Srv_BlackBox_Chip.c ****             return false;
 532              		.loc 1 119 13 is_stmt 1 view .LVU152
 533 004e 054A     		ldr	r2, .L34+8
 534 0050 0549     		ldr	r1, .L34+12
 535 0052 0648     		ldr	r0, .L34+16
 536 0054 FFF7FEFF 		bl	Debug_Print
 537              	.LVL33:
 120:Service/Srv_BlackBox_Chip.c ****         }
 538              		.loc 1 120 13 view .LVU153
 120:Service/Srv_BlackBox_Chip.c ****         }
 539              		.loc 1 120 20 is_stmt 0 view .LVU154
 540 0058 F4E7     		b	.L28
 541              	.L35:
 542 005a 00BF     		.align	2
 543              	.L34:
 544 005c 00000000 		.word	.LANCHOR0
 545 0060 00000000 		.word	Storage
 546 0064 00000000 		.word	.LC0
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cceos7su.s 			page 17


 547 0068 10000000 		.word	.LC1
 548 006c 00000000 		.word	DebugPort
 549              		.cfi_endproc
 550              	.LFE146:
 552              		.section	.rodata.SrvChip_BlackBox_Disable.str1.4,"aMS",%progbits,1
 553              		.align	2
 554              	.LC2:
 555 0000 77726974 		.ascii	"write info failed\015\012\000"
 555      6520696E 
 555      666F2066 
 555      61696C65 
 555      640D0A00 
 556              		.align	2
 557              	.LC3:
 558 0014 696E666F 		.ascii	"info update retry\015\012\000"
 558      20757064 
 558      61746520 
 558      72657472 
 558      790D0A00 
 559              		.align	2
 560              	.LC4:
 561 0028 64697361 		.ascii	"disable failed\015\012\000"
 561      626C6520 
 561      6661696C 
 561      65640D0A 
 561      00
 562              		.section	.text.SrvChip_BlackBox_Disable,"ax",%progbits
 563              		.align	1
 564              		.syntax unified
 565              		.thumb
 566              		.thumb_func
 568              	SrvChip_BlackBox_Disable:
 569              	.LFB149:
 183:Service/Srv_BlackBox_Chip.c ****     Chip_BlackBox_Info_TypeDef BlackBoxDataInfo;
 570              		.loc 1 183 1 is_stmt 1 view -0
 571              		.cfi_startproc
 572              		@ args = 0, pretend = 0, frame = 8
 573              		@ frame_needed = 0, uses_anonymous_args = 0
 574 0000 30B5     		push	{r4, r5, lr}
 575              	.LCFI12:
 576              		.cfi_def_cfa_offset 12
 577              		.cfi_offset 4, -12
 578              		.cfi_offset 5, -8
 579              		.cfi_offset 14, -4
 580 0002 83B0     		sub	sp, sp, #12
 581              	.LCFI13:
 582              		.cfi_def_cfa_offset 24
 184:Service/Srv_BlackBox_Chip.c ****     uint8_t retry = 10;
 583              		.loc 1 184 5 view .LVU156
 185:Service/Srv_BlackBox_Chip.c **** 
 584              		.loc 1 185 5 view .LVU157
 585              	.LVL34:
 187:Service/Srv_BlackBox_Chip.c ****     if (ChipBlackBox_Monitor.init)
 586              		.loc 1 187 5 view .LVU158
 587 0004 0023     		movs	r3, #0
 588 0006 0093     		str	r3, [sp]
 589 0008 0193     		str	r3, [sp, #4]
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cceos7su.s 			page 18


 188:Service/Srv_BlackBox_Chip.c ****     {
 590              		.loc 1 188 5 view .LVU159
 188:Service/Srv_BlackBox_Chip.c ****     {
 591              		.loc 1 188 29 is_stmt 0 view .LVU160
 592 000a 1D4B     		ldr	r3, .L45
 593 000c 1D78     		ldrb	r5, [r3]	@ zero_extendqisi2
 188:Service/Srv_BlackBox_Chip.c ****     {
 594              		.loc 1 188 8 view .LVU161
 595 000e 002D     		cmp	r5, #0
 596 0010 2DD0     		beq	.L37
 190:Service/Srv_BlackBox_Chip.c ****         BlackBoxDataInfo.cnt = ChipBlackBox_Monitor.log_cnt;
 597              		.loc 1 190 9 is_stmt 1 view .LVU162
 190:Service/Srv_BlackBox_Chip.c ****         BlackBoxDataInfo.cnt = ChipBlackBox_Monitor.log_cnt;
 598              		.loc 1 190 37 is_stmt 0 view .LVU163
 599 0012 0024     		movs	r4, #0
 600 0014 5C70     		strb	r4, [r3, #1]
 191:Service/Srv_BlackBox_Chip.c ****         BlackBoxDataInfo.size = ChipBlackBox_Monitor.log_size;
 601              		.loc 1 191 9 is_stmt 1 view .LVU164
 191:Service/Srv_BlackBox_Chip.c ****         BlackBoxDataInfo.size = ChipBlackBox_Monitor.log_size;
 602              		.loc 1 191 52 is_stmt 0 view .LVU165
 603 0016 1A69     		ldr	r2, [r3, #16]
 191:Service/Srv_BlackBox_Chip.c ****         BlackBoxDataInfo.size = ChipBlackBox_Monitor.log_size;
 604              		.loc 1 191 30 view .LVU166
 605 0018 0092     		str	r2, [sp]
 192:Service/Srv_BlackBox_Chip.c ****         memcpy(ChipBlackBox_Monitor.p_buf, &BlackBoxDataInfo, sizeof(Chip_BlackBox_Info_TypeDef));
 606              		.loc 1 192 9 is_stmt 1 view .LVU167
 192:Service/Srv_BlackBox_Chip.c ****         memcpy(ChipBlackBox_Monitor.p_buf, &BlackBoxDataInfo, sizeof(Chip_BlackBox_Info_TypeDef));
 607              		.loc 1 192 53 is_stmt 0 view .LVU168
 608 001a 5A69     		ldr	r2, [r3, #20]
 192:Service/Srv_BlackBox_Chip.c ****         memcpy(ChipBlackBox_Monitor.p_buf, &BlackBoxDataInfo, sizeof(Chip_BlackBox_Info_TypeDef));
 609              		.loc 1 192 31 view .LVU169
 610 001c 0192     		str	r2, [sp, #4]
 193:Service/Srv_BlackBox_Chip.c ****         ChipBlackBox_Monitor.log_cnt = 0;
 611              		.loc 1 193 9 is_stmt 1 view .LVU170
 193:Service/Srv_BlackBox_Chip.c ****         ChipBlackBox_Monitor.log_cnt = 0;
 612              		.loc 1 193 36 is_stmt 0 view .LVU171
 613 001e 5D68     		ldr	r5, [r3, #4]
 193:Service/Srv_BlackBox_Chip.c ****         ChipBlackBox_Monitor.log_cnt = 0;
 614              		.loc 1 193 9 view .LVU172
 615 0020 6A46     		mov	r2, sp
 616 0022 03CA     		ldmia	r2!, {r0, r1}
 617 0024 2860     		str	r0, [r5]	@ unaligned
 618 0026 6960     		str	r1, [r5, #4]	@ unaligned
 194:Service/Srv_BlackBox_Chip.c ****         ChipBlackBox_Monitor.log_size = 0;
 619              		.loc 1 194 9 is_stmt 1 view .LVU173
 194:Service/Srv_BlackBox_Chip.c ****         ChipBlackBox_Monitor.log_size = 0;
 620              		.loc 1 194 38 is_stmt 0 view .LVU174
 621 0028 1C61     		str	r4, [r3, #16]
 195:Service/Srv_BlackBox_Chip.c **** 
 622              		.loc 1 195 9 is_stmt 1 view .LVU175
 195:Service/Srv_BlackBox_Chip.c **** 
 623              		.loc 1 195 39 is_stmt 0 view .LVU176
 624 002a 5C61     		str	r4, [r3, #20]
 197:Service/Srv_BlackBox_Chip.c ****         {
 625              		.loc 1 197 9 is_stmt 1 view .LVU177
 185:Service/Srv_BlackBox_Chip.c **** 
 626              		.loc 1 185 13 is_stmt 0 view .LVU178
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cceos7su.s 			page 19


 627 002c 0A24     		movs	r4, #10
 628              	.LVL35:
 629              	.L38:
 197:Service/Srv_BlackBox_Chip.c ****         {
 630              		.loc 1 197 15 is_stmt 1 view .LVU179
 631 002e E4B1     		cbz	r4, .L43
 200:Service/Srv_BlackBox_Chip.c ****             {
 632              		.loc 1 200 13 view .LVU180
 200:Service/Srv_BlackBox_Chip.c ****             {
 633              		.loc 1 200 25 is_stmt 0 view .LVU181
 634 0030 144B     		ldr	r3, .L45+4
 635 0032 9D69     		ldr	r5, [r3, #24]
 200:Service/Srv_BlackBox_Chip.c ****             {
 636              		.loc 1 200 120 view .LVU182
 637 0034 124B     		ldr	r3, .L45
 200:Service/Srv_BlackBox_Chip.c ****             {
 638              		.loc 1 200 18 view .LVU183
 639 0036 9A89     		ldrh	r2, [r3, #12]
 640 0038 5968     		ldr	r1, [r3, #4]
 641 003a 9868     		ldr	r0, [r3, #8]
 642 003c A847     		blx	r5
 643              	.LVL36:
 200:Service/Srv_BlackBox_Chip.c ****             {
 644              		.loc 1 200 16 view .LVU184
 645 003e 0546     		mov	r5, r0
 646 0040 D0B9     		cbnz	r0, .L39
 202:Service/Srv_BlackBox_Chip.c ****                 if (retry == 0)
 647              		.loc 1 202 17 is_stmt 1 view .LVU185
 202:Service/Srv_BlackBox_Chip.c ****                 if (retry == 0)
 648              		.loc 1 202 23 is_stmt 0 view .LVU186
 649 0042 013C     		subs	r4, r4, #1
 650              	.LVL37:
 203:Service/Srv_BlackBox_Chip.c ****                 {
 651              		.loc 1 203 17 is_stmt 1 view .LVU187
 203:Service/Srv_BlackBox_Chip.c ****                 {
 652              		.loc 1 203 20 is_stmt 0 view .LVU188
 653 0044 14F0FF04 		ands	r4, r4, #255
 654              	.LVL38:
 203:Service/Srv_BlackBox_Chip.c ****                 {
 655              		.loc 1 203 20 view .LVU189
 656 0048 09D0     		beq	.L44
 209:Service/Srv_BlackBox_Chip.c ****             }
 657              		.loc 1 209 21 is_stmt 1 view .LVU190
 658 004a 0F4A     		ldr	r2, .L45+8
 659 004c 0F49     		ldr	r1, .L45+12
 660 004e 1048     		ldr	r0, .L45+16
 661 0050 FFF7FEFF 		bl	Debug_Print
 662              	.LVL39:
 214:Service/Srv_BlackBox_Chip.c ****         }
 663              		.loc 1 214 13 view .LVU191
 214:Service/Srv_BlackBox_Chip.c ****         }
 664              		.loc 1 214 24 is_stmt 0 view .LVU192
 665 0054 0F4B     		ldr	r3, .L45+20
 666 0056 5B68     		ldr	r3, [r3, #4]
 214:Service/Srv_BlackBox_Chip.c ****         }
 667              		.loc 1 214 13 view .LVU193
 668 0058 0A20     		movs	r0, #10
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cceos7su.s 			page 20


 669 005a 9847     		blx	r3
 670              	.LVL40:
 671 005c E7E7     		b	.L38
 672              	.L44:
 205:Service/Srv_BlackBox_Chip.c ****                     return false;
 673              		.loc 1 205 21 is_stmt 1 view .LVU194
 674 005e 0E4A     		ldr	r2, .L45+24
 675 0060 0A49     		ldr	r1, .L45+12
 676 0062 0B48     		ldr	r0, .L45+16
 677 0064 FFF7FEFF 		bl	Debug_Print
 678              	.LVL41:
 206:Service/Srv_BlackBox_Chip.c ****                 }
 679              		.loc 1 206 21 view .LVU195
 206:Service/Srv_BlackBox_Chip.c ****                 }
 680              		.loc 1 206 28 is_stmt 0 view .LVU196
 681 0068 06E0     		b	.L39
 682              	.LVL42:
 683              	.L43:
 220:Service/Srv_BlackBox_Chip.c **** }
 684              		.loc 1 220 12 view .LVU197
 685 006a 0025     		movs	r5, #0
 686 006c 04E0     		b	.L39
 687              	.LVL43:
 688              	.L37:
 218:Service/Srv_BlackBox_Chip.c **** 
 689              		.loc 1 218 9 is_stmt 1 view .LVU198
 690 006e 0B4A     		ldr	r2, .L45+28
 691 0070 0649     		ldr	r1, .L45+12
 692 0072 0748     		ldr	r0, .L45+16
 693 0074 FFF7FEFF 		bl	Debug_Print
 694              	.LVL44:
 695              	.L39:
 221:Service/Srv_BlackBox_Chip.c **** 
 696              		.loc 1 221 1 is_stmt 0 view .LVU199
 697 0078 2846     		mov	r0, r5
 698 007a 03B0     		add	sp, sp, #12
 699              	.LCFI14:
 700              		.cfi_def_cfa_offset 12
 701              		@ sp needed
 702 007c 30BD     		pop	{r4, r5, pc}
 703              	.L46:
 704 007e 00BF     		.align	2
 705              	.L45:
 706 0080 00000000 		.word	.LANCHOR0
 707 0084 00000000 		.word	Storage
 708 0088 14000000 		.word	.LC3
 709 008c 10000000 		.word	.LC1
 710 0090 00000000 		.word	DebugPort
 711 0094 00000000 		.word	SrvOsCommon
 712 0098 00000000 		.word	.LC2
 713 009c 28000000 		.word	.LC4
 714              		.cfi_endproc
 715              	.LFE149:
 717              		.section	.rodata.SrvChip_BlackBox_Enable.str1.4,"aMS",%progbits,1
 718              		.align	2
 719              	.LC5:
 720 0000 656E6162 		.ascii	"enable failed\015\012\000"
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cceos7su.s 			page 21


 720      6C652066 
 720      61696C65 
 720      640D0A00 
 721              		.section	.text.SrvChip_BlackBox_Enable,"ax",%progbits
 722              		.align	1
 723              		.syntax unified
 724              		.thumb
 725              		.thumb_func
 727              	SrvChip_BlackBox_Enable:
 728              	.LFB148:
 168:Service/Srv_BlackBox_Chip.c ****     if (ChipBlackBox_Monitor.init)
 729              		.loc 1 168 1 is_stmt 1 view -0
 730              		.cfi_startproc
 731              		@ args = 0, pretend = 0, frame = 0
 732              		@ frame_needed = 0, uses_anonymous_args = 0
 733 0000 10B5     		push	{r4, lr}
 734              	.LCFI15:
 735              		.cfi_def_cfa_offset 8
 736              		.cfi_offset 4, -8
 737              		.cfi_offset 14, -4
 169:Service/Srv_BlackBox_Chip.c ****     {
 738              		.loc 1 169 5 view .LVU201
 169:Service/Srv_BlackBox_Chip.c ****     {
 739              		.loc 1 169 29 is_stmt 0 view .LVU202
 740 0002 084B     		ldr	r3, .L51
 741 0004 1C78     		ldrb	r4, [r3]	@ zero_extendqisi2
 169:Service/Srv_BlackBox_Chip.c ****     {
 742              		.loc 1 169 8 view .LVU203
 743 0006 34B1     		cbz	r4, .L48
 171:Service/Srv_BlackBox_Chip.c ****         ChipBlackBox_Monitor.log_size = 0;
 744              		.loc 1 171 9 is_stmt 1 view .LVU204
 171:Service/Srv_BlackBox_Chip.c ****         ChipBlackBox_Monitor.log_size = 0;
 745              		.loc 1 171 38 is_stmt 0 view .LVU205
 746 0008 0022     		movs	r2, #0
 747 000a 1A61     		str	r2, [r3, #16]
 172:Service/Srv_BlackBox_Chip.c ****         ChipBlackBox_Monitor.enable = true;
 748              		.loc 1 172 9 is_stmt 1 view .LVU206
 172:Service/Srv_BlackBox_Chip.c ****         ChipBlackBox_Monitor.enable = true;
 749              		.loc 1 172 39 is_stmt 0 view .LVU207
 750 000c 5A61     		str	r2, [r3, #20]
 173:Service/Srv_BlackBox_Chip.c ****         return true;
 751              		.loc 1 173 9 is_stmt 1 view .LVU208
 173:Service/Srv_BlackBox_Chip.c ****         return true;
 752              		.loc 1 173 37 is_stmt 0 view .LVU209
 753 000e 0122     		movs	r2, #1
 754 0010 5A70     		strb	r2, [r3, #1]
 174:Service/Srv_BlackBox_Chip.c ****     }
 755              		.loc 1 174 9 is_stmt 1 view .LVU210
 756              	.L49:
 180:Service/Srv_BlackBox_Chip.c **** 
 757              		.loc 1 180 1 is_stmt 0 view .LVU211
 758 0012 2046     		mov	r0, r4
 759 0014 10BD     		pop	{r4, pc}
 760              	.L48:
 177:Service/Srv_BlackBox_Chip.c **** 
 761              		.loc 1 177 9 is_stmt 1 view .LVU212
 762 0016 044A     		ldr	r2, .L51+4
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cceos7su.s 			page 22


 763 0018 0449     		ldr	r1, .L51+8
 764 001a 0548     		ldr	r0, .L51+12
 765 001c FFF7FEFF 		bl	Debug_Print
 766              	.LVL45:
 179:Service/Srv_BlackBox_Chip.c **** }
 767              		.loc 1 179 5 view .LVU213
 179:Service/Srv_BlackBox_Chip.c **** }
 768              		.loc 1 179 12 is_stmt 0 view .LVU214
 769 0020 F7E7     		b	.L49
 770              	.L52:
 771 0022 00BF     		.align	2
 772              	.L51:
 773 0024 00000000 		.word	.LANCHOR0
 774 0028 00000000 		.word	.LC5
 775 002c 10000000 		.word	.LC1
 776 0030 00000000 		.word	DebugPort
 777              		.cfi_endproc
 778              	.LFE148:
 780              		.global	SrvChip_BlackBox
 781              		.section	.bss.ChipBlackBox_Monitor,"aw",%nobits
 782              		.align	2
 783              		.set	.LANCHOR0,. + 0
 786              	ChipBlackBox_Monitor:
 787 0000 00000000 		.space	36
 787      00000000 
 787      00000000 
 787      00000000 
 787      00000000 
 788              		.section	.data.SrvChip_BlackBox,"aw"
 789              		.align	2
 792              	SrvChip_BlackBox:
 793 0000 00000000 		.word	SrvChip_BlackBox_Init
 794 0004 00000000 		.word	SrvChip_BlackBox_Enable
 795 0008 00000000 		.word	SrvChip_BlackBox_Disable
 796 000c 00000000 		.word	SrvChip_BlackBox_PushData
 797 0010 00000000 		.word	SrvChip_BlackBox_Read
 798 0014 00000000 		.word	SrvChip_BlackBox_GetInfo
 799              		.text
 800              	.Letext0:
 801              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 802              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 803              		.file 4 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\lib\\gcc\\arm-none-eabi\
 804              		.file 5 "System/FreeRTOS/include/portable.h"
 805              		.file 6 "Service/Srv_OsCommon.h"
 806              		.file 7 "HW_Lib/AT32F435/drivers/inc/at32f435_437_tmr.h"
 807              		.file 8 "debug/debug_util.h"
 808              		.file 9 "common/Error_Log/../../common/gen_physic_def/imu_data.h"
 809              		.file 10 "HW_Lib/AT32F435/PinPort_Def/CCRC_AT32_20/HW_Def.h"
 810              		.file 11 "Service/Srv_BlackBox_Def.h"
 811              		.file 12 "Device/Dev_Dshot.h"
 812              		.file 13 "Service/control_data.h"
 813              		.file 14 "Service/../System/storage/Storage.h"
 814              		.file 15 "System/FreeRTOS/FreeRTOSConfig.h"
 815              		.file 16 "<built-in>"
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cceos7su.s 			page 23


DEFINED SYMBOLS
                            *ABS*:00000000 Srv_BlackBox_Chip.c
C:\Users\8bit\AppData\Local\Temp\cceos7su.s:20     .text.SrvChip_BlackBox_GetInfo:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cceos7su.s:25     .text.SrvChip_BlackBox_GetInfo:00000000 SrvChip_BlackBox_GetInfo
C:\Users\8bit\AppData\Local\Temp\cceos7su.s:117    .text.SrvChip_BlackBox_GetInfo:00000048 $d
C:\Users\8bit\AppData\Local\Temp\cceos7su.s:123    .text.SrvChip_BlackBox_Read:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cceos7su.s:128    .text.SrvChip_BlackBox_Read:00000000 SrvChip_BlackBox_Read
C:\Users\8bit\AppData\Local\Temp\cceos7su.s:275    .text.SrvChip_BlackBox_Read:0000008c $d
C:\Users\8bit\AppData\Local\Temp\cceos7su.s:281    .text.SrvChip_BlackBox_Init:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cceos7su.s:286    .text.SrvChip_BlackBox_Init:00000000 SrvChip_BlackBox_Init
C:\Users\8bit\AppData\Local\Temp\cceos7su.s:413    .text.SrvChip_BlackBox_Init:00000074 $d
C:\Users\8bit\AppData\Local\Temp\cceos7su.s:420    .rodata.SrvChip_BlackBox_PushData.str1.4:00000000 $d
C:\Users\8bit\AppData\Local\Temp\cceos7su.s:427    .text.SrvChip_BlackBox_PushData:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cceos7su.s:432    .text.SrvChip_BlackBox_PushData:00000000 SrvChip_BlackBox_PushData
C:\Users\8bit\AppData\Local\Temp\cceos7su.s:544    .text.SrvChip_BlackBox_PushData:0000005c $d
C:\Users\8bit\AppData\Local\Temp\cceos7su.s:553    .rodata.SrvChip_BlackBox_Disable.str1.4:00000000 $d
C:\Users\8bit\AppData\Local\Temp\cceos7su.s:563    .text.SrvChip_BlackBox_Disable:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cceos7su.s:568    .text.SrvChip_BlackBox_Disable:00000000 SrvChip_BlackBox_Disable
C:\Users\8bit\AppData\Local\Temp\cceos7su.s:706    .text.SrvChip_BlackBox_Disable:00000080 $d
C:\Users\8bit\AppData\Local\Temp\cceos7su.s:718    .rodata.SrvChip_BlackBox_Enable.str1.4:00000000 $d
C:\Users\8bit\AppData\Local\Temp\cceos7su.s:722    .text.SrvChip_BlackBox_Enable:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cceos7su.s:727    .text.SrvChip_BlackBox_Enable:00000000 SrvChip_BlackBox_Enable
C:\Users\8bit\AppData\Local\Temp\cceos7su.s:773    .text.SrvChip_BlackBox_Enable:00000024 $d
C:\Users\8bit\AppData\Local\Temp\cceos7su.s:792    .data.SrvChip_BlackBox:00000000 SrvChip_BlackBox
C:\Users\8bit\AppData\Local\Temp\cceos7su.s:782    .bss.ChipBlackBox_Monitor:00000000 $d
C:\Users\8bit\AppData\Local\Temp\cceos7su.s:786    .bss.ChipBlackBox_Monitor:00000000 ChipBlackBox_Monitor
C:\Users\8bit\AppData\Local\Temp\cceos7su.s:789    .data.SrvChip_BlackBox:00000000 $d

UNDEFINED SYMBOLS
Storage
memset
SrvOsCommon
Debug_Print
DebugPort
