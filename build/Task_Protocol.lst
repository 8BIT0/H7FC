ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 1
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"Task_Protocol.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.TaskProto_PushProtocolQueue,"ax",%progbits
  17              		.align	1
  18              		.global	TaskProto_PushProtocolQueue
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv5-d16
  25              	TaskProto_PushProtocolQueue:
  26              	.LVL0:
  27              	.LFB149:
  28              		.file 1 "Task/Task_Protocol.c"
   1:Task/Task_Protocol.c **** /*
   2:Task/Task_Protocol.c ****  *  coder: 8_B!T0
   3:Task/Task_Protocol.c ****  *  bref: use this task make FC communicate to computer configuration
   4:Task/Task_Protocol.c ****  */
   5:Task/Task_Protocol.c **** #include "Task_Protocol.h"
   6:Task/Task_Protocol.c **** #include "scheduler.h"
   7:Task/Task_Protocol.c **** #include "shell.h"
   8:Task/Task_Protocol.c **** #include "shell_port.h"
   9:Task/Task_Protocol.c **** #include "usb_device.h"
  10:Task/Task_Protocol.c **** #include "usbd_cdc_if.h"
  11:Task/Task_Protocol.c **** #include "debug_util.h"
  12:Task/Task_Protocol.c **** #include <stdio.h>
  13:Task/Task_Protocol.c **** #include "queue.h"
  14:Task/Task_Protocol.c **** #include "Dev_Led.h"
  15:Task/Task_Protocol.c **** #include "IO_Definition.h"
  16:Task/Task_Protocol.c **** #include "Bsp_GPIO.h"
  17:Task/Task_Protocol.c **** #include "error_log.h"
  18:Task/Task_Protocol.c **** #include "DataPipe/DataPipe.h"
  19:Task/Task_Protocol.c **** #include "Task_SensorInertial.h"
  20:Task/Task_Protocol.c **** #include "mmu.h"
  21:Task/Task_Protocol.c **** 
  22:Task/Task_Protocol.c **** static bool test = false;
  23:Task/Task_Protocol.c **** 
  24:Task/Task_Protocol.c **** #define VCP_QUEUE_BUFF_SIZE 4096
  25:Task/Task_Protocol.c **** 
  26:Task/Task_Protocol.c **** /* internal vriable */
  27:Task/Task_Protocol.c **** static QueueObj_TypeDef VCP_ProtoQueue; /* Send Queue */
  28:Task/Task_Protocol.c **** static bool VCP_Queue_CreateState = false;
  29:Task/Task_Protocol.c **** static ProtoQueue_State_List VCPQueue_State = ProtoQueue_Idle;
  30:Task/Task_Protocol.c **** static bool VCP_Connect_State = false; /* USB connect state */
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s 			page 2


  31:Task/Task_Protocol.c **** DataPipeObj_TypeDef IMU_Ptl_DataPipe;
  32:Task/Task_Protocol.c **** static TaskProto_State_List task_state = TaskProto_Core;
  33:Task/Task_Protocol.c **** static bool Shell_Mode = false;
  34:Task/Task_Protocol.c **** static SrvIMU_UnionData_TypeDef PtlPriIMU_Data __attribute__((section(".Perph_Section")));
  35:Task/Task_Protocol.c **** static SrvIMU_UnionData_TypeDef PtlSecIMU_Data __attribute__((section(".Perph_Section")));
  36:Task/Task_Protocol.c **** 
  37:Task/Task_Protocol.c **** /* internal function */
  38:Task/Task_Protocol.c **** static void TaskProtocol_Main(uint8_t *data, uint16_t size);
  39:Task/Task_Protocol.c **** static bool TaskProtocol_TransBuff(uint8_t *data, uint16_t size);
  40:Task/Task_Protocol.c **** static void TaskProtocol_Rec(uint8_t *data, uint16_t len);
  41:Task/Task_Protocol.c **** static void TaskProtocol_PlugDetect_Callback(void);
  42:Task/Task_Protocol.c **** ProtoQueue_State_List TaskProto_PushProtocolQueue(uint8_t *p_data, uint16_t size);
  43:Task/Task_Protocol.c **** 
  44:Task/Task_Protocol.c **** bool TaskProtocol_Init(void)
  45:Task/Task_Protocol.c **** {
  46:Task/Task_Protocol.c ****     memset(&IMU_Ptl_DataPipe, NULL, sizeof(IMU_Ptl_DataPipe));
  47:Task/Task_Protocol.c ****     memset(&PtlPriIMU_Data, NULL, sizeof(PtlPriIMU_Data));
  48:Task/Task_Protocol.c ****     
  49:Task/Task_Protocol.c ****     IMU_Ptl_DataPipe.data_addr = (uint32_t)&PtlPriIMU_Data;
  50:Task/Task_Protocol.c ****     IMU_Ptl_DataPipe.data_size = sizeof(PtlPriIMU_Data);
  51:Task/Task_Protocol.c **** 
  52:Task/Task_Protocol.c ****     if (!USB_DEVICE_Init())
  53:Task/Task_Protocol.c ****     {
  54:Task/Task_Protocol.c ****         task_state = TaskProto_Error_Proc;
  55:Task/Task_Protocol.c ****         return false;
  56:Task/Task_Protocol.c ****     }
  57:Task/Task_Protocol.c **** 
  58:Task/Task_Protocol.c ****     /* init USB attach detect pin */
  59:Task/Task_Protocol.c ****     // BspGPIO.in_init(USB_DctPin);
  60:Task/Task_Protocol.c **** 
  61:Task/Task_Protocol.c ****     if (!Queue.create_auto(&VCP_ProtoQueue, "VCP Send Queue", VCP_QUEUE_BUFF_SIZE))
  62:Task/Task_Protocol.c ****         return false;
  63:Task/Task_Protocol.c **** 
  64:Task/Task_Protocol.c ****     VCP_Queue_CreateState = true;
  65:Task/Task_Protocol.c **** 
  66:Task/Task_Protocol.c ****     usb_setrec_callback(TaskProtocol_Rec);
  67:Task/Task_Protocol.c ****     Shell_Init(TaskProtocol_TransBuff);
  68:Task/Task_Protocol.c **** 
  69:Task/Task_Protocol.c ****     ErrorLog.set_callback(Error_Out_Callback, TaskProto_PushProtocolQueue);
  70:Task/Task_Protocol.c **** 
  71:Task/Task_Protocol.c ****     task_state = TaskProto_Core;
  72:Task/Task_Protocol.c ****     return true;
  73:Task/Task_Protocol.c **** }
  74:Task/Task_Protocol.c **** 
  75:Task/Task_Protocol.c **** ProtoQueue_State_List TaskProto_PushProtocolQueue(uint8_t *p_data, uint16_t size)
  76:Task/Task_Protocol.c **** {
  29              		.loc 1 76 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 76 1 is_stmt 0 view .LVU1
  34 0000 70B5     		push	{r4, r5, r6, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 16
  37              		.cfi_offset 4, -16
  38              		.cfi_offset 5, -12
  39              		.cfi_offset 6, -8
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s 			page 3


  40              		.cfi_offset 14, -4
  41 0002 82B0     		sub	sp, sp, #8
  42              	.LCFI1:
  43              		.cfi_def_cfa_offset 24
  77:Task/Task_Protocol.c ****     /* push into send queue */
  78:Task/Task_Protocol.c ****     if (VCP_Queue_CreateState &&
  44              		.loc 1 78 5 is_stmt 1 view .LVU2
  45              		.loc 1 78 9 is_stmt 0 view .LVU3
  46 0004 214B     		ldr	r3, .L11
  47 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  48              		.loc 1 78 8 view .LVU4
  49 0008 2BB1     		cbz	r3, .L2
  50 000a 0546     		mov	r5, r0
  51 000c 0C46     		mov	r4, r1
  79:Task/Task_Protocol.c ****         ((VCPQueue_State == ProtoQueue_Ok) ||
  52              		.loc 1 79 44 discriminator 1 view .LVU5
  53 000e 204B     		ldr	r3, .L11+4
  54 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  78:Task/Task_Protocol.c ****         ((VCPQueue_State == ProtoQueue_Ok) ||
  55              		.loc 1 78 31 discriminator 1 view .LVU6
  56 0012 012B     		cmp	r3, #1
  57 0014 11D9     		bls	.L8
  58              	.LVL1:
  59              	.L2:
  80:Task/Task_Protocol.c ****          (VCPQueue_State == ProtoQueue_Idle)) &&
  81:Task/Task_Protocol.c ****         ((Queue.state(VCP_ProtoQueue) == Queue_empty) ||
  82:Task/Task_Protocol.c ****          (Queue.state(VCP_ProtoQueue) == Queue_ok)))
  83:Task/Task_Protocol.c ****     {
  84:Task/Task_Protocol.c ****         VCPQueue_State = ProtoQueue_Busy;
  85:Task/Task_Protocol.c **** 
  86:Task/Task_Protocol.c ****         /* push send data into VCP queue */
  87:Task/Task_Protocol.c ****         Queue.push(&VCP_ProtoQueue, p_data, size);
  88:Task/Task_Protocol.c **** 
  89:Task/Task_Protocol.c ****         VCPQueue_State = ProtoQueue_Ok;
  90:Task/Task_Protocol.c **** 
  91:Task/Task_Protocol.c ****         return ProtoQueue_Ok;
  92:Task/Task_Protocol.c ****     }
  93:Task/Task_Protocol.c ****     else if (!VCP_Queue_CreateState)
  60              		.loc 1 93 10 is_stmt 1 view .LVU7
  61              		.loc 1 93 14 is_stmt 0 view .LVU8
  62 0016 1D4B     		ldr	r3, .L11
  63 0018 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  64              		.loc 1 93 13 view .LVU9
  65 001a 002B     		cmp	r3, #0
  66 001c 2DD0     		beq	.L9
  94:Task/Task_Protocol.c ****     {
  95:Task/Task_Protocol.c ****         VCPQueue_State = ProtoQueeu_Error;
  96:Task/Task_Protocol.c ****         return ProtoQueeu_Error;
  97:Task/Task_Protocol.c ****     }
  98:Task/Task_Protocol.c ****     else if (Queue.state(VCP_ProtoQueue) == Queue_full)
  67              		.loc 1 98 10 is_stmt 1 view .LVU10
  68              		.loc 1 98 19 is_stmt 0 view .LVU11
  69 001e 1D4B     		ldr	r3, .L11+8
  70 0020 1C6A     		ldr	r4, [r3, #32]
  71              		.loc 1 98 14 view .LVU12
  72 0022 1D4B     		ldr	r3, .L11+12
  73 0024 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s 			page 4


  74 0026 8DF80020 		strb	r2, [sp]
  75 002a 0FCB     		ldm	r3, {r0, r1, r2, r3}
  76 002c A047     		blx	r4
  77              	.LVL2:
  78              		.loc 1 98 13 view .LVU13
  79 002e 0428     		cmp	r0, #4
  80 0030 27D0     		beq	.L10
  99:Task/Task_Protocol.c ****     {
 100:Task/Task_Protocol.c ****         VCPQueue_State = ProtoQueue_Full;
 101:Task/Task_Protocol.c ****         return ProtoQueue_Full;
 102:Task/Task_Protocol.c ****     }
 103:Task/Task_Protocol.c ****     else if ((VCPQueue_State != ProtoQueue_Ok) ||
  81              		.loc 1 103 10 is_stmt 1 view .LVU14
 104:Task/Task_Protocol.c ****              (VCPQueue_State != ProtoQueue_Idle))
 105:Task/Task_Protocol.c ****     {
 106:Task/Task_Protocol.c ****         return VCPQueue_State;
  82              		.loc 1 106 9 view .LVU15
  83              		.loc 1 106 16 is_stmt 0 view .LVU16
  84 0032 174B     		ldr	r3, .L11+4
  85 0034 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
  86              	.L4:
 107:Task/Task_Protocol.c ****     }
 108:Task/Task_Protocol.c **** }
  87              		.loc 1 108 1 view .LVU17
  88 0036 02B0     		add	sp, sp, #8
  89              	.LCFI2:
  90              		.cfi_remember_state
  91              		.cfi_def_cfa_offset 16
  92              		@ sp needed
  93 0038 70BD     		pop	{r4, r5, r6, pc}
  94              	.LVL3:
  95              	.L8:
  96              	.LCFI3:
  97              		.cfi_restore_state
  81:Task/Task_Protocol.c ****          (Queue.state(VCP_ProtoQueue) == Queue_ok)))
  98              		.loc 1 81 16 view .LVU18
  99 003a 164B     		ldr	r3, .L11+8
 100 003c 1E6A     		ldr	r6, [r3, #32]
  81:Task/Task_Protocol.c ****          (Queue.state(VCP_ProtoQueue) == Queue_ok)))
 101              		.loc 1 81 11 view .LVU19
 102 003e 164B     		ldr	r3, .L11+12
 103 0040 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
 104 0042 8DF80020 		strb	r2, [sp]
 105 0046 0FCB     		ldm	r3, {r0, r1, r2, r3}
 106              	.LVL4:
  81:Task/Task_Protocol.c ****          (Queue.state(VCP_ProtoQueue) == Queue_ok)))
 107              		.loc 1 81 11 view .LVU20
 108 0048 B047     		blx	r6
 109              	.LVL5:
  80:Task/Task_Protocol.c ****         ((Queue.state(VCP_ProtoQueue) == Queue_empty) ||
 110              		.loc 1 80 47 view .LVU21
 111 004a 0328     		cmp	r0, #3
 112 004c 09D0     		beq	.L3
  82:Task/Task_Protocol.c ****     {
 113              		.loc 1 82 16 view .LVU22
 114 004e 114B     		ldr	r3, .L11+8
 115 0050 1E6A     		ldr	r6, [r3, #32]
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s 			page 5


  82:Task/Task_Protocol.c ****     {
 116              		.loc 1 82 11 view .LVU23
 117 0052 114B     		ldr	r3, .L11+12
 118 0054 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
 119 0056 8DF80020 		strb	r2, [sp]
 120 005a 0FCB     		ldm	r3, {r0, r1, r2, r3}
 121 005c B047     		blx	r6
 122              	.LVL6:
  81:Task/Task_Protocol.c ****          (Queue.state(VCP_ProtoQueue) == Queue_ok)))
 123              		.loc 1 81 55 view .LVU24
 124 005e 0028     		cmp	r0, #0
 125 0060 D9D1     		bne	.L2
 126              	.L3:
  84:Task/Task_Protocol.c **** 
 127              		.loc 1 84 9 is_stmt 1 view .LVU25
  84:Task/Task_Protocol.c **** 
 128              		.loc 1 84 24 is_stmt 0 view .LVU26
 129 0062 0B4E     		ldr	r6, .L11+4
 130 0064 0223     		movs	r3, #2
 131 0066 3370     		strb	r3, [r6]
  87:Task/Task_Protocol.c **** 
 132              		.loc 1 87 9 is_stmt 1 view .LVU27
  87:Task/Task_Protocol.c **** 
 133              		.loc 1 87 14 is_stmt 0 view .LVU28
 134 0068 0A4B     		ldr	r3, .L11+8
 135 006a 9B69     		ldr	r3, [r3, #24]
  87:Task/Task_Protocol.c **** 
 136              		.loc 1 87 9 view .LVU29
 137 006c 2246     		mov	r2, r4
 138 006e 2946     		mov	r1, r5
 139 0070 0948     		ldr	r0, .L11+12
 140 0072 9847     		blx	r3
 141              	.LVL7:
  89:Task/Task_Protocol.c **** 
 142              		.loc 1 89 9 is_stmt 1 view .LVU30
  89:Task/Task_Protocol.c **** 
 143              		.loc 1 89 24 is_stmt 0 view .LVU31
 144 0074 0120     		movs	r0, #1
 145 0076 3070     		strb	r0, [r6]
  91:Task/Task_Protocol.c ****     }
 146              		.loc 1 91 9 is_stmt 1 view .LVU32
  91:Task/Task_Protocol.c ****     }
 147              		.loc 1 91 16 is_stmt 0 view .LVU33
 148 0078 DDE7     		b	.L4
 149              	.LVL8:
 150              	.L9:
  95:Task/Task_Protocol.c ****         return ProtoQueeu_Error;
 151              		.loc 1 95 9 is_stmt 1 view .LVU34
  95:Task/Task_Protocol.c ****         return ProtoQueeu_Error;
 152              		.loc 1 95 24 is_stmt 0 view .LVU35
 153 007a 0420     		movs	r0, #4
 154 007c 044B     		ldr	r3, .L11+4
 155 007e 1870     		strb	r0, [r3]
  96:Task/Task_Protocol.c ****     }
 156              		.loc 1 96 9 is_stmt 1 view .LVU36
  96:Task/Task_Protocol.c ****     }
 157              		.loc 1 96 16 is_stmt 0 view .LVU37
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s 			page 6


 158 0080 D9E7     		b	.L4
 159              	.L10:
 100:Task/Task_Protocol.c ****         return ProtoQueue_Full;
 160              		.loc 1 100 9 is_stmt 1 view .LVU38
 100:Task/Task_Protocol.c ****         return ProtoQueue_Full;
 161              		.loc 1 100 24 is_stmt 0 view .LVU39
 162 0082 0320     		movs	r0, #3
 163 0084 024B     		ldr	r3, .L11+4
 164 0086 1870     		strb	r0, [r3]
 101:Task/Task_Protocol.c ****     }
 165              		.loc 1 101 9 is_stmt 1 view .LVU40
 101:Task/Task_Protocol.c ****     }
 166              		.loc 1 101 16 is_stmt 0 view .LVU41
 167 0088 D5E7     		b	.L4
 168              	.L12:
 169 008a 00BF     		.align	2
 170              	.L11:
 171 008c 00000000 		.word	.LANCHOR0
 172 0090 00000000 		.word	.LANCHOR1
 173 0094 00000000 		.word	Queue
 174 0098 00000000 		.word	.LANCHOR2
 175              		.cfi_endproc
 176              	.LFE149:
 178              		.section	.text.TaskProtocol_Rec,"ax",%progbits
 179              		.align	1
 180              		.syntax unified
 181              		.thumb
 182              		.thumb_func
 183              		.fpu fpv5-d16
 185              	TaskProtocol_Rec:
 186              	.LVL9:
 187              	.LFB153:
 109:Task/Task_Protocol.c **** 
 110:Task/Task_Protocol.c **** static bool TaskProtocol_TransBuff(uint8_t *data, uint16_t size)
 111:Task/Task_Protocol.c **** {
 112:Task/Task_Protocol.c ****     if (CDC_Transmit_FS(data, size) != USBD_OK)
 113:Task/Task_Protocol.c ****         return false;
 114:Task/Task_Protocol.c **** 
 115:Task/Task_Protocol.c ****     return true;
 116:Task/Task_Protocol.c **** }
 117:Task/Task_Protocol.c **** 
 118:Task/Task_Protocol.c **** void TaskProtocol_Core(Task_Handle hdl)
 119:Task/Task_Protocol.c **** {
 120:Task/Task_Protocol.c ****     uint8_t *p_buf = NULL;
 121:Task/Task_Protocol.c ****     uint16_t p_buf_size = 0;
 122:Task/Task_Protocol.c **** 
 123:Task/Task_Protocol.c ****     DebugPin.ctl(Debug_PC3, true);
 124:Task/Task_Protocol.c **** 
 125:Task/Task_Protocol.c ****     switch ((uint8_t)task_state)
 126:Task/Task_Protocol.c ****     {
 127:Task/Task_Protocol.c ****     case TaskProto_Core:
 128:Task/Task_Protocol.c ****         TaskProtocol_Main(NULL, 0);
 129:Task/Task_Protocol.c **** 
 130:Task/Task_Protocol.c ****         /* check vcp send queue state */
 131:Task/Task_Protocol.c ****         /* if it has any data then send them out */
 132:Task/Task_Protocol.c ****         if (test && ((Queue.state(VCP_ProtoQueue) == Queue_ok) || (Queue.state(VCP_ProtoQueue) == Q
 133:Task/Task_Protocol.c ****         {
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s 			page 7


 134:Task/Task_Protocol.c ****             p_buf = (uint8_t *)MMU_Malloc(Queue.size(VCP_ProtoQueue));
 135:Task/Task_Protocol.c **** 
 136:Task/Task_Protocol.c ****             if (p_buf)
 137:Task/Task_Protocol.c ****             {
 138:Task/Task_Protocol.c ****                 p_buf_size = Queue.size(VCP_ProtoQueue);
 139:Task/Task_Protocol.c ****                 Queue.pop(&VCP_ProtoQueue, p_buf, p_buf_size);
 140:Task/Task_Protocol.c **** 
 141:Task/Task_Protocol.c ****                 TaskProtocol_TransBuff(p_buf, p_buf_size);
 142:Task/Task_Protocol.c **** 
 143:Task/Task_Protocol.c ****                 MMU_Free(p_buf);
 144:Task/Task_Protocol.c ****             }
 145:Task/Task_Protocol.c ****         }
 146:Task/Task_Protocol.c **** 
 147:Task/Task_Protocol.c ****         break;
 148:Task/Task_Protocol.c **** 
 149:Task/Task_Protocol.c ****     case TaskProto_Error_Proc:
 150:Task/Task_Protocol.c ****         break;
 151:Task/Task_Protocol.c **** 
 152:Task/Task_Protocol.c ****     default:
 153:Task/Task_Protocol.c ****         break;
 154:Task/Task_Protocol.c ****     }
 155:Task/Task_Protocol.c **** 
 156:Task/Task_Protocol.c ****     DebugPin.ctl(Debug_PC3, false);
 157:Task/Task_Protocol.c **** }
 158:Task/Task_Protocol.c **** 
 159:Task/Task_Protocol.c **** static void TaskProtocol_Main(uint8_t *data, uint16_t size)
 160:Task/Task_Protocol.c **** {
 161:Task/Task_Protocol.c **** }
 162:Task/Task_Protocol.c **** 
 163:Task/Task_Protocol.c **** static void TaskProtocol_Rec(uint8_t *data, uint16_t len)
 164:Task/Task_Protocol.c **** {
 188              		.loc 1 164 1 is_stmt 1 view -0
 189              		.cfi_startproc
 190              		@ args = 0, pretend = 0, frame = 0
 191              		@ frame_needed = 0, uses_anonymous_args = 0
 192              		@ link register save eliminated.
 165:Task/Task_Protocol.c ****     // shellHandler(Shell_GetInstence(), data[i]);
 166:Task/Task_Protocol.c ****     // TaskProtocol_TransBuff(data, len);
 167:Task/Task_Protocol.c ****     test = true;
 193              		.loc 1 167 5 view .LVU43
 194              		.loc 1 167 10 is_stmt 0 view .LVU44
 195 0000 014B     		ldr	r3, .L14
 196 0002 0122     		movs	r2, #1
 197 0004 1A70     		strb	r2, [r3]
 168:Task/Task_Protocol.c **** }
 198              		.loc 1 168 1 view .LVU45
 199 0006 7047     		bx	lr
 200              	.L15:
 201              		.align	2
 202              	.L14:
 203 0008 00000000 		.word	.LANCHOR3
 204              		.cfi_endproc
 205              	.LFE153:
 207              		.section	.text.TaskProtocol_TransBuff,"ax",%progbits
 208              		.align	1
 209              		.syntax unified
 210              		.thumb
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s 			page 8


 211              		.thumb_func
 212              		.fpu fpv5-d16
 214              	TaskProtocol_TransBuff:
 215              	.LVL10:
 216              	.LFB150:
 111:Task/Task_Protocol.c ****     if (CDC_Transmit_FS(data, size) != USBD_OK)
 217              		.loc 1 111 1 is_stmt 1 view -0
 218              		.cfi_startproc
 219              		@ args = 0, pretend = 0, frame = 0
 220              		@ frame_needed = 0, uses_anonymous_args = 0
 111:Task/Task_Protocol.c ****     if (CDC_Transmit_FS(data, size) != USBD_OK)
 221              		.loc 1 111 1 is_stmt 0 view .LVU47
 222 0000 08B5     		push	{r3, lr}
 223              	.LCFI4:
 224              		.cfi_def_cfa_offset 8
 225              		.cfi_offset 3, -8
 226              		.cfi_offset 14, -4
 112:Task/Task_Protocol.c ****         return false;
 227              		.loc 1 112 5 is_stmt 1 view .LVU48
 112:Task/Task_Protocol.c ****         return false;
 228              		.loc 1 112 9 is_stmt 0 view .LVU49
 229 0002 FFF7FEFF 		bl	CDC_Transmit_FS
 230              	.LVL11:
 112:Task/Task_Protocol.c ****         return false;
 231              		.loc 1 112 8 view .LVU50
 232 0006 08B9     		cbnz	r0, .L18
 115:Task/Task_Protocol.c **** }
 233              		.loc 1 115 12 view .LVU51
 234 0008 0120     		movs	r0, #1
 235              	.L17:
 116:Task/Task_Protocol.c **** 
 236              		.loc 1 116 1 view .LVU52
 237 000a 08BD     		pop	{r3, pc}
 238              	.L18:
 113:Task/Task_Protocol.c **** 
 239              		.loc 1 113 16 view .LVU53
 240 000c 0020     		movs	r0, #0
 241 000e FCE7     		b	.L17
 242              		.cfi_endproc
 243              	.LFE150:
 245              		.section	.rodata.shell_test.str1.4,"aMS",%progbits,1
 246              		.align	2
 247              	.LC0:
 248 0000 09385F42 		.ascii	"\0118_B!T0 Shell test\015\012\000"
 248      21543020 
 248      5368656C 
 248      6C207465 
 248      73740D0A 
 249              		.section	.text.shell_test,"ax",%progbits
 250              		.align	1
 251              		.syntax unified
 252              		.thumb
 253              		.thumb_func
 254              		.fpu fpv5-d16
 256              	shell_test:
 257              	.LFB155:
 169:Task/Task_Protocol.c **** 
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s 			page 9


 170:Task/Task_Protocol.c **** static void TaskProtocol_PlugDetect_Callback(void)
 171:Task/Task_Protocol.c **** {
 172:Task/Task_Protocol.c ****     static uint8_t a;
 173:Task/Task_Protocol.c **** 
 174:Task/Task_Protocol.c ****     a++;
 175:Task/Task_Protocol.c **** }
 176:Task/Task_Protocol.c **** 
 177:Task/Task_Protocol.c **** static void shell_test(void)
 178:Task/Task_Protocol.c **** {
 258              		.loc 1 178 1 is_stmt 1 view -0
 259              		.cfi_startproc
 260              		@ args = 0, pretend = 0, frame = 0
 261              		@ frame_needed = 0, uses_anonymous_args = 0
 262 0000 08B5     		push	{r3, lr}
 263              	.LCFI5:
 264              		.cfi_def_cfa_offset 8
 265              		.cfi_offset 3, -8
 266              		.cfi_offset 14, -4
 179:Task/Task_Protocol.c ****     usb_printf("\t8_B!T0 Shell test\r\n");
 267              		.loc 1 179 5 view .LVU55
 268 0002 0248     		ldr	r0, .L22
 269 0004 FFF7FEFF 		bl	usb_printf
 270              	.LVL12:
 180:Task/Task_Protocol.c **** }
 271              		.loc 1 180 1 is_stmt 0 view .LVU56
 272 0008 08BD     		pop	{r3, pc}
 273              	.L23:
 274 000a 00BF     		.align	2
 275              	.L22:
 276 000c 00000000 		.word	.LC0
 277              		.cfi_endproc
 278              	.LFE155:
 280              		.section	.rodata.TaskProtocol_Init.str1.4,"aMS",%progbits,1
 281              		.align	2
 282              	.LC1:
 283 0000 56435020 		.ascii	"VCP Send Queue\000"
 283      53656E64 
 283      20517565 
 283      756500
 284              		.section	.text.TaskProtocol_Init,"ax",%progbits
 285              		.align	1
 286              		.global	TaskProtocol_Init
 287              		.syntax unified
 288              		.thumb
 289              		.thumb_func
 290              		.fpu fpv5-d16
 292              	TaskProtocol_Init:
 293              	.LFB148:
  45:Task/Task_Protocol.c ****     memset(&IMU_Ptl_DataPipe, NULL, sizeof(IMU_Ptl_DataPipe));
 294              		.loc 1 45 1 is_stmt 1 view -0
 295              		.cfi_startproc
 296              		@ args = 0, pretend = 0, frame = 0
 297              		@ frame_needed = 0, uses_anonymous_args = 0
 298 0000 70B5     		push	{r4, r5, r6, lr}
 299              	.LCFI6:
 300              		.cfi_def_cfa_offset 16
 301              		.cfi_offset 4, -16
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s 			page 10


 302              		.cfi_offset 5, -12
 303              		.cfi_offset 6, -8
 304              		.cfi_offset 14, -4
  46:Task/Task_Protocol.c ****     memset(&PtlPriIMU_Data, NULL, sizeof(PtlPriIMU_Data));
 305              		.loc 1 46 5 view .LVU58
 306 0002 194C     		ldr	r4, .L29
 307 0004 1E22     		movs	r2, #30
 308 0006 0021     		movs	r1, #0
 309 0008 2046     		mov	r0, r4
 310 000a FFF7FEFF 		bl	memset
 311              	.LVL13:
  47:Task/Task_Protocol.c ****     
 312              		.loc 1 47 5 view .LVU59
 313 000e 174E     		ldr	r6, .L29+4
 314 0010 2F25     		movs	r5, #47
 315 0012 2A46     		mov	r2, r5
 316 0014 0021     		movs	r1, #0
 317 0016 3046     		mov	r0, r6
 318 0018 FFF7FEFF 		bl	memset
 319              	.LVL14:
  49:Task/Task_Protocol.c ****     IMU_Ptl_DataPipe.data_size = sizeof(PtlPriIMU_Data);
 320              		.loc 1 49 5 view .LVU60
  49:Task/Task_Protocol.c ****     IMU_Ptl_DataPipe.data_size = sizeof(PtlPriIMU_Data);
 321              		.loc 1 49 32 is_stmt 0 view .LVU61
 322 001c 2660     		str	r6, [r4]
  50:Task/Task_Protocol.c **** 
 323              		.loc 1 50 5 is_stmt 1 view .LVU62
  50:Task/Task_Protocol.c **** 
 324              		.loc 1 50 32 is_stmt 0 view .LVU63
 325 001e A580     		strh	r5, [r4, #4]	@ movhi
  52:Task/Task_Protocol.c ****     {
 326              		.loc 1 52 5 is_stmt 1 view .LVU64
  52:Task/Task_Protocol.c ****     {
 327              		.loc 1 52 10 is_stmt 0 view .LVU65
 328 0020 FFF7FEFF 		bl	USB_DEVICE_Init
 329              	.LVL15:
  52:Task/Task_Protocol.c ****     {
 330              		.loc 1 52 8 view .LVU66
 331 0024 C8B1     		cbz	r0, .L28
  61:Task/Task_Protocol.c ****         return false;
 332              		.loc 1 61 5 is_stmt 1 view .LVU67
  61:Task/Task_Protocol.c ****         return false;
 333              		.loc 1 61 15 is_stmt 0 view .LVU68
 334 0026 124B     		ldr	r3, .L29+8
 335 0028 9B68     		ldr	r3, [r3, #8]
  61:Task/Task_Protocol.c ****         return false;
 336              		.loc 1 61 10 view .LVU69
 337 002a 4FF48052 		mov	r2, #4096
 338 002e 1149     		ldr	r1, .L29+12
 339 0030 1148     		ldr	r0, .L29+16
 340 0032 9847     		blx	r3
 341              	.LVL16:
  61:Task/Task_Protocol.c ****         return false;
 342              		.loc 1 61 8 view .LVU70
 343 0034 0446     		mov	r4, r0
 344 0036 A0B1     		cbz	r0, .L26
  64:Task/Task_Protocol.c **** 
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s 			page 11


 345              		.loc 1 64 5 is_stmt 1 view .LVU71
  64:Task/Task_Protocol.c **** 
 346              		.loc 1 64 27 is_stmt 0 view .LVU72
 347 0038 0125     		movs	r5, #1
 348 003a 104B     		ldr	r3, .L29+20
 349 003c 1D70     		strb	r5, [r3]
  66:Task/Task_Protocol.c ****     Shell_Init(TaskProtocol_TransBuff);
 350              		.loc 1 66 5 is_stmt 1 view .LVU73
 351 003e 1048     		ldr	r0, .L29+24
 352 0040 FFF7FEFF 		bl	usb_setrec_callback
 353              	.LVL17:
  67:Task/Task_Protocol.c **** 
 354              		.loc 1 67 5 view .LVU74
 355 0044 0F48     		ldr	r0, .L29+28
 356 0046 FFF7FEFF 		bl	Shell_Init
 357              	.LVL18:
  69:Task/Task_Protocol.c **** 
 358              		.loc 1 69 5 view .LVU75
  69:Task/Task_Protocol.c **** 
 359              		.loc 1 69 13 is_stmt 0 view .LVU76
 360 004a 0F4B     		ldr	r3, .L29+32
 361 004c 1B69     		ldr	r3, [r3, #16]
  69:Task/Task_Protocol.c **** 
 362              		.loc 1 69 5 view .LVU77
 363 004e 0F49     		ldr	r1, .L29+36
 364 0050 2846     		mov	r0, r5
 365 0052 9847     		blx	r3
 366              	.LVL19:
  71:Task/Task_Protocol.c ****     return true;
 367              		.loc 1 71 5 is_stmt 1 view .LVU78
  71:Task/Task_Protocol.c ****     return true;
 368              		.loc 1 71 16 is_stmt 0 view .LVU79
 369 0054 0E4B     		ldr	r3, .L29+40
 370 0056 1D70     		strb	r5, [r3]
  72:Task/Task_Protocol.c **** }
 371              		.loc 1 72 5 is_stmt 1 view .LVU80
  72:Task/Task_Protocol.c **** }
 372              		.loc 1 72 12 is_stmt 0 view .LVU81
 373 0058 03E0     		b	.L26
 374              	.L28:
 375 005a 0446     		mov	r4, r0
  54:Task/Task_Protocol.c ****         return false;
 376              		.loc 1 54 9 is_stmt 1 view .LVU82
  54:Task/Task_Protocol.c ****         return false;
 377              		.loc 1 54 20 is_stmt 0 view .LVU83
 378 005c 0C4B     		ldr	r3, .L29+40
 379 005e 0222     		movs	r2, #2
 380 0060 1A70     		strb	r2, [r3]
  55:Task/Task_Protocol.c ****     }
 381              		.loc 1 55 9 is_stmt 1 view .LVU84
 382              	.L26:
  73:Task/Task_Protocol.c **** 
 383              		.loc 1 73 1 is_stmt 0 view .LVU85
 384 0062 2046     		mov	r0, r4
 385 0064 70BD     		pop	{r4, r5, r6, pc}
 386              	.L30:
 387 0066 00BF     		.align	2
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s 			page 12


 388              	.L29:
 389 0068 00000000 		.word	.LANCHOR4
 390 006c 00000000 		.word	.LANCHOR5
 391 0070 00000000 		.word	Queue
 392 0074 00000000 		.word	.LC1
 393 0078 00000000 		.word	.LANCHOR2
 394 007c 00000000 		.word	.LANCHOR0
 395 0080 00000000 		.word	TaskProtocol_Rec
 396 0084 00000000 		.word	TaskProtocol_TransBuff
 397 0088 00000000 		.word	ErrorLog
 398 008c 00000000 		.word	TaskProto_PushProtocolQueue
 399 0090 00000000 		.word	.LANCHOR6
 400              		.cfi_endproc
 401              	.LFE148:
 403              		.section	.text.TaskProtocol_Core,"ax",%progbits
 404              		.align	1
 405              		.global	TaskProtocol_Core
 406              		.syntax unified
 407              		.thumb
 408              		.thumb_func
 409              		.fpu fpv5-d16
 411              	TaskProtocol_Core:
 412              	.LVL20:
 413              	.LFB151:
 119:Task/Task_Protocol.c ****     uint8_t *p_buf = NULL;
 414              		.loc 1 119 1 is_stmt 1 view -0
 415              		.cfi_startproc
 416              		@ args = 0, pretend = 0, frame = 0
 417              		@ frame_needed = 0, uses_anonymous_args = 0
 119:Task/Task_Protocol.c ****     uint8_t *p_buf = NULL;
 418              		.loc 1 119 1 is_stmt 0 view .LVU87
 419 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 420              	.LCFI7:
 421              		.cfi_def_cfa_offset 20
 422              		.cfi_offset 4, -20
 423              		.cfi_offset 5, -16
 424              		.cfi_offset 6, -12
 425              		.cfi_offset 7, -8
 426              		.cfi_offset 14, -4
 427 0002 83B0     		sub	sp, sp, #12
 428              	.LCFI8:
 429              		.cfi_def_cfa_offset 32
 120:Task/Task_Protocol.c ****     uint16_t p_buf_size = 0;
 430              		.loc 1 120 5 is_stmt 1 view .LVU88
 431              	.LVL21:
 121:Task/Task_Protocol.c **** 
 432              		.loc 1 121 5 view .LVU89
 123:Task/Task_Protocol.c **** 
 433              		.loc 1 123 5 view .LVU90
 123:Task/Task_Protocol.c **** 
 434              		.loc 1 123 13 is_stmt 0 view .LVU91
 435 0004 2B4B     		ldr	r3, .L36
 436 0006 5C68     		ldr	r4, [r3, #4]
 123:Task/Task_Protocol.c **** 
 437              		.loc 1 123 5 view .LVU92
 438 0008 2B4A     		ldr	r2, .L36+4
 439 000a 0123     		movs	r3, #1
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s 			page 13


 440 000c 07CA     		ldm	r2, {r0, r1, r2}
 441              	.LVL22:
 123:Task/Task_Protocol.c **** 
 442              		.loc 1 123 5 view .LVU93
 443 000e A047     		blx	r4
 444              	.LVL23:
 125:Task/Task_Protocol.c ****     {
 445              		.loc 1 125 5 is_stmt 1 view .LVU94
 125:Task/Task_Protocol.c ****     {
 446              		.loc 1 125 13 is_stmt 0 view .LVU95
 447 0010 2A4B     		ldr	r3, .L36+8
 448 0012 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 125:Task/Task_Protocol.c ****     {
 449              		.loc 1 125 5 view .LVU96
 450 0014 012B     		cmp	r3, #1
 451 0016 07D0     		beq	.L35
 452              	.LVL24:
 453              	.L32:
 156:Task/Task_Protocol.c **** }
 454              		.loc 1 156 5 is_stmt 1 view .LVU97
 156:Task/Task_Protocol.c **** }
 455              		.loc 1 156 13 is_stmt 0 view .LVU98
 456 0018 264B     		ldr	r3, .L36
 457 001a 5C68     		ldr	r4, [r3, #4]
 156:Task/Task_Protocol.c **** }
 458              		.loc 1 156 5 view .LVU99
 459 001c 264A     		ldr	r2, .L36+4
 460 001e 0023     		movs	r3, #0
 461 0020 07CA     		ldm	r2, {r0, r1, r2}
 462 0022 A047     		blx	r4
 463              	.LVL25:
 157:Task/Task_Protocol.c **** 
 464              		.loc 1 157 1 view .LVU100
 465 0024 03B0     		add	sp, sp, #12
 466              	.LCFI9:
 467              		.cfi_remember_state
 468              		.cfi_def_cfa_offset 20
 469              		@ sp needed
 470 0026 F0BD     		pop	{r4, r5, r6, r7, pc}
 471              	.LVL26:
 472              	.L35:
 473              	.LCFI10:
 474              		.cfi_restore_state
 128:Task/Task_Protocol.c **** 
 475              		.loc 1 128 9 is_stmt 1 view .LVU101
 132:Task/Task_Protocol.c ****         {
 476              		.loc 1 132 9 view .LVU102
 132:Task/Task_Protocol.c ****         {
 477              		.loc 1 132 13 is_stmt 0 view .LVU103
 478 0028 254B     		ldr	r3, .L36+12
 479 002a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 132:Task/Task_Protocol.c ****         {
 480              		.loc 1 132 12 view .LVU104
 481 002c 002B     		cmp	r3, #0
 482 002e F3D0     		beq	.L32
 132:Task/Task_Protocol.c ****         {
 483              		.loc 1 132 28 discriminator 1 view .LVU105
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s 			page 14


 484 0030 244B     		ldr	r3, .L36+16
 485 0032 1C6A     		ldr	r4, [r3, #32]
 132:Task/Task_Protocol.c ****         {
 486              		.loc 1 132 23 discriminator 1 view .LVU106
 487 0034 244B     		ldr	r3, .L36+20
 488 0036 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
 489 0038 8DF80020 		strb	r2, [sp]
 490 003c 0FCB     		ldm	r3, {r0, r1, r2, r3}
 491 003e A047     		blx	r4
 492              	.LVL27:
 132:Task/Task_Protocol.c ****         {
 493              		.loc 1 132 18 discriminator 1 view .LVU107
 494 0040 48B1     		cbz	r0, .L33
 132:Task/Task_Protocol.c ****         {
 495              		.loc 1 132 73 discriminator 3 view .LVU108
 496 0042 204B     		ldr	r3, .L36+16
 497 0044 1C6A     		ldr	r4, [r3, #32]
 132:Task/Task_Protocol.c ****         {
 498              		.loc 1 132 68 discriminator 3 view .LVU109
 499 0046 204B     		ldr	r3, .L36+20
 500 0048 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
 501 004a 8DF80020 		strb	r2, [sp]
 502 004e 0FCB     		ldm	r3, {r0, r1, r2, r3}
 503 0050 A047     		blx	r4
 504              	.LVL28:
 132:Task/Task_Protocol.c ****         {
 505              		.loc 1 132 64 discriminator 3 view .LVU110
 506 0052 0428     		cmp	r0, #4
 507 0054 E0D1     		bne	.L32
 508              	.L33:
 132:Task/Task_Protocol.c ****         {
 509              		.loc 1 132 120 discriminator 4 view .LVU111
 510 0056 1B4B     		ldr	r3, .L36+16
 511 0058 1C68     		ldr	r4, [r3]
 132:Task/Task_Protocol.c ****         {
 512              		.loc 1 132 115 discriminator 4 view .LVU112
 513 005a 1B4B     		ldr	r3, .L36+20
 514 005c 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
 515 005e 8DF80020 		strb	r2, [sp]
 516 0062 0FCB     		ldm	r3, {r0, r1, r2, r3}
 517 0064 A047     		blx	r4
 518              	.LVL29:
 132:Task/Task_Protocol.c ****         {
 519              		.loc 1 132 112 discriminator 4 view .LVU113
 520 0066 0028     		cmp	r0, #0
 521 0068 D6D0     		beq	.L32
 134:Task/Task_Protocol.c **** 
 522              		.loc 1 134 13 is_stmt 1 view .LVU114
 134:Task/Task_Protocol.c **** 
 523              		.loc 1 134 48 is_stmt 0 view .LVU115
 524 006a 164B     		ldr	r3, .L36+16
 525 006c 1C68     		ldr	r4, [r3]
 134:Task/Task_Protocol.c **** 
 526              		.loc 1 134 32 view .LVU116
 527 006e 164B     		ldr	r3, .L36+20
 528 0070 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
 529 0072 8DF80020 		strb	r2, [sp]
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s 			page 15


 530 0076 0FCB     		ldm	r3, {r0, r1, r2, r3}
 531 0078 A047     		blx	r4
 532              	.LVL30:
 533 007a FFF7FEFF 		bl	MMU_Malloc
 534              	.LVL31:
 136:Task/Task_Protocol.c ****             {
 535              		.loc 1 136 13 is_stmt 1 view .LVU117
 136:Task/Task_Protocol.c ****             {
 536              		.loc 1 136 16 is_stmt 0 view .LVU118
 537 007e 0646     		mov	r6, r0
 538 0080 0028     		cmp	r0, #0
 539 0082 C9D0     		beq	.L32
 138:Task/Task_Protocol.c ****                 Queue.pop(&VCP_ProtoQueue, p_buf, p_buf_size);
 540              		.loc 1 138 17 is_stmt 1 view .LVU119
 138:Task/Task_Protocol.c ****                 Queue.pop(&VCP_ProtoQueue, p_buf, p_buf_size);
 541              		.loc 1 138 35 is_stmt 0 view .LVU120
 542 0084 0F4F     		ldr	r7, .L36+16
 543 0086 3D68     		ldr	r5, [r7]
 138:Task/Task_Protocol.c ****                 Queue.pop(&VCP_ProtoQueue, p_buf, p_buf_size);
 544              		.loc 1 138 30 view .LVU121
 545 0088 0F4C     		ldr	r4, .L36+20
 546 008a 237C     		ldrb	r3, [r4, #16]	@ zero_extendqisi2
 547 008c 8DF80030 		strb	r3, [sp]
 548 0090 94E80F00 		ldm	r4, {r0, r1, r2, r3}
 549              	.LVL32:
 138:Task/Task_Protocol.c ****                 Queue.pop(&VCP_ProtoQueue, p_buf, p_buf_size);
 550              		.loc 1 138 30 view .LVU122
 551 0094 A847     		blx	r5
 552              	.LVL33:
 553 0096 0546     		mov	r5, r0
 554              	.LVL34:
 139:Task/Task_Protocol.c **** 
 555              		.loc 1 139 17 is_stmt 1 view .LVU123
 139:Task/Task_Protocol.c **** 
 556              		.loc 1 139 22 is_stmt 0 view .LVU124
 557 0098 FB69     		ldr	r3, [r7, #28]
 139:Task/Task_Protocol.c **** 
 558              		.loc 1 139 17 view .LVU125
 559 009a 0246     		mov	r2, r0
 560 009c 3146     		mov	r1, r6
 561 009e 2046     		mov	r0, r4
 562              	.LVL35:
 139:Task/Task_Protocol.c **** 
 563              		.loc 1 139 17 view .LVU126
 564 00a0 9847     		blx	r3
 565              	.LVL36:
 141:Task/Task_Protocol.c **** 
 566              		.loc 1 141 17 is_stmt 1 view .LVU127
 567 00a2 2946     		mov	r1, r5
 568 00a4 3046     		mov	r0, r6
 569 00a6 FFF7FEFF 		bl	TaskProtocol_TransBuff
 570              	.LVL37:
 143:Task/Task_Protocol.c ****             }
 571              		.loc 1 143 17 view .LVU128
 572 00aa 3046     		mov	r0, r6
 573 00ac FFF7FEFF 		bl	MMU_Free
 574              	.LVL38:
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s 			page 16


 575 00b0 B2E7     		b	.L32
 576              	.L37:
 577 00b2 00BF     		.align	2
 578              	.L36:
 579 00b4 00000000 		.word	DebugPin
 580 00b8 00000000 		.word	Debug_PC3
 581 00bc 00000000 		.word	.LANCHOR6
 582 00c0 00000000 		.word	.LANCHOR3
 583 00c4 00000000 		.word	Queue
 584 00c8 00000000 		.word	.LANCHOR2
 585              		.cfi_endproc
 586              	.LFE151:
 588              		.global	shellCommandtest
 589              		.global	shellDesctest
 590              		.global	shellCmdtest
 591              		.global	IMU_Ptl_DataPipe
 592              		.section	.Perph_Section,"aw"
 593              		.align	2
 594              		.set	.LANCHOR5,. + 0
 597              	PtlPriIMU_Data:
 598 0000 00000000 		.space	47
 598      00000000 
 598      00000000 
 598      00000000 
 598      00000000 
 599              		.section	.bss.IMU_Ptl_DataPipe,"aw",%nobits
 600              		.align	2
 601              		.set	.LANCHOR4,. + 0
 604              	IMU_Ptl_DataPipe:
 605 0000 00000000 		.space	30
 605      00000000 
 605      00000000 
 605      00000000 
 605      00000000 
 606              		.section	.bss.VCPQueue_State,"aw",%nobits
 607              		.set	.LANCHOR1,. + 0
 610              	VCPQueue_State:
 611 0000 00       		.space	1
 612              		.section	.bss.VCP_ProtoQueue,"aw",%nobits
 613              		.align	2
 614              		.set	.LANCHOR2,. + 0
 617              	VCP_ProtoQueue:
 618 0000 00000000 		.space	17
 618      00000000 
 618      00000000 
 618      00000000 
 618      00
 619              		.section	.bss.VCP_Queue_CreateState,"aw",%nobits
 620              		.set	.LANCHOR0,. + 0
 623              	VCP_Queue_CreateState:
 624 0000 00       		.space	1
 625              		.section	.bss.test,"aw",%nobits
 626              		.set	.LANCHOR3,. + 0
 629              	test:
 630 0000 00       		.space	1
 631              		.section	.data.task_state,"aw"
 632              		.set	.LANCHOR6,. + 0
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s 			page 17


 635              	task_state:
 636 0000 01       		.byte	1
 637              		.section	.rodata.shellCmdtest,"a"
 638              		.align	2
 641              	shellCmdtest:
 642 0000 74657374 		.ascii	"test\000"
 642      00
 643              		.section	.rodata.shellDesctest,"a"
 644              		.align	2
 647              	shellDesctest:
 648 0000 5368656C 		.ascii	"Shell Test\000"
 648      6C205465 
 648      737400
 649              		.section	shellCommand,"a"
 650              		.align	2
 653              	shellCommandtest:
 654 0000 00210000 		.word	8448
 655 0004 00000000 		.word	shellCmdtest
 656 0008 00000000 		.word	shell_test
 657 000c 00000000 		.word	shellDesctest
 658              		.text
 659              	.Letext0:
 660              		.file 2 "/usr/local/arm-none-eabi-gcc/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/mac
 661              		.file 3 "/usr/local/arm-none-eabi-gcc/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/sys
 662              		.file 4 "System/runtime/runtime.h"
 663              		.file 5 "DataStructure/linked_list.h"
 664              		.file 6 "HAL_Lib/CMSIS/Device/ST/STM32H7xx/Include/stm32h743xx.h"
 665              		.file 7 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_gpio.h"
 666              		.file 8 "System/scheduler/scheduler.h"
 667              		.file 9 "Task/Task_Protocol.h"
 668              		.file 10 "System/shell/shell.h"
 669              		.file 11 "USB/STM32_USB_Device_Library/Core/Inc/usbd_def.h"
 670              		.file 12 "Bsp/Bsp_GPIO.h"
 671              		.file 13 "debug/debug_util.h"
 672              		.file 14 "DataStructure/queue.h"
 673              		.file 15 "IO_Def/IO_Definition.h"
 674              		.file 16 "Common/error_log.h"
 675              		.file 17 "System/DataPipe/DataPipe.h"
 676              		.file 18 "Service/imu_data.h"
 677              		.file 19 "Service/SrvMPU_Sample.h"
 678              		.file 20 "USB/USB_DEVICE/App/usbd_cdc_if.h"
 679              		.file 21 "System/mmu/mmu.h"
 680              		.file 22 "USB/USB_DEVICE/App/usb_device.h"
 681              		.file 23 "System/shell/shell_port.h"
 682              		.file 24 "<built-in>"
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s 			page 18


DEFINED SYMBOLS
                            *ABS*:0000000000000000 Task_Protocol.c
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:17     .text.TaskProto_PushProtocolQueue:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:25     .text.TaskProto_PushProtocolQueue:0000000000000000 TaskProto_PushProtocolQueue
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:171    .text.TaskProto_PushProtocolQueue:000000000000008c $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:179    .text.TaskProtocol_Rec:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:185    .text.TaskProtocol_Rec:0000000000000000 TaskProtocol_Rec
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:203    .text.TaskProtocol_Rec:0000000000000008 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:208    .text.TaskProtocol_TransBuff:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:214    .text.TaskProtocol_TransBuff:0000000000000000 TaskProtocol_TransBuff
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:246    .rodata.shell_test.str1.4:0000000000000000 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:250    .text.shell_test:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:256    .text.shell_test:0000000000000000 shell_test
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:276    .text.shell_test:000000000000000c $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:281    .rodata.TaskProtocol_Init.str1.4:0000000000000000 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:285    .text.TaskProtocol_Init:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:292    .text.TaskProtocol_Init:0000000000000000 TaskProtocol_Init
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:389    .text.TaskProtocol_Init:0000000000000068 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:404    .text.TaskProtocol_Core:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:411    .text.TaskProtocol_Core:0000000000000000 TaskProtocol_Core
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:579    .text.TaskProtocol_Core:00000000000000b4 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:653    shellCommand:0000000000000000 shellCommandtest
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:647    .rodata.shellDesctest:0000000000000000 shellDesctest
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:641    .rodata.shellCmdtest:0000000000000000 shellCmdtest
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:604    .bss.IMU_Ptl_DataPipe:0000000000000000 IMU_Ptl_DataPipe
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:593    .Perph_Section:0000000000000000 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:597    .Perph_Section:0000000000000000 PtlPriIMU_Data
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:600    .bss.IMU_Ptl_DataPipe:0000000000000000 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:610    .bss.VCPQueue_State:0000000000000000 VCPQueue_State
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:611    .bss.VCPQueue_State:0000000000000000 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:613    .bss.VCP_ProtoQueue:0000000000000000 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:617    .bss.VCP_ProtoQueue:0000000000000000 VCP_ProtoQueue
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:623    .bss.VCP_Queue_CreateState:0000000000000000 VCP_Queue_CreateState
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:624    .bss.VCP_Queue_CreateState:0000000000000000 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:629    .bss.test:0000000000000000 test
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:630    .bss.test:0000000000000000 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:635    .data.task_state:0000000000000000 task_state
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:638    .rodata.shellCmdtest:0000000000000000 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:644    .rodata.shellDesctest:0000000000000000 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccuIpoUW.s:650    shellCommand:0000000000000000 $d

UNDEFINED SYMBOLS
Queue
CDC_Transmit_FS
usb_printf
memset
USB_DEVICE_Init
usb_setrec_callback
Shell_Init
ErrorLog
MMU_Malloc
MMU_Free
DebugPin
Debug_PC3
