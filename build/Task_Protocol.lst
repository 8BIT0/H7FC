ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 1
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"Task_Protocol.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.TaskProto_PushProtocolQueue,"ax",%progbits
  17              		.align	1
  18              		.global	TaskProto_PushProtocolQueue
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv5-d16
  25              	TaskProto_PushProtocolQueue:
  26              	.LVL0:
  27              	.LFB1996:
  28              		.file 1 "Task/Task_Protocol.c"
   1:Task/Task_Protocol.c **** /*
   2:Task/Task_Protocol.c ****  *  coder: 8_B!T0
   3:Task/Task_Protocol.c ****  *  bref: use this task make FC communicate to computer configuration
   4:Task/Task_Protocol.c ****  */
   5:Task/Task_Protocol.c **** #include "Task_Protocol.h"
   6:Task/Task_Protocol.c **** #include "scheduler.h"
   7:Task/Task_Protocol.c **** #include "shell.h"
   8:Task/Task_Protocol.c **** #include "shell_port.h"
   9:Task/Task_Protocol.c **** #include "usb_device.h"
  10:Task/Task_Protocol.c **** #include "usbd_cdc_if.h"
  11:Task/Task_Protocol.c **** #include "debug_util.h"
  12:Task/Task_Protocol.c **** #include <stdio.h>
  13:Task/Task_Protocol.c **** #include "queue.h"
  14:Task/Task_Protocol.c **** #include "Dev_Led.h"
  15:Task/Task_Protocol.c **** #include "IO_Definition.h"
  16:Task/Task_Protocol.c **** #include "Bsp_GPIO.h"
  17:Task/Task_Protocol.c **** #include "error_log.h"
  18:Task/Task_Protocol.c **** #include "Srv_ComProto.h"
  19:Task/Task_Protocol.c **** #include "mmu.h"
  20:Task/Task_Protocol.c **** 
  21:Task/Task_Protocol.c **** static bool test = false;
  22:Task/Task_Protocol.c **** 
  23:Task/Task_Protocol.c **** #define VCP_QUEUE_BUFF_SIZE 4096
  24:Task/Task_Protocol.c **** 
  25:Task/Task_Protocol.c **** /* MAVLink message List */
  26:Task/Task_Protocol.c **** SrvComProto_MsgInfo_TypeDef TaskProto_MAV_RawIMU;
  27:Task/Task_Protocol.c **** SrvComProto_MsgInfo_TypeDef TaskProto_MAV_ScaledIMU;
  28:Task/Task_Protocol.c **** SrvComProto_MsgInfo_TypeDef TaskProto_MAV_RcChannel;
  29:Task/Task_Protocol.c **** SrvComProto_MsgInfo_TypeDef TaskProto_MAV_MotoChannel;
  30:Task/Task_Protocol.c **** 
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s 			page 2


  31:Task/Task_Protocol.c **** static uint8_t USB_MavShareBuf[1024];
  32:Task/Task_Protocol.c **** 
  33:Task/Task_Protocol.c **** SrvComProto_Stream_TypeDef MavStream = 
  34:Task/Task_Protocol.c **** {
  35:Task/Task_Protocol.c ****     .p_buf = USB_MavShareBuf,
  36:Task/Task_Protocol.c ****     .size = 0,
  37:Task/Task_Protocol.c ****     .max_size = 1024,
  38:Task/Task_Protocol.c **** };
  39:Task/Task_Protocol.c **** 
  40:Task/Task_Protocol.c **** /* internal vriable */
  41:Task/Task_Protocol.c **** static QueueObj_TypeDef VCP_ProtoQueue; /* Send Queue */
  42:Task/Task_Protocol.c **** static bool VCP_Queue_CreateState = false;
  43:Task/Task_Protocol.c **** static ProtoQueue_State_List VCPQueue_State = ProtoQueue_Idle;
  44:Task/Task_Protocol.c **** static bool VCP_Connect_State = false; /* USB connect state */
  45:Task/Task_Protocol.c **** static TaskProto_State_List task_state = TaskProto_Core;
  46:Task/Task_Protocol.c **** static bool Shell_Mode = false;
  47:Task/Task_Protocol.c **** 
  48:Task/Task_Protocol.c **** /* internal function */
  49:Task/Task_Protocol.c **** static void TaskProtocol_MainProc(uint8_t *data, uint16_t size);
  50:Task/Task_Protocol.c **** static bool TaskProtocol_TransBuff(uint8_t *data, uint16_t size);
  51:Task/Task_Protocol.c **** static void TaskProtocol_Rec(uint8_t *data, uint16_t len);
  52:Task/Task_Protocol.c **** static void TaskProtocol_PlugDetect_Callback(void);
  53:Task/Task_Protocol.c **** ProtoQueue_State_List TaskProto_PushProtocolQueue(uint8_t *p_data, uint16_t size);
  54:Task/Task_Protocol.c **** 
  55:Task/Task_Protocol.c **** bool TaskProtocol_Init(void)
  56:Task/Task_Protocol.c **** {
  57:Task/Task_Protocol.c ****     SrvComProto.init(SrvComProto_Type_MAV, NULL);
  58:Task/Task_Protocol.c **** 
  59:Task/Task_Protocol.c ****     /* create mavlink message object */
  60:Task/Task_Protocol.c ****     if (SrvComProto.get_msg_type() == SrvComProto_Type_MAV)
  61:Task/Task_Protocol.c ****     {
  62:Task/Task_Protocol.c ****         SrvComProto_MavPackInfo_TypeDef PckInfo;
  63:Task/Task_Protocol.c **** 
  64:Task/Task_Protocol.c ****         memset(&PckInfo, 0, sizeof(PckInfo));
  65:Task/Task_Protocol.c ****         memset(&TaskProto_MAV_RawIMU, 0, sizeof(TaskProto_MAV_RawIMU));
  66:Task/Task_Protocol.c ****         memset(&TaskProto_MAV_ScaledIMU, 0, sizeof(TaskProto_MAV_ScaledIMU));
  67:Task/Task_Protocol.c ****         memset(&TaskProto_MAV_RcChannel, 0, sizeof(TaskProto_MAV_RcChannel));
  68:Task/Task_Protocol.c ****         memset(&TaskProto_MAV_MotoChannel, 0, sizeof(TaskProto_MAV_MotoChannel));
  69:Task/Task_Protocol.c **** 
  70:Task/Task_Protocol.c ****         // period 10Ms 100Hz
  71:Task/Task_Protocol.c ****         PckInfo.system_id = MAV_SysID_Drone;
  72:Task/Task_Protocol.c ****         PckInfo.component_id = MAV_CompoID_Raw_IMU;
  73:Task/Task_Protocol.c ****         PckInfo.chan = 0;
  74:Task/Task_Protocol.c ****         SrvComProto.mav_msg_obj_init(&TaskProto_MAV_RawIMU, PckInfo, 10);
  75:Task/Task_Protocol.c ****         SrvComProto.mav_msg_enable_ctl(&TaskProto_MAV_RawIMU, true);
  76:Task/Task_Protocol.c **** 
  77:Task/Task_Protocol.c ****         // period 10Ms 100Hz
  78:Task/Task_Protocol.c ****         PckInfo.system_id = MAV_SysID_Drone;
  79:Task/Task_Protocol.c ****         PckInfo.component_id = MAV_CompoID_Scaled_IMU;
  80:Task/Task_Protocol.c ****         PckInfo.chan = 0;
  81:Task/Task_Protocol.c ****         SrvComProto.mav_msg_obj_init(&TaskProto_MAV_ScaledIMU, PckInfo, 10);
  82:Task/Task_Protocol.c ****         SrvComProto.mav_msg_enable_ctl(&TaskProto_MAV_ScaledIMU, false);
  83:Task/Task_Protocol.c **** 
  84:Task/Task_Protocol.c ****         // period 20Ms 50Hz
  85:Task/Task_Protocol.c ****         PckInfo.system_id = MAV_SysID_Drone;
  86:Task/Task_Protocol.c ****         PckInfo.component_id = MAV_CompoID_RC_Channel;
  87:Task/Task_Protocol.c ****         PckInfo.chan = 0;
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s 			page 3


  88:Task/Task_Protocol.c ****         SrvComProto.mav_msg_obj_init(&TaskProto_MAV_RcChannel, PckInfo, 20);
  89:Task/Task_Protocol.c ****         SrvComProto.mav_msg_enable_ctl(&TaskProto_MAV_RcChannel, true);
  90:Task/Task_Protocol.c **** 
  91:Task/Task_Protocol.c ****         // period 10Ms 100Hz
  92:Task/Task_Protocol.c ****         PckInfo.system_id = MAV_SysID_Drone;
  93:Task/Task_Protocol.c ****         PckInfo.component_id = MAV_CompoID_MotoCtl;
  94:Task/Task_Protocol.c ****         PckInfo.chan = 0;
  95:Task/Task_Protocol.c ****         SrvComProto.mav_msg_obj_init(&TaskProto_MAV_MotoChannel, PckInfo, 10);
  96:Task/Task_Protocol.c ****         SrvComProto.mav_msg_enable_ctl(&TaskProto_MAV_MotoChannel, true);
  97:Task/Task_Protocol.c ****     }
  98:Task/Task_Protocol.c ****     else if (SrvComProto.get_msg_type() == SrvComProto_Type_Cus)
  99:Task/Task_Protocol.c ****     {
 100:Task/Task_Protocol.c ****     }
 101:Task/Task_Protocol.c **** 
 102:Task/Task_Protocol.c ****     if (!USB_DEVICE_Init())
 103:Task/Task_Protocol.c ****     {
 104:Task/Task_Protocol.c ****         task_state = TaskProto_Error_Proc;
 105:Task/Task_Protocol.c ****         return false;
 106:Task/Task_Protocol.c ****     }
 107:Task/Task_Protocol.c **** 
 108:Task/Task_Protocol.c ****     /* init USB attach detect pin */
 109:Task/Task_Protocol.c ****     // BspGPIO.in_init(USB_DctPin);
 110:Task/Task_Protocol.c **** 
 111:Task/Task_Protocol.c ****     if (!Queue.create_auto(&VCP_ProtoQueue, "VCP Send Queue", VCP_QUEUE_BUFF_SIZE))
 112:Task/Task_Protocol.c ****         return false;
 113:Task/Task_Protocol.c **** 
 114:Task/Task_Protocol.c ****     VCP_Queue_CreateState = true;
 115:Task/Task_Protocol.c **** 
 116:Task/Task_Protocol.c ****     usb_setrec_callback(TaskProtocol_Rec);
 117:Task/Task_Protocol.c ****     // Shell_Init(TaskProtocol_TransBuff);
 118:Task/Task_Protocol.c **** 
 119:Task/Task_Protocol.c ****     ErrorLog.set_callback(Error_Out_Callback, TaskProto_PushProtocolQueue);
 120:Task/Task_Protocol.c **** 
 121:Task/Task_Protocol.c ****     task_state = TaskProto_Core;
 122:Task/Task_Protocol.c ****     return true;
 123:Task/Task_Protocol.c **** }
 124:Task/Task_Protocol.c **** 
 125:Task/Task_Protocol.c **** ProtoQueue_State_List TaskProto_PushProtocolQueue(uint8_t *p_data, uint16_t size)
 126:Task/Task_Protocol.c **** {
  29              		.loc 1 126 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 126 1 is_stmt 0 view .LVU1
  34 0000 70B5     		push	{r4, r5, r6, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 16
  37              		.cfi_offset 4, -16
  38              		.cfi_offset 5, -12
  39              		.cfi_offset 6, -8
  40              		.cfi_offset 14, -4
  41 0002 82B0     		sub	sp, sp, #8
  42              	.LCFI1:
  43              		.cfi_def_cfa_offset 24
 127:Task/Task_Protocol.c ****     /* push into send queue */
 128:Task/Task_Protocol.c ****     if (VCP_Queue_CreateState &&
  44              		.loc 1 128 5 is_stmt 1 view .LVU2
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s 			page 4


  45              		.loc 1 128 9 is_stmt 0 view .LVU3
  46 0004 214B     		ldr	r3, .L11
  47 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  48              		.loc 1 128 8 view .LVU4
  49 0008 2BB1     		cbz	r3, .L2
  50 000a 0546     		mov	r5, r0
  51 000c 0C46     		mov	r4, r1
 129:Task/Task_Protocol.c ****         ((VCPQueue_State == ProtoQueue_Ok) ||
  52              		.loc 1 129 44 discriminator 1 view .LVU5
  53 000e 204B     		ldr	r3, .L11+4
  54 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 128:Task/Task_Protocol.c ****         ((VCPQueue_State == ProtoQueue_Ok) ||
  55              		.loc 1 128 31 discriminator 1 view .LVU6
  56 0012 012B     		cmp	r3, #1
  57 0014 11D9     		bls	.L8
  58              	.LVL1:
  59              	.L2:
 130:Task/Task_Protocol.c ****          (VCPQueue_State == ProtoQueue_Idle)) &&
 131:Task/Task_Protocol.c ****         ((Queue.state(VCP_ProtoQueue) == Queue_empty) ||
 132:Task/Task_Protocol.c ****          (Queue.state(VCP_ProtoQueue) == Queue_ok)))
 133:Task/Task_Protocol.c ****     {
 134:Task/Task_Protocol.c ****         VCPQueue_State = ProtoQueue_Busy;
 135:Task/Task_Protocol.c **** 
 136:Task/Task_Protocol.c ****         /* push send data into VCP queue */
 137:Task/Task_Protocol.c ****         Queue.push(&VCP_ProtoQueue, p_data, size);
 138:Task/Task_Protocol.c **** 
 139:Task/Task_Protocol.c ****         VCPQueue_State = ProtoQueue_Ok;
 140:Task/Task_Protocol.c **** 
 141:Task/Task_Protocol.c ****         return ProtoQueue_Ok;
 142:Task/Task_Protocol.c ****     }
 143:Task/Task_Protocol.c ****     else if (!VCP_Queue_CreateState)
  60              		.loc 1 143 10 is_stmt 1 view .LVU7
  61              		.loc 1 143 14 is_stmt 0 view .LVU8
  62 0016 1D4B     		ldr	r3, .L11
  63 0018 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  64              		.loc 1 143 13 view .LVU9
  65 001a 002B     		cmp	r3, #0
  66 001c 2DD0     		beq	.L9
 144:Task/Task_Protocol.c ****     {
 145:Task/Task_Protocol.c ****         VCPQueue_State = ProtoQueeu_Error;
 146:Task/Task_Protocol.c ****         return ProtoQueeu_Error;
 147:Task/Task_Protocol.c ****     }
 148:Task/Task_Protocol.c ****     else if (Queue.state(VCP_ProtoQueue) == Queue_full)
  67              		.loc 1 148 10 is_stmt 1 view .LVU10
  68              		.loc 1 148 19 is_stmt 0 view .LVU11
  69 001e 1D4B     		ldr	r3, .L11+8
  70 0020 1C6A     		ldr	r4, [r3, #32]
  71              		.loc 1 148 14 view .LVU12
  72 0022 1D4B     		ldr	r3, .L11+12
  73 0024 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
  74 0026 8DF80020 		strb	r2, [sp]
  75 002a 0FCB     		ldm	r3, {r0, r1, r2, r3}
  76 002c A047     		blx	r4
  77              	.LVL2:
  78              		.loc 1 148 13 view .LVU13
  79 002e 0428     		cmp	r0, #4
  80 0030 27D0     		beq	.L10
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s 			page 5


 149:Task/Task_Protocol.c ****     {
 150:Task/Task_Protocol.c ****         VCPQueue_State = ProtoQueue_Full;
 151:Task/Task_Protocol.c ****         return ProtoQueue_Full;
 152:Task/Task_Protocol.c ****     }
 153:Task/Task_Protocol.c ****     else if ((VCPQueue_State != ProtoQueue_Ok) ||
  81              		.loc 1 153 10 is_stmt 1 view .LVU14
 154:Task/Task_Protocol.c ****              (VCPQueue_State != ProtoQueue_Idle))
 155:Task/Task_Protocol.c ****     {
 156:Task/Task_Protocol.c ****         return VCPQueue_State;
  82              		.loc 1 156 9 view .LVU15
  83              		.loc 1 156 16 is_stmt 0 view .LVU16
  84 0032 174B     		ldr	r3, .L11+4
  85 0034 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
  86              	.L4:
 157:Task/Task_Protocol.c ****     }
 158:Task/Task_Protocol.c **** }
  87              		.loc 1 158 1 view .LVU17
  88 0036 02B0     		add	sp, sp, #8
  89              	.LCFI2:
  90              		.cfi_remember_state
  91              		.cfi_def_cfa_offset 16
  92              		@ sp needed
  93 0038 70BD     		pop	{r4, r5, r6, pc}
  94              	.LVL3:
  95              	.L8:
  96              	.LCFI3:
  97              		.cfi_restore_state
 131:Task/Task_Protocol.c ****          (Queue.state(VCP_ProtoQueue) == Queue_ok)))
  98              		.loc 1 131 16 view .LVU18
  99 003a 164B     		ldr	r3, .L11+8
 100 003c 1E6A     		ldr	r6, [r3, #32]
 131:Task/Task_Protocol.c ****          (Queue.state(VCP_ProtoQueue) == Queue_ok)))
 101              		.loc 1 131 11 view .LVU19
 102 003e 164B     		ldr	r3, .L11+12
 103 0040 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
 104 0042 8DF80020 		strb	r2, [sp]
 105 0046 0FCB     		ldm	r3, {r0, r1, r2, r3}
 106              	.LVL4:
 131:Task/Task_Protocol.c ****          (Queue.state(VCP_ProtoQueue) == Queue_ok)))
 107              		.loc 1 131 11 view .LVU20
 108 0048 B047     		blx	r6
 109              	.LVL5:
 130:Task/Task_Protocol.c ****         ((Queue.state(VCP_ProtoQueue) == Queue_empty) ||
 110              		.loc 1 130 47 view .LVU21
 111 004a 0328     		cmp	r0, #3
 112 004c 09D0     		beq	.L3
 132:Task/Task_Protocol.c ****     {
 113              		.loc 1 132 16 view .LVU22
 114 004e 114B     		ldr	r3, .L11+8
 115 0050 1E6A     		ldr	r6, [r3, #32]
 132:Task/Task_Protocol.c ****     {
 116              		.loc 1 132 11 view .LVU23
 117 0052 114B     		ldr	r3, .L11+12
 118 0054 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
 119 0056 8DF80020 		strb	r2, [sp]
 120 005a 0FCB     		ldm	r3, {r0, r1, r2, r3}
 121 005c B047     		blx	r6
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s 			page 6


 122              	.LVL6:
 131:Task/Task_Protocol.c ****          (Queue.state(VCP_ProtoQueue) == Queue_ok)))
 123              		.loc 1 131 55 view .LVU24
 124 005e 0028     		cmp	r0, #0
 125 0060 D9D1     		bne	.L2
 126              	.L3:
 134:Task/Task_Protocol.c **** 
 127              		.loc 1 134 9 is_stmt 1 view .LVU25
 134:Task/Task_Protocol.c **** 
 128              		.loc 1 134 24 is_stmt 0 view .LVU26
 129 0062 0B4E     		ldr	r6, .L11+4
 130 0064 0223     		movs	r3, #2
 131 0066 3370     		strb	r3, [r6]
 137:Task/Task_Protocol.c **** 
 132              		.loc 1 137 9 is_stmt 1 view .LVU27
 137:Task/Task_Protocol.c **** 
 133              		.loc 1 137 14 is_stmt 0 view .LVU28
 134 0068 0A4B     		ldr	r3, .L11+8
 135 006a 9B69     		ldr	r3, [r3, #24]
 137:Task/Task_Protocol.c **** 
 136              		.loc 1 137 9 view .LVU29
 137 006c 2246     		mov	r2, r4
 138 006e 2946     		mov	r1, r5
 139 0070 0948     		ldr	r0, .L11+12
 140 0072 9847     		blx	r3
 141              	.LVL7:
 139:Task/Task_Protocol.c **** 
 142              		.loc 1 139 9 is_stmt 1 view .LVU30
 139:Task/Task_Protocol.c **** 
 143              		.loc 1 139 24 is_stmt 0 view .LVU31
 144 0074 0120     		movs	r0, #1
 145 0076 3070     		strb	r0, [r6]
 141:Task/Task_Protocol.c ****     }
 146              		.loc 1 141 9 is_stmt 1 view .LVU32
 141:Task/Task_Protocol.c ****     }
 147              		.loc 1 141 16 is_stmt 0 view .LVU33
 148 0078 DDE7     		b	.L4
 149              	.LVL8:
 150              	.L9:
 145:Task/Task_Protocol.c ****         return ProtoQueeu_Error;
 151              		.loc 1 145 9 is_stmt 1 view .LVU34
 145:Task/Task_Protocol.c ****         return ProtoQueeu_Error;
 152              		.loc 1 145 24 is_stmt 0 view .LVU35
 153 007a 0420     		movs	r0, #4
 154 007c 044B     		ldr	r3, .L11+4
 155 007e 1870     		strb	r0, [r3]
 146:Task/Task_Protocol.c ****     }
 156              		.loc 1 146 9 is_stmt 1 view .LVU36
 146:Task/Task_Protocol.c ****     }
 157              		.loc 1 146 16 is_stmt 0 view .LVU37
 158 0080 D9E7     		b	.L4
 159              	.L10:
 150:Task/Task_Protocol.c ****         return ProtoQueue_Full;
 160              		.loc 1 150 9 is_stmt 1 view .LVU38
 150:Task/Task_Protocol.c ****         return ProtoQueue_Full;
 161              		.loc 1 150 24 is_stmt 0 view .LVU39
 162 0082 0320     		movs	r0, #3
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s 			page 7


 163 0084 024B     		ldr	r3, .L11+4
 164 0086 1870     		strb	r0, [r3]
 151:Task/Task_Protocol.c ****     }
 165              		.loc 1 151 9 is_stmt 1 view .LVU40
 151:Task/Task_Protocol.c ****     }
 166              		.loc 1 151 16 is_stmt 0 view .LVU41
 167 0088 D5E7     		b	.L4
 168              	.L12:
 169 008a 00BF     		.align	2
 170              	.L11:
 171 008c 00000000 		.word	.LANCHOR0
 172 0090 00000000 		.word	.LANCHOR1
 173 0094 00000000 		.word	Queue
 174 0098 00000000 		.word	.LANCHOR2
 175              		.cfi_endproc
 176              	.LFE1996:
 178              		.section	.text.TaskProtocol_Rec,"ax",%progbits
 179              		.align	1
 180              		.syntax unified
 181              		.thumb
 182              		.thumb_func
 183              		.fpu fpv5-d16
 185              	TaskProtocol_Rec:
 186              	.LVL9:
 187              	.LFB2000:
 159:Task/Task_Protocol.c **** 
 160:Task/Task_Protocol.c **** static bool TaskProtocol_TransBuff(uint8_t *data, uint16_t size)
 161:Task/Task_Protocol.c **** {
 162:Task/Task_Protocol.c ****     if (CDC_Transmit_FS(data, size) != USBD_OK)
 163:Task/Task_Protocol.c ****         return false;
 164:Task/Task_Protocol.c **** 
 165:Task/Task_Protocol.c ****     return true;
 166:Task/Task_Protocol.c **** }
 167:Task/Task_Protocol.c **** 
 168:Task/Task_Protocol.c **** void TaskProtocol_Core(Task_Handle hdl)
 169:Task/Task_Protocol.c **** {
 170:Task/Task_Protocol.c ****     uint8_t *p_buf = NULL;
 171:Task/Task_Protocol.c ****     uint16_t p_buf_size = 0;
 172:Task/Task_Protocol.c **** 
 173:Task/Task_Protocol.c ****     DebugPin.ctl(Debug_PC3, true);
 174:Task/Task_Protocol.c **** 
 175:Task/Task_Protocol.c ****     switch ((uint8_t)task_state)
 176:Task/Task_Protocol.c ****     {
 177:Task/Task_Protocol.c ****     case TaskProto_Core:
 178:Task/Task_Protocol.c ****         TaskProtocol_MainProc(NULL, 0);
 179:Task/Task_Protocol.c **** 
 180:Task/Task_Protocol.c ****         /* check vcp send queue state */
 181:Task/Task_Protocol.c ****         /* if it has any data then send them out */
 182:Task/Task_Protocol.c ****         if (test && ((Queue.state(VCP_ProtoQueue) == Queue_ok) || (Queue.state(VCP_ProtoQueue) == Q
 183:Task/Task_Protocol.c ****         {
 184:Task/Task_Protocol.c ****             p_buf = (uint8_t *)MMU_Malloc(Queue.size(VCP_ProtoQueue));
 185:Task/Task_Protocol.c **** 
 186:Task/Task_Protocol.c ****             if (p_buf)
 187:Task/Task_Protocol.c ****             {
 188:Task/Task_Protocol.c ****                 p_buf_size = Queue.size(VCP_ProtoQueue);
 189:Task/Task_Protocol.c ****                 Queue.pop(&VCP_ProtoQueue, p_buf, p_buf_size);
 190:Task/Task_Protocol.c **** 
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s 			page 8


 191:Task/Task_Protocol.c ****                 TaskProtocol_TransBuff(p_buf, p_buf_size);
 192:Task/Task_Protocol.c **** 
 193:Task/Task_Protocol.c ****                 MMU_Free(p_buf);
 194:Task/Task_Protocol.c ****             }
 195:Task/Task_Protocol.c ****         }
 196:Task/Task_Protocol.c ****         
 197:Task/Task_Protocol.c ****         /* test proto mavlink raw imu data */
 198:Task/Task_Protocol.c ****         SrvComProto.mav_msg_stream(TaskProto_MAV_RawIMU, &MavStream, TaskProtocol_TransBuff);
 199:Task/Task_Protocol.c **** 
 200:Task/Task_Protocol.c ****         break;
 201:Task/Task_Protocol.c **** 
 202:Task/Task_Protocol.c ****     case TaskProto_Error_Proc:
 203:Task/Task_Protocol.c ****         break;
 204:Task/Task_Protocol.c **** 
 205:Task/Task_Protocol.c ****     default:
 206:Task/Task_Protocol.c ****         break;
 207:Task/Task_Protocol.c ****     }
 208:Task/Task_Protocol.c **** 
 209:Task/Task_Protocol.c ****     DebugPin.ctl(Debug_PC3, false);
 210:Task/Task_Protocol.c **** }
 211:Task/Task_Protocol.c **** 
 212:Task/Task_Protocol.c **** static void TaskProtocol_MainProc(uint8_t *data, uint16_t size)
 213:Task/Task_Protocol.c **** {
 214:Task/Task_Protocol.c **** }
 215:Task/Task_Protocol.c **** 
 216:Task/Task_Protocol.c **** static void TaskProtocol_Rec(uint8_t *data, uint16_t len)
 217:Task/Task_Protocol.c **** {
 188              		.loc 1 217 1 is_stmt 1 view -0
 189              		.cfi_startproc
 190              		@ args = 0, pretend = 0, frame = 0
 191              		@ frame_needed = 0, uses_anonymous_args = 0
 192              		@ link register save eliminated.
 218:Task/Task_Protocol.c ****     // shellHandler(Shell_GetInstence(), data[i]);
 219:Task/Task_Protocol.c ****     // TaskProtocol_TransBuff(data, len);
 220:Task/Task_Protocol.c ****     test = true;
 193              		.loc 1 220 5 view .LVU43
 194              		.loc 1 220 10 is_stmt 0 view .LVU44
 195 0000 014B     		ldr	r3, .L14
 196 0002 0122     		movs	r2, #1
 197 0004 1A70     		strb	r2, [r3]
 221:Task/Task_Protocol.c **** }
 198              		.loc 1 221 1 view .LVU45
 199 0006 7047     		bx	lr
 200              	.L15:
 201              		.align	2
 202              	.L14:
 203 0008 00000000 		.word	.LANCHOR3
 204              		.cfi_endproc
 205              	.LFE2000:
 207              		.section	.text.TaskProtocol_TransBuff,"ax",%progbits
 208              		.align	1
 209              		.syntax unified
 210              		.thumb
 211              		.thumb_func
 212              		.fpu fpv5-d16
 214              	TaskProtocol_TransBuff:
 215              	.LVL10:
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s 			page 9


 216              	.LFB1997:
 161:Task/Task_Protocol.c ****     if (CDC_Transmit_FS(data, size) != USBD_OK)
 217              		.loc 1 161 1 is_stmt 1 view -0
 218              		.cfi_startproc
 219              		@ args = 0, pretend = 0, frame = 0
 220              		@ frame_needed = 0, uses_anonymous_args = 0
 161:Task/Task_Protocol.c ****     if (CDC_Transmit_FS(data, size) != USBD_OK)
 221              		.loc 1 161 1 is_stmt 0 view .LVU47
 222 0000 08B5     		push	{r3, lr}
 223              	.LCFI4:
 224              		.cfi_def_cfa_offset 8
 225              		.cfi_offset 3, -8
 226              		.cfi_offset 14, -4
 162:Task/Task_Protocol.c ****         return false;
 227              		.loc 1 162 5 is_stmt 1 view .LVU48
 162:Task/Task_Protocol.c ****         return false;
 228              		.loc 1 162 9 is_stmt 0 view .LVU49
 229 0002 FFF7FEFF 		bl	CDC_Transmit_FS
 230              	.LVL11:
 162:Task/Task_Protocol.c ****         return false;
 231              		.loc 1 162 8 view .LVU50
 232 0006 08B9     		cbnz	r0, .L18
 165:Task/Task_Protocol.c **** }
 233              		.loc 1 165 12 view .LVU51
 234 0008 0120     		movs	r0, #1
 235              	.L17:
 166:Task/Task_Protocol.c **** 
 236              		.loc 1 166 1 view .LVU52
 237 000a 08BD     		pop	{r3, pc}
 238              	.L18:
 163:Task/Task_Protocol.c **** 
 239              		.loc 1 163 16 view .LVU53
 240 000c 0020     		movs	r0, #0
 241 000e FCE7     		b	.L17
 242              		.cfi_endproc
 243              	.LFE1997:
 245              		.section	.rodata.shell_test.str1.4,"aMS",%progbits,1
 246              		.align	2
 247              	.LC0:
 248 0000 09385F42 		.ascii	"\0118_B!T0 Shell test\015\012\000"
 248      21543020 
 248      5368656C 
 248      6C207465 
 248      73740D0A 
 249              		.section	.text.shell_test,"ax",%progbits
 250              		.align	1
 251              		.syntax unified
 252              		.thumb
 253              		.thumb_func
 254              		.fpu fpv5-d16
 256              	shell_test:
 257              	.LFB2002:
 222:Task/Task_Protocol.c **** 
 223:Task/Task_Protocol.c **** static void TaskProtocol_PlugDetect_Callback(void)
 224:Task/Task_Protocol.c **** {
 225:Task/Task_Protocol.c ****     static uint8_t a;
 226:Task/Task_Protocol.c **** 
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s 			page 10


 227:Task/Task_Protocol.c ****     a++;
 228:Task/Task_Protocol.c **** }
 229:Task/Task_Protocol.c **** 
 230:Task/Task_Protocol.c **** static void shell_test(void)
 231:Task/Task_Protocol.c **** {
 258              		.loc 1 231 1 is_stmt 1 view -0
 259              		.cfi_startproc
 260              		@ args = 0, pretend = 0, frame = 0
 261              		@ frame_needed = 0, uses_anonymous_args = 0
 262 0000 08B5     		push	{r3, lr}
 263              	.LCFI5:
 264              		.cfi_def_cfa_offset 8
 265              		.cfi_offset 3, -8
 266              		.cfi_offset 14, -4
 232:Task/Task_Protocol.c ****     usb_printf("\t8_B!T0 Shell test\r\n");
 267              		.loc 1 232 5 view .LVU55
 268 0002 0248     		ldr	r0, .L22
 269 0004 FFF7FEFF 		bl	usb_printf
 270              	.LVL12:
 233:Task/Task_Protocol.c **** }
 271              		.loc 1 233 1 is_stmt 0 view .LVU56
 272 0008 08BD     		pop	{r3, pc}
 273              	.L23:
 274 000a 00BF     		.align	2
 275              	.L22:
 276 000c 00000000 		.word	.LC0
 277              		.cfi_endproc
 278              	.LFE2002:
 280              		.section	.rodata.TaskProtocol_Init.str1.4,"aMS",%progbits,1
 281              		.align	2
 282              	.LC1:
 283 0000 56435020 		.ascii	"VCP Send Queue\000"
 283      53656E64 
 283      20517565 
 283      756500
 284              		.section	.text.TaskProtocol_Init,"ax",%progbits
 285              		.align	1
 286              		.global	TaskProtocol_Init
 287              		.syntax unified
 288              		.thumb
 289              		.thumb_func
 290              		.fpu fpv5-d16
 292              	TaskProtocol_Init:
 293              	.LFB1995:
  56:Task/Task_Protocol.c ****     SrvComProto.init(SrvComProto_Type_MAV, NULL);
 294              		.loc 1 56 1 is_stmt 1 view -0
 295              		.cfi_startproc
 296              		@ args = 0, pretend = 0, frame = 8
 297              		@ frame_needed = 0, uses_anonymous_args = 0
 298 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 299              	.LCFI6:
 300              		.cfi_def_cfa_offset 32
 301              		.cfi_offset 4, -32
 302              		.cfi_offset 5, -28
 303              		.cfi_offset 6, -24
 304              		.cfi_offset 7, -20
 305              		.cfi_offset 8, -16
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s 			page 11


 306              		.cfi_offset 9, -12
 307              		.cfi_offset 10, -8
 308              		.cfi_offset 14, -4
 309 0004 82B0     		sub	sp, sp, #8
 310              	.LCFI7:
 311              		.cfi_def_cfa_offset 40
  57:Task/Task_Protocol.c **** 
 312              		.loc 1 57 5 view .LVU58
  57:Task/Task_Protocol.c **** 
 313              		.loc 1 57 16 is_stmt 0 view .LVU59
 314 0006 474C     		ldr	r4, .L32
 315 0008 2368     		ldr	r3, [r4]
  57:Task/Task_Protocol.c **** 
 316              		.loc 1 57 5 view .LVU60
 317 000a 0021     		movs	r1, #0
 318 000c 0220     		movs	r0, #2
 319 000e 9847     		blx	r3
 320              	.LVL13:
  60:Task/Task_Protocol.c ****     {
 321              		.loc 1 60 5 is_stmt 1 view .LVU61
  60:Task/Task_Protocol.c ****     {
 322              		.loc 1 60 20 is_stmt 0 view .LVU62
 323 0010 6368     		ldr	r3, [r4, #4]
  60:Task/Task_Protocol.c ****     {
 324              		.loc 1 60 9 view .LVU63
 325 0012 9847     		blx	r3
 326              	.LVL14:
  60:Task/Task_Protocol.c ****     {
 327              		.loc 1 60 8 view .LVU64
 328 0014 0228     		cmp	r0, #2
 329 0016 1FD0     		beq	.L30
  98:Task/Task_Protocol.c ****     {
 330              		.loc 1 98 10 is_stmt 1 view .LVU65
  98:Task/Task_Protocol.c ****     {
 331              		.loc 1 98 25 is_stmt 0 view .LVU66
 332 0018 424B     		ldr	r3, .L32
 333 001a 5B68     		ldr	r3, [r3, #4]
  98:Task/Task_Protocol.c ****     {
 334              		.loc 1 98 14 view .LVU67
 335 001c 9847     		blx	r3
 336              	.LVL15:
 337              	.L26:
 100:Task/Task_Protocol.c **** 
 338              		.loc 1 100 5 is_stmt 1 view .LVU68
 102:Task/Task_Protocol.c ****     {
 339              		.loc 1 102 5 view .LVU69
 102:Task/Task_Protocol.c ****     {
 340              		.loc 1 102 10 is_stmt 0 view .LVU70
 341 001e FFF7FEFF 		bl	USB_DEVICE_Init
 342              	.LVL16:
 102:Task/Task_Protocol.c ****     {
 343              		.loc 1 102 8 view .LVU71
 344 0022 0446     		mov	r4, r0
 345 0024 0028     		cmp	r0, #0
 346 0026 76D0     		beq	.L31
 111:Task/Task_Protocol.c ****         return false;
 347              		.loc 1 111 5 is_stmt 1 view .LVU72
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s 			page 12


 111:Task/Task_Protocol.c ****         return false;
 348              		.loc 1 111 15 is_stmt 0 view .LVU73
 349 0028 3F4B     		ldr	r3, .L32+4
 350 002a 9B68     		ldr	r3, [r3, #8]
 111:Task/Task_Protocol.c ****         return false;
 351              		.loc 1 111 10 view .LVU74
 352 002c 4FF48052 		mov	r2, #4096
 353 0030 3E49     		ldr	r1, .L32+8
 354 0032 3F48     		ldr	r0, .L32+12
 355 0034 9847     		blx	r3
 356              	.LVL17:
 111:Task/Task_Protocol.c ****         return false;
 357              		.loc 1 111 8 view .LVU75
 358 0036 0446     		mov	r4, r0
 359 0038 0028     		cmp	r0, #0
 360 003a 6FD0     		beq	.L28
 114:Task/Task_Protocol.c **** 
 361              		.loc 1 114 5 is_stmt 1 view .LVU76
 114:Task/Task_Protocol.c **** 
 362              		.loc 1 114 27 is_stmt 0 view .LVU77
 363 003c 0125     		movs	r5, #1
 364 003e 3D4B     		ldr	r3, .L32+16
 365 0040 1D70     		strb	r5, [r3]
 116:Task/Task_Protocol.c ****     // Shell_Init(TaskProtocol_TransBuff);
 366              		.loc 1 116 5 is_stmt 1 view .LVU78
 367 0042 3D48     		ldr	r0, .L32+20
 368 0044 FFF7FEFF 		bl	usb_setrec_callback
 369              	.LVL18:
 119:Task/Task_Protocol.c **** 
 370              		.loc 1 119 5 view .LVU79
 119:Task/Task_Protocol.c **** 
 371              		.loc 1 119 13 is_stmt 0 view .LVU80
 372 0048 3C4B     		ldr	r3, .L32+24
 373 004a 1B69     		ldr	r3, [r3, #16]
 119:Task/Task_Protocol.c **** 
 374              		.loc 1 119 5 view .LVU81
 375 004c 3C49     		ldr	r1, .L32+28
 376 004e 2846     		mov	r0, r5
 377 0050 9847     		blx	r3
 378              	.LVL19:
 121:Task/Task_Protocol.c ****     return true;
 379              		.loc 1 121 5 is_stmt 1 view .LVU82
 121:Task/Task_Protocol.c ****     return true;
 380              		.loc 1 121 16 is_stmt 0 view .LVU83
 381 0052 3C4B     		ldr	r3, .L32+32
 382 0054 1D70     		strb	r5, [r3]
 122:Task/Task_Protocol.c **** }
 383              		.loc 1 122 5 is_stmt 1 view .LVU84
 122:Task/Task_Protocol.c **** }
 384              		.loc 1 122 12 is_stmt 0 view .LVU85
 385 0056 61E0     		b	.L28
 386              	.L30:
 387              	.LBB2:
  62:Task/Task_Protocol.c **** 
 388              		.loc 1 62 9 is_stmt 1 view .LVU86
  64:Task/Task_Protocol.c ****         memset(&TaskProto_MAV_RawIMU, 0, sizeof(TaskProto_MAV_RawIMU));
 389              		.loc 1 64 9 view .LVU87
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s 			page 13


  65:Task/Task_Protocol.c ****         memset(&TaskProto_MAV_ScaledIMU, 0, sizeof(TaskProto_MAV_ScaledIMU));
 390              		.loc 1 65 9 view .LVU88
 391 0058 DFF8F0A0 		ldr	r10, .L32+40
 392 005c 2024     		movs	r4, #32
 393 005e 2246     		mov	r2, r4
 394 0060 0021     		movs	r1, #0
 395 0062 5046     		mov	r0, r10
 396 0064 FFF7FEFF 		bl	memset
 397              	.LVL20:
  66:Task/Task_Protocol.c ****         memset(&TaskProto_MAV_RcChannel, 0, sizeof(TaskProto_MAV_RcChannel));
 398              		.loc 1 66 9 view .LVU89
 399 0068 DFF8E490 		ldr	r9, .L32+44
 400 006c 2246     		mov	r2, r4
 401 006e 0021     		movs	r1, #0
 402 0070 4846     		mov	r0, r9
 403 0072 FFF7FEFF 		bl	memset
 404              	.LVL21:
  67:Task/Task_Protocol.c ****         memset(&TaskProto_MAV_MotoChannel, 0, sizeof(TaskProto_MAV_MotoChannel));
 405              		.loc 1 67 9 view .LVU90
 406 0076 DFF8DC80 		ldr	r8, .L32+48
 407 007a 2246     		mov	r2, r4
 408 007c 0021     		movs	r1, #0
 409 007e 4046     		mov	r0, r8
 410 0080 FFF7FEFF 		bl	memset
 411              	.LVL22:
  68:Task/Task_Protocol.c **** 
 412              		.loc 1 68 9 view .LVU91
 413 0084 304F     		ldr	r7, .L32+36
 414 0086 2246     		mov	r2, r4
 415 0088 0021     		movs	r1, #0
 416 008a 3846     		mov	r0, r7
 417 008c FFF7FEFF 		bl	memset
 418              	.LVL23:
  71:Task/Task_Protocol.c ****         PckInfo.component_id = MAV_CompoID_Raw_IMU;
 419              		.loc 1 71 9 view .LVU92
  71:Task/Task_Protocol.c ****         PckInfo.component_id = MAV_CompoID_Raw_IMU;
 420              		.loc 1 71 27 is_stmt 0 view .LVU93
 421 0090 0124     		movs	r4, #1
 422 0092 8DF80440 		strb	r4, [sp, #4]
  72:Task/Task_Protocol.c ****         PckInfo.chan = 0;
 423              		.loc 1 72 9 is_stmt 1 view .LVU94
  72:Task/Task_Protocol.c ****         PckInfo.chan = 0;
 424              		.loc 1 72 30 is_stmt 0 view .LVU95
 425 0096 8DF80540 		strb	r4, [sp, #5]
  73:Task/Task_Protocol.c ****         SrvComProto.mav_msg_obj_init(&TaskProto_MAV_RawIMU, PckInfo, 10);
 426              		.loc 1 73 9 is_stmt 1 view .LVU96
  73:Task/Task_Protocol.c ****         SrvComProto.mav_msg_obj_init(&TaskProto_MAV_RawIMU, PckInfo, 10);
 427              		.loc 1 73 22 is_stmt 0 view .LVU97
 428 009a 0026     		movs	r6, #0
 429 009c 8DF80660 		strb	r6, [sp, #6]
  74:Task/Task_Protocol.c ****         SrvComProto.mav_msg_enable_ctl(&TaskProto_MAV_RawIMU, true);
 430              		.loc 1 74 9 is_stmt 1 view .LVU98
  74:Task/Task_Protocol.c ****         SrvComProto.mav_msg_enable_ctl(&TaskProto_MAV_RawIMU, true);
 431              		.loc 1 74 20 is_stmt 0 view .LVU99
 432 00a0 204D     		ldr	r5, .L32
 433 00a2 EB68     		ldr	r3, [r5, #12]
  74:Task/Task_Protocol.c ****         SrvComProto.mav_msg_enable_ctl(&TaskProto_MAV_RawIMU, true);
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s 			page 14


 434              		.loc 1 74 9 view .LVU100
 435 00a4 0A22     		movs	r2, #10
 436 00a6 0199     		ldr	r1, [sp, #4]
 437 00a8 5046     		mov	r0, r10
 438 00aa 9847     		blx	r3
 439              	.LVL24:
  75:Task/Task_Protocol.c **** 
 440              		.loc 1 75 9 is_stmt 1 view .LVU101
  75:Task/Task_Protocol.c **** 
 441              		.loc 1 75 20 is_stmt 0 view .LVU102
 442 00ac 2B69     		ldr	r3, [r5, #16]
  75:Task/Task_Protocol.c **** 
 443              		.loc 1 75 9 view .LVU103
 444 00ae 2146     		mov	r1, r4
 445 00b0 5046     		mov	r0, r10
 446 00b2 9847     		blx	r3
 447              	.LVL25:
  78:Task/Task_Protocol.c ****         PckInfo.component_id = MAV_CompoID_Scaled_IMU;
 448              		.loc 1 78 9 is_stmt 1 view .LVU104
  78:Task/Task_Protocol.c ****         PckInfo.component_id = MAV_CompoID_Scaled_IMU;
 449              		.loc 1 78 27 is_stmt 0 view .LVU105
 450 00b4 8DF80440 		strb	r4, [sp, #4]
  79:Task/Task_Protocol.c ****         PckInfo.chan = 0;
 451              		.loc 1 79 9 is_stmt 1 view .LVU106
  79:Task/Task_Protocol.c ****         PckInfo.chan = 0;
 452              		.loc 1 79 30 is_stmt 0 view .LVU107
 453 00b8 0223     		movs	r3, #2
 454 00ba 8DF80530 		strb	r3, [sp, #5]
  80:Task/Task_Protocol.c ****         SrvComProto.mav_msg_obj_init(&TaskProto_MAV_ScaledIMU, PckInfo, 10);
 455              		.loc 1 80 9 is_stmt 1 view .LVU108
  80:Task/Task_Protocol.c ****         SrvComProto.mav_msg_obj_init(&TaskProto_MAV_ScaledIMU, PckInfo, 10);
 456              		.loc 1 80 22 is_stmt 0 view .LVU109
 457 00be 8DF80660 		strb	r6, [sp, #6]
  81:Task/Task_Protocol.c ****         SrvComProto.mav_msg_enable_ctl(&TaskProto_MAV_ScaledIMU, false);
 458              		.loc 1 81 9 is_stmt 1 view .LVU110
  81:Task/Task_Protocol.c ****         SrvComProto.mav_msg_enable_ctl(&TaskProto_MAV_ScaledIMU, false);
 459              		.loc 1 81 20 is_stmt 0 view .LVU111
 460 00c2 EB68     		ldr	r3, [r5, #12]
  81:Task/Task_Protocol.c ****         SrvComProto.mav_msg_enable_ctl(&TaskProto_MAV_ScaledIMU, false);
 461              		.loc 1 81 9 view .LVU112
 462 00c4 0A22     		movs	r2, #10
 463 00c6 0199     		ldr	r1, [sp, #4]
 464 00c8 4846     		mov	r0, r9
 465 00ca 9847     		blx	r3
 466              	.LVL26:
  82:Task/Task_Protocol.c **** 
 467              		.loc 1 82 9 is_stmt 1 view .LVU113
  82:Task/Task_Protocol.c **** 
 468              		.loc 1 82 20 is_stmt 0 view .LVU114
 469 00cc 2B69     		ldr	r3, [r5, #16]
  82:Task/Task_Protocol.c **** 
 470              		.loc 1 82 9 view .LVU115
 471 00ce 3146     		mov	r1, r6
 472 00d0 4846     		mov	r0, r9
 473 00d2 9847     		blx	r3
 474              	.LVL27:
  85:Task/Task_Protocol.c ****         PckInfo.component_id = MAV_CompoID_RC_Channel;
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s 			page 15


 475              		.loc 1 85 9 is_stmt 1 view .LVU116
  85:Task/Task_Protocol.c ****         PckInfo.component_id = MAV_CompoID_RC_Channel;
 476              		.loc 1 85 27 is_stmt 0 view .LVU117
 477 00d4 8DF80440 		strb	r4, [sp, #4]
  86:Task/Task_Protocol.c ****         PckInfo.chan = 0;
 478              		.loc 1 86 9 is_stmt 1 view .LVU118
  86:Task/Task_Protocol.c ****         PckInfo.chan = 0;
 479              		.loc 1 86 30 is_stmt 0 view .LVU119
 480 00d8 0623     		movs	r3, #6
 481 00da 8DF80530 		strb	r3, [sp, #5]
  87:Task/Task_Protocol.c ****         SrvComProto.mav_msg_obj_init(&TaskProto_MAV_RcChannel, PckInfo, 20);
 482              		.loc 1 87 9 is_stmt 1 view .LVU120
  87:Task/Task_Protocol.c ****         SrvComProto.mav_msg_obj_init(&TaskProto_MAV_RcChannel, PckInfo, 20);
 483              		.loc 1 87 22 is_stmt 0 view .LVU121
 484 00de 8DF80660 		strb	r6, [sp, #6]
  88:Task/Task_Protocol.c ****         SrvComProto.mav_msg_enable_ctl(&TaskProto_MAV_RcChannel, true);
 485              		.loc 1 88 9 is_stmt 1 view .LVU122
  88:Task/Task_Protocol.c ****         SrvComProto.mav_msg_enable_ctl(&TaskProto_MAV_RcChannel, true);
 486              		.loc 1 88 20 is_stmt 0 view .LVU123
 487 00e2 EB68     		ldr	r3, [r5, #12]
  88:Task/Task_Protocol.c ****         SrvComProto.mav_msg_enable_ctl(&TaskProto_MAV_RcChannel, true);
 488              		.loc 1 88 9 view .LVU124
 489 00e4 1422     		movs	r2, #20
 490 00e6 0199     		ldr	r1, [sp, #4]
 491 00e8 4046     		mov	r0, r8
 492 00ea 9847     		blx	r3
 493              	.LVL28:
  89:Task/Task_Protocol.c **** 
 494              		.loc 1 89 9 is_stmt 1 view .LVU125
  89:Task/Task_Protocol.c **** 
 495              		.loc 1 89 20 is_stmt 0 view .LVU126
 496 00ec 2B69     		ldr	r3, [r5, #16]
  89:Task/Task_Protocol.c **** 
 497              		.loc 1 89 9 view .LVU127
 498 00ee 2146     		mov	r1, r4
 499 00f0 4046     		mov	r0, r8
 500 00f2 9847     		blx	r3
 501              	.LVL29:
  92:Task/Task_Protocol.c ****         PckInfo.component_id = MAV_CompoID_MotoCtl;
 502              		.loc 1 92 9 is_stmt 1 view .LVU128
  92:Task/Task_Protocol.c ****         PckInfo.component_id = MAV_CompoID_MotoCtl;
 503              		.loc 1 92 27 is_stmt 0 view .LVU129
 504 00f4 8DF80440 		strb	r4, [sp, #4]
  93:Task/Task_Protocol.c ****         PckInfo.chan = 0;
 505              		.loc 1 93 9 is_stmt 1 view .LVU130
  93:Task/Task_Protocol.c ****         PckInfo.chan = 0;
 506              		.loc 1 93 30 is_stmt 0 view .LVU131
 507 00f8 0723     		movs	r3, #7
 508 00fa 8DF80530 		strb	r3, [sp, #5]
  94:Task/Task_Protocol.c ****         SrvComProto.mav_msg_obj_init(&TaskProto_MAV_MotoChannel, PckInfo, 10);
 509              		.loc 1 94 9 is_stmt 1 view .LVU132
  94:Task/Task_Protocol.c ****         SrvComProto.mav_msg_obj_init(&TaskProto_MAV_MotoChannel, PckInfo, 10);
 510              		.loc 1 94 22 is_stmt 0 view .LVU133
 511 00fe 8DF80660 		strb	r6, [sp, #6]
  95:Task/Task_Protocol.c ****         SrvComProto.mav_msg_enable_ctl(&TaskProto_MAV_MotoChannel, true);
 512              		.loc 1 95 9 is_stmt 1 view .LVU134
  95:Task/Task_Protocol.c ****         SrvComProto.mav_msg_enable_ctl(&TaskProto_MAV_MotoChannel, true);
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s 			page 16


 513              		.loc 1 95 20 is_stmt 0 view .LVU135
 514 0102 EB68     		ldr	r3, [r5, #12]
  95:Task/Task_Protocol.c ****         SrvComProto.mav_msg_enable_ctl(&TaskProto_MAV_MotoChannel, true);
 515              		.loc 1 95 9 view .LVU136
 516 0104 0A22     		movs	r2, #10
 517 0106 0199     		ldr	r1, [sp, #4]
 518 0108 3846     		mov	r0, r7
 519 010a 9847     		blx	r3
 520              	.LVL30:
  96:Task/Task_Protocol.c ****     }
 521              		.loc 1 96 9 is_stmt 1 view .LVU137
  96:Task/Task_Protocol.c ****     }
 522              		.loc 1 96 20 is_stmt 0 view .LVU138
 523 010c 2B69     		ldr	r3, [r5, #16]
  96:Task/Task_Protocol.c ****     }
 524              		.loc 1 96 9 view .LVU139
 525 010e 2146     		mov	r1, r4
 526 0110 3846     		mov	r0, r7
 527 0112 9847     		blx	r3
 528              	.LVL31:
 529              	.LBE2:
 530 0114 83E7     		b	.L26
 531              	.L31:
 104:Task/Task_Protocol.c ****         return false;
 532              		.loc 1 104 9 is_stmt 1 view .LVU140
 104:Task/Task_Protocol.c ****         return false;
 533              		.loc 1 104 20 is_stmt 0 view .LVU141
 534 0116 0B4B     		ldr	r3, .L32+32
 535 0118 0222     		movs	r2, #2
 536 011a 1A70     		strb	r2, [r3]
 105:Task/Task_Protocol.c ****     }
 537              		.loc 1 105 9 is_stmt 1 view .LVU142
 538              	.L28:
 123:Task/Task_Protocol.c **** 
 539              		.loc 1 123 1 is_stmt 0 view .LVU143
 540 011c 2046     		mov	r0, r4
 541 011e 02B0     		add	sp, sp, #8
 542              	.LCFI8:
 543              		.cfi_def_cfa_offset 32
 544              		@ sp needed
 545 0120 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 546              	.L33:
 547              		.align	2
 548              	.L32:
 549 0124 00000000 		.word	SrvComProto
 550 0128 00000000 		.word	Queue
 551 012c 00000000 		.word	.LC1
 552 0130 00000000 		.word	.LANCHOR2
 553 0134 00000000 		.word	.LANCHOR0
 554 0138 00000000 		.word	TaskProtocol_Rec
 555 013c 00000000 		.word	ErrorLog
 556 0140 00000000 		.word	TaskProto_PushProtocolQueue
 557 0144 00000000 		.word	.LANCHOR4
 558 0148 00000000 		.word	TaskProto_MAV_MotoChannel
 559 014c 00000000 		.word	TaskProto_MAV_RawIMU
 560 0150 00000000 		.word	TaskProto_MAV_ScaledIMU
 561 0154 00000000 		.word	TaskProto_MAV_RcChannel
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s 			page 17


 562              		.cfi_endproc
 563              	.LFE1995:
 565              		.section	.text.TaskProtocol_Core,"ax",%progbits
 566              		.align	1
 567              		.global	TaskProtocol_Core
 568              		.syntax unified
 569              		.thumb
 570              		.thumb_func
 571              		.fpu fpv5-d16
 573              	TaskProtocol_Core:
 574              	.LVL32:
 575              	.LFB1998:
 169:Task/Task_Protocol.c ****     uint8_t *p_buf = NULL;
 576              		.loc 1 169 1 is_stmt 1 view -0
 577              		.cfi_startproc
 578              		@ args = 0, pretend = 0, frame = 0
 579              		@ frame_needed = 0, uses_anonymous_args = 0
 169:Task/Task_Protocol.c ****     uint8_t *p_buf = NULL;
 580              		.loc 1 169 1 is_stmt 0 view .LVU145
 581 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 582              	.LCFI9:
 583              		.cfi_def_cfa_offset 20
 584              		.cfi_offset 4, -20
 585              		.cfi_offset 5, -16
 586              		.cfi_offset 6, -12
 587              		.cfi_offset 7, -8
 588              		.cfi_offset 14, -4
 589 0002 87B0     		sub	sp, sp, #28
 590              	.LCFI10:
 591              		.cfi_def_cfa_offset 48
 170:Task/Task_Protocol.c ****     uint16_t p_buf_size = 0;
 592              		.loc 1 170 5 is_stmt 1 view .LVU146
 593              	.LVL33:
 171:Task/Task_Protocol.c **** 
 594              		.loc 1 171 5 view .LVU147
 173:Task/Task_Protocol.c **** 
 595              		.loc 1 173 5 view .LVU148
 173:Task/Task_Protocol.c **** 
 596              		.loc 1 173 13 is_stmt 0 view .LVU149
 597 0004 324B     		ldr	r3, .L40
 598 0006 5C68     		ldr	r4, [r3, #4]
 173:Task/Task_Protocol.c **** 
 599              		.loc 1 173 5 view .LVU150
 600 0008 324A     		ldr	r2, .L40+4
 601 000a 0123     		movs	r3, #1
 602 000c 07CA     		ldm	r2, {r0, r1, r2}
 603              	.LVL34:
 173:Task/Task_Protocol.c **** 
 604              		.loc 1 173 5 view .LVU151
 605 000e A047     		blx	r4
 606              	.LVL35:
 175:Task/Task_Protocol.c ****     {
 607              		.loc 1 175 5 is_stmt 1 view .LVU152
 175:Task/Task_Protocol.c ****     {
 608              		.loc 1 175 13 is_stmt 0 view .LVU153
 609 0010 314B     		ldr	r3, .L40+8
 610 0012 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s 			page 18


 175:Task/Task_Protocol.c ****     {
 611              		.loc 1 175 5 view .LVU154
 612 0014 012B     		cmp	r3, #1
 613 0016 07D0     		beq	.L39
 614              	.LVL36:
 615              	.L35:
 209:Task/Task_Protocol.c **** }
 616              		.loc 1 209 5 is_stmt 1 view .LVU155
 209:Task/Task_Protocol.c **** }
 617              		.loc 1 209 13 is_stmt 0 view .LVU156
 618 0018 2D4B     		ldr	r3, .L40
 619 001a 5C68     		ldr	r4, [r3, #4]
 209:Task/Task_Protocol.c **** }
 620              		.loc 1 209 5 view .LVU157
 621 001c 2D4A     		ldr	r2, .L40+4
 622 001e 0023     		movs	r3, #0
 623 0020 07CA     		ldm	r2, {r0, r1, r2}
 624 0022 A047     		blx	r4
 625              	.LVL37:
 210:Task/Task_Protocol.c **** 
 626              		.loc 1 210 1 view .LVU158
 627 0024 07B0     		add	sp, sp, #28
 628              	.LCFI11:
 629              		.cfi_remember_state
 630              		.cfi_def_cfa_offset 20
 631              		@ sp needed
 632 0026 F0BD     		pop	{r4, r5, r6, r7, pc}
 633              	.LVL38:
 634              	.L39:
 635              	.LCFI12:
 636              		.cfi_restore_state
 178:Task/Task_Protocol.c **** 
 637              		.loc 1 178 9 is_stmt 1 view .LVU159
 182:Task/Task_Protocol.c ****         {
 638              		.loc 1 182 9 view .LVU160
 182:Task/Task_Protocol.c ****         {
 639              		.loc 1 182 13 is_stmt 0 view .LVU161
 640 0028 2C4B     		ldr	r3, .L40+12
 641 002a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 182:Task/Task_Protocol.c ****         {
 642              		.loc 1 182 12 view .LVU162
 643 002c 93B1     		cbz	r3, .L36
 182:Task/Task_Protocol.c ****         {
 644              		.loc 1 182 28 discriminator 1 view .LVU163
 645 002e 2C4B     		ldr	r3, .L40+16
 646 0030 1C6A     		ldr	r4, [r3, #32]
 182:Task/Task_Protocol.c ****         {
 647              		.loc 1 182 23 discriminator 1 view .LVU164
 648 0032 2C4B     		ldr	r3, .L40+20
 649 0034 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
 650 0036 8DF80020 		strb	r2, [sp]
 651 003a 0FCB     		ldm	r3, {r0, r1, r2, r3}
 652 003c A047     		blx	r4
 653              	.LVL39:
 182:Task/Task_Protocol.c ****         {
 654              		.loc 1 182 18 discriminator 1 view .LVU165
 655 003e C8B1     		cbz	r0, .L37
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s 			page 19


 182:Task/Task_Protocol.c ****         {
 656              		.loc 1 182 73 discriminator 3 view .LVU166
 657 0040 274B     		ldr	r3, .L40+16
 658 0042 1C6A     		ldr	r4, [r3, #32]
 182:Task/Task_Protocol.c ****         {
 659              		.loc 1 182 68 discriminator 3 view .LVU167
 660 0044 274B     		ldr	r3, .L40+20
 661 0046 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
 662 0048 8DF80020 		strb	r2, [sp]
 663 004c 0FCB     		ldm	r3, {r0, r1, r2, r3}
 664 004e A047     		blx	r4
 665              	.LVL40:
 182:Task/Task_Protocol.c ****         {
 666              		.loc 1 182 64 discriminator 3 view .LVU168
 667 0050 0428     		cmp	r0, #4
 668 0052 0FD0     		beq	.L37
 669              	.LVL41:
 670              	.L36:
 198:Task/Task_Protocol.c **** 
 671              		.loc 1 198 9 is_stmt 1 view .LVU169
 198:Task/Task_Protocol.c **** 
 672              		.loc 1 198 20 is_stmt 0 view .LVU170
 673 0054 244B     		ldr	r3, .L40+24
 674 0056 5D69     		ldr	r5, [r3, #20]
 198:Task/Task_Protocol.c **** 
 675              		.loc 1 198 9 view .LVU171
 676 0058 244C     		ldr	r4, .L40+28
 677 005a 254B     		ldr	r3, .L40+32
 678 005c 0593     		str	r3, [sp, #20]
 679 005e 254B     		ldr	r3, .L40+36
 680 0060 0493     		str	r3, [sp, #16]
 681 0062 04F11003 		add	r3, r4, #16
 682 0066 0FCB     		ldm	r3, {r0, r1, r2, r3}
 683 0068 8DE80F00 		stm	sp, {r0, r1, r2, r3}
 684 006c 94E80F00 		ldm	r4, {r0, r1, r2, r3}
 685 0070 A847     		blx	r5
 686              	.LVL42:
 200:Task/Task_Protocol.c **** 
 687              		.loc 1 200 9 is_stmt 1 view .LVU172
 688 0072 D1E7     		b	.L35
 689              	.LVL43:
 690              	.L37:
 182:Task/Task_Protocol.c ****         {
 691              		.loc 1 182 120 is_stmt 0 discriminator 4 view .LVU173
 692 0074 1A4B     		ldr	r3, .L40+16
 693 0076 1C68     		ldr	r4, [r3]
 182:Task/Task_Protocol.c ****         {
 694              		.loc 1 182 115 discriminator 4 view .LVU174
 695 0078 1A4B     		ldr	r3, .L40+20
 696 007a 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
 697 007c 8DF80020 		strb	r2, [sp]
 698 0080 0FCB     		ldm	r3, {r0, r1, r2, r3}
 699 0082 A047     		blx	r4
 700              	.LVL44:
 182:Task/Task_Protocol.c ****         {
 701              		.loc 1 182 112 discriminator 4 view .LVU175
 702 0084 0028     		cmp	r0, #0
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s 			page 20


 703 0086 E5D0     		beq	.L36
 184:Task/Task_Protocol.c **** 
 704              		.loc 1 184 13 is_stmt 1 view .LVU176
 184:Task/Task_Protocol.c **** 
 705              		.loc 1 184 48 is_stmt 0 view .LVU177
 706 0088 154B     		ldr	r3, .L40+16
 707 008a 1C68     		ldr	r4, [r3]
 184:Task/Task_Protocol.c **** 
 708              		.loc 1 184 32 view .LVU178
 709 008c 154B     		ldr	r3, .L40+20
 710 008e 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
 711 0090 8DF80020 		strb	r2, [sp]
 712 0094 0FCB     		ldm	r3, {r0, r1, r2, r3}
 713 0096 A047     		blx	r4
 714              	.LVL45:
 715 0098 FFF7FEFF 		bl	MMU_Malloc
 716              	.LVL46:
 186:Task/Task_Protocol.c ****             {
 717              		.loc 1 186 13 is_stmt 1 view .LVU179
 186:Task/Task_Protocol.c ****             {
 718              		.loc 1 186 16 is_stmt 0 view .LVU180
 719 009c 0646     		mov	r6, r0
 720 009e 0028     		cmp	r0, #0
 721 00a0 D8D0     		beq	.L36
 188:Task/Task_Protocol.c ****                 Queue.pop(&VCP_ProtoQueue, p_buf, p_buf_size);
 722              		.loc 1 188 17 is_stmt 1 view .LVU181
 188:Task/Task_Protocol.c ****                 Queue.pop(&VCP_ProtoQueue, p_buf, p_buf_size);
 723              		.loc 1 188 35 is_stmt 0 view .LVU182
 724 00a2 0F4F     		ldr	r7, .L40+16
 725 00a4 3D68     		ldr	r5, [r7]
 188:Task/Task_Protocol.c ****                 Queue.pop(&VCP_ProtoQueue, p_buf, p_buf_size);
 726              		.loc 1 188 30 view .LVU183
 727 00a6 0F4C     		ldr	r4, .L40+20
 728 00a8 237C     		ldrb	r3, [r4, #16]	@ zero_extendqisi2
 729 00aa 8DF80030 		strb	r3, [sp]
 730 00ae 94E80F00 		ldm	r4, {r0, r1, r2, r3}
 731              	.LVL47:
 188:Task/Task_Protocol.c ****                 Queue.pop(&VCP_ProtoQueue, p_buf, p_buf_size);
 732              		.loc 1 188 30 view .LVU184
 733 00b2 A847     		blx	r5
 734              	.LVL48:
 735 00b4 0546     		mov	r5, r0
 736              	.LVL49:
 189:Task/Task_Protocol.c **** 
 737              		.loc 1 189 17 is_stmt 1 view .LVU185
 189:Task/Task_Protocol.c **** 
 738              		.loc 1 189 22 is_stmt 0 view .LVU186
 739 00b6 FB69     		ldr	r3, [r7, #28]
 189:Task/Task_Protocol.c **** 
 740              		.loc 1 189 17 view .LVU187
 741 00b8 0246     		mov	r2, r0
 742 00ba 3146     		mov	r1, r6
 743 00bc 2046     		mov	r0, r4
 744              	.LVL50:
 189:Task/Task_Protocol.c **** 
 745              		.loc 1 189 17 view .LVU188
 746 00be 9847     		blx	r3
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s 			page 21


 747              	.LVL51:
 191:Task/Task_Protocol.c **** 
 748              		.loc 1 191 17 is_stmt 1 view .LVU189
 749 00c0 2946     		mov	r1, r5
 750 00c2 3046     		mov	r0, r6
 751 00c4 FFF7FEFF 		bl	TaskProtocol_TransBuff
 752              	.LVL52:
 193:Task/Task_Protocol.c ****             }
 753              		.loc 1 193 17 view .LVU190
 754 00c8 3046     		mov	r0, r6
 755 00ca FFF7FEFF 		bl	MMU_Free
 756              	.LVL53:
 757 00ce C1E7     		b	.L36
 758              	.L41:
 759              		.align	2
 760              	.L40:
 761 00d0 00000000 		.word	DebugPin
 762 00d4 00000000 		.word	Debug_PC3
 763 00d8 00000000 		.word	.LANCHOR4
 764 00dc 00000000 		.word	.LANCHOR3
 765 00e0 00000000 		.word	Queue
 766 00e4 00000000 		.word	.LANCHOR2
 767 00e8 00000000 		.word	SrvComProto
 768 00ec 00000000 		.word	TaskProto_MAV_RawIMU
 769 00f0 00000000 		.word	TaskProtocol_TransBuff
 770 00f4 00000000 		.word	.LANCHOR5
 771              		.cfi_endproc
 772              	.LFE1998:
 774              		.global	shellCommandtest
 775              		.global	shellDesctest
 776              		.global	shellCmdtest
 777              		.global	MavStream
 778              		.comm	TaskProto_MAV_MotoChannel,32,8
 779              		.comm	TaskProto_MAV_RcChannel,32,8
 780              		.comm	TaskProto_MAV_ScaledIMU,32,8
 781              		.comm	TaskProto_MAV_RawIMU,32,8
 782              		.section	.bss.USB_MavShareBuf,"aw",%nobits
 783              		.align	2
 786              	USB_MavShareBuf:
 787 0000 00000000 		.space	1024
 787      00000000 
 787      00000000 
 787      00000000 
 787      00000000 
 788              		.section	.bss.VCPQueue_State,"aw",%nobits
 789              		.set	.LANCHOR1,. + 0
 792              	VCPQueue_State:
 793 0000 00       		.space	1
 794              		.section	.bss.VCP_ProtoQueue,"aw",%nobits
 795              		.align	2
 796              		.set	.LANCHOR2,. + 0
 799              	VCP_ProtoQueue:
 800 0000 00000000 		.space	17
 800      00000000 
 800      00000000 
 800      00000000 
 800      00
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s 			page 22


 801              		.section	.bss.VCP_Queue_CreateState,"aw",%nobits
 802              		.set	.LANCHOR0,. + 0
 805              	VCP_Queue_CreateState:
 806 0000 00       		.space	1
 807              		.section	.bss.test,"aw",%nobits
 808              		.set	.LANCHOR3,. + 0
 811              	test:
 812 0000 00       		.space	1
 813              		.section	.data.MavStream,"aw"
 814              		.align	2
 815              		.set	.LANCHOR5,. + 0
 818              	MavStream:
 819 0000 00000000 		.word	USB_MavShareBuf
 820 0004 0000     		.short	0
 821 0006 0004     		.short	1024
 822              		.section	.data.task_state,"aw"
 823              		.set	.LANCHOR4,. + 0
 826              	task_state:
 827 0000 01       		.byte	1
 828              		.section	.rodata.shellCmdtest,"a"
 829              		.align	2
 832              	shellCmdtest:
 833 0000 74657374 		.ascii	"test\000"
 833      00
 834              		.section	.rodata.shellDesctest,"a"
 835              		.align	2
 838              	shellDesctest:
 839 0000 5368656C 		.ascii	"Shell Test\000"
 839      6C205465 
 839      737400
 840              		.section	shellCommand,"a"
 841              		.align	2
 844              	shellCommandtest:
 845 0000 00210000 		.word	8448
 846 0004 00000000 		.word	shellCmdtest
 847 0008 00000000 		.word	shell_test
 848 000c 00000000 		.word	shellDesctest
 849              		.text
 850              	.Letext0:
 851              		.file 2 "d:\\software\\zephyr_env_gcc\\gcc-arm-none-eabi-9-2019-q4-major-win32\\arm-none-eabi\\inc
 852              		.file 3 "d:\\software\\zephyr_env_gcc\\gcc-arm-none-eabi-9-2019-q4-major-win32\\arm-none-eabi\\inc
 853              		.file 4 "d:\\software\\zephyr_env_gcc\\gcc-arm-none-eabi-9-2019-q4-major-win32\\arm-none-eabi\\inc
 854              		.file 5 "d:\\software\\zephyr_env_gcc\\gcc-arm-none-eabi-9-2019-q4-major-win32\\arm-none-eabi\\inc
 855              		.file 6 "d:\\software\\zephyr_env_gcc\\gcc-arm-none-eabi-9-2019-q4-major-win32\\lib\\gcc\\arm-none
 856              		.file 7 "d:\\software\\zephyr_env_gcc\\gcc-arm-none-eabi-9-2019-q4-major-win32\\arm-none-eabi\\inc
 857              		.file 8 "d:\\software\\zephyr_env_gcc\\gcc-arm-none-eabi-9-2019-q4-major-win32\\arm-none-eabi\\inc
 858              		.file 9 "System/runtime/runtime.h"
 859              		.file 10 "DataStructure/linked_list.h"
 860              		.file 11 "HAL_Lib/CMSIS/Core/Include/core_cm7.h"
 861              		.file 12 "HAL_Lib/CMSIS/Device/ST/STM32H7xx/Include/system_stm32h7xx.h"
 862              		.file 13 "HAL_Lib/CMSIS/Device/ST/STM32H7xx/Include/stm32h743xx.h"
 863              		.file 14 "d:\\software\\zephyr_env_gcc\\gcc-arm-none-eabi-9-2019-q4-major-win32\\arm-none-eabi\\in
 864              		.file 15 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 865              		.file 16 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_gpio.h"
 866              		.file 17 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_dma.h"
 867              		.file 18 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_flash.h"
 868              		.file 19 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_spi.h"
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s 			page 23


 869              		.file 20 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_uart.h"
 870              		.file 21 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal.h"
 871              		.file 22 "System/scheduler/scheduler.h"
 872              		.file 23 "Task/Task_Protocol.h"
 873              		.file 24 "System/shell/shell.h"
 874              		.file 25 "USB/STM32_USB_Device_Library/Core/Inc/usbd_def.h"
 875              		.file 26 "USB/STM32_USB_Device_Library/Class/CDC/Inc/usbd_cdc.h"
 876              		.file 27 "USB/USB_DEVICE/App/usbd_cdc_if.h"
 877              		.file 28 "Bsp/Bsp_GPIO.h"
 878              		.file 29 "debug/debug_util.h"
 879              		.file 30 "DataStructure/queue.h"
 880              		.file 31 "Device/Dev_Led.h"
 881              		.file 32 "Bsp/Bsp_SPI.h"
 882              		.file 33 "IO_Def/IO_Definition.h"
 883              		.file 34 "DataStructure/binary_tree.h"
 884              		.file 35 "Common/error_log.h"
 885              		.file 36 "Service/../MAVLink/common/../mavlink_types.h"
 886              		.file 37 "Service/Srv_ComProto.h"
 887              		.file 38 "System/mmu/mmu.h"
 888              		.file 39 "USB/USB_DEVICE/App/usb_device.h"
 889              		.file 40 "<built-in>"
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s 			page 24


DEFINED SYMBOLS
                            *ABS*:00000000 Task_Protocol.c
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:17     .text.TaskProto_PushProtocolQueue:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:25     .text.TaskProto_PushProtocolQueue:00000000 TaskProto_PushProtocolQueue
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:171    .text.TaskProto_PushProtocolQueue:0000008c $d
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:179    .text.TaskProtocol_Rec:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:185    .text.TaskProtocol_Rec:00000000 TaskProtocol_Rec
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:203    .text.TaskProtocol_Rec:00000008 $d
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:208    .text.TaskProtocol_TransBuff:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:214    .text.TaskProtocol_TransBuff:00000000 TaskProtocol_TransBuff
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:246    .rodata.shell_test.str1.4:00000000 $d
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:250    .text.shell_test:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:256    .text.shell_test:00000000 shell_test
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:276    .text.shell_test:0000000c $d
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:281    .rodata.TaskProtocol_Init.str1.4:00000000 $d
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:285    .text.TaskProtocol_Init:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:292    .text.TaskProtocol_Init:00000000 TaskProtocol_Init
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:549    .text.TaskProtocol_Init:00000124 $d
                            *COM*:00000020 TaskProto_MAV_MotoChannel
                            *COM*:00000020 TaskProto_MAV_RawIMU
                            *COM*:00000020 TaskProto_MAV_ScaledIMU
                            *COM*:00000020 TaskProto_MAV_RcChannel
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:566    .text.TaskProtocol_Core:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:573    .text.TaskProtocol_Core:00000000 TaskProtocol_Core
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:761    .text.TaskProtocol_Core:000000d0 $d
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:844    shellCommand:00000000 shellCommandtest
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:838    .rodata.shellDesctest:00000000 shellDesctest
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:832    .rodata.shellCmdtest:00000000 shellCmdtest
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:818    .data.MavStream:00000000 MavStream
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:783    .bss.USB_MavShareBuf:00000000 $d
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:786    .bss.USB_MavShareBuf:00000000 USB_MavShareBuf
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:792    .bss.VCPQueue_State:00000000 VCPQueue_State
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:793    .bss.VCPQueue_State:00000000 $d
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:795    .bss.VCP_ProtoQueue:00000000 $d
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:799    .bss.VCP_ProtoQueue:00000000 VCP_ProtoQueue
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:805    .bss.VCP_Queue_CreateState:00000000 VCP_Queue_CreateState
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:806    .bss.VCP_Queue_CreateState:00000000 $d
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:811    .bss.test:00000000 test
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:812    .bss.test:00000000 $d
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:814    .data.MavStream:00000000 $d
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:826    .data.task_state:00000000 task_state
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:829    .rodata.shellCmdtest:00000000 $d
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:835    .rodata.shellDesctest:00000000 $d
C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s:841    shellCommand:00000000 $d

UNDEFINED SYMBOLS
Queue
CDC_Transmit_FS
usb_printf
USB_DEVICE_Init
usb_setrec_callback
memset
SrvComProto
ErrorLog
MMU_Malloc
MMU_Free
DebugPin
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccWd2tN9.s 			page 25


Debug_PC3
