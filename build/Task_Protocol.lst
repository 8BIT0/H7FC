ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s 			page 1


   1              		.cpu cortex-m7
   2              		.eabi_attribute 28, 1
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 1
  10              		.eabi_attribute 34, 1
  11              		.eabi_attribute 18, 4
  12              		.file	"Task_Protocol.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.TaskProto_PushProtocolQueue,"ax",%progbits
  17              		.align	1
  18              		.global	TaskProto_PushProtocolQueue
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv5-d16
  25              	TaskProto_PushProtocolQueue:
  26              	.LVL0:
  27              	.LFB1996:
  28              		.file 1 "Task/Task_Protocol.c"
   1:Task/Task_Protocol.c **** /*
   2:Task/Task_Protocol.c ****  *  coder: 8_B!T0
   3:Task/Task_Protocol.c ****  *  bref: use this task make FC communicate to computer configuration
   4:Task/Task_Protocol.c ****  */
   5:Task/Task_Protocol.c **** #include "Task_Protocol.h"
   6:Task/Task_Protocol.c **** #include "scheduler.h"
   7:Task/Task_Protocol.c **** #include "shell.h"
   8:Task/Task_Protocol.c **** #include "shell_port.h"
   9:Task/Task_Protocol.c **** #include "usb_device.h"
  10:Task/Task_Protocol.c **** #include "usbd_cdc_if.h"
  11:Task/Task_Protocol.c **** #include "debug_util.h"
  12:Task/Task_Protocol.c **** #include <stdio.h>
  13:Task/Task_Protocol.c **** #include "queue.h"
  14:Task/Task_Protocol.c **** #include "Dev_Led.h"
  15:Task/Task_Protocol.c **** #include "IO_Definition.h"
  16:Task/Task_Protocol.c **** #include "Bsp_GPIO.h"
  17:Task/Task_Protocol.c **** #include "error_log.h"
  18:Task/Task_Protocol.c **** #include "Srv_ComProto.h"
  19:Task/Task_Protocol.c **** #include "mmu.h"
  20:Task/Task_Protocol.c **** 
  21:Task/Task_Protocol.c **** static bool test = false;
  22:Task/Task_Protocol.c **** 
  23:Task/Task_Protocol.c **** #define VCP_QUEUE_BUFF_SIZE 4096
  24:Task/Task_Protocol.c **** 
  25:Task/Task_Protocol.c **** /* MAVLink message List */
  26:Task/Task_Protocol.c **** SrvComProto_MsgInfo_TypeDef TaskProto_MAV_RawIMU;
  27:Task/Task_Protocol.c **** SrvComProto_MsgInfo_TypeDef TaskProto_MAV_ScaledIMU;
  28:Task/Task_Protocol.c **** SrvComProto_MsgInfo_TypeDef TaskProto_MAV_RcChannel;
  29:Task/Task_Protocol.c **** SrvComProto_MsgInfo_TypeDef TaskProto_MAV_MotoChannel;
  30:Task/Task_Protocol.c **** 
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s 			page 2


  31:Task/Task_Protocol.c **** static uint8_t USB_MavShareBuf[1024];
  32:Task/Task_Protocol.c **** 
  33:Task/Task_Protocol.c **** SrvComProto_Stream_TypeDef MavStream = 
  34:Task/Task_Protocol.c **** {
  35:Task/Task_Protocol.c ****     .p_buf = USB_MavShareBuf,
  36:Task/Task_Protocol.c ****     .size = 0,
  37:Task/Task_Protocol.c ****     .max_size = 1024,
  38:Task/Task_Protocol.c **** };
  39:Task/Task_Protocol.c **** 
  40:Task/Task_Protocol.c **** /* internal vriable */
  41:Task/Task_Protocol.c **** static QueueObj_TypeDef VCP_ProtoQueue; /* Send Queue */
  42:Task/Task_Protocol.c **** static bool VCP_Queue_CreateState = false;
  43:Task/Task_Protocol.c **** static ProtoQueue_State_List VCPQueue_State = ProtoQueue_Idle;
  44:Task/Task_Protocol.c **** static bool VCP_Connect_State = false; /* USB connect state */
  45:Task/Task_Protocol.c **** static TaskProto_State_List task_state = TaskProto_Core;
  46:Task/Task_Protocol.c **** static bool Shell_Mode = false;
  47:Task/Task_Protocol.c **** 
  48:Task/Task_Protocol.c **** /* internal function */
  49:Task/Task_Protocol.c **** static void TaskProtocol_MainProc(uint8_t *data, uint16_t size);
  50:Task/Task_Protocol.c **** static bool TaskProtocol_TransBuff(uint8_t *data, uint16_t size);
  51:Task/Task_Protocol.c **** static void TaskProtocol_Rec(uint8_t *data, uint16_t len);
  52:Task/Task_Protocol.c **** static void TaskProtocol_PlugDetect_Callback(void);
  53:Task/Task_Protocol.c **** ProtoQueue_State_List TaskProto_PushProtocolQueue(uint8_t *p_data, uint16_t size);
  54:Task/Task_Protocol.c **** 
  55:Task/Task_Protocol.c **** bool TaskProtocol_Init(void)
  56:Task/Task_Protocol.c **** {
  57:Task/Task_Protocol.c ****     SrvComProto.init(SrvComProto_Type_MAV, NULL);
  58:Task/Task_Protocol.c **** 
  59:Task/Task_Protocol.c ****     /* create mavlink message object */
  60:Task/Task_Protocol.c ****     if (SrvComProto.get_msg_type() == SrvComProto_Type_MAV)
  61:Task/Task_Protocol.c ****     {
  62:Task/Task_Protocol.c ****         SrvComProto_MavPackInfo_TypeDef PckInfo;
  63:Task/Task_Protocol.c **** 
  64:Task/Task_Protocol.c ****         memset(&PckInfo, 0, sizeof(PckInfo));
  65:Task/Task_Protocol.c ****         memset(&TaskProto_MAV_RawIMU, 0, sizeof(TaskProto_MAV_RawIMU));
  66:Task/Task_Protocol.c ****         memset(&TaskProto_MAV_ScaledIMU, 0, sizeof(TaskProto_MAV_ScaledIMU));
  67:Task/Task_Protocol.c ****         memset(&TaskProto_MAV_RcChannel, 0, sizeof(TaskProto_MAV_RcChannel));
  68:Task/Task_Protocol.c ****         memset(&TaskProto_MAV_MotoChannel, 0, sizeof(TaskProto_MAV_MotoChannel));
  69:Task/Task_Protocol.c **** 
  70:Task/Task_Protocol.c ****         // period 10Ms 100Hz
  71:Task/Task_Protocol.c ****         PckInfo.system_id = MAV_SysID_Drone;
  72:Task/Task_Protocol.c ****         PckInfo.component_id = MAV_CompoID_Raw_IMU;
  73:Task/Task_Protocol.c ****         PckInfo.chan = 0;
  74:Task/Task_Protocol.c ****         SrvComProto.mav_msg_obj_init(&TaskProto_MAV_RawIMU, PckInfo, 10);
  75:Task/Task_Protocol.c ****         SrvComProto.mav_msg_enable_ctl(&TaskProto_MAV_RawIMU, true);
  76:Task/Task_Protocol.c **** 
  77:Task/Task_Protocol.c ****         // period 10Ms 100Hz
  78:Task/Task_Protocol.c ****         PckInfo.system_id = MAV_SysID_Drone;
  79:Task/Task_Protocol.c ****         PckInfo.component_id = MAV_CompoID_Scaled_IMU;
  80:Task/Task_Protocol.c ****         PckInfo.chan = 0;
  81:Task/Task_Protocol.c ****         SrvComProto.mav_msg_obj_init(&TaskProto_MAV_ScaledIMU, PckInfo, 10);
  82:Task/Task_Protocol.c ****         SrvComProto.mav_msg_enable_ctl(&TaskProto_MAV_ScaledIMU, false);
  83:Task/Task_Protocol.c **** 
  84:Task/Task_Protocol.c ****         // period 20Ms 50Hz
  85:Task/Task_Protocol.c ****         PckInfo.system_id = MAV_SysID_Drone;
  86:Task/Task_Protocol.c ****         PckInfo.component_id = MAV_CompoID_RC_Channel;
  87:Task/Task_Protocol.c ****         PckInfo.chan = 0;
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s 			page 3


  88:Task/Task_Protocol.c ****         SrvComProto.mav_msg_obj_init(&TaskProto_MAV_RcChannel, PckInfo, 20);
  89:Task/Task_Protocol.c ****         SrvComProto.mav_msg_enable_ctl(&TaskProto_MAV_RcChannel, true);
  90:Task/Task_Protocol.c **** 
  91:Task/Task_Protocol.c ****         // period 10Ms 100Hz
  92:Task/Task_Protocol.c ****         PckInfo.system_id = MAV_SysID_Drone;
  93:Task/Task_Protocol.c ****         PckInfo.component_id = MAV_CompoID_MotoCtl;
  94:Task/Task_Protocol.c ****         PckInfo.chan = 0;
  95:Task/Task_Protocol.c ****         SrvComProto.mav_msg_obj_init(&TaskProto_MAV_MotoChannel, PckInfo, 10);
  96:Task/Task_Protocol.c ****         SrvComProto.mav_msg_enable_ctl(&TaskProto_MAV_MotoChannel, true);
  97:Task/Task_Protocol.c ****     }
  98:Task/Task_Protocol.c ****     else if (SrvComProto.get_msg_type() == SrvComProto_Type_Cus)
  99:Task/Task_Protocol.c ****     {
 100:Task/Task_Protocol.c ****     }
 101:Task/Task_Protocol.c **** 
 102:Task/Task_Protocol.c ****     if (!USB_DEVICE_Init())
 103:Task/Task_Protocol.c ****     {
 104:Task/Task_Protocol.c ****         task_state = TaskProto_Error_Proc;
 105:Task/Task_Protocol.c ****         return false;
 106:Task/Task_Protocol.c ****     }
 107:Task/Task_Protocol.c **** 
 108:Task/Task_Protocol.c ****     /* init USB attach detect pin */
 109:Task/Task_Protocol.c ****     // BspGPIO.in_init(USB_DctPin);
 110:Task/Task_Protocol.c **** 
 111:Task/Task_Protocol.c ****     if (!Queue.create_auto(&VCP_ProtoQueue, "VCP Send Queue", VCP_QUEUE_BUFF_SIZE))
 112:Task/Task_Protocol.c ****         return false;
 113:Task/Task_Protocol.c **** 
 114:Task/Task_Protocol.c ****     VCP_Queue_CreateState = true;
 115:Task/Task_Protocol.c **** 
 116:Task/Task_Protocol.c ****     usb_setrec_callback(TaskProtocol_Rec);
 117:Task/Task_Protocol.c ****     // Shell_Init(TaskProtocol_TransBuff);
 118:Task/Task_Protocol.c **** 
 119:Task/Task_Protocol.c ****     ErrorLog.set_callback(Error_Out_Callback, TaskProto_PushProtocolQueue);
 120:Task/Task_Protocol.c **** 
 121:Task/Task_Protocol.c ****     task_state = TaskProto_Core;
 122:Task/Task_Protocol.c ****     return true;
 123:Task/Task_Protocol.c **** }
 124:Task/Task_Protocol.c **** 
 125:Task/Task_Protocol.c **** ProtoQueue_State_List TaskProto_PushProtocolQueue(uint8_t *p_data, uint16_t size)
 126:Task/Task_Protocol.c **** {
  29              		.loc 1 126 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 126 1 is_stmt 0 view .LVU1
  34 0000 70B5     		push	{r4, r5, r6, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 16
  37              		.cfi_offset 4, -16
  38              		.cfi_offset 5, -12
  39              		.cfi_offset 6, -8
  40              		.cfi_offset 14, -4
  41 0002 82B0     		sub	sp, sp, #8
  42              	.LCFI1:
  43              		.cfi_def_cfa_offset 24
 127:Task/Task_Protocol.c ****     /* push into send queue */
 128:Task/Task_Protocol.c ****     if (VCP_Queue_CreateState &&
  44              		.loc 1 128 5 is_stmt 1 view .LVU2
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s 			page 4


  45              		.loc 1 128 9 is_stmt 0 view .LVU3
  46 0004 214B     		ldr	r3, .L11
  47 0006 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  48              		.loc 1 128 8 view .LVU4
  49 0008 2BB1     		cbz	r3, .L2
  50 000a 0546     		mov	r5, r0
  51 000c 0C46     		mov	r4, r1
 129:Task/Task_Protocol.c ****         ((VCPQueue_State == ProtoQueue_Ok) ||
  52              		.loc 1 129 44 discriminator 1 view .LVU5
  53 000e 204B     		ldr	r3, .L11+4
  54 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 128:Task/Task_Protocol.c ****         ((VCPQueue_State == ProtoQueue_Ok) ||
  55              		.loc 1 128 31 discriminator 1 view .LVU6
  56 0012 012B     		cmp	r3, #1
  57 0014 11D9     		bls	.L8
  58              	.LVL1:
  59              	.L2:
 130:Task/Task_Protocol.c ****          (VCPQueue_State == ProtoQueue_Idle)) &&
 131:Task/Task_Protocol.c ****         ((Queue.state(VCP_ProtoQueue) == Queue_empty) ||
 132:Task/Task_Protocol.c ****          (Queue.state(VCP_ProtoQueue) == Queue_ok)))
 133:Task/Task_Protocol.c ****     {
 134:Task/Task_Protocol.c ****         VCPQueue_State = ProtoQueue_Busy;
 135:Task/Task_Protocol.c **** 
 136:Task/Task_Protocol.c ****         /* push send data into VCP queue */
 137:Task/Task_Protocol.c ****         Queue.push(&VCP_ProtoQueue, p_data, size);
 138:Task/Task_Protocol.c **** 
 139:Task/Task_Protocol.c ****         VCPQueue_State = ProtoQueue_Ok;
 140:Task/Task_Protocol.c **** 
 141:Task/Task_Protocol.c ****         return ProtoQueue_Ok;
 142:Task/Task_Protocol.c ****     }
 143:Task/Task_Protocol.c ****     else if (!VCP_Queue_CreateState)
  60              		.loc 1 143 10 is_stmt 1 view .LVU7
  61              		.loc 1 143 14 is_stmt 0 view .LVU8
  62 0016 1D4B     		ldr	r3, .L11
  63 0018 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  64              		.loc 1 143 13 view .LVU9
  65 001a 002B     		cmp	r3, #0
  66 001c 2DD0     		beq	.L9
 144:Task/Task_Protocol.c ****     {
 145:Task/Task_Protocol.c ****         VCPQueue_State = ProtoQueeu_Error;
 146:Task/Task_Protocol.c ****         return ProtoQueeu_Error;
 147:Task/Task_Protocol.c ****     }
 148:Task/Task_Protocol.c ****     else if (Queue.state(VCP_ProtoQueue) == Queue_full)
  67              		.loc 1 148 10 is_stmt 1 view .LVU10
  68              		.loc 1 148 19 is_stmt 0 view .LVU11
  69 001e 1D4B     		ldr	r3, .L11+8
  70 0020 1C6A     		ldr	r4, [r3, #32]
  71              		.loc 1 148 14 view .LVU12
  72 0022 1D4B     		ldr	r3, .L11+12
  73 0024 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
  74 0026 8DF80020 		strb	r2, [sp]
  75 002a 0FCB     		ldm	r3, {r0, r1, r2, r3}
  76 002c A047     		blx	r4
  77              	.LVL2:
  78              		.loc 1 148 13 view .LVU13
  79 002e 0428     		cmp	r0, #4
  80 0030 27D0     		beq	.L10
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s 			page 5


 149:Task/Task_Protocol.c ****     {
 150:Task/Task_Protocol.c ****         VCPQueue_State = ProtoQueue_Full;
 151:Task/Task_Protocol.c ****         return ProtoQueue_Full;
 152:Task/Task_Protocol.c ****     }
 153:Task/Task_Protocol.c ****     else if ((VCPQueue_State != ProtoQueue_Ok) ||
  81              		.loc 1 153 10 is_stmt 1 view .LVU14
 154:Task/Task_Protocol.c ****              (VCPQueue_State != ProtoQueue_Idle))
 155:Task/Task_Protocol.c ****     {
 156:Task/Task_Protocol.c ****         return VCPQueue_State;
  82              		.loc 1 156 9 view .LVU15
  83              		.loc 1 156 16 is_stmt 0 view .LVU16
  84 0032 174B     		ldr	r3, .L11+4
  85 0034 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
  86              	.L4:
 157:Task/Task_Protocol.c ****     }
 158:Task/Task_Protocol.c **** }
  87              		.loc 1 158 1 view .LVU17
  88 0036 02B0     		add	sp, sp, #8
  89              	.LCFI2:
  90              		.cfi_remember_state
  91              		.cfi_def_cfa_offset 16
  92              		@ sp needed
  93 0038 70BD     		pop	{r4, r5, r6, pc}
  94              	.LVL3:
  95              	.L8:
  96              	.LCFI3:
  97              		.cfi_restore_state
 131:Task/Task_Protocol.c ****          (Queue.state(VCP_ProtoQueue) == Queue_ok)))
  98              		.loc 1 131 16 view .LVU18
  99 003a 164B     		ldr	r3, .L11+8
 100 003c 1E6A     		ldr	r6, [r3, #32]
 131:Task/Task_Protocol.c ****          (Queue.state(VCP_ProtoQueue) == Queue_ok)))
 101              		.loc 1 131 11 view .LVU19
 102 003e 164B     		ldr	r3, .L11+12
 103 0040 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
 104 0042 8DF80020 		strb	r2, [sp]
 105 0046 0FCB     		ldm	r3, {r0, r1, r2, r3}
 106              	.LVL4:
 131:Task/Task_Protocol.c ****          (Queue.state(VCP_ProtoQueue) == Queue_ok)))
 107              		.loc 1 131 11 view .LVU20
 108 0048 B047     		blx	r6
 109              	.LVL5:
 130:Task/Task_Protocol.c ****         ((Queue.state(VCP_ProtoQueue) == Queue_empty) ||
 110              		.loc 1 130 47 view .LVU21
 111 004a 0328     		cmp	r0, #3
 112 004c 09D0     		beq	.L3
 132:Task/Task_Protocol.c ****     {
 113              		.loc 1 132 16 view .LVU22
 114 004e 114B     		ldr	r3, .L11+8
 115 0050 1E6A     		ldr	r6, [r3, #32]
 132:Task/Task_Protocol.c ****     {
 116              		.loc 1 132 11 view .LVU23
 117 0052 114B     		ldr	r3, .L11+12
 118 0054 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
 119 0056 8DF80020 		strb	r2, [sp]
 120 005a 0FCB     		ldm	r3, {r0, r1, r2, r3}
 121 005c B047     		blx	r6
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s 			page 6


 122              	.LVL6:
 131:Task/Task_Protocol.c ****          (Queue.state(VCP_ProtoQueue) == Queue_ok)))
 123              		.loc 1 131 55 view .LVU24
 124 005e 0028     		cmp	r0, #0
 125 0060 D9D1     		bne	.L2
 126              	.L3:
 134:Task/Task_Protocol.c **** 
 127              		.loc 1 134 9 is_stmt 1 view .LVU25
 134:Task/Task_Protocol.c **** 
 128              		.loc 1 134 24 is_stmt 0 view .LVU26
 129 0062 0B4E     		ldr	r6, .L11+4
 130 0064 0223     		movs	r3, #2
 131 0066 3370     		strb	r3, [r6]
 137:Task/Task_Protocol.c **** 
 132              		.loc 1 137 9 is_stmt 1 view .LVU27
 137:Task/Task_Protocol.c **** 
 133              		.loc 1 137 14 is_stmt 0 view .LVU28
 134 0068 0A4B     		ldr	r3, .L11+8
 135 006a 9B69     		ldr	r3, [r3, #24]
 137:Task/Task_Protocol.c **** 
 136              		.loc 1 137 9 view .LVU29
 137 006c 2246     		mov	r2, r4
 138 006e 2946     		mov	r1, r5
 139 0070 0948     		ldr	r0, .L11+12
 140 0072 9847     		blx	r3
 141              	.LVL7:
 139:Task/Task_Protocol.c **** 
 142              		.loc 1 139 9 is_stmt 1 view .LVU30
 139:Task/Task_Protocol.c **** 
 143              		.loc 1 139 24 is_stmt 0 view .LVU31
 144 0074 0120     		movs	r0, #1
 145 0076 3070     		strb	r0, [r6]
 141:Task/Task_Protocol.c ****     }
 146              		.loc 1 141 9 is_stmt 1 view .LVU32
 141:Task/Task_Protocol.c ****     }
 147              		.loc 1 141 16 is_stmt 0 view .LVU33
 148 0078 DDE7     		b	.L4
 149              	.LVL8:
 150              	.L9:
 145:Task/Task_Protocol.c ****         return ProtoQueeu_Error;
 151              		.loc 1 145 9 is_stmt 1 view .LVU34
 145:Task/Task_Protocol.c ****         return ProtoQueeu_Error;
 152              		.loc 1 145 24 is_stmt 0 view .LVU35
 153 007a 0420     		movs	r0, #4
 154 007c 044B     		ldr	r3, .L11+4
 155 007e 1870     		strb	r0, [r3]
 146:Task/Task_Protocol.c ****     }
 156              		.loc 1 146 9 is_stmt 1 view .LVU36
 146:Task/Task_Protocol.c ****     }
 157              		.loc 1 146 16 is_stmt 0 view .LVU37
 158 0080 D9E7     		b	.L4
 159              	.L10:
 150:Task/Task_Protocol.c ****         return ProtoQueue_Full;
 160              		.loc 1 150 9 is_stmt 1 view .LVU38
 150:Task/Task_Protocol.c ****         return ProtoQueue_Full;
 161              		.loc 1 150 24 is_stmt 0 view .LVU39
 162 0082 0320     		movs	r0, #3
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s 			page 7


 163 0084 024B     		ldr	r3, .L11+4
 164 0086 1870     		strb	r0, [r3]
 151:Task/Task_Protocol.c ****     }
 165              		.loc 1 151 9 is_stmt 1 view .LVU40
 151:Task/Task_Protocol.c ****     }
 166              		.loc 1 151 16 is_stmt 0 view .LVU41
 167 0088 D5E7     		b	.L4
 168              	.L12:
 169 008a 00BF     		.align	2
 170              	.L11:
 171 008c 00000000 		.word	.LANCHOR0
 172 0090 00000000 		.word	.LANCHOR1
 173 0094 00000000 		.word	Queue
 174 0098 00000000 		.word	.LANCHOR2
 175              		.cfi_endproc
 176              	.LFE1996:
 178              		.section	.text.TaskProtocol_Rec,"ax",%progbits
 179              		.align	1
 180              		.syntax unified
 181              		.thumb
 182              		.thumb_func
 183              		.fpu fpv5-d16
 185              	TaskProtocol_Rec:
 186              	.LVL9:
 187              	.LFB2000:
 159:Task/Task_Protocol.c **** 
 160:Task/Task_Protocol.c **** static bool TaskProtocol_TransBuff(uint8_t *data, uint16_t size)
 161:Task/Task_Protocol.c **** {
 162:Task/Task_Protocol.c ****     if (CDC_Transmit_FS(data, size) != USBD_OK)
 163:Task/Task_Protocol.c ****         return false;
 164:Task/Task_Protocol.c **** 
 165:Task/Task_Protocol.c ****     return true;
 166:Task/Task_Protocol.c **** }
 167:Task/Task_Protocol.c **** 
 168:Task/Task_Protocol.c **** void TaskProtocol_Core(Task_Handle hdl)
 169:Task/Task_Protocol.c **** {
 170:Task/Task_Protocol.c ****     uint8_t *p_buf = NULL;
 171:Task/Task_Protocol.c ****     uint16_t p_buf_size = 0;
 172:Task/Task_Protocol.c **** 
 173:Task/Task_Protocol.c ****     DebugPin.ctl(Debug_PC3, true);
 174:Task/Task_Protocol.c **** 
 175:Task/Task_Protocol.c ****     switch ((uint8_t)task_state)
 176:Task/Task_Protocol.c ****     {
 177:Task/Task_Protocol.c ****     case TaskProto_Core:
 178:Task/Task_Protocol.c ****         TaskProtocol_MainProc(NULL, 0);
 179:Task/Task_Protocol.c **** 
 180:Task/Task_Protocol.c ****         /* check vcp send queue state */
 181:Task/Task_Protocol.c ****         /* if it has any data then send them out */
 182:Task/Task_Protocol.c ****         if (test && ((Queue.state(VCP_ProtoQueue) == Queue_ok) || (Queue.state(VCP_ProtoQueue) == Q
 183:Task/Task_Protocol.c ****         {
 184:Task/Task_Protocol.c ****             p_buf = (uint8_t *)MMU_Malloc(Queue.size(VCP_ProtoQueue));
 185:Task/Task_Protocol.c **** 
 186:Task/Task_Protocol.c ****             if (p_buf)
 187:Task/Task_Protocol.c ****             {
 188:Task/Task_Protocol.c ****                 p_buf_size = Queue.size(VCP_ProtoQueue);
 189:Task/Task_Protocol.c ****                 Queue.pop(&VCP_ProtoQueue, p_buf, p_buf_size);
 190:Task/Task_Protocol.c **** 
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s 			page 8


 191:Task/Task_Protocol.c ****                 TaskProtocol_TransBuff(p_buf, p_buf_size);
 192:Task/Task_Protocol.c ****             }
 193:Task/Task_Protocol.c **** 
 194:Task/Task_Protocol.c ****             MMU_Free(p_buf);
 195:Task/Task_Protocol.c ****         }
 196:Task/Task_Protocol.c ****         
 197:Task/Task_Protocol.c ****         /* test proto mavlink raw imu data */
 198:Task/Task_Protocol.c ****         SrvComProto.mav_msg_stream(TaskProto_MAV_RawIMU, &MavStream, TaskProtocol_TransBuff);
 199:Task/Task_Protocol.c **** 
 200:Task/Task_Protocol.c ****         break;
 201:Task/Task_Protocol.c **** 
 202:Task/Task_Protocol.c ****     case TaskProto_Error_Proc:
 203:Task/Task_Protocol.c ****         break;
 204:Task/Task_Protocol.c **** 
 205:Task/Task_Protocol.c ****     default:
 206:Task/Task_Protocol.c ****         break;
 207:Task/Task_Protocol.c ****     }
 208:Task/Task_Protocol.c **** 
 209:Task/Task_Protocol.c ****     DebugPin.ctl(Debug_PC3, false);
 210:Task/Task_Protocol.c **** }
 211:Task/Task_Protocol.c **** 
 212:Task/Task_Protocol.c **** static void TaskProtocol_MainProc(uint8_t *data, uint16_t size)
 213:Task/Task_Protocol.c **** {
 214:Task/Task_Protocol.c **** }
 215:Task/Task_Protocol.c **** 
 216:Task/Task_Protocol.c **** static void TaskProtocol_Rec(uint8_t *data, uint16_t len)
 217:Task/Task_Protocol.c **** {
 188              		.loc 1 217 1 is_stmt 1 view -0
 189              		.cfi_startproc
 190              		@ args = 0, pretend = 0, frame = 0
 191              		@ frame_needed = 0, uses_anonymous_args = 0
 192              		@ link register save eliminated.
 218:Task/Task_Protocol.c ****     // shellHandler(Shell_GetInstence(), data[i]);
 219:Task/Task_Protocol.c ****     // TaskProtocol_TransBuff(data, len);
 220:Task/Task_Protocol.c ****     test = true;
 193              		.loc 1 220 5 view .LVU43
 194              		.loc 1 220 10 is_stmt 0 view .LVU44
 195 0000 014B     		ldr	r3, .L14
 196 0002 0122     		movs	r2, #1
 197 0004 1A70     		strb	r2, [r3]
 221:Task/Task_Protocol.c **** }
 198              		.loc 1 221 1 view .LVU45
 199 0006 7047     		bx	lr
 200              	.L15:
 201              		.align	2
 202              	.L14:
 203 0008 00000000 		.word	.LANCHOR3
 204              		.cfi_endproc
 205              	.LFE2000:
 207              		.section	.text.TaskProtocol_TransBuff,"ax",%progbits
 208              		.align	1
 209              		.syntax unified
 210              		.thumb
 211              		.thumb_func
 212              		.fpu fpv5-d16
 214              	TaskProtocol_TransBuff:
 215              	.LVL10:
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s 			page 9


 216              	.LFB1997:
 161:Task/Task_Protocol.c ****     if (CDC_Transmit_FS(data, size) != USBD_OK)
 217              		.loc 1 161 1 is_stmt 1 view -0
 218              		.cfi_startproc
 219              		@ args = 0, pretend = 0, frame = 0
 220              		@ frame_needed = 0, uses_anonymous_args = 0
 161:Task/Task_Protocol.c ****     if (CDC_Transmit_FS(data, size) != USBD_OK)
 221              		.loc 1 161 1 is_stmt 0 view .LVU47
 222 0000 08B5     		push	{r3, lr}
 223              	.LCFI4:
 224              		.cfi_def_cfa_offset 8
 225              		.cfi_offset 3, -8
 226              		.cfi_offset 14, -4
 162:Task/Task_Protocol.c ****         return false;
 227              		.loc 1 162 5 is_stmt 1 view .LVU48
 162:Task/Task_Protocol.c ****         return false;
 228              		.loc 1 162 9 is_stmt 0 view .LVU49
 229 0002 FFF7FEFF 		bl	CDC_Transmit_FS
 230              	.LVL11:
 162:Task/Task_Protocol.c ****         return false;
 231              		.loc 1 162 8 view .LVU50
 232 0006 08B9     		cbnz	r0, .L18
 165:Task/Task_Protocol.c **** }
 233              		.loc 1 165 12 view .LVU51
 234 0008 0120     		movs	r0, #1
 235              	.L17:
 166:Task/Task_Protocol.c **** 
 236              		.loc 1 166 1 view .LVU52
 237 000a 08BD     		pop	{r3, pc}
 238              	.L18:
 163:Task/Task_Protocol.c **** 
 239              		.loc 1 163 16 view .LVU53
 240 000c 0020     		movs	r0, #0
 241 000e FCE7     		b	.L17
 242              		.cfi_endproc
 243              	.LFE1997:
 245              		.section	.rodata.shell_test.str1.4,"aMS",%progbits,1
 246              		.align	2
 247              	.LC0:
 248 0000 09385F42 		.ascii	"\0118_B!T0 Shell test\015\012\000"
 248      21543020 
 248      5368656C 
 248      6C207465 
 248      73740D0A 
 249              		.section	.text.shell_test,"ax",%progbits
 250              		.align	1
 251              		.syntax unified
 252              		.thumb
 253              		.thumb_func
 254              		.fpu fpv5-d16
 256              	shell_test:
 257              	.LFB2002:
 222:Task/Task_Protocol.c **** 
 223:Task/Task_Protocol.c **** static void TaskProtocol_PlugDetect_Callback(void)
 224:Task/Task_Protocol.c **** {
 225:Task/Task_Protocol.c ****     static uint8_t a;
 226:Task/Task_Protocol.c **** 
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s 			page 10


 227:Task/Task_Protocol.c ****     a++;
 228:Task/Task_Protocol.c **** }
 229:Task/Task_Protocol.c **** 
 230:Task/Task_Protocol.c **** static void shell_test(void)
 231:Task/Task_Protocol.c **** {
 258              		.loc 1 231 1 is_stmt 1 view -0
 259              		.cfi_startproc
 260              		@ args = 0, pretend = 0, frame = 0
 261              		@ frame_needed = 0, uses_anonymous_args = 0
 262 0000 08B5     		push	{r3, lr}
 263              	.LCFI5:
 264              		.cfi_def_cfa_offset 8
 265              		.cfi_offset 3, -8
 266              		.cfi_offset 14, -4
 232:Task/Task_Protocol.c ****     usb_printf("\t8_B!T0 Shell test\r\n");
 267              		.loc 1 232 5 view .LVU55
 268 0002 0248     		ldr	r0, .L22
 269 0004 FFF7FEFF 		bl	usb_printf
 270              	.LVL12:
 233:Task/Task_Protocol.c **** }
 271              		.loc 1 233 1 is_stmt 0 view .LVU56
 272 0008 08BD     		pop	{r3, pc}
 273              	.L23:
 274 000a 00BF     		.align	2
 275              	.L22:
 276 000c 00000000 		.word	.LC0
 277              		.cfi_endproc
 278              	.LFE2002:
 280              		.section	.rodata.TaskProtocol_Init.str1.4,"aMS",%progbits,1
 281              		.align	2
 282              	.LC1:
 283 0000 56435020 		.ascii	"VCP Send Queue\000"
 283      53656E64 
 283      20517565 
 283      756500
 284              		.section	.text.TaskProtocol_Init,"ax",%progbits
 285              		.align	1
 286              		.global	TaskProtocol_Init
 287              		.syntax unified
 288              		.thumb
 289              		.thumb_func
 290              		.fpu fpv5-d16
 292              	TaskProtocol_Init:
 293              	.LFB1995:
  56:Task/Task_Protocol.c ****     SrvComProto.init(SrvComProto_Type_MAV, NULL);
 294              		.loc 1 56 1 is_stmt 1 view -0
 295              		.cfi_startproc
 296              		@ args = 0, pretend = 0, frame = 8
 297              		@ frame_needed = 0, uses_anonymous_args = 0
 298 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 299              	.LCFI6:
 300              		.cfi_def_cfa_offset 32
 301              		.cfi_offset 4, -32
 302              		.cfi_offset 5, -28
 303              		.cfi_offset 6, -24
 304              		.cfi_offset 7, -20
 305              		.cfi_offset 8, -16
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s 			page 11


 306              		.cfi_offset 9, -12
 307              		.cfi_offset 10, -8
 308              		.cfi_offset 14, -4
 309 0004 82B0     		sub	sp, sp, #8
 310              	.LCFI7:
 311              		.cfi_def_cfa_offset 40
  57:Task/Task_Protocol.c **** 
 312              		.loc 1 57 5 view .LVU58
  57:Task/Task_Protocol.c **** 
 313              		.loc 1 57 16 is_stmt 0 view .LVU59
 314 0006 484C     		ldr	r4, .L32
 315 0008 2368     		ldr	r3, [r4]
  57:Task/Task_Protocol.c **** 
 316              		.loc 1 57 5 view .LVU60
 317 000a 0021     		movs	r1, #0
 318 000c 0220     		movs	r0, #2
 319 000e 9847     		blx	r3
 320              	.LVL13:
  60:Task/Task_Protocol.c ****     {
 321              		.loc 1 60 5 is_stmt 1 view .LVU61
  60:Task/Task_Protocol.c ****     {
 322              		.loc 1 60 20 is_stmt 0 view .LVU62
 323 0010 6368     		ldr	r3, [r4, #4]
  60:Task/Task_Protocol.c ****     {
 324              		.loc 1 60 9 view .LVU63
 325 0012 9847     		blx	r3
 326              	.LVL14:
  60:Task/Task_Protocol.c ****     {
 327              		.loc 1 60 8 view .LVU64
 328 0014 0228     		cmp	r0, #2
 329 0016 1FD0     		beq	.L30
  98:Task/Task_Protocol.c ****     {
 330              		.loc 1 98 10 is_stmt 1 view .LVU65
  98:Task/Task_Protocol.c ****     {
 331              		.loc 1 98 25 is_stmt 0 view .LVU66
 332 0018 434B     		ldr	r3, .L32
 333 001a 5B68     		ldr	r3, [r3, #4]
  98:Task/Task_Protocol.c ****     {
 334              		.loc 1 98 14 view .LVU67
 335 001c 9847     		blx	r3
 336              	.LVL15:
 337              	.L26:
 100:Task/Task_Protocol.c **** 
 338              		.loc 1 100 5 is_stmt 1 view .LVU68
 102:Task/Task_Protocol.c ****     {
 339              		.loc 1 102 5 view .LVU69
 102:Task/Task_Protocol.c ****     {
 340              		.loc 1 102 10 is_stmt 0 view .LVU70
 341 001e FFF7FEFF 		bl	USB_DEVICE_Init
 342              	.LVL16:
 102:Task/Task_Protocol.c ****     {
 343              		.loc 1 102 8 view .LVU71
 344 0022 0446     		mov	r4, r0
 345 0024 0028     		cmp	r0, #0
 346 0026 78D0     		beq	.L31
 111:Task/Task_Protocol.c ****         return false;
 347              		.loc 1 111 5 is_stmt 1 view .LVU72
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s 			page 12


 111:Task/Task_Protocol.c ****         return false;
 348              		.loc 1 111 15 is_stmt 0 view .LVU73
 349 0028 404B     		ldr	r3, .L32+4
 350 002a 9B68     		ldr	r3, [r3, #8]
 111:Task/Task_Protocol.c ****         return false;
 351              		.loc 1 111 10 view .LVU74
 352 002c 4FF48052 		mov	r2, #4096
 353 0030 3F49     		ldr	r1, .L32+8
 354 0032 4048     		ldr	r0, .L32+12
 355 0034 9847     		blx	r3
 356              	.LVL17:
 111:Task/Task_Protocol.c ****         return false;
 357              		.loc 1 111 8 view .LVU75
 358 0036 0446     		mov	r4, r0
 359 0038 0028     		cmp	r0, #0
 360 003a 71D0     		beq	.L28
 114:Task/Task_Protocol.c **** 
 361              		.loc 1 114 5 is_stmt 1 view .LVU76
 114:Task/Task_Protocol.c **** 
 362              		.loc 1 114 27 is_stmt 0 view .LVU77
 363 003c 0125     		movs	r5, #1
 364 003e 3E4B     		ldr	r3, .L32+16
 365 0040 1D70     		strb	r5, [r3]
 116:Task/Task_Protocol.c ****     // Shell_Init(TaskProtocol_TransBuff);
 366              		.loc 1 116 5 is_stmt 1 view .LVU78
 367 0042 3E48     		ldr	r0, .L32+20
 368 0044 FFF7FEFF 		bl	usb_setrec_callback
 369              	.LVL18:
 119:Task/Task_Protocol.c **** 
 370              		.loc 1 119 5 view .LVU79
 119:Task/Task_Protocol.c **** 
 371              		.loc 1 119 13 is_stmt 0 view .LVU80
 372 0048 3D4B     		ldr	r3, .L32+24
 373 004a 1B69     		ldr	r3, [r3, #16]
 119:Task/Task_Protocol.c **** 
 374              		.loc 1 119 5 view .LVU81
 375 004c 3D49     		ldr	r1, .L32+28
 376 004e 2846     		mov	r0, r5
 377 0050 9847     		blx	r3
 378              	.LVL19:
 121:Task/Task_Protocol.c ****     return true;
 379              		.loc 1 121 5 is_stmt 1 view .LVU82
 121:Task/Task_Protocol.c ****     return true;
 380              		.loc 1 121 16 is_stmt 0 view .LVU83
 381 0052 3D4B     		ldr	r3, .L32+32
 382 0054 1D70     		strb	r5, [r3]
 122:Task/Task_Protocol.c **** }
 383              		.loc 1 122 5 is_stmt 1 view .LVU84
 122:Task/Task_Protocol.c **** }
 384              		.loc 1 122 12 is_stmt 0 view .LVU85
 385 0056 63E0     		b	.L28
 386              	.L30:
 387              	.LBB2:
  62:Task/Task_Protocol.c **** 
 388              		.loc 1 62 9 is_stmt 1 view .LVU86
  64:Task/Task_Protocol.c ****         memset(&TaskProto_MAV_RawIMU, 0, sizeof(TaskProto_MAV_RawIMU));
 389              		.loc 1 64 9 view .LVU87
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s 			page 13


 390 0058 0024     		movs	r4, #0
 391 005a ADF80440 		strh	r4, [sp, #4]	@ movhi
 392 005e 8DF80640 		strb	r4, [sp, #6]
  65:Task/Task_Protocol.c ****         memset(&TaskProto_MAV_ScaledIMU, 0, sizeof(TaskProto_MAV_ScaledIMU));
 393              		.loc 1 65 9 view .LVU88
 394 0062 DFF8ECA0 		ldr	r10, .L32+40
 395 0066 2025     		movs	r5, #32
 396 0068 2A46     		mov	r2, r5
 397 006a 2146     		mov	r1, r4
 398 006c 5046     		mov	r0, r10
 399 006e FFF7FEFF 		bl	memset
 400              	.LVL20:
  66:Task/Task_Protocol.c ****         memset(&TaskProto_MAV_RcChannel, 0, sizeof(TaskProto_MAV_RcChannel));
 401              		.loc 1 66 9 view .LVU89
 402 0072 DFF8E090 		ldr	r9, .L32+44
 403 0076 2A46     		mov	r2, r5
 404 0078 2146     		mov	r1, r4
 405 007a 4846     		mov	r0, r9
 406 007c FFF7FEFF 		bl	memset
 407              	.LVL21:
  67:Task/Task_Protocol.c ****         memset(&TaskProto_MAV_MotoChannel, 0, sizeof(TaskProto_MAV_MotoChannel));
 408              		.loc 1 67 9 view .LVU90
 409 0080 DFF8D480 		ldr	r8, .L32+48
 410 0084 2A46     		mov	r2, r5
 411 0086 2146     		mov	r1, r4
 412 0088 4046     		mov	r0, r8
 413 008a FFF7FEFF 		bl	memset
 414              	.LVL22:
  68:Task/Task_Protocol.c **** 
 415              		.loc 1 68 9 view .LVU91
 416 008e 2F4F     		ldr	r7, .L32+36
 417 0090 2A46     		mov	r2, r5
 418 0092 2146     		mov	r1, r4
 419 0094 3846     		mov	r0, r7
 420 0096 FFF7FEFF 		bl	memset
 421              	.LVL23:
  71:Task/Task_Protocol.c ****         PckInfo.component_id = MAV_CompoID_Raw_IMU;
 422              		.loc 1 71 9 view .LVU92
  71:Task/Task_Protocol.c ****         PckInfo.component_id = MAV_CompoID_Raw_IMU;
 423              		.loc 1 71 27 is_stmt 0 view .LVU93
 424 009a 0125     		movs	r5, #1
 425 009c 8DF80450 		strb	r5, [sp, #4]
  72:Task/Task_Protocol.c ****         PckInfo.chan = 0;
 426              		.loc 1 72 9 is_stmt 1 view .LVU94
  72:Task/Task_Protocol.c ****         PckInfo.chan = 0;
 427              		.loc 1 72 30 is_stmt 0 view .LVU95
 428 00a0 8DF80550 		strb	r5, [sp, #5]
  73:Task/Task_Protocol.c ****         SrvComProto.mav_msg_obj_init(&TaskProto_MAV_RawIMU, PckInfo, 10);
 429              		.loc 1 73 9 is_stmt 1 view .LVU96
  74:Task/Task_Protocol.c ****         SrvComProto.mav_msg_enable_ctl(&TaskProto_MAV_RawIMU, true);
 430              		.loc 1 74 9 view .LVU97
  74:Task/Task_Protocol.c ****         SrvComProto.mav_msg_enable_ctl(&TaskProto_MAV_RawIMU, true);
 431              		.loc 1 74 20 is_stmt 0 view .LVU98
 432 00a4 204E     		ldr	r6, .L32
 433 00a6 F368     		ldr	r3, [r6, #12]
  74:Task/Task_Protocol.c ****         SrvComProto.mav_msg_enable_ctl(&TaskProto_MAV_RawIMU, true);
 434              		.loc 1 74 9 view .LVU99
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s 			page 14


 435 00a8 0A22     		movs	r2, #10
 436 00aa 0199     		ldr	r1, [sp, #4]
 437 00ac 5046     		mov	r0, r10
 438 00ae 9847     		blx	r3
 439              	.LVL24:
  75:Task/Task_Protocol.c **** 
 440              		.loc 1 75 9 is_stmt 1 view .LVU100
  75:Task/Task_Protocol.c **** 
 441              		.loc 1 75 20 is_stmt 0 view .LVU101
 442 00b0 3369     		ldr	r3, [r6, #16]
  75:Task/Task_Protocol.c **** 
 443              		.loc 1 75 9 view .LVU102
 444 00b2 2946     		mov	r1, r5
 445 00b4 5046     		mov	r0, r10
 446 00b6 9847     		blx	r3
 447              	.LVL25:
  78:Task/Task_Protocol.c ****         PckInfo.component_id = MAV_CompoID_Scaled_IMU;
 448              		.loc 1 78 9 is_stmt 1 view .LVU103
  78:Task/Task_Protocol.c ****         PckInfo.component_id = MAV_CompoID_Scaled_IMU;
 449              		.loc 1 78 27 is_stmt 0 view .LVU104
 450 00b8 8DF80450 		strb	r5, [sp, #4]
  79:Task/Task_Protocol.c ****         PckInfo.chan = 0;
 451              		.loc 1 79 9 is_stmt 1 view .LVU105
  79:Task/Task_Protocol.c ****         PckInfo.chan = 0;
 452              		.loc 1 79 30 is_stmt 0 view .LVU106
 453 00bc 0223     		movs	r3, #2
 454 00be 8DF80530 		strb	r3, [sp, #5]
  80:Task/Task_Protocol.c ****         SrvComProto.mav_msg_obj_init(&TaskProto_MAV_ScaledIMU, PckInfo, 10);
 455              		.loc 1 80 9 is_stmt 1 view .LVU107
  80:Task/Task_Protocol.c ****         SrvComProto.mav_msg_obj_init(&TaskProto_MAV_ScaledIMU, PckInfo, 10);
 456              		.loc 1 80 22 is_stmt 0 view .LVU108
 457 00c2 8DF80640 		strb	r4, [sp, #6]
  81:Task/Task_Protocol.c ****         SrvComProto.mav_msg_enable_ctl(&TaskProto_MAV_ScaledIMU, false);
 458              		.loc 1 81 9 is_stmt 1 view .LVU109
  81:Task/Task_Protocol.c ****         SrvComProto.mav_msg_enable_ctl(&TaskProto_MAV_ScaledIMU, false);
 459              		.loc 1 81 20 is_stmt 0 view .LVU110
 460 00c6 F368     		ldr	r3, [r6, #12]
  81:Task/Task_Protocol.c ****         SrvComProto.mav_msg_enable_ctl(&TaskProto_MAV_ScaledIMU, false);
 461              		.loc 1 81 9 view .LVU111
 462 00c8 0A22     		movs	r2, #10
 463 00ca 0199     		ldr	r1, [sp, #4]
 464 00cc 4846     		mov	r0, r9
 465 00ce 9847     		blx	r3
 466              	.LVL26:
  82:Task/Task_Protocol.c **** 
 467              		.loc 1 82 9 is_stmt 1 view .LVU112
  82:Task/Task_Protocol.c **** 
 468              		.loc 1 82 20 is_stmt 0 view .LVU113
 469 00d0 3369     		ldr	r3, [r6, #16]
  82:Task/Task_Protocol.c **** 
 470              		.loc 1 82 9 view .LVU114
 471 00d2 2146     		mov	r1, r4
 472 00d4 4846     		mov	r0, r9
 473 00d6 9847     		blx	r3
 474              	.LVL27:
  85:Task/Task_Protocol.c ****         PckInfo.component_id = MAV_CompoID_RC_Channel;
 475              		.loc 1 85 9 is_stmt 1 view .LVU115
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s 			page 15


  85:Task/Task_Protocol.c ****         PckInfo.component_id = MAV_CompoID_RC_Channel;
 476              		.loc 1 85 27 is_stmt 0 view .LVU116
 477 00d8 8DF80450 		strb	r5, [sp, #4]
  86:Task/Task_Protocol.c ****         PckInfo.chan = 0;
 478              		.loc 1 86 9 is_stmt 1 view .LVU117
  86:Task/Task_Protocol.c ****         PckInfo.chan = 0;
 479              		.loc 1 86 30 is_stmt 0 view .LVU118
 480 00dc 0623     		movs	r3, #6
 481 00de 8DF80530 		strb	r3, [sp, #5]
  87:Task/Task_Protocol.c ****         SrvComProto.mav_msg_obj_init(&TaskProto_MAV_RcChannel, PckInfo, 20);
 482              		.loc 1 87 9 is_stmt 1 view .LVU119
  87:Task/Task_Protocol.c ****         SrvComProto.mav_msg_obj_init(&TaskProto_MAV_RcChannel, PckInfo, 20);
 483              		.loc 1 87 22 is_stmt 0 view .LVU120
 484 00e2 8DF80640 		strb	r4, [sp, #6]
  88:Task/Task_Protocol.c ****         SrvComProto.mav_msg_enable_ctl(&TaskProto_MAV_RcChannel, true);
 485              		.loc 1 88 9 is_stmt 1 view .LVU121
  88:Task/Task_Protocol.c ****         SrvComProto.mav_msg_enable_ctl(&TaskProto_MAV_RcChannel, true);
 486              		.loc 1 88 20 is_stmt 0 view .LVU122
 487 00e6 F368     		ldr	r3, [r6, #12]
  88:Task/Task_Protocol.c ****         SrvComProto.mav_msg_enable_ctl(&TaskProto_MAV_RcChannel, true);
 488              		.loc 1 88 9 view .LVU123
 489 00e8 1422     		movs	r2, #20
 490 00ea 0199     		ldr	r1, [sp, #4]
 491 00ec 4046     		mov	r0, r8
 492 00ee 9847     		blx	r3
 493              	.LVL28:
  89:Task/Task_Protocol.c **** 
 494              		.loc 1 89 9 is_stmt 1 view .LVU124
  89:Task/Task_Protocol.c **** 
 495              		.loc 1 89 20 is_stmt 0 view .LVU125
 496 00f0 3369     		ldr	r3, [r6, #16]
  89:Task/Task_Protocol.c **** 
 497              		.loc 1 89 9 view .LVU126
 498 00f2 2946     		mov	r1, r5
 499 00f4 4046     		mov	r0, r8
 500 00f6 9847     		blx	r3
 501              	.LVL29:
  92:Task/Task_Protocol.c ****         PckInfo.component_id = MAV_CompoID_MotoCtl;
 502              		.loc 1 92 9 is_stmt 1 view .LVU127
  92:Task/Task_Protocol.c ****         PckInfo.component_id = MAV_CompoID_MotoCtl;
 503              		.loc 1 92 27 is_stmt 0 view .LVU128
 504 00f8 8DF80450 		strb	r5, [sp, #4]
  93:Task/Task_Protocol.c ****         PckInfo.chan = 0;
 505              		.loc 1 93 9 is_stmt 1 view .LVU129
  93:Task/Task_Protocol.c ****         PckInfo.chan = 0;
 506              		.loc 1 93 30 is_stmt 0 view .LVU130
 507 00fc 0723     		movs	r3, #7
 508 00fe 8DF80530 		strb	r3, [sp, #5]
  94:Task/Task_Protocol.c ****         SrvComProto.mav_msg_obj_init(&TaskProto_MAV_MotoChannel, PckInfo, 10);
 509              		.loc 1 94 9 is_stmt 1 view .LVU131
  94:Task/Task_Protocol.c ****         SrvComProto.mav_msg_obj_init(&TaskProto_MAV_MotoChannel, PckInfo, 10);
 510              		.loc 1 94 22 is_stmt 0 view .LVU132
 511 0102 8DF80640 		strb	r4, [sp, #6]
  95:Task/Task_Protocol.c ****         SrvComProto.mav_msg_enable_ctl(&TaskProto_MAV_MotoChannel, true);
 512              		.loc 1 95 9 is_stmt 1 view .LVU133
  95:Task/Task_Protocol.c ****         SrvComProto.mav_msg_enable_ctl(&TaskProto_MAV_MotoChannel, true);
 513              		.loc 1 95 20 is_stmt 0 view .LVU134
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s 			page 16


 514 0106 F368     		ldr	r3, [r6, #12]
  95:Task/Task_Protocol.c ****         SrvComProto.mav_msg_enable_ctl(&TaskProto_MAV_MotoChannel, true);
 515              		.loc 1 95 9 view .LVU135
 516 0108 0A22     		movs	r2, #10
 517 010a 0199     		ldr	r1, [sp, #4]
 518 010c 3846     		mov	r0, r7
 519 010e 9847     		blx	r3
 520              	.LVL30:
  96:Task/Task_Protocol.c ****     }
 521              		.loc 1 96 9 is_stmt 1 view .LVU136
  96:Task/Task_Protocol.c ****     }
 522              		.loc 1 96 20 is_stmt 0 view .LVU137
 523 0110 3369     		ldr	r3, [r6, #16]
  96:Task/Task_Protocol.c ****     }
 524              		.loc 1 96 9 view .LVU138
 525 0112 2946     		mov	r1, r5
 526 0114 3846     		mov	r0, r7
 527 0116 9847     		blx	r3
 528              	.LVL31:
 529              	.LBE2:
 530 0118 81E7     		b	.L26
 531              	.L31:
 104:Task/Task_Protocol.c ****         return false;
 532              		.loc 1 104 9 is_stmt 1 view .LVU139
 104:Task/Task_Protocol.c ****         return false;
 533              		.loc 1 104 20 is_stmt 0 view .LVU140
 534 011a 0B4B     		ldr	r3, .L32+32
 535 011c 0222     		movs	r2, #2
 536 011e 1A70     		strb	r2, [r3]
 105:Task/Task_Protocol.c ****     }
 537              		.loc 1 105 9 is_stmt 1 view .LVU141
 538              	.L28:
 123:Task/Task_Protocol.c **** 
 539              		.loc 1 123 1 is_stmt 0 view .LVU142
 540 0120 2046     		mov	r0, r4
 541 0122 02B0     		add	sp, sp, #8
 542              	.LCFI8:
 543              		.cfi_def_cfa_offset 32
 544              		@ sp needed
 545 0124 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 546              	.L33:
 547              		.align	2
 548              	.L32:
 549 0128 00000000 		.word	SrvComProto
 550 012c 00000000 		.word	Queue
 551 0130 00000000 		.word	.LC1
 552 0134 00000000 		.word	.LANCHOR2
 553 0138 00000000 		.word	.LANCHOR0
 554 013c 00000000 		.word	TaskProtocol_Rec
 555 0140 00000000 		.word	ErrorLog
 556 0144 00000000 		.word	TaskProto_PushProtocolQueue
 557 0148 00000000 		.word	.LANCHOR8
 558 014c 00000000 		.word	.LANCHOR7
 559 0150 00000000 		.word	.LANCHOR4
 560 0154 00000000 		.word	.LANCHOR5
 561 0158 00000000 		.word	.LANCHOR6
 562              		.cfi_endproc
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s 			page 17


 563              	.LFE1995:
 565              		.section	.text.TaskProtocol_Core,"ax",%progbits
 566              		.align	1
 567              		.global	TaskProtocol_Core
 568              		.syntax unified
 569              		.thumb
 570              		.thumb_func
 571              		.fpu fpv5-d16
 573              	TaskProtocol_Core:
 574              	.LVL32:
 575              	.LFB1998:
 169:Task/Task_Protocol.c ****     uint8_t *p_buf = NULL;
 576              		.loc 1 169 1 is_stmt 1 view -0
 577              		.cfi_startproc
 578              		@ args = 0, pretend = 0, frame = 0
 579              		@ frame_needed = 0, uses_anonymous_args = 0
 169:Task/Task_Protocol.c ****     uint8_t *p_buf = NULL;
 580              		.loc 1 169 1 is_stmt 0 view .LVU144
 581 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 582              	.LCFI9:
 583              		.cfi_def_cfa_offset 20
 584              		.cfi_offset 4, -20
 585              		.cfi_offset 5, -16
 586              		.cfi_offset 6, -12
 587              		.cfi_offset 7, -8
 588              		.cfi_offset 14, -4
 589 0002 87B0     		sub	sp, sp, #28
 590              	.LCFI10:
 591              		.cfi_def_cfa_offset 48
 170:Task/Task_Protocol.c ****     uint16_t p_buf_size = 0;
 592              		.loc 1 170 5 is_stmt 1 view .LVU145
 593              	.LVL33:
 171:Task/Task_Protocol.c **** 
 594              		.loc 1 171 5 view .LVU146
 173:Task/Task_Protocol.c **** 
 595              		.loc 1 173 5 view .LVU147
 173:Task/Task_Protocol.c **** 
 596              		.loc 1 173 13 is_stmt 0 view .LVU148
 597 0004 314B     		ldr	r3, .L41
 598 0006 5C68     		ldr	r4, [r3, #4]
 173:Task/Task_Protocol.c **** 
 599              		.loc 1 173 5 view .LVU149
 600 0008 314A     		ldr	r2, .L41+4
 601 000a 0123     		movs	r3, #1
 602 000c 07CA     		ldm	r2, {r0, r1, r2}
 603              	.LVL34:
 173:Task/Task_Protocol.c **** 
 604              		.loc 1 173 5 view .LVU150
 605 000e A047     		blx	r4
 606              	.LVL35:
 175:Task/Task_Protocol.c ****     {
 607              		.loc 1 175 5 is_stmt 1 view .LVU151
 175:Task/Task_Protocol.c ****     {
 608              		.loc 1 175 13 is_stmt 0 view .LVU152
 609 0010 304B     		ldr	r3, .L41+8
 610 0012 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 175:Task/Task_Protocol.c ****     {
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s 			page 18


 611              		.loc 1 175 5 view .LVU153
 612 0014 012B     		cmp	r3, #1
 613 0016 07D0     		beq	.L40
 614              	.LVL36:
 615              	.L35:
 209:Task/Task_Protocol.c **** }
 616              		.loc 1 209 5 is_stmt 1 view .LVU154
 209:Task/Task_Protocol.c **** }
 617              		.loc 1 209 13 is_stmt 0 view .LVU155
 618 0018 2C4B     		ldr	r3, .L41
 619 001a 5C68     		ldr	r4, [r3, #4]
 209:Task/Task_Protocol.c **** }
 620              		.loc 1 209 5 view .LVU156
 621 001c 2C4A     		ldr	r2, .L41+4
 622 001e 0023     		movs	r3, #0
 623 0020 07CA     		ldm	r2, {r0, r1, r2}
 624 0022 A047     		blx	r4
 625              	.LVL37:
 210:Task/Task_Protocol.c **** 
 626              		.loc 1 210 1 view .LVU157
 627 0024 07B0     		add	sp, sp, #28
 628              	.LCFI11:
 629              		.cfi_remember_state
 630              		.cfi_def_cfa_offset 20
 631              		@ sp needed
 632 0026 F0BD     		pop	{r4, r5, r6, r7, pc}
 633              	.LVL38:
 634              	.L40:
 635              	.LCFI12:
 636              		.cfi_restore_state
 178:Task/Task_Protocol.c **** 
 637              		.loc 1 178 9 is_stmt 1 view .LVU158
 182:Task/Task_Protocol.c ****         {
 638              		.loc 1 182 9 view .LVU159
 182:Task/Task_Protocol.c ****         {
 639              		.loc 1 182 13 is_stmt 0 view .LVU160
 640 0028 2B4B     		ldr	r3, .L41+12
 641 002a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 182:Task/Task_Protocol.c ****         {
 642              		.loc 1 182 12 view .LVU161
 643 002c 002B     		cmp	r3, #0
 644 002e 3DD0     		beq	.L36
 182:Task/Task_Protocol.c ****         {
 645              		.loc 1 182 28 discriminator 1 view .LVU162
 646 0030 2A4B     		ldr	r3, .L41+16
 647 0032 1C6A     		ldr	r4, [r3, #32]
 182:Task/Task_Protocol.c ****         {
 648              		.loc 1 182 23 discriminator 1 view .LVU163
 649 0034 2A4B     		ldr	r3, .L41+20
 650 0036 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
 651 0038 8DF80020 		strb	r2, [sp]
 652 003c 0FCB     		ldm	r3, {r0, r1, r2, r3}
 653 003e A047     		blx	r4
 654              	.LVL39:
 182:Task/Task_Protocol.c ****         {
 655              		.loc 1 182 18 discriminator 1 view .LVU164
 656 0040 48B1     		cbz	r0, .L37
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s 			page 19


 182:Task/Task_Protocol.c ****         {
 657              		.loc 1 182 73 discriminator 3 view .LVU165
 658 0042 264B     		ldr	r3, .L41+16
 659 0044 1C6A     		ldr	r4, [r3, #32]
 182:Task/Task_Protocol.c ****         {
 660              		.loc 1 182 68 discriminator 3 view .LVU166
 661 0046 264B     		ldr	r3, .L41+20
 662 0048 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
 663 004a 8DF80020 		strb	r2, [sp]
 664 004e 0FCB     		ldm	r3, {r0, r1, r2, r3}
 665 0050 A047     		blx	r4
 666              	.LVL40:
 182:Task/Task_Protocol.c ****         {
 667              		.loc 1 182 64 discriminator 3 view .LVU167
 668 0052 0428     		cmp	r0, #4
 669 0054 2AD1     		bne	.L36
 670              	.L37:
 182:Task/Task_Protocol.c ****         {
 671              		.loc 1 182 120 discriminator 4 view .LVU168
 672 0056 214B     		ldr	r3, .L41+16
 673 0058 1C68     		ldr	r4, [r3]
 182:Task/Task_Protocol.c ****         {
 674              		.loc 1 182 115 discriminator 4 view .LVU169
 675 005a 214B     		ldr	r3, .L41+20
 676 005c 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
 677 005e 8DF80020 		strb	r2, [sp]
 678 0062 0FCB     		ldm	r3, {r0, r1, r2, r3}
 679 0064 A047     		blx	r4
 680              	.LVL41:
 182:Task/Task_Protocol.c ****         {
 681              		.loc 1 182 112 discriminator 4 view .LVU170
 682 0066 08B3     		cbz	r0, .L36
 184:Task/Task_Protocol.c **** 
 683              		.loc 1 184 13 is_stmt 1 view .LVU171
 184:Task/Task_Protocol.c **** 
 684              		.loc 1 184 48 is_stmt 0 view .LVU172
 685 0068 1C4B     		ldr	r3, .L41+16
 686 006a 1C68     		ldr	r4, [r3]
 184:Task/Task_Protocol.c **** 
 687              		.loc 1 184 32 view .LVU173
 688 006c 1C4B     		ldr	r3, .L41+20
 689 006e 1A7C     		ldrb	r2, [r3, #16]	@ zero_extendqisi2
 690 0070 8DF80020 		strb	r2, [sp]
 691 0074 0FCB     		ldm	r3, {r0, r1, r2, r3}
 692 0076 A047     		blx	r4
 693              	.LVL42:
 694 0078 FFF7FEFF 		bl	MMU_Malloc
 695              	.LVL43:
 186:Task/Task_Protocol.c ****             {
 696              		.loc 1 186 13 is_stmt 1 view .LVU174
 186:Task/Task_Protocol.c ****             {
 697              		.loc 1 186 16 is_stmt 0 view .LVU175
 698 007c 0646     		mov	r6, r0
 699 007e 90B1     		cbz	r0, .L38
 188:Task/Task_Protocol.c ****                 Queue.pop(&VCP_ProtoQueue, p_buf, p_buf_size);
 700              		.loc 1 188 17 is_stmt 1 view .LVU176
 188:Task/Task_Protocol.c ****                 Queue.pop(&VCP_ProtoQueue, p_buf, p_buf_size);
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s 			page 20


 701              		.loc 1 188 35 is_stmt 0 view .LVU177
 702 0080 164F     		ldr	r7, .L41+16
 703 0082 3D68     		ldr	r5, [r7]
 188:Task/Task_Protocol.c ****                 Queue.pop(&VCP_ProtoQueue, p_buf, p_buf_size);
 704              		.loc 1 188 30 view .LVU178
 705 0084 164C     		ldr	r4, .L41+20
 706 0086 237C     		ldrb	r3, [r4, #16]	@ zero_extendqisi2
 707 0088 8DF80030 		strb	r3, [sp]
 708 008c 94E80F00 		ldm	r4, {r0, r1, r2, r3}
 709              	.LVL44:
 188:Task/Task_Protocol.c ****                 Queue.pop(&VCP_ProtoQueue, p_buf, p_buf_size);
 710              		.loc 1 188 30 view .LVU179
 711 0090 A847     		blx	r5
 712              	.LVL45:
 713 0092 0546     		mov	r5, r0
 714              	.LVL46:
 189:Task/Task_Protocol.c **** 
 715              		.loc 1 189 17 is_stmt 1 view .LVU180
 189:Task/Task_Protocol.c **** 
 716              		.loc 1 189 22 is_stmt 0 view .LVU181
 717 0094 FB69     		ldr	r3, [r7, #28]
 189:Task/Task_Protocol.c **** 
 718              		.loc 1 189 17 view .LVU182
 719 0096 0246     		mov	r2, r0
 720 0098 3146     		mov	r1, r6
 721 009a 2046     		mov	r0, r4
 722              	.LVL47:
 189:Task/Task_Protocol.c **** 
 723              		.loc 1 189 17 view .LVU183
 724 009c 9847     		blx	r3
 725              	.LVL48:
 191:Task/Task_Protocol.c ****             }
 726              		.loc 1 191 17 is_stmt 1 view .LVU184
 727 009e 2946     		mov	r1, r5
 728 00a0 3046     		mov	r0, r6
 729 00a2 FFF7FEFF 		bl	TaskProtocol_TransBuff
 730              	.LVL49:
 731              	.L38:
 194:Task/Task_Protocol.c ****         }
 732              		.loc 1 194 13 view .LVU185
 733 00a6 3046     		mov	r0, r6
 734 00a8 FFF7FEFF 		bl	MMU_Free
 735              	.LVL50:
 736              	.L36:
 198:Task/Task_Protocol.c **** 
 737              		.loc 1 198 9 view .LVU186
 198:Task/Task_Protocol.c **** 
 738              		.loc 1 198 20 is_stmt 0 view .LVU187
 739 00ac 0D4B     		ldr	r3, .L41+24
 740 00ae 5D69     		ldr	r5, [r3, #20]
 198:Task/Task_Protocol.c **** 
 741              		.loc 1 198 9 view .LVU188
 742 00b0 0D4C     		ldr	r4, .L41+28
 743 00b2 0E4B     		ldr	r3, .L41+32
 744 00b4 0593     		str	r3, [sp, #20]
 745 00b6 0E4B     		ldr	r3, .L41+36
 746 00b8 0493     		str	r3, [sp, #16]
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s 			page 21


 747 00ba 04F11003 		add	r3, r4, #16
 748 00be 0FCB     		ldm	r3, {r0, r1, r2, r3}
 749 00c0 8DE80F00 		stm	sp, {r0, r1, r2, r3}
 750 00c4 94E80F00 		ldm	r4, {r0, r1, r2, r3}
 751 00c8 A847     		blx	r5
 752              	.LVL51:
 200:Task/Task_Protocol.c **** 
 753              		.loc 1 200 9 is_stmt 1 view .LVU189
 754 00ca A5E7     		b	.L35
 755              	.L42:
 756              		.align	2
 757              	.L41:
 758 00cc 00000000 		.word	DebugPin
 759 00d0 00000000 		.word	Debug_PC3
 760 00d4 00000000 		.word	.LANCHOR8
 761 00d8 00000000 		.word	.LANCHOR3
 762 00dc 00000000 		.word	Queue
 763 00e0 00000000 		.word	.LANCHOR2
 764 00e4 00000000 		.word	SrvComProto
 765 00e8 00000000 		.word	.LANCHOR4
 766 00ec 00000000 		.word	TaskProtocol_TransBuff
 767 00f0 00000000 		.word	.LANCHOR9
 768              		.cfi_endproc
 769              	.LFE1998:
 771              		.global	shellCommandtest
 772              		.global	shellDesctest
 773              		.global	shellCmdtest
 774              		.global	MavStream
 775              		.global	TaskProto_MAV_MotoChannel
 776              		.global	TaskProto_MAV_RcChannel
 777              		.global	TaskProto_MAV_ScaledIMU
 778              		.global	TaskProto_MAV_RawIMU
 779              		.section	.bss.TaskProto_MAV_MotoChannel,"aw",%nobits
 780              		.align	3
 781              		.set	.LANCHOR7,. + 0
 784              	TaskProto_MAV_MotoChannel:
 785 0000 00000000 		.space	32
 785      00000000 
 785      00000000 
 785      00000000 
 785      00000000 
 786              		.section	.bss.TaskProto_MAV_RawIMU,"aw",%nobits
 787              		.align	3
 788              		.set	.LANCHOR4,. + 0
 791              	TaskProto_MAV_RawIMU:
 792 0000 00000000 		.space	32
 792      00000000 
 792      00000000 
 792      00000000 
 792      00000000 
 793              		.section	.bss.TaskProto_MAV_RcChannel,"aw",%nobits
 794              		.align	3
 795              		.set	.LANCHOR6,. + 0
 798              	TaskProto_MAV_RcChannel:
 799 0000 00000000 		.space	32
 799      00000000 
 799      00000000 
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s 			page 22


 799      00000000 
 799      00000000 
 800              		.section	.bss.TaskProto_MAV_ScaledIMU,"aw",%nobits
 801              		.align	3
 802              		.set	.LANCHOR5,. + 0
 805              	TaskProto_MAV_ScaledIMU:
 806 0000 00000000 		.space	32
 806      00000000 
 806      00000000 
 806      00000000 
 806      00000000 
 807              		.section	.bss.USB_MavShareBuf,"aw",%nobits
 808              		.align	2
 811              	USB_MavShareBuf:
 812 0000 00000000 		.space	1024
 812      00000000 
 812      00000000 
 812      00000000 
 812      00000000 
 813              		.section	.bss.VCPQueue_State,"aw",%nobits
 814              		.set	.LANCHOR1,. + 0
 817              	VCPQueue_State:
 818 0000 00       		.space	1
 819              		.section	.bss.VCP_ProtoQueue,"aw",%nobits
 820              		.align	2
 821              		.set	.LANCHOR2,. + 0
 824              	VCP_ProtoQueue:
 825 0000 00000000 		.space	17
 825      00000000 
 825      00000000 
 825      00000000 
 825      00
 826              		.section	.bss.VCP_Queue_CreateState,"aw",%nobits
 827              		.set	.LANCHOR0,. + 0
 830              	VCP_Queue_CreateState:
 831 0000 00       		.space	1
 832              		.section	.bss.test,"aw",%nobits
 833              		.set	.LANCHOR3,. + 0
 836              	test:
 837 0000 00       		.space	1
 838              		.section	.data.MavStream,"aw"
 839              		.align	2
 840              		.set	.LANCHOR9,. + 0
 843              	MavStream:
 844 0000 00000000 		.word	USB_MavShareBuf
 845 0004 0000     		.short	0
 846 0006 0004     		.short	1024
 847              		.section	.data.task_state,"aw"
 848              		.set	.LANCHOR8,. + 0
 851              	task_state:
 852 0000 01       		.byte	1
 853              		.section	.rodata.shellCmdtest,"a"
 854              		.align	2
 857              	shellCmdtest:
 858 0000 74657374 		.ascii	"test\000"
 858      00
 859              		.section	.rodata.shellDesctest,"a"
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s 			page 23


 860              		.align	2
 863              	shellDesctest:
 864 0000 5368656C 		.ascii	"Shell Test\000"
 864      6C205465 
 864      737400
 865              		.section	shellCommand,"a"
 866              		.align	2
 869              	shellCommandtest:
 870 0000 00210000 		.word	8448
 871 0004 00000000 		.word	shellCmdtest
 872 0008 00000000 		.word	shell_test
 873 000c 00000000 		.word	shellDesctest
 874              		.text
 875              	.Letext0:
 876              		.file 2 "d:\\software\\zephyr_env_gcc\\gcc-arm-none-eabi-10-2020-q4-major\\arm-none-eabi\\include\
 877              		.file 3 "d:\\software\\zephyr_env_gcc\\gcc-arm-none-eabi-10-2020-q4-major\\arm-none-eabi\\include\
 878              		.file 4 "System/runtime/runtime.h"
 879              		.file 5 "DataStructure/linked_list.h"
 880              		.file 6 "HAL_Lib/CMSIS/Device/ST/STM32H7xx/Include/stm32h743xx.h"
 881              		.file 7 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_gpio.h"
 882              		.file 8 "System/scheduler/scheduler.h"
 883              		.file 9 "Task/Task_Protocol.h"
 884              		.file 10 "System/shell/shell.h"
 885              		.file 11 "USB/STM32_USB_Device_Library/Core/Inc/usbd_def.h"
 886              		.file 12 "Bsp/Bsp_GPIO.h"
 887              		.file 13 "debug/debug_util.h"
 888              		.file 14 "DataStructure/queue.h"
 889              		.file 15 "IO_Def/IO_Definition.h"
 890              		.file 16 "common/error_log.h"
 891              		.file 17 "Service/../MAVLink/common/../mavlink_types.h"
 892              		.file 18 "Service/Srv_ComProto.h"
 893              		.file 19 "USB/USB_DEVICE/App/usbd_cdc_if.h"
 894              		.file 20 "System/mmu/mmu.h"
 895              		.file 21 "USB/USB_DEVICE/App/usb_device.h"
 896              		.file 22 "<built-in>"
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s 			page 24


DEFINED SYMBOLS
                            *ABS*:00000000 Task_Protocol.c
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:17     .text.TaskProto_PushProtocolQueue:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:25     .text.TaskProto_PushProtocolQueue:00000000 TaskProto_PushProtocolQueue
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:171    .text.TaskProto_PushProtocolQueue:0000008c $d
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:179    .text.TaskProtocol_Rec:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:185    .text.TaskProtocol_Rec:00000000 TaskProtocol_Rec
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:203    .text.TaskProtocol_Rec:00000008 $d
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:208    .text.TaskProtocol_TransBuff:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:214    .text.TaskProtocol_TransBuff:00000000 TaskProtocol_TransBuff
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:246    .rodata.shell_test.str1.4:00000000 $d
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:250    .text.shell_test:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:256    .text.shell_test:00000000 shell_test
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:276    .text.shell_test:0000000c $d
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:281    .rodata.TaskProtocol_Init.str1.4:00000000 $d
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:285    .text.TaskProtocol_Init:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:292    .text.TaskProtocol_Init:00000000 TaskProtocol_Init
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:549    .text.TaskProtocol_Init:00000128 $d
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:566    .text.TaskProtocol_Core:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:573    .text.TaskProtocol_Core:00000000 TaskProtocol_Core
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:758    .text.TaskProtocol_Core:000000cc $d
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:869    shellCommand:00000000 shellCommandtest
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:863    .rodata.shellDesctest:00000000 shellDesctest
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:857    .rodata.shellCmdtest:00000000 shellCmdtest
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:843    .data.MavStream:00000000 MavStream
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:784    .bss.TaskProto_MAV_MotoChannel:00000000 TaskProto_MAV_MotoChannel
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:798    .bss.TaskProto_MAV_RcChannel:00000000 TaskProto_MAV_RcChannel
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:805    .bss.TaskProto_MAV_ScaledIMU:00000000 TaskProto_MAV_ScaledIMU
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:791    .bss.TaskProto_MAV_RawIMU:00000000 TaskProto_MAV_RawIMU
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:780    .bss.TaskProto_MAV_MotoChannel:00000000 $d
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:787    .bss.TaskProto_MAV_RawIMU:00000000 $d
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:794    .bss.TaskProto_MAV_RcChannel:00000000 $d
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:801    .bss.TaskProto_MAV_ScaledIMU:00000000 $d
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:808    .bss.USB_MavShareBuf:00000000 $d
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:811    .bss.USB_MavShareBuf:00000000 USB_MavShareBuf
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:817    .bss.VCPQueue_State:00000000 VCPQueue_State
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:818    .bss.VCPQueue_State:00000000 $d
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:820    .bss.VCP_ProtoQueue:00000000 $d
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:824    .bss.VCP_ProtoQueue:00000000 VCP_ProtoQueue
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:830    .bss.VCP_Queue_CreateState:00000000 VCP_Queue_CreateState
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:831    .bss.VCP_Queue_CreateState:00000000 $d
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:836    .bss.test:00000000 test
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:837    .bss.test:00000000 $d
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:839    .data.MavStream:00000000 $d
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:851    .data.task_state:00000000 task_state
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:854    .rodata.shellCmdtest:00000000 $d
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:860    .rodata.shellDesctest:00000000 $d
C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s:866    shellCommand:00000000 $d

UNDEFINED SYMBOLS
Queue
CDC_Transmit_FS
usb_printf
USB_DEVICE_Init
usb_setrec_callback
memset
SrvComProto
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccocfCOM.s 			page 25


ErrorLog
MMU_Malloc
MMU_Free
DebugPin
Debug_PC3
