ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"at32f435_437_usb.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.usb_global_reset,"ax",%progbits
  20              		.align	1
  21              		.global	usb_global_reset
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	usb_global_reset:
  27              	.LVL0:
  28              	.LFB133:
  29              		.file 1 "HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c"
   1:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
   2:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   **************************************************************************
   3:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @file     at32f435_437_usb.c
   4:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @version  v2.1.0
   5:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @date     2022-08-16
   6:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief    contains all the functions for the usb firmware library
   7:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   **************************************************************************
   8:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *                       Copyright notice & Disclaimer
   9:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *
  10:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * The software Board Support Package (BSP) that is made available to
  11:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * download from Artery official website is the copyrighted work of Artery.
  12:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * Artery authorizes customers to use, copy, and distribute the BSP
  13:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * software and its related documentation for the purpose of design and
  14:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * development in conjunction with Artery microcontrollers. Use of the
  15:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * software is governed by this copyright notice and the following disclaimer.
  16:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *
  17:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * THIS SOFTWARE IS PROVIDED ON "AS IS" BASIS WITHOUT WARRANTIES,
  18:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * GUARANTEES OR REPRESENTATIONS OF ANY KIND. ARTERY EXPRESSLY DISCLAIMS,
  19:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * TO THE FULLEST EXTENT PERMITTED BY LAW, ALL EXPRESS, IMPLIED OR
  20:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * STATUTORY OR OTHER WARRANTIES, GUARANTEES OR REPRESENTATIONS,
  21:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * INCLUDING BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY,
  22:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * FITNESS FOR A PARTICULAR PURPOSE, OR NON-INFRINGEMENT.
  23:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *
  24:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   **************************************************************************
  25:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
  26:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
  27:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** #include "at32f435_437_conf.h"
  28:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
  29:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /** @addtogroup AT32F435_437_periph_driver
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 2


  30:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @{
  31:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
  32:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
  33:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /** @defgroup USB
  34:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief USB driver modules
  35:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @{
  36:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
  37:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
  38:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** #ifdef USB_MODULE_ENABLED
  39:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
  40:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /** @defgroup USB_private_functions
  41:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @{
  42:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
  43:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
  44:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** #ifdef OTGFS_USB_GLOBAL
  45:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
  46:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  usb global core soft reset
  47:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
  48:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
  49:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
  50:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
  51:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval error status
  52:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
  53:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** error_status usb_global_reset(otg_global_type *usbx)
  54:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
  30              		.loc 1 54 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  55:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   uint32_t timeout = 0;
  35              		.loc 1 55 3 view .LVU1
  56:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   while(usbx->grstctl_bit.ahbidle == RESET)
  36              		.loc 1 56 3 view .LVU2
  55:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   uint32_t timeout = 0;
  37              		.loc 1 55 12 is_stmt 0 view .LVU3
  38 0000 0023     		movs	r3, #0
  39              	.LVL1:
  40              	.L2:
  41              		.loc 1 56 8 is_stmt 1 view .LVU4
  42              		.loc 1 56 26 is_stmt 0 view .LVU5
  43 0002 0269     		ldr	r2, [r0, #16]
  44              		.loc 1 56 8 view .LVU6
  45 0004 002A     		cmp	r2, #0
  46 0006 05DB     		blt	.L3
  57:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
  58:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     if(timeout ++ > 200000)
  47              		.loc 1 58 5 is_stmt 1 view .LVU7
  48              		.loc 1 58 16 is_stmt 0 view .LVU8
  49 0008 591C     		adds	r1, r3, #1
  50              	.LVL2:
  51              		.loc 1 58 7 view .LVU9
  52 000a 0B4A     		ldr	r2, .L8
  53 000c 9342     		cmp	r3, r2
  54 000e 01D8     		bhi	.L3
  55              		.loc 1 58 16 view .LVU10
  56 0010 0B46     		mov	r3, r1
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 3


  57 0012 F6E7     		b	.L2
  58              	.LVL3:
  59              	.L3:
  59:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     {
  60:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       break;
  61:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
  62:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
  63:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   timeout = 0;
  60              		.loc 1 63 3 is_stmt 1 view .LVU11
  64:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   usbx->grstctl_bit.csftrst = TRUE;
  61              		.loc 1 64 3 view .LVU12
  62              		.loc 1 64 29 is_stmt 0 view .LVU13
  63 0014 0369     		ldr	r3, [r0, #16]
  64 0016 43F00103 		orr	r3, r3, #1
  65 001a 0361     		str	r3, [r0, #16]
  65:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   while(usbx->grstctl_bit.csftrst == SET)
  66              		.loc 1 65 3 is_stmt 1 view .LVU14
  63:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   usbx->grstctl_bit.csftrst = TRUE;
  67              		.loc 1 63 11 is_stmt 0 view .LVU15
  68 001c 0023     		movs	r3, #0
  69              	.LVL4:
  70              	.L5:
  71              		.loc 1 65 8 is_stmt 1 view .LVU16
  72              		.loc 1 65 26 is_stmt 0 view .LVU17
  73 001e 0269     		ldr	r2, [r0, #16]
  74              		.loc 1 65 8 view .LVU18
  75 0020 12F0010F 		tst	r2, #1
  76 0024 05D0     		beq	.L6
  66:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
  67:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     if(timeout ++ > 200000)
  77              		.loc 1 67 5 is_stmt 1 view .LVU19
  78              		.loc 1 67 16 is_stmt 0 view .LVU20
  79 0026 591C     		adds	r1, r3, #1
  80              	.LVL5:
  81              		.loc 1 67 7 view .LVU21
  82 0028 034A     		ldr	r2, .L8
  83 002a 9342     		cmp	r3, r2
  84 002c 01D8     		bhi	.L6
  85              		.loc 1 67 16 view .LVU22
  86 002e 0B46     		mov	r3, r1
  87 0030 F5E7     		b	.L5
  88              	.LVL6:
  89              	.L6:
  68:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     {
  69:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       break;
  70:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
  71:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
  72:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   return SUCCESS;
  90              		.loc 1 72 3 is_stmt 1 view .LVU23
  73:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
  91              		.loc 1 73 1 is_stmt 0 view .LVU24
  92 0032 0120     		movs	r0, #1
  93              	.LVL7:
  94              		.loc 1 73 1 view .LVU25
  95 0034 7047     		bx	lr
  96              	.L9:
  97 0036 00BF     		.align	2
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 4


  98              	.L8:
  99 0038 400D0300 		.word	200000
 100              		.cfi_endproc
 101              	.LFE133:
 103              		.section	.text.usb_global_init,"ax",%progbits
 104              		.align	1
 105              		.global	usb_global_init
 106              		.syntax unified
 107              		.thumb
 108              		.thumb_func
 110              	usb_global_init:
 111              	.LVL8:
 112              	.LFB134:
  74:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
  75:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
  76:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  usb global initialization
  77:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
  78:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
  79:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
  80:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
  81:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval none
  82:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
  83:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** void usb_global_init(otg_global_type *usbx)
  84:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 113              		.loc 1 84 1 is_stmt 1 view -0
 114              		.cfi_startproc
 115              		@ args = 0, pretend = 0, frame = 0
 116              		@ frame_needed = 0, uses_anonymous_args = 0
 117              		.loc 1 84 1 is_stmt 0 view .LVU27
 118 0000 10B5     		push	{r4, lr}
 119              	.LCFI0:
 120              		.cfi_def_cfa_offset 8
 121              		.cfi_offset 4, -8
 122              		.cfi_offset 14, -4
 123 0002 0446     		mov	r4, r0
  85:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   /* reset otg moudle */
  86:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   usb_global_reset(usbx);
 124              		.loc 1 86 3 is_stmt 1 view .LVU28
 125 0004 FFF7FEFF 		bl	usb_global_reset
 126              	.LVL9:
  87:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
  88:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   /* exit power down mode */
  89:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   usbx->gccfg_bit.pwrdown = TRUE;
 127              		.loc 1 89 3 view .LVU29
 128              		.loc 1 89 27 is_stmt 0 view .LVU30
 129 0008 A36B     		ldr	r3, [r4, #56]
 130 000a 43F48033 		orr	r3, r3, #65536
 131 000e A363     		str	r3, [r4, #56]
  90:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 132              		.loc 1 90 1 view .LVU31
 133 0010 10BD     		pop	{r4, pc}
 134              		.loc 1 90 1 view .LVU32
 135              		.cfi_endproc
 136              	.LFE134:
 138              		.section	.text.usb_global_select_core,"ax",%progbits
 139              		.align	1
 140              		.global	usb_global_select_core
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 5


 141              		.syntax unified
 142              		.thumb
 143              		.thumb_func
 145              	usb_global_select_core:
 146              	.LVL10:
 147              	.LFB135:
  91:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
  92:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
  93:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  usb global select usb core (otg1 or otg2).
  94:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usb_id: select otg1 or otg2
  95:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
  96:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG1_ID
  97:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG2_ID
  98:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval usb global register type pointer
  99:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 100:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** otg_global_type *usb_global_select_core(uint8_t usb_id)
 101:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 148              		.loc 1 101 1 is_stmt 1 view -0
 149              		.cfi_startproc
 150              		@ args = 0, pretend = 0, frame = 0
 151              		@ frame_needed = 0, uses_anonymous_args = 0
 152              		@ link register save eliminated.
 102:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   if(usb_id == USB_OTG1_ID)
 153              		.loc 1 102 3 view .LVU34
 154              		.loc 1 102 5 is_stmt 0 view .LVU35
 155 0000 10B9     		cbnz	r0, .L14
 103:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 104:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     /* use otg1 */
 105:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     return OTG1_GLOBAL;
 156              		.loc 1 105 12 view .LVU36
 157 0002 4FF0A040 		mov	r0, #1342177280
 158              	.LVL11:
 159              		.loc 1 105 12 view .LVU37
 160 0006 7047     		bx	lr
 161              	.LVL12:
 162              	.L14:
 106:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 107:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   else
 108:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 109:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     /* use otg2 */
 110:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     return OTG2_GLOBAL;
 163              		.loc 1 110 12 view .LVU38
 164 0008 0048     		ldr	r0, .L15
 165              	.LVL13:
 111:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 112:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 166              		.loc 1 112 1 view .LVU39
 167 000a 7047     		bx	lr
 168              	.L16:
 169              		.align	2
 170              	.L15:
 171 000c 00000440 		.word	1074003968
 172              		.cfi_endproc
 173              	.LFE135:
 175              		.section	.text.usb_flush_tx_fifo,"ax",%progbits
 176              		.align	1
 177              		.global	usb_flush_tx_fifo
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 6


 178              		.syntax unified
 179              		.thumb
 180              		.thumb_func
 182              	usb_flush_tx_fifo:
 183              	.LVL14:
 184              	.LFB136:
 113:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 114:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 115:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  flush tx fifo
 116:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 117:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 118:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 119:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 120:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  fifo_num: tx fifo num,when fifo_num=16,flush all tx fifo
 121:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         parameter as following values: 0-16
 122:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval none
 123:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 124:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** void usb_flush_tx_fifo(otg_global_type *usbx, uint32_t fifo_num)
 125:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 185              		.loc 1 125 1 is_stmt 1 view -0
 186              		.cfi_startproc
 187              		@ args = 0, pretend = 0, frame = 0
 188              		@ frame_needed = 0, uses_anonymous_args = 0
 189              		@ link register save eliminated.
 126:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   uint32_t timeout = 0;
 190              		.loc 1 126 3 view .LVU41
 127:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   /* set flush fifo number */
 128:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   usbx->grstctl_bit.txfnum = fifo_num;
 191              		.loc 1 128 3 view .LVU42
 192              		.loc 1 128 28 is_stmt 0 view .LVU43
 193 0000 0369     		ldr	r3, [r0, #16]
 194 0002 61F38A13 		bfi	r3, r1, #6, #5
 195 0006 0361     		str	r3, [r0, #16]
 129:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 130:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   /* start flush fifo */
 131:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   usbx->grstctl_bit.txfflsh = TRUE;
 196              		.loc 1 131 3 is_stmt 1 view .LVU44
 197              		.loc 1 131 29 is_stmt 0 view .LVU45
 198 0008 0369     		ldr	r3, [r0, #16]
 199 000a 43F02003 		orr	r3, r3, #32
 200 000e 0361     		str	r3, [r0, #16]
 132:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 133:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   while(usbx->grstctl_bit.txfflsh == TRUE)
 201              		.loc 1 133 3 is_stmt 1 view .LVU46
 126:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   /* set flush fifo number */
 202              		.loc 1 126 12 is_stmt 0 view .LVU47
 203 0010 0023     		movs	r3, #0
 204              	.LVL15:
 205              	.L18:
 206              		.loc 1 133 8 is_stmt 1 view .LVU48
 207              		.loc 1 133 26 is_stmt 0 view .LVU49
 208 0012 0269     		ldr	r2, [r0, #16]
 209              		.loc 1 133 8 view .LVU50
 210 0014 12F0200F 		tst	r2, #32
 211 0018 05D0     		beq	.L17
 134:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 135:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     if(timeout ++ > 200000)
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 7


 212              		.loc 1 135 5 is_stmt 1 view .LVU51
 213              		.loc 1 135 16 is_stmt 0 view .LVU52
 214 001a 591C     		adds	r1, r3, #1
 215              	.LVL16:
 216              		.loc 1 135 7 view .LVU53
 217 001c 024A     		ldr	r2, .L21
 218 001e 9342     		cmp	r3, r2
 219 0020 01D8     		bhi	.L17
 220              		.loc 1 135 16 view .LVU54
 221 0022 0B46     		mov	r3, r1
 222 0024 F5E7     		b	.L18
 223              	.LVL17:
 224              	.L17:
 136:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     {
 137:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       break;
 138:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 139:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 140:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 225              		.loc 1 140 1 view .LVU55
 226 0026 7047     		bx	lr
 227              	.L22:
 228              		.align	2
 229              	.L21:
 230 0028 400D0300 		.word	200000
 231              		.cfi_endproc
 232              	.LFE136:
 234              		.section	.text.usb_flush_rx_fifo,"ax",%progbits
 235              		.align	1
 236              		.global	usb_flush_rx_fifo
 237              		.syntax unified
 238              		.thumb
 239              		.thumb_func
 241              	usb_flush_rx_fifo:
 242              	.LVL18:
 243              	.LFB137:
 141:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 142:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 143:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  flush rx fifo
 144:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 145:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 146:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 147:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 148:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval none
 149:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 150:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** void usb_flush_rx_fifo(otg_global_type *usbx)
 151:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 244              		.loc 1 151 1 is_stmt 1 view -0
 245              		.cfi_startproc
 246              		@ args = 0, pretend = 0, frame = 0
 247              		@ frame_needed = 0, uses_anonymous_args = 0
 248              		@ link register save eliminated.
 152:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   uint32_t timeout = 0;
 249              		.loc 1 152 3 view .LVU57
 153:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   usbx->grstctl_bit.rxfflsh = TRUE;
 250              		.loc 1 153 3 view .LVU58
 251              		.loc 1 153 29 is_stmt 0 view .LVU59
 252 0000 0369     		ldr	r3, [r0, #16]
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 8


 253 0002 43F01003 		orr	r3, r3, #16
 254 0006 0361     		str	r3, [r0, #16]
 154:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   while(usbx->grstctl_bit.rxfflsh == TRUE)
 255              		.loc 1 154 3 is_stmt 1 view .LVU60
 152:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   uint32_t timeout = 0;
 256              		.loc 1 152 12 is_stmt 0 view .LVU61
 257 0008 0023     		movs	r3, #0
 258              	.LVL19:
 259              	.L24:
 260              		.loc 1 154 8 is_stmt 1 view .LVU62
 261              		.loc 1 154 26 is_stmt 0 view .LVU63
 262 000a 0269     		ldr	r2, [r0, #16]
 263              		.loc 1 154 8 view .LVU64
 264 000c 12F0100F 		tst	r2, #16
 265 0010 05D0     		beq	.L23
 155:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 156:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     if(timeout ++ > 200000)
 266              		.loc 1 156 5 is_stmt 1 view .LVU65
 267              		.loc 1 156 16 is_stmt 0 view .LVU66
 268 0012 591C     		adds	r1, r3, #1
 269              	.LVL20:
 270              		.loc 1 156 7 view .LVU67
 271 0014 024A     		ldr	r2, .L27
 272 0016 9342     		cmp	r3, r2
 273 0018 01D8     		bhi	.L23
 274              		.loc 1 156 16 view .LVU68
 275 001a 0B46     		mov	r3, r1
 276 001c F5E7     		b	.L24
 277              	.LVL21:
 278              	.L23:
 157:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     {
 158:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       break;
 159:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 160:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 161:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 279              		.loc 1 161 1 view .LVU69
 280 001e 7047     		bx	lr
 281              	.L28:
 282              		.align	2
 283              	.L27:
 284 0020 400D0300 		.word	200000
 285              		.cfi_endproc
 286              	.LFE137:
 288              		.section	.text.usb_global_interrupt_enable,"ax",%progbits
 289              		.align	1
 290              		.global	usb_global_interrupt_enable
 291              		.syntax unified
 292              		.thumb
 293              		.thumb_func
 295              	usb_global_interrupt_enable:
 296              	.LVL22:
 297              	.LFB138:
 162:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 163:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 164:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  usb interrupt mask enable
 165:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 166:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 9


 167:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 168:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 169:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  interrupt:
 170:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be any combination of the following values:
 171:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_MODEMIS_INT
 172:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_OTGINT_INT
 173:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_SOF_INT
 174:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_RXFLVL_INT
 175:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_NPTXFEMP_INT
 176:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_GINNAKEFF_INT
 177:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_GOUTNAKEFF_INT
 178:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_ERLYSUSP_INT
 179:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_USBSUSP_INT
 180:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_USBRST_INT
 181:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_ENUMDONE_INT
 182:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_ISOOUTDROP_INT
 183:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_IEPT_INT
 184:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_OEPT_INT
 185:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_INCOMISOIN_INT
 186:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_INCOMPIP_INCOMPISOOUT_INT
 187:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_PRT_INT
 188:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_HCH_INT
 189:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_PTXFEMP_INT
 190:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_CONIDSCHG_INT
 191:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_DISCON_INT
 192:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_WKUP_INT
 193:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  new_state: TRUE or FALSE
 194:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval none
 195:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 196:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** void usb_global_interrupt_enable(otg_global_type *usbx, uint16_t interrupt, confirm_state new_state
 197:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 298              		.loc 1 197 1 is_stmt 1 view -0
 299              		.cfi_startproc
 300              		@ args = 0, pretend = 0, frame = 0
 301              		@ frame_needed = 0, uses_anonymous_args = 0
 302              		@ link register save eliminated.
 198:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   if(new_state == TRUE)
 303              		.loc 1 198 3 view .LVU71
 304              		.loc 1 198 5 is_stmt 0 view .LVU72
 305 0000 012A     		cmp	r2, #1
 306 0002 04D0     		beq	.L32
 199:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 200:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****      usbx->gintmsk |= interrupt;
 201:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 202:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   else
 203:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 204:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****      usbx->gintmsk &= ~interrupt;
 307              		.loc 1 204 6 is_stmt 1 view .LVU73
 308              		.loc 1 204 20 is_stmt 0 view .LVU74
 309 0004 8369     		ldr	r3, [r0, #24]
 310 0006 23EA0101 		bic	r1, r3, r1
 311              	.LVL23:
 312              		.loc 1 204 20 view .LVU75
 313 000a 8161     		str	r1, [r0, #24]
 205:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 206:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 314              		.loc 1 206 1 view .LVU76
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 10


 315 000c 7047     		bx	lr
 316              	.LVL24:
 317              	.L32:
 200:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 318              		.loc 1 200 6 is_stmt 1 view .LVU77
 200:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 319              		.loc 1 200 20 is_stmt 0 view .LVU78
 320 000e 8369     		ldr	r3, [r0, #24]
 321 0010 1943     		orrs	r1, r1, r3
 322              	.LVL25:
 200:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 323              		.loc 1 200 20 view .LVU79
 324 0012 8161     		str	r1, [r0, #24]
 325 0014 7047     		bx	lr
 326              		.cfi_endproc
 327              	.LFE138:
 329              		.section	.text.usb_global_get_all_interrupt,"ax",%progbits
 330              		.align	1
 331              		.global	usb_global_get_all_interrupt
 332              		.syntax unified
 333              		.thumb
 334              		.thumb_func
 336              	usb_global_get_all_interrupt:
 337              	.LVL26:
 338              	.LFB139:
 207:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 208:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 209:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  get all global core interrupt flag
 210:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 211:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 212:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 213:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 214:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval intterupt flag
 215:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 216:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** uint32_t usb_global_get_all_interrupt(otg_global_type *usbx)
 217:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 339              		.loc 1 217 1 is_stmt 1 view -0
 340              		.cfi_startproc
 341              		@ args = 0, pretend = 0, frame = 0
 342              		@ frame_needed = 0, uses_anonymous_args = 0
 343              		@ link register save eliminated.
 218:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   uint32_t intsts = usbx->gintsts;
 344              		.loc 1 218 3 view .LVU81
 345              		.loc 1 218 12 is_stmt 0 view .LVU82
 346 0000 4369     		ldr	r3, [r0, #20]
 347              	.LVL27:
 219:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   return intsts & usbx->gintmsk;
 348              		.loc 1 219 3 is_stmt 1 view .LVU83
 349              		.loc 1 219 23 is_stmt 0 view .LVU84
 350 0002 8069     		ldr	r0, [r0, #24]
 351              	.LVL28:
 220:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 352              		.loc 1 220 1 view .LVU85
 353 0004 1840     		ands	r0, r0, r3
 354 0006 7047     		bx	lr
 355              		.cfi_endproc
 356              	.LFE139:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 11


 358              		.section	.text.usb_global_clear_interrupt,"ax",%progbits
 359              		.align	1
 360              		.global	usb_global_clear_interrupt
 361              		.syntax unified
 362              		.thumb
 363              		.thumb_func
 365              	usb_global_clear_interrupt:
 366              	.LVL29:
 367              	.LFB140:
 221:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 222:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 223:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  clear the global interrupt flag
 224:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 225:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 226:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 227:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 228:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  flag: interrupt flag
 229:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be any combination of the following values:
 230:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_MODEMIS_FLAG
 231:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_OTGINT_FLAG
 232:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_SOF_FLAG
 233:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_RXFLVL_FLAG
 234:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_NPTXFEMP_FLAG
 235:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_GINNAKEFF_FLAG
 236:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_GOUTNAKEFF_FLAG
 237:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_ERLYSUSP_FLAG
 238:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_USBSUSP_FLAG
 239:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_USBRST_FLAG
 240:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_ENUMDONE_FLAG
 241:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_ISOOUTDROP_FLAG
 242:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_EOPF_FLAG
 243:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_IEPT_FLAG
 244:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_OEPT_FLAG
 245:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_INCOMISOIN_FLAG
 246:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_INCOMPIP_INCOMPISOOUT_FLAG
 247:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_PRT_FLAG
 248:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_HCH_FLAG
 249:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_PTXFEMP_FLAG
 250:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_CONIDSCHG_FLAG
 251:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_DISCON_FLAG
 252:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_WKUP_FLAG
 253:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval none
 254:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 255:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** void usb_global_clear_interrupt(otg_global_type *usbx, uint32_t flag)
 256:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 368              		.loc 1 256 1 is_stmt 1 view -0
 369              		.cfi_startproc
 370              		@ args = 0, pretend = 0, frame = 0
 371              		@ frame_needed = 0, uses_anonymous_args = 0
 372              		@ link register save eliminated.
 257:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   usbx->gintsts = flag;
 373              		.loc 1 257 3 view .LVU87
 374              		.loc 1 257 17 is_stmt 0 view .LVU88
 375 0000 4161     		str	r1, [r0, #20]
 258:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 376              		.loc 1 258 1 view .LVU89
 377 0002 7047     		bx	lr
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 12


 378              		.cfi_endproc
 379              	.LFE140:
 381              		.section	.text.usb_interrupt_enable,"ax",%progbits
 382              		.align	1
 383              		.global	usb_interrupt_enable
 384              		.syntax unified
 385              		.thumb
 386              		.thumb_func
 388              	usb_interrupt_enable:
 389              	.LVL30:
 390              	.LFB141:
 259:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 260:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 261:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  usb global interrupt enable
 262:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 263:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 264:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         OTG1_GLOBAL , OTG2_GLOBAL
 265:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval none
 266:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 267:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** void usb_interrupt_enable(otg_global_type *usbx)
 268:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 391              		.loc 1 268 1 is_stmt 1 view -0
 392              		.cfi_startproc
 393              		@ args = 0, pretend = 0, frame = 0
 394              		@ frame_needed = 0, uses_anonymous_args = 0
 395              		@ link register save eliminated.
 269:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   usbx->gahbcfg_bit.glbintmsk = TRUE;
 396              		.loc 1 269 3 view .LVU91
 397              		.loc 1 269 31 is_stmt 0 view .LVU92
 398 0000 8368     		ldr	r3, [r0, #8]
 399 0002 43F00103 		orr	r3, r3, #1
 400 0006 8360     		str	r3, [r0, #8]
 270:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 401              		.loc 1 270 1 view .LVU93
 402 0008 7047     		bx	lr
 403              		.cfi_endproc
 404              	.LFE141:
 406              		.section	.text.usb_interrupt_disable,"ax",%progbits
 407              		.align	1
 408              		.global	usb_interrupt_disable
 409              		.syntax unified
 410              		.thumb
 411              		.thumb_func
 413              	usb_interrupt_disable:
 414              	.LVL31:
 415              	.LFB142:
 271:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 272:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 273:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  usb global interrupt disable
 274:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 275:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 276:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 277:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 278:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval none
 279:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 280:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** void usb_interrupt_disable(otg_global_type *usbx)
 281:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 13


 416              		.loc 1 281 1 is_stmt 1 view -0
 417              		.cfi_startproc
 418              		@ args = 0, pretend = 0, frame = 0
 419              		@ frame_needed = 0, uses_anonymous_args = 0
 420              		@ link register save eliminated.
 282:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   usbx->gahbcfg_bit.glbintmsk = FALSE;
 421              		.loc 1 282 3 view .LVU95
 422              		.loc 1 282 31 is_stmt 0 view .LVU96
 423 0000 8368     		ldr	r3, [r0, #8]
 424 0002 6FF30003 		bfc	r3, #0, #1
 425 0006 8360     		str	r3, [r0, #8]
 283:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 426              		.loc 1 283 1 view .LVU97
 427 0008 7047     		bx	lr
 428              		.cfi_endproc
 429              	.LFE142:
 431              		.section	.text.usb_set_rx_fifo,"ax",%progbits
 432              		.align	1
 433              		.global	usb_set_rx_fifo
 434              		.syntax unified
 435              		.thumb
 436              		.thumb_func
 438              	usb_set_rx_fifo:
 439              	.LVL32:
 440              	.LFB143:
 284:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 285:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 286:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  usb set rx fifo size
 287:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 288:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 289:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 290:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 291:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  size: rx fifo size
 292:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval none
 293:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 294:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** void usb_set_rx_fifo(otg_global_type *usbx, uint16_t size)
 295:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 441              		.loc 1 295 1 is_stmt 1 view -0
 442              		.cfi_startproc
 443              		@ args = 0, pretend = 0, frame = 0
 444              		@ frame_needed = 0, uses_anonymous_args = 0
 445              		@ link register save eliminated.
 296:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   usbx->grxfsiz = size;
 446              		.loc 1 296 3 view .LVU99
 447              		.loc 1 296 17 is_stmt 0 view .LVU100
 448 0000 4162     		str	r1, [r0, #36]
 297:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 449              		.loc 1 297 1 view .LVU101
 450 0002 7047     		bx	lr
 451              		.cfi_endproc
 452              	.LFE143:
 454              		.section	.text.usb_set_tx_fifo,"ax",%progbits
 455              		.align	1
 456              		.global	usb_set_tx_fifo
 457              		.syntax unified
 458              		.thumb
 459              		.thumb_func
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 14


 461              	usb_set_tx_fifo:
 462              	.LVL33:
 463              	.LFB144:
 298:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 299:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 300:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  usb set tx fifo size
 301:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 302:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 303:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 304:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 305:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  txfifo: the fifo number
 306:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  size: tx fifo size
 307:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval none
 308:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 309:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** void usb_set_tx_fifo(otg_global_type *usbx, uint8_t txfifo, uint16_t size)
 310:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 464              		.loc 1 310 1 is_stmt 1 view -0
 465              		.cfi_startproc
 466              		@ args = 0, pretend = 0, frame = 0
 467              		@ frame_needed = 0, uses_anonymous_args = 0
 311:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   uint8_t i_index = 0;
 468              		.loc 1 311 3 view .LVU103
 312:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   uint32_t offset = 0;
 469              		.loc 1 312 3 view .LVU104
 313:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 314:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   offset = usbx->grxfsiz;
 470              		.loc 1 314 3 view .LVU105
 471              		.loc 1 314 10 is_stmt 0 view .LVU106
 472 0000 436A     		ldr	r3, [r0, #36]
 473              	.LVL34:
 315:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   if(txfifo == 0)
 474              		.loc 1 315 3 is_stmt 1 view .LVU107
 475              		.loc 1 315 5 is_stmt 0 view .LVU108
 476 0002 19B9     		cbnz	r1, .L39
 316:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 317:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     usbx->gnptxfsiz_ept0tx = offset | (size << 16);
 477              		.loc 1 317 5 is_stmt 1 view .LVU109
 478              		.loc 1 317 37 is_stmt 0 view .LVU110
 479 0004 43EA0243 		orr	r3, r3, r2, lsl #16
 480              	.LVL35:
 481              		.loc 1 317 28 view .LVU111
 482 0008 8362     		str	r3, [r0, #40]
 483 000a 7047     		bx	lr
 484              	.LVL36:
 485              	.L39:
 310:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   uint8_t i_index = 0;
 486              		.loc 1 310 1 view .LVU112
 487 000c 00B5     		push	{lr}
 488              	.LCFI1:
 489              		.cfi_def_cfa_offset 4
 490              		.cfi_offset 14, -4
 491 000e 8E46     		mov	lr, r1
 318:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 319:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   else
 320:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 321:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     offset += usbx->gnptxfsiz_ept0tx_bit.nptxfdep;
 492              		.loc 1 321 5 is_stmt 1 view .LVU113
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 15


 493              		.loc 1 321 41 is_stmt 0 view .LVU114
 494 0010 816A     		ldr	r1, [r0, #40]
 495              	.LVL37:
 496              		.loc 1 321 12 view .LVU115
 497 0012 03EB114C 		add	ip, r3, r1, lsr #16
 498              	.LVL38:
 322:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     for(i_index = 0; i_index < (txfifo - 1); i_index ++)
 499              		.loc 1 322 5 is_stmt 1 view .LVU116
 500              		.loc 1 322 17 is_stmt 0 view .LVU117
 501 0016 0023     		movs	r3, #0
 502              		.loc 1 322 5 view .LVU118
 503 0018 08E0     		b	.L41
 504              	.LVL39:
 505              	.L42:
 323:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     {
 324:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       offset += usbx->dieptxfn_bit[i_index].ineptxfdep;
 506              		.loc 1 324 7 is_stmt 1 discriminator 3 view .LVU119
 507              		.loc 1 324 44 is_stmt 0 discriminator 3 view .LVU120
 508 001a 03F14001 		add	r1, r3, #64
 509 001e 00EB8101 		add	r1, r0, r1, lsl #2
 510 0022 4968     		ldr	r1, [r1, #4]
 511              		.loc 1 324 14 discriminator 3 view .LVU121
 512 0024 0CEB114C 		add	ip, ip, r1, lsr #16
 513              	.LVL40:
 322:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     for(i_index = 0; i_index < (txfifo - 1); i_index ++)
 514              		.loc 1 322 46 is_stmt 1 discriminator 3 view .LVU122
 322:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     for(i_index = 0; i_index < (txfifo - 1); i_index ++)
 515              		.loc 1 322 54 is_stmt 0 discriminator 3 view .LVU123
 516 0028 0133     		adds	r3, r3, #1
 517              	.LVL41:
 322:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     for(i_index = 0; i_index < (txfifo - 1); i_index ++)
 518              		.loc 1 322 54 discriminator 3 view .LVU124
 519 002a DBB2     		uxtb	r3, r3
 520              	.LVL42:
 521              	.L41:
 322:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     for(i_index = 0; i_index < (txfifo - 1); i_index ++)
 522              		.loc 1 322 22 is_stmt 1 discriminator 1 view .LVU125
 322:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     for(i_index = 0; i_index < (txfifo - 1); i_index ++)
 523              		.loc 1 322 40 is_stmt 0 discriminator 1 view .LVU126
 524 002c 0EF1FF31 		add	r1, lr, #-1
 322:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     for(i_index = 0; i_index < (txfifo - 1); i_index ++)
 525              		.loc 1 322 5 discriminator 1 view .LVU127
 526 0030 8B42     		cmp	r3, r1
 527 0032 F2DB     		blt	.L42
 325:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 326:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     usbx->dieptxfn[txfifo - 1] = offset | (size << 16);
 528              		.loc 1 326 5 is_stmt 1 view .LVU128
 529              		.loc 1 326 41 is_stmt 0 view .LVU129
 530 0034 4CEA0242 		orr	r2, ip, r2, lsl #16
 531              	.LVL43:
 532              		.loc 1 326 32 view .LVU130
 533 0038 0EF13F01 		add	r1, lr, #63
 534 003c 00EB8101 		add	r1, r0, r1, lsl #2
 535 0040 4A60     		str	r2, [r1, #4]
 327:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 328:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 536              		.loc 1 328 1 view .LVU131
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 16


 537 0042 5DF804FB 		ldr	pc, [sp], #4
 538              		.cfi_endproc
 539              	.LFE144:
 541              		.section	.text.usb_global_set_mode,"ax",%progbits
 542              		.align	1
 543              		.global	usb_global_set_mode
 544              		.syntax unified
 545              		.thumb
 546              		.thumb_func
 548              	usb_global_set_mode:
 549              	.LVL44:
 550              	.LFB145:
 329:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 330:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 331:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 332:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  set otg mode(device or host mode)
 333:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 334:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 335:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 336:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 337:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  mode:
 338:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****             this parameter can be one of the following values:
 339:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG_DEVICE_MODE
 340:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG_HOST_MODE
 341:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG_DRD_MODE
 342:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval none
 343:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 344:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** void usb_global_set_mode(otg_global_type *usbx, uint32_t mode)
 345:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 551              		.loc 1 345 1 is_stmt 1 view -0
 552              		.cfi_startproc
 553              		@ args = 0, pretend = 0, frame = 0
 554              		@ frame_needed = 0, uses_anonymous_args = 0
 555              		@ link register save eliminated.
 346:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   /* set otg to device mode */
 347:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   if(mode == OTG_DEVICE_MODE)
 556              		.loc 1 347 3 view .LVU133
 557              		.loc 1 347 5 is_stmt 0 view .LVU134
 558 0000 0B46     		mov	r3, r1
 559 0002 39B9     		cbnz	r1, .L47
 348:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 349:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     usbx->gusbcfg_bit.fhstmode = FALSE;
 560              		.loc 1 349 5 is_stmt 1 view .LVU135
 561              		.loc 1 349 32 is_stmt 0 view .LVU136
 562 0004 C268     		ldr	r2, [r0, #12]
 563 0006 6FF35D72 		bfc	r2, #29, #1
 564 000a C260     		str	r2, [r0, #12]
 350:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     usbx->gusbcfg_bit.fdevmode = TRUE;
 565              		.loc 1 350 5 is_stmt 1 view .LVU137
 566              		.loc 1 350 32 is_stmt 0 view .LVU138
 567 000c C268     		ldr	r2, [r0, #12]
 568 000e 42F08042 		orr	r2, r2, #1073741824
 569 0012 C260     		str	r2, [r0, #12]
 570              	.L47:
 351:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 352:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 353:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   /* set otg to host mode */
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 17


 354:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   if(mode == OTG_HOST_MODE)
 571              		.loc 1 354 3 is_stmt 1 view .LVU139
 572              		.loc 1 354 5 is_stmt 0 view .LVU140
 573 0014 012B     		cmp	r3, #1
 574 0016 02D0     		beq	.L50
 575              	.L48:
 355:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 356:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     usbx->gusbcfg_bit.fdevmode = FALSE;
 357:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     usbx->gusbcfg_bit.fhstmode = TRUE;
 358:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 359:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 360:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   /* set otg to default mode */
 361:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   if(mode == OTG_DRD_MODE)
 576              		.loc 1 361 3 is_stmt 1 view .LVU141
 577              		.loc 1 361 5 is_stmt 0 view .LVU142
 578 0018 022B     		cmp	r3, #2
 579 001a 09D0     		beq	.L51
 580              	.L46:
 362:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 363:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     usbx->gusbcfg_bit.fdevmode = FALSE;
 364:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     usbx->gusbcfg_bit.fhstmode = FALSE;
 365:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 366:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 581              		.loc 1 366 1 view .LVU143
 582 001c 7047     		bx	lr
 583              	.L50:
 356:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     usbx->gusbcfg_bit.fhstmode = TRUE;
 584              		.loc 1 356 5 is_stmt 1 view .LVU144
 356:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     usbx->gusbcfg_bit.fhstmode = TRUE;
 585              		.loc 1 356 32 is_stmt 0 view .LVU145
 586 001e C268     		ldr	r2, [r0, #12]
 587 0020 6FF39E72 		bfc	r2, #30, #1
 588 0024 C260     		str	r2, [r0, #12]
 357:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 589              		.loc 1 357 5 is_stmt 1 view .LVU146
 357:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 590              		.loc 1 357 32 is_stmt 0 view .LVU147
 591 0026 C268     		ldr	r2, [r0, #12]
 592 0028 42F00052 		orr	r2, r2, #536870912
 593 002c C260     		str	r2, [r0, #12]
 594 002e F3E7     		b	.L48
 595              	.L51:
 363:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     usbx->gusbcfg_bit.fhstmode = FALSE;
 596              		.loc 1 363 5 is_stmt 1 view .LVU148
 363:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     usbx->gusbcfg_bit.fhstmode = FALSE;
 597              		.loc 1 363 32 is_stmt 0 view .LVU149
 598 0030 C368     		ldr	r3, [r0, #12]
 599 0032 6FF39E73 		bfc	r3, #30, #1
 600 0036 C360     		str	r3, [r0, #12]
 364:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 601              		.loc 1 364 5 is_stmt 1 view .LVU150
 364:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 602              		.loc 1 364 32 is_stmt 0 view .LVU151
 603 0038 C368     		ldr	r3, [r0, #12]
 604 003a 6FF35D73 		bfc	r3, #29, #1
 605 003e C360     		str	r3, [r0, #12]
 606              		.loc 1 366 1 view .LVU152
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 18


 607 0040 ECE7     		b	.L46
 608              		.cfi_endproc
 609              	.LFE145:
 611              		.section	.text.usb_global_power_on,"ax",%progbits
 612              		.align	1
 613              		.global	usb_global_power_on
 614              		.syntax unified
 615              		.thumb
 616              		.thumb_func
 618              	usb_global_power_on:
 619              	.LVL45:
 620              	.LFB146:
 367:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 368:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 369:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 370:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  disable the transceiver power down mode
 371:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 372:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 373:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 374:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 375:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval none
 376:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 377:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** void usb_global_power_on(otg_global_type *usbx)
 378:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 621              		.loc 1 378 1 is_stmt 1 view -0
 622              		.cfi_startproc
 623              		@ args = 0, pretend = 0, frame = 0
 624              		@ frame_needed = 0, uses_anonymous_args = 0
 625              		@ link register save eliminated.
 379:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   /* core soft reset */
 380:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   usbx->grstctl_bit.csftrst = TRUE;
 626              		.loc 1 380 3 view .LVU154
 627              		.loc 1 380 29 is_stmt 0 view .LVU155
 628 0000 0369     		ldr	r3, [r0, #16]
 629 0002 43F00103 		orr	r3, r3, #1
 630 0006 0361     		str	r3, [r0, #16]
 381:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   while(usbx->grstctl_bit.csftrst);
 631              		.loc 1 381 3 is_stmt 1 view .LVU156
 632              	.L53:
 633              		.loc 1 381 35 discriminator 1 view .LVU157
 634              		.loc 1 381 8 discriminator 1 view .LVU158
 635              		.loc 1 381 26 is_stmt 0 discriminator 1 view .LVU159
 636 0008 0369     		ldr	r3, [r0, #16]
 637              		.loc 1 381 8 discriminator 1 view .LVU160
 638 000a 13F0010F 		tst	r3, #1
 639 000e FBD1     		bne	.L53
 382:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 383:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   /* disable power down mode */
 384:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   usbx->gccfg_bit.pwrdown = TRUE;
 640              		.loc 1 384 3 is_stmt 1 view .LVU161
 641              		.loc 1 384 27 is_stmt 0 view .LVU162
 642 0010 836B     		ldr	r3, [r0, #56]
 643 0012 43F48033 		orr	r3, r3, #65536
 644 0016 8363     		str	r3, [r0, #56]
 385:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 386:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 645              		.loc 1 386 1 view .LVU163
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 19


 646 0018 7047     		bx	lr
 647              		.cfi_endproc
 648              	.LFE146:
 650              		.section	.text.usb_stop_phy_clk,"ax",%progbits
 651              		.align	1
 652              		.global	usb_stop_phy_clk
 653              		.syntax unified
 654              		.thumb
 655              		.thumb_func
 657              	usb_stop_phy_clk:
 658              	.LVL46:
 659              	.LFB147:
 387:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 388:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 389:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  usb stop phy clock
 390:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 391:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 392:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 393:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 394:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval none
 395:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 396:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** void usb_stop_phy_clk(otg_global_type *usbx)
 397:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 660              		.loc 1 397 1 is_stmt 1 view -0
 661              		.cfi_startproc
 662              		@ args = 0, pretend = 0, frame = 0
 663              		@ frame_needed = 0, uses_anonymous_args = 0
 664              		@ link register save eliminated.
 398:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   OTG_PCGCCTL(usbx)->pcgcctl_bit.stoppclk = TRUE;
 665              		.loc 1 398 3 view .LVU165
 666              		.loc 1 398 43 is_stmt 0 view .LVU166
 667 0000 D0F8003E 		ldr	r3, [r0, #3584]
 668 0004 43F00103 		orr	r3, r3, #1
 669 0008 C0F8003E 		str	r3, [r0, #3584]
 399:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 670              		.loc 1 399 1 view .LVU167
 671 000c 7047     		bx	lr
 672              		.cfi_endproc
 673              	.LFE147:
 675              		.section	.text.usb_open_phy_clk,"ax",%progbits
 676              		.align	1
 677              		.global	usb_open_phy_clk
 678              		.syntax unified
 679              		.thumb
 680              		.thumb_func
 682              	usb_open_phy_clk:
 683              	.LVL47:
 684              	.LFB148:
 400:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 401:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 402:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  usb open phy clock
 403:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 404:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 405:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 406:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 407:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval none
 408:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 20


 409:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** void usb_open_phy_clk(otg_global_type *usbx)
 410:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 685              		.loc 1 410 1 is_stmt 1 view -0
 686              		.cfi_startproc
 687              		@ args = 0, pretend = 0, frame = 0
 688              		@ frame_needed = 0, uses_anonymous_args = 0
 689              		@ link register save eliminated.
 411:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   OTG_PCGCCTL(usbx)->pcgcctl_bit.stoppclk = FALSE;
 690              		.loc 1 411 3 view .LVU169
 691              		.loc 1 411 43 is_stmt 0 view .LVU170
 692 0000 D0F8003E 		ldr	r3, [r0, #3584]
 693 0004 6FF30003 		bfc	r3, #0, #1
 694 0008 C0F8003E 		str	r3, [r0, #3584]
 412:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 695              		.loc 1 412 1 view .LVU171
 696 000c 7047     		bx	lr
 697              		.cfi_endproc
 698              	.LFE148:
 700              		.section	.text.usb_write_packet,"ax",%progbits
 701              		.align	1
 702              		.global	usb_write_packet
 703              		.syntax unified
 704              		.thumb
 705              		.thumb_func
 707              	usb_write_packet:
 708              	.LVL48:
 709              	.LFB149:
 413:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 414:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 415:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 416:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  write data from user memory to usb buffer
 417:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  pusr_buf: point to user buffer
 418:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  offset_addr: endpoint tx offset address
 419:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  nbytes: number of bytes data write to usb buffer
 420:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval none
 421:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 422:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** void usb_write_packet(otg_global_type *usbx, uint8_t *pusr_buf, uint16_t num, uint16_t nbytes)
 423:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 710              		.loc 1 423 1 is_stmt 1 view -0
 711              		.cfi_startproc
 712              		@ args = 0, pretend = 0, frame = 0
 713              		@ frame_needed = 0, uses_anonymous_args = 0
 714              		.loc 1 423 1 is_stmt 0 view .LVU173
 715 0000 10B5     		push	{r4, lr}
 716              	.LCFI2:
 717              		.cfi_def_cfa_offset 8
 718              		.cfi_offset 4, -8
 719              		.cfi_offset 14, -4
 424:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   uint32_t n_index;
 720              		.loc 1 424 3 is_stmt 1 view .LVU174
 425:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   uint32_t nhbytes = (nbytes + 3) / 4;
 721              		.loc 1 425 3 view .LVU175
 722              		.loc 1 425 35 is_stmt 0 view .LVU176
 723 0002 03F1030E 		add	lr, r3, #3
 724 0006 4FEAAE0E 		asr	lr, lr, #2
 725              	.LVL49:
 426:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   uint32_t *pbuf = (uint32_t *)pusr_buf;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 21


 726              		.loc 1 426 3 is_stmt 1 view .LVU177
 427:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   for(n_index = 0; n_index < nhbytes; n_index ++)
 727              		.loc 1 427 3 view .LVU178
 728              		.loc 1 427 15 is_stmt 0 view .LVU179
 729 000a 4FF0000C 		mov	ip, #0
 730              		.loc 1 427 3 view .LVU180
 731 000e 08E0     		b	.L58
 732              	.LVL50:
 733              	.L59:
 428:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 429:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** #if defined (__ICCARM__) && (__VER__ < 7000000)
 430:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     USB_FIFO(usbx, num) = *(__packed uint32_t *)pbuf;
 431:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** #else
 432:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     USB_FIFO(usbx, num) = __UNALIGNED_UINT32_READ(pbuf);
 734              		.loc 1 432 5 is_stmt 1 discriminator 3 view .LVU181
 735 0010 00EB0233 		add	r3, r0, r2, lsl #12
 736 0014 03F58053 		add	r3, r3, #4096
 737              		.loc 1 432 27 is_stmt 0 discriminator 3 view .LVU182
 738 0018 51F8044B 		ldr	r4, [r1], #4	@ unaligned
 739              	.LVL51:
 740              		.loc 1 432 25 discriminator 3 view .LVU183
 741 001c 1C60     		str	r4, [r3]
 433:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** #endif
 434:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     pbuf ++;
 742              		.loc 1 434 5 is_stmt 1 discriminator 3 view .LVU184
 743              	.LVL52:
 427:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 744              		.loc 1 427 39 discriminator 3 view .LVU185
 427:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 745              		.loc 1 427 47 is_stmt 0 discriminator 3 view .LVU186
 746 001e 0CF1010C 		add	ip, ip, #1
 747              	.LVL53:
 748              	.L58:
 427:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 749              		.loc 1 427 20 is_stmt 1 discriminator 1 view .LVU187
 427:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 750              		.loc 1 427 3 is_stmt 0 discriminator 1 view .LVU188
 751 0022 F445     		cmp	ip, lr
 752 0024 F4D3     		bcc	.L59
 435:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 436:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 753              		.loc 1 436 1 view .LVU189
 754 0026 10BD     		pop	{r4, pc}
 755              		.cfi_endproc
 756              	.LFE149:
 758              		.section	.text.usb_read_packet,"ax",%progbits
 759              		.align	1
 760              		.global	usb_read_packet
 761              		.syntax unified
 762              		.thumb
 763              		.thumb_func
 765              	usb_read_packet:
 766              	.LVL54:
 767              	.LFB150:
 437:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 438:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 439:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  read data from usb buffer to user buffer
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 22


 440:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  pusr_buf: point to user buffer
 441:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  offset_addr: endpoint rx offset address
 442:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  nbytes: number of bytes data write to usb buffer
 443:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval none
 444:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 445:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** void usb_read_packet(otg_global_type *usbx, uint8_t *pusr_buf, uint16_t num, uint16_t nbytes)
 446:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 768              		.loc 1 446 1 is_stmt 1 view -0
 769              		.cfi_startproc
 770              		@ args = 0, pretend = 0, frame = 0
 771              		@ frame_needed = 0, uses_anonymous_args = 0
 772              		@ link register save eliminated.
 447:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   uint32_t n_index;
 773              		.loc 1 447 3 view .LVU191
 448:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   uint32_t nhbytes = (nbytes + 3) / 4;
 774              		.loc 1 448 3 view .LVU192
 775              		.loc 1 448 35 is_stmt 0 view .LVU193
 776 0000 03F1030C 		add	ip, r3, #3
 777 0004 4FEAAC0C 		asr	ip, ip, #2
 778              	.LVL55:
 449:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   uint32_t *pbuf = (uint32_t *)pusr_buf;
 779              		.loc 1 449 3 is_stmt 1 view .LVU194
 450:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   for(n_index = 0; n_index < nhbytes; n_index ++)
 780              		.loc 1 450 3 view .LVU195
 781              		.loc 1 450 15 is_stmt 0 view .LVU196
 782 0008 0023     		movs	r3, #0
 783              	.LVL56:
 784              		.loc 1 450 3 view .LVU197
 785 000a 05E0     		b	.L63
 786              	.LVL57:
 787              	.L64:
 451:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 452:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** #if defined (__ICCARM__) && (__VER__ < 7000000)
 453:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     *(__packed uint32_t *)pbuf = USB_FIFO(usbx, 0);
 454:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** #else
 455:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     __UNALIGNED_UINT32_WRITE(pbuf, (USB_FIFO(usbx, 0)));
 788              		.loc 1 455 5 is_stmt 1 discriminator 3 view .LVU198
 789 000c 00F58052 		add	r2, r0, #4096
 790 0010 1268     		ldr	r2, [r2]
 791 0012 41F8042B 		str	r2, [r1], #4	@ unaligned
 792              	.LVL58:
 456:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** #endif
 457:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     pbuf ++;
 793              		.loc 1 457 5 discriminator 3 view .LVU199
 450:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 794              		.loc 1 450 39 discriminator 3 view .LVU200
 450:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 795              		.loc 1 450 47 is_stmt 0 discriminator 3 view .LVU201
 796 0016 0133     		adds	r3, r3, #1
 797              	.LVL59:
 798              	.L63:
 450:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 799              		.loc 1 450 20 is_stmt 1 discriminator 1 view .LVU202
 450:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 800              		.loc 1 450 3 is_stmt 0 discriminator 1 view .LVU203
 801 0018 6345     		cmp	r3, ip
 802 001a F7D3     		bcc	.L64
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 23


 458:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 459:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 803              		.loc 1 459 1 view .LVU204
 804 001c 7047     		bx	lr
 805              		.cfi_endproc
 806              	.LFE150:
 808              		.section	.text.usb_ept_open,"ax",%progbits
 809              		.align	1
 810              		.global	usb_ept_open
 811              		.syntax unified
 812              		.thumb
 813              		.thumb_func
 815              	usb_ept_open:
 816              	.LVL60:
 817              	.LFB151:
 460:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** #endif
 461:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 462:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 463:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** #ifdef OTGFS_USB_DEVICE
 464:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 465:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  open usb endpoint
 466:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 467:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 468:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 469:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 470:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  ept_info: endpoint information structure
 471:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval none
 472:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 473:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** void usb_ept_open(otg_global_type *usbx, usb_ept_info *ept_info)
 474:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 818              		.loc 1 474 1 is_stmt 1 view -0
 819              		.cfi_startproc
 820              		@ args = 0, pretend = 0, frame = 0
 821              		@ frame_needed = 0, uses_anonymous_args = 0
 822              		.loc 1 474 1 is_stmt 0 view .LVU206
 823 0000 10B5     		push	{r4, lr}
 824              	.LCFI3:
 825              		.cfi_def_cfa_offset 8
 826              		.cfi_offset 4, -8
 827              		.cfi_offset 14, -4
 475:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   uint8_t mps = USB_EPT0_MPS_64;
 828              		.loc 1 475 3 is_stmt 1 view .LVU207
 829              	.LVL61:
 476:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   if(ept_info->eptn == USB_EPT0)
 830              		.loc 1 476 3 view .LVU208
 831              		.loc 1 476 14 is_stmt 0 view .LVU209
 832 0002 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 833              		.loc 1 476 5 view .LVU210
 834 0004 53B9     		cbnz	r3, .L73
 477:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 478:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     if(ept_info->maxpacket == 0x40)
 835              		.loc 1 478 5 is_stmt 1 view .LVU211
 836              		.loc 1 478 16 is_stmt 0 view .LVU212
 837 0006 8A68     		ldr	r2, [r1, #8]
 838              		.loc 1 478 7 view .LVU213
 839 0008 402A     		cmp	r2, #64
 840 000a 45D0     		beq	.L74
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 24


 479:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     {
 480:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       mps = USB_EPT0_MPS_64;
 481:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 482:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     else if(ept_info->maxpacket == 0x20)
 841              		.loc 1 482 10 is_stmt 1 view .LVU214
 842              		.loc 1 482 12 is_stmt 0 view .LVU215
 843 000c 202A     		cmp	r2, #32
 844 000e 45D0     		beq	.L75
 483:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     {
 484:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       mps = USB_EPT0_MPS_32;
 485:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 486:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     else if(ept_info->maxpacket == 0x10)
 845              		.loc 1 486 10 is_stmt 1 view .LVU216
 846              		.loc 1 486 12 is_stmt 0 view .LVU217
 847 0010 102A     		cmp	r2, #16
 848 0012 46D0     		beq	.L76
 487:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     {
 488:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       mps = USB_EPT0_MPS_16;
 489:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 490:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     else if(ept_info->maxpacket == 0x08)
 849              		.loc 1 490 10 is_stmt 1 view .LVU218
 850              		.loc 1 490 12 is_stmt 0 view .LVU219
 851 0014 082A     		cmp	r2, #8
 852 0016 47D0     		beq	.L77
 475:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   if(ept_info->eptn == USB_EPT0)
 853              		.loc 1 475 11 view .LVU220
 854 0018 9E46     		mov	lr, r3
 855 001a 01E0     		b	.L66
 856              	.L73:
 857 001c 4FF0000E 		mov	lr, #0
 858              	.L66:
 859              	.LVL62:
 491:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     {
 492:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       mps = USB_EPT0_MPS_8;
 493:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 494:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 495:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   /* endpoint direction is in */
 496:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   if(ept_info->inout == EPT_DIR_IN)
 860              		.loc 1 496 3 is_stmt 1 view .LVU221
 861              		.loc 1 496 14 is_stmt 0 view .LVU222
 862 0020 8A78     		ldrb	r2, [r1, #2]	@ zero_extendqisi2
 863              		.loc 1 496 5 view .LVU223
 864 0022 002A     		cmp	r2, #0
 865 0024 4DD1     		bne	.L67
 497:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 498:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     OTG_DEVICE(usbx)->daintmsk |= 1 << ept_info->eptn;
 866              		.loc 1 498 5 is_stmt 1 view .LVU224
 867              		.loc 1 498 32 is_stmt 0 view .LVU225
 868 0026 D0F81C28 		ldr	r2, [r0, #2076]
 869              		.loc 1 498 37 view .LVU226
 870 002a 4FF0010C 		mov	ip, #1
 871 002e 0CFA03F3 		lsl	r3, ip, r3
 872              		.loc 1 498 32 view .LVU227
 873 0032 1343     		orrs	r3, r3, r2
 874 0034 C0F81C38 		str	r3, [r0, #2076]
 499:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     if(ept_info->eptn == USB_EPT0)
 875              		.loc 1 499 5 is_stmt 1 view .LVU228
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 25


 876              		.loc 1 499 16 is_stmt 0 view .LVU229
 877 0038 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 878              		.loc 1 499 7 view .LVU230
 879 003a C3BB     		cbnz	r3, .L68
 500:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     {
 501:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       USB_INEPT(usbx, ept_info->eptn)->diepctl_bit.mps = mps;
 880              		.loc 1 501 7 is_stmt 1 view .LVU231
 881 003c 00EB4313 		add	r3, r0, r3, lsl #5
 882              		.loc 1 501 56 is_stmt 0 view .LVU232
 883 0040 D3F80029 		ldr	r2, [r3, #2304]
 884 0044 6EF30A02 		bfi	r2, lr, #0, #11
 885 0048 C3F80029 		str	r2, [r3, #2304]
 886              	.L69:
 502:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 503:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     else
 504:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     {
 505:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       USB_INEPT(usbx, ept_info->eptn)->diepctl_bit.mps = ept_info->maxpacket;
 506:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 507:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     USB_INEPT(usbx, ept_info->eptn)->diepctl_bit.eptype = ept_info->trans_type;
 887              		.loc 1 507 5 is_stmt 1 view .LVU233
 888 004c 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 889 004e 00EB4313 		add	r3, r0, r3, lsl #5
 890              		.loc 1 507 67 is_stmt 0 view .LVU234
 891 0052 CC78     		ldrb	r4, [r1, #3]	@ zero_extendqisi2
 892              		.loc 1 507 57 view .LVU235
 893 0054 D3F80029 		ldr	r2, [r3, #2304]
 894 0058 64F39342 		bfi	r2, r4, #18, #2
 895 005c C3F80029 		str	r2, [r3, #2304]
 508:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     USB_INEPT(usbx, ept_info->eptn)->diepctl_bit.txfnum = ept_info->eptn;
 896              		.loc 1 508 5 is_stmt 1 view .LVU236
 897              		.loc 1 508 67 is_stmt 0 view .LVU237
 898 0060 0C78     		ldrb	r4, [r1]	@ zero_extendqisi2
 899              		.loc 1 508 5 view .LVU238
 900 0062 00EB4413 		add	r3, r0, r4, lsl #5
 901              		.loc 1 508 57 view .LVU239
 902 0066 D3F80029 		ldr	r2, [r3, #2304]
 903 006a 64F39952 		bfi	r2, r4, #22, #4
 904 006e C3F80029 		str	r2, [r3, #2304]
 509:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     USB_INEPT(usbx, ept_info->eptn)->diepctl_bit.setd0pid = TRUE;
 905              		.loc 1 509 5 is_stmt 1 view .LVU240
 906 0072 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 907 0074 00EB4313 		add	r3, r0, r3, lsl #5
 908              		.loc 1 509 59 is_stmt 0 view .LVU241
 909 0078 D3F80029 		ldr	r2, [r3, #2304]
 910 007c 42F08052 		orr	r2, r2, #268435456
 911 0080 C3F80029 		str	r2, [r3, #2304]
 510:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     USB_INEPT(usbx, ept_info->eptn)->diepctl_bit.usbacept = TRUE;
 912              		.loc 1 510 5 is_stmt 1 view .LVU242
 913 0084 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 914 0086 00EB4310 		add	r0, r0, r3, lsl #5
 915              	.LVL63:
 916              		.loc 1 510 59 is_stmt 0 view .LVU243
 917 008a D0F80039 		ldr	r3, [r0, #2304]
 918 008e 43F40043 		orr	r3, r3, #32768
 919 0092 C0F80039 		str	r3, [r0, #2304]
 920              	.L65:
 511:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 26


 512:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   /* endpoint direction is out */
 513:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   else
 514:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 515:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     OTG_DEVICE(usbx)->daintmsk |= (1 << ept_info->eptn) << 16;
 516:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     if(ept_info->eptn == USB_EPT0)
 517:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     {
 518:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.mps = mps;
 519:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 520:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     else
 521:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     {
 522:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.mps = ept_info->maxpacket;
 523:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 524:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.eptype = ept_info->trans_type;
 525:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.setd0pid = TRUE;
 526:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.usbacept = TRUE;
 527:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 528:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 921              		.loc 1 528 1 view .LVU244
 922 0096 10BD     		pop	{r4, pc}
 923              	.LVL64:
 924              	.L74:
 480:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 925              		.loc 1 480 11 view .LVU245
 926 0098 9E46     		mov	lr, r3
 927 009a C1E7     		b	.L66
 928              	.L75:
 484:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 929              		.loc 1 484 11 view .LVU246
 930 009c 4FF0010E 		mov	lr, #1
 931 00a0 BEE7     		b	.L66
 932              	.L76:
 488:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 933              		.loc 1 488 11 view .LVU247
 934 00a2 4FF0020E 		mov	lr, #2
 935 00a6 BBE7     		b	.L66
 936              	.L77:
 492:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 937              		.loc 1 492 11 view .LVU248
 938 00a8 4FF0030E 		mov	lr, #3
 939 00ac B8E7     		b	.L66
 940              	.LVL65:
 941              	.L68:
 505:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 942              		.loc 1 505 7 is_stmt 1 view .LVU249
 943 00ae 00EB4313 		add	r3, r0, r3, lsl #5
 505:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 944              		.loc 1 505 66 is_stmt 0 view .LVU250
 945 00b2 8C68     		ldr	r4, [r1, #8]
 505:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 946              		.loc 1 505 56 view .LVU251
 947 00b4 D3F80029 		ldr	r2, [r3, #2304]
 948 00b8 64F30A02 		bfi	r2, r4, #0, #11
 949 00bc C3F80029 		str	r2, [r3, #2304]
 950 00c0 C4E7     		b	.L69
 951              	.L67:
 515:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     if(ept_info->eptn == USB_EPT0)
 952              		.loc 1 515 5 is_stmt 1 view .LVU252
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 27


 515:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     if(ept_info->eptn == USB_EPT0)
 953              		.loc 1 515 32 is_stmt 0 view .LVU253
 954 00c2 D0F81C28 		ldr	r2, [r0, #2076]
 515:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     if(ept_info->eptn == USB_EPT0)
 955              		.loc 1 515 38 view .LVU254
 956 00c6 4FF0010C 		mov	ip, #1
 957 00ca 0CFA03F3 		lsl	r3, ip, r3
 515:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     if(ept_info->eptn == USB_EPT0)
 958              		.loc 1 515 32 view .LVU255
 959 00ce 42EA0343 		orr	r3, r2, r3, lsl #16
 960 00d2 C0F81C38 		str	r3, [r0, #2076]
 516:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     {
 961              		.loc 1 516 5 is_stmt 1 view .LVU256
 516:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     {
 962              		.loc 1 516 16 is_stmt 0 view .LVU257
 963 00d6 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 516:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     {
 964              		.loc 1 516 7 view .LVU258
 965 00d8 23BB     		cbnz	r3, .L71
 518:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 966              		.loc 1 518 7 is_stmt 1 view .LVU259
 967 00da 00EB4313 		add	r3, r0, r3, lsl #5
 518:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 968              		.loc 1 518 57 is_stmt 0 view .LVU260
 969 00de D3F8002B 		ldr	r2, [r3, #2816]
 970 00e2 6EF30A02 		bfi	r2, lr, #0, #11
 971 00e6 C3F8002B 		str	r2, [r3, #2816]
 972              	.L72:
 524:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.setd0pid = TRUE;
 973              		.loc 1 524 5 is_stmt 1 view .LVU261
 974 00ea 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 975 00ec 00EB4313 		add	r3, r0, r3, lsl #5
 524:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.setd0pid = TRUE;
 976              		.loc 1 524 68 is_stmt 0 view .LVU262
 977 00f0 CC78     		ldrb	r4, [r1, #3]	@ zero_extendqisi2
 524:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.setd0pid = TRUE;
 978              		.loc 1 524 58 view .LVU263
 979 00f2 D3F8002B 		ldr	r2, [r3, #2816]
 980 00f6 64F39342 		bfi	r2, r4, #18, #2
 981 00fa C3F8002B 		str	r2, [r3, #2816]
 525:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.usbacept = TRUE;
 982              		.loc 1 525 5 is_stmt 1 view .LVU264
 983 00fe 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 984 0100 00EB4313 		add	r3, r0, r3, lsl #5
 525:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.usbacept = TRUE;
 985              		.loc 1 525 60 is_stmt 0 view .LVU265
 986 0104 D3F8002B 		ldr	r2, [r3, #2816]
 987 0108 42F08052 		orr	r2, r2, #268435456
 988 010c C3F8002B 		str	r2, [r3, #2816]
 526:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 989              		.loc 1 526 5 is_stmt 1 view .LVU266
 990 0110 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 991 0112 00EB4310 		add	r0, r0, r3, lsl #5
 992              	.LVL66:
 526:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 993              		.loc 1 526 60 is_stmt 0 view .LVU267
 994 0116 D0F8003B 		ldr	r3, [r0, #2816]
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 28


 995 011a 43F40043 		orr	r3, r3, #32768
 996 011e C0F8003B 		str	r3, [r0, #2816]
 997              		.loc 1 528 1 view .LVU268
 998 0122 B8E7     		b	.L65
 999              	.LVL67:
 1000              	.L71:
 522:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 1001              		.loc 1 522 7 is_stmt 1 view .LVU269
 1002 0124 00EB4313 		add	r3, r0, r3, lsl #5
 522:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 1003              		.loc 1 522 67 is_stmt 0 view .LVU270
 1004 0128 8C68     		ldr	r4, [r1, #8]
 522:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 1005              		.loc 1 522 57 view .LVU271
 1006 012a D3F8002B 		ldr	r2, [r3, #2816]
 1007 012e 64F30A02 		bfi	r2, r4, #0, #11
 1008 0132 C3F8002B 		str	r2, [r3, #2816]
 1009 0136 D8E7     		b	.L72
 1010              		.cfi_endproc
 1011              	.LFE151:
 1013              		.section	.text.usb_ept_close,"ax",%progbits
 1014              		.align	1
 1015              		.global	usb_ept_close
 1016              		.syntax unified
 1017              		.thumb
 1018              		.thumb_func
 1020              	usb_ept_close:
 1021              	.LVL68:
 1022              	.LFB152:
 529:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 530:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 531:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  close usb endpoint
 532:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 533:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 534:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 535:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 536:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  ept_info: endpoint information structure
 537:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval none
 538:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 539:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** void usb_ept_close(otg_global_type *usbx, usb_ept_info *ept_info)
 540:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 1023              		.loc 1 540 1 is_stmt 1 view -0
 1024              		.cfi_startproc
 1025              		@ args = 0, pretend = 0, frame = 0
 1026              		@ frame_needed = 0, uses_anonymous_args = 0
 1027              		.loc 1 540 1 is_stmt 0 view .LVU273
 1028 0000 00B5     		push	{lr}
 1029              	.LCFI4:
 1030              		.cfi_def_cfa_offset 4
 1031              		.cfi_offset 14, -4
 541:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   if(ept_info->inout == EPT_DIR_IN)
 1032              		.loc 1 541 3 is_stmt 1 view .LVU274
 1033              		.loc 1 541 14 is_stmt 0 view .LVU275
 1034 0002 8B78     		ldrb	r3, [r1, #2]	@ zero_extendqisi2
 1035              		.loc 1 541 5 view .LVU276
 1036 0004 ABB9     		cbnz	r3, .L80
 542:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 29


 543:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     OTG_DEVICE(usbx)->daintmsk &= ~(1 << ept_info->eptn);
 1037              		.loc 1 543 5 is_stmt 1 view .LVU277
 1038              		.loc 1 543 32 is_stmt 0 view .LVU278
 1039 0006 D0F81C38 		ldr	r3, [r0, #2076]
 1040              		.loc 1 543 50 view .LVU279
 1041 000a 91F800E0 		ldrb	lr, [r1]	@ zero_extendqisi2
 1042              		.loc 1 543 39 view .LVU280
 1043 000e 0122     		movs	r2, #1
 1044 0010 02FA0EF2 		lsl	r2, r2, lr
 1045              		.loc 1 543 32 view .LVU281
 1046 0014 23EA0203 		bic	r3, r3, r2
 1047 0018 C0F81C38 		str	r3, [r0, #2076]
 544:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     USB_INEPT(usbx, ept_info->eptn)->diepctl_bit.usbacept = FALSE;
 1048              		.loc 1 544 5 is_stmt 1 view .LVU282
 1049 001c 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1050 001e 00EB4310 		add	r0, r0, r3, lsl #5
 1051              	.LVL69:
 1052              		.loc 1 544 59 is_stmt 0 view .LVU283
 1053 0022 D0F80039 		ldr	r3, [r0, #2304]
 1054 0026 6FF3CF33 		bfc	r3, #15, #1
 1055 002a C0F80039 		str	r3, [r0, #2304]
 1056              	.L79:
 545:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 546:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   else
 547:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 548:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     OTG_DEVICE(usbx)->daintmsk &= ~((1 << ept_info->eptn) << 16);
 549:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.usbacept = FALSE;
 550:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 551:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 1057              		.loc 1 551 1 view .LVU284
 1058 002e 5DF804FB 		ldr	pc, [sp], #4
 1059              	.LVL70:
 1060              	.L80:
 548:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.usbacept = FALSE;
 1061              		.loc 1 548 5 is_stmt 1 view .LVU285
 548:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.usbacept = FALSE;
 1062              		.loc 1 548 32 is_stmt 0 view .LVU286
 1063 0032 D0F81C38 		ldr	r3, [r0, #2076]
 548:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.usbacept = FALSE;
 1064              		.loc 1 548 51 view .LVU287
 1065 0036 91F800E0 		ldrb	lr, [r1]	@ zero_extendqisi2
 548:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.usbacept = FALSE;
 1066              		.loc 1 548 40 view .LVU288
 1067 003a 0122     		movs	r2, #1
 1068 003c 02FA0EF2 		lsl	r2, r2, lr
 548:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.usbacept = FALSE;
 1069              		.loc 1 548 32 view .LVU289
 1070 0040 23EA0243 		bic	r3, r3, r2, lsl #16
 1071 0044 C0F81C38 		str	r3, [r0, #2076]
 549:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 1072              		.loc 1 549 5 is_stmt 1 view .LVU290
 1073 0048 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1074 004a 00EB4310 		add	r0, r0, r3, lsl #5
 1075              	.LVL71:
 549:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 1076              		.loc 1 549 60 is_stmt 0 view .LVU291
 1077 004e D0F8003B 		ldr	r3, [r0, #2816]
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 30


 1078 0052 6FF3CF33 		bfc	r3, #15, #1
 1079 0056 C0F8003B 		str	r3, [r0, #2816]
 1080              		.loc 1 551 1 view .LVU292
 1081 005a E8E7     		b	.L79
 1082              		.cfi_endproc
 1083              	.LFE152:
 1085              		.section	.text.usb_ept_stall,"ax",%progbits
 1086              		.align	1
 1087              		.global	usb_ept_stall
 1088              		.syntax unified
 1089              		.thumb
 1090              		.thumb_func
 1092              	usb_ept_stall:
 1093              	.LVL72:
 1094              	.LFB153:
 552:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 553:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 554:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 555:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  set endpoint tx or rx status to stall
 556:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 557:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 558:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 559:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 560:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  ept_info: endpoint information structure
 561:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval none
 562:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 563:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** void usb_ept_stall(otg_global_type *usbx, usb_ept_info *ept_info)
 564:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 1095              		.loc 1 564 1 is_stmt 1 view -0
 1096              		.cfi_startproc
 1097              		@ args = 0, pretend = 0, frame = 0
 1098              		@ frame_needed = 0, uses_anonymous_args = 0
 1099              		@ link register save eliminated.
 565:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   if(ept_info->inout == EPT_DIR_IN)
 1100              		.loc 1 565 3 view .LVU294
 1101              		.loc 1 565 14 is_stmt 0 view .LVU295
 1102 0000 8B78     		ldrb	r3, [r1, #2]	@ zero_extendqisi2
 1103              		.loc 1 565 5 view .LVU296
 1104 0002 B3B9     		cbnz	r3, .L84
 566:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 567:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     if(USB_INEPT(usbx, ept_info->eptn)->diepctl_bit.eptena == RESET)
 1105              		.loc 1 567 5 is_stmt 1 view .LVU297
 1106              		.loc 1 567 8 is_stmt 0 view .LVU298
 1107 0004 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1108 0006 00EB4313 		add	r3, r0, r3, lsl #5
 1109              		.loc 1 567 52 view .LVU299
 1110 000a D3F80029 		ldr	r2, [r3, #2304]
 1111              		.loc 1 567 7 view .LVU300
 1112 000e 002A     		cmp	r2, #0
 1113 0010 05DB     		blt	.L85
 568:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     {
 569:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       USB_INEPT(usbx, ept_info->eptn)->diepctl_bit.eptdis = FALSE;
 1114              		.loc 1 569 7 is_stmt 1 view .LVU301
 1115              		.loc 1 569 59 is_stmt 0 view .LVU302
 1116 0012 D3F80029 		ldr	r2, [r3, #2304]
 1117 0016 6FF39E72 		bfc	r2, #30, #1
 1118 001a C3F80029 		str	r2, [r3, #2304]
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 31


 1119              	.L85:
 570:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 571:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     USB_INEPT(usbx, ept_info->eptn)->diepctl_bit.stall = SET;
 1120              		.loc 1 571 5 is_stmt 1 view .LVU303
 1121 001e 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1122 0020 00EB4310 		add	r0, r0, r3, lsl #5
 1123              	.LVL73:
 1124              		.loc 1 571 56 is_stmt 0 view .LVU304
 1125 0024 D0F80039 		ldr	r3, [r0, #2304]
 1126 0028 43F40013 		orr	r3, r3, #2097152
 1127 002c C0F80039 		str	r3, [r0, #2304]
 1128 0030 7047     		bx	lr
 1129              	.LVL74:
 1130              	.L84:
 572:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 573:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   else
 574:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 575:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     if(USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.eptena == RESET)
 1131              		.loc 1 575 5 is_stmt 1 view .LVU305
 1132              		.loc 1 575 8 is_stmt 0 view .LVU306
 1133 0032 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1134 0034 00EB4313 		add	r3, r0, r3, lsl #5
 1135              		.loc 1 575 53 view .LVU307
 1136 0038 D3F8002B 		ldr	r2, [r3, #2816]
 1137              		.loc 1 575 7 view .LVU308
 1138 003c 002A     		cmp	r2, #0
 1139 003e 05DB     		blt	.L87
 576:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     {
 577:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.eptdis = FALSE;
 1140              		.loc 1 577 7 is_stmt 1 view .LVU309
 1141              		.loc 1 577 60 is_stmt 0 view .LVU310
 1142 0040 D3F8002B 		ldr	r2, [r3, #2816]
 1143 0044 6FF39E72 		bfc	r2, #30, #1
 1144 0048 C3F8002B 		str	r2, [r3, #2816]
 1145              	.L87:
 578:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 579:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.stall = TRUE;
 1146              		.loc 1 579 5 is_stmt 1 view .LVU311
 1147 004c 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1148 004e 00EB4310 		add	r0, r0, r3, lsl #5
 1149              	.LVL75:
 1150              		.loc 1 579 57 is_stmt 0 view .LVU312
 1151 0052 D0F8003B 		ldr	r3, [r0, #2816]
 1152 0056 43F40013 		orr	r3, r3, #2097152
 1153 005a C0F8003B 		str	r3, [r0, #2816]
 580:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 581:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 1154              		.loc 1 581 1 view .LVU313
 1155 005e 7047     		bx	lr
 1156              		.cfi_endproc
 1157              	.LFE153:
 1159              		.section	.text.usb_ept_clear_stall,"ax",%progbits
 1160              		.align	1
 1161              		.global	usb_ept_clear_stall
 1162              		.syntax unified
 1163              		.thumb
 1164              		.thumb_func
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 32


 1166              	usb_ept_clear_stall:
 1167              	.LVL76:
 1168              	.LFB154:
 582:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 583:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 584:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  clear endpoint tx or rx status to stall
 585:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 586:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 587:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 588:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 589:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  ept_info: endpoint information structure
 590:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval none
 591:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 592:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** void usb_ept_clear_stall(otg_global_type *usbx, usb_ept_info *ept_info)
 593:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 1169              		.loc 1 593 1 is_stmt 1 view -0
 1170              		.cfi_startproc
 1171              		@ args = 0, pretend = 0, frame = 0
 1172              		@ frame_needed = 0, uses_anonymous_args = 0
 1173              		@ link register save eliminated.
 594:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   if(ept_info->inout == EPT_DIR_IN)
 1174              		.loc 1 594 3 view .LVU315
 1175              		.loc 1 594 14 is_stmt 0 view .LVU316
 1176 0000 8B78     		ldrb	r3, [r1, #2]	@ zero_extendqisi2
 1177              		.loc 1 594 5 view .LVU317
 1178 0002 C3B9     		cbnz	r3, .L89
 595:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 596:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     USB_INEPT(usbx, ept_info->eptn)->diepctl_bit.stall = FALSE;
 1179              		.loc 1 596 5 is_stmt 1 view .LVU318
 1180 0004 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1181 0006 00EB4313 		add	r3, r0, r3, lsl #5
 1182              		.loc 1 596 56 is_stmt 0 view .LVU319
 1183 000a D3F80029 		ldr	r2, [r3, #2304]
 1184 000e 6FF35552 		bfc	r2, #21, #1
 1185 0012 C3F80029 		str	r2, [r3, #2304]
 597:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     if(ept_info->trans_type == EPT_INT_TYPE || ept_info->trans_type == EPT_BULK_TYPE)
 1186              		.loc 1 597 5 is_stmt 1 view .LVU320
 1187              		.loc 1 597 16 is_stmt 0 view .LVU321
 1188 0016 CB78     		ldrb	r3, [r1, #3]	@ zero_extendqisi2
 1189              		.loc 1 597 45 view .LVU322
 1190 0018 023B     		subs	r3, r3, #2
 1191 001a DBB2     		uxtb	r3, r3
 1192              		.loc 1 597 7 view .LVU323
 1193 001c 012B     		cmp	r3, #1
 1194 001e 00D9     		bls	.L91
 1195              	.LVL77:
 1196              	.L88:
 598:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     {
 599:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       USB_INEPT(usbx, ept_info->eptn)->diepctl_bit.setd0pid = TRUE;
 600:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 601:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 602:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   else
 603:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 604:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.stall = FALSE;
 605:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     if(ept_info->trans_type == EPT_INT_TYPE || ept_info->trans_type == EPT_BULK_TYPE)
 606:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     {
 607:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       USB_OUTEPT(usbx, ept_info->eptn)->doepctl_bit.setd0pid = TRUE;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 33


 608:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 609:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 610:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 1197              		.loc 1 610 1 view .LVU324
 1198 0020 7047     		bx	lr
 1199              	.LVL78:
 1200              	.L91:
 599:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 1201              		.loc 1 599 7 is_stmt 1 view .LVU325
 1202 0022 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1203 0024 00EB4310 		add	r0, r0, r3, lsl #5
 1204              	.LVL79:
 599:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 1205              		.loc 1 599 61 is_stmt 0 view .LVU326
 1206 0028 D0F80039 		ldr	r3, [r0, #2304]
 1207 002c 43F08053 		orr	r3, r3, #268435456
 1208 0030 C0F80039 		str	r3, [r0, #2304]
 1209 0034 7047     		bx	lr
 1210              	.LVL80:
 1211              	.L89:
 604:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     if(ept_info->trans_type == EPT_INT_TYPE || ept_info->trans_type == EPT_BULK_TYPE)
 1212              		.loc 1 604 5 is_stmt 1 view .LVU327
 1213 0036 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1214 0038 00EB4313 		add	r3, r0, r3, lsl #5
 604:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     if(ept_info->trans_type == EPT_INT_TYPE || ept_info->trans_type == EPT_BULK_TYPE)
 1215              		.loc 1 604 57 is_stmt 0 view .LVU328
 1216 003c D3F8002B 		ldr	r2, [r3, #2816]
 1217 0040 6FF35552 		bfc	r2, #21, #1
 1218 0044 C3F8002B 		str	r2, [r3, #2816]
 605:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     {
 1219              		.loc 1 605 5 is_stmt 1 view .LVU329
 605:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     {
 1220              		.loc 1 605 16 is_stmt 0 view .LVU330
 1221 0048 CB78     		ldrb	r3, [r1, #3]	@ zero_extendqisi2
 605:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     {
 1222              		.loc 1 605 45 view .LVU331
 1223 004a 023B     		subs	r3, r3, #2
 1224 004c DBB2     		uxtb	r3, r3
 605:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     {
 1225              		.loc 1 605 7 view .LVU332
 1226 004e 012B     		cmp	r3, #1
 1227 0050 E6D8     		bhi	.L88
 607:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 1228              		.loc 1 607 7 is_stmt 1 view .LVU333
 1229 0052 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1230 0054 00EB4310 		add	r0, r0, r3, lsl #5
 1231              	.LVL81:
 607:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 1232              		.loc 1 607 62 is_stmt 0 view .LVU334
 1233 0058 D0F8003B 		ldr	r3, [r0, #2816]
 1234 005c 43F08053 		orr	r3, r3, #268435456
 1235 0060 C0F8003B 		str	r3, [r0, #2816]
 1236              		.loc 1 610 1 view .LVU335
 1237 0064 DCE7     		b	.L88
 1238              		.cfi_endproc
 1239              	.LFE154:
 1241              		.section	.text.usb_get_all_out_interrupt,"ax",%progbits
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 34


 1242              		.align	1
 1243              		.global	usb_get_all_out_interrupt
 1244              		.syntax unified
 1245              		.thumb
 1246              		.thumb_func
 1248              	usb_get_all_out_interrupt:
 1249              	.LVL82:
 1250              	.LFB155:
 611:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 612:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 613:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  get all out endpoint interrupt bits
 614:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 615:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 616:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 617:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 618:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval out endpoint interrupt bits
 619:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 620:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** uint32_t usb_get_all_out_interrupt(otg_global_type *usbx)
 621:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 1251              		.loc 1 621 1 is_stmt 1 view -0
 1252              		.cfi_startproc
 1253              		@ args = 0, pretend = 0, frame = 0
 1254              		@ frame_needed = 0, uses_anonymous_args = 0
 1255              		@ link register save eliminated.
 622:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   uint32_t intsts = OTG_DEVICE(usbx)->daint;
 1256              		.loc 1 622 3 view .LVU337
 1257              		.loc 1 622 12 is_stmt 0 view .LVU338
 1258 0000 D0F81838 		ldr	r3, [r0, #2072]
 1259              		.loc 1 622 21 view .LVU339
 1260 0004 00F50060 		add	r0, r0, #2048
 1261              	.LVL83:
 623:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   return ((intsts & (OTG_DEVICE(usbx)->daintmsk)) >> 16);
 1262              		.loc 1 623 3 is_stmt 1 view .LVU340
 1263              		.loc 1 623 38 is_stmt 0 view .LVU341
 1264 0008 C069     		ldr	r0, [r0, #28]
 1265              	.LVL84:
 1266              		.loc 1 623 19 view .LVU342
 1267 000a 1840     		ands	r0, r0, r3
 624:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 1268              		.loc 1 624 1 view .LVU343
 1269 000c 000C     		lsrs	r0, r0, #16
 1270 000e 7047     		bx	lr
 1271              		.cfi_endproc
 1272              	.LFE155:
 1274              		.section	.text.usb_get_all_in_interrupt,"ax",%progbits
 1275              		.align	1
 1276              		.global	usb_get_all_in_interrupt
 1277              		.syntax unified
 1278              		.thumb
 1279              		.thumb_func
 1281              	usb_get_all_in_interrupt:
 1282              	.LVL85:
 1283              	.LFB156:
 625:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 626:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 627:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  get all in endpoint interrupt bits
 628:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 35


 629:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 630:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 631:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 632:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval in endpoint interrupt bits
 633:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 634:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** uint32_t usb_get_all_in_interrupt(otg_global_type *usbx)
 635:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 1284              		.loc 1 635 1 is_stmt 1 view -0
 1285              		.cfi_startproc
 1286              		@ args = 0, pretend = 0, frame = 0
 1287              		@ frame_needed = 0, uses_anonymous_args = 0
 1288              		@ link register save eliminated.
 636:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   uint32_t intsts = OTG_DEVICE(usbx)->daint;
 1289              		.loc 1 636 3 view .LVU345
 1290              		.loc 1 636 12 is_stmt 0 view .LVU346
 1291 0000 D0F81838 		ldr	r3, [r0, #2072]
 1292              		.loc 1 636 21 view .LVU347
 1293 0004 00F50060 		add	r0, r0, #2048
 1294              	.LVL86:
 637:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   return ((intsts & (OTG_DEVICE(usbx)->daintmsk)) & 0xFFFF);
 1295              		.loc 1 637 3 is_stmt 1 view .LVU348
 1296              		.loc 1 637 38 is_stmt 0 view .LVU349
 1297 0008 C069     		ldr	r0, [r0, #28]
 1298              	.LVL87:
 1299              		.loc 1 637 19 view .LVU350
 1300 000a 1840     		ands	r0, r0, r3
 638:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 1301              		.loc 1 638 1 view .LVU351
 1302 000c 80B2     		uxth	r0, r0
 1303 000e 7047     		bx	lr
 1304              		.cfi_endproc
 1305              	.LFE156:
 1307              		.section	.text.usb_ept_out_interrupt,"ax",%progbits
 1308              		.align	1
 1309              		.global	usb_ept_out_interrupt
 1310              		.syntax unified
 1311              		.thumb
 1312              		.thumb_func
 1314              	usb_ept_out_interrupt:
 1315              	.LVL88:
 1316              	.LFB157:
 639:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 640:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 641:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 642:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  get out endpoint interrupt flag
 643:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 644:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 645:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 646:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 647:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  eptn: endpoint number
 648:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval out endpoint interrupt flags
 649:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 650:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** uint32_t usb_ept_out_interrupt(otg_global_type *usbx, uint32_t eptn)
 651:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 1317              		.loc 1 651 1 is_stmt 1 view -0
 1318              		.cfi_startproc
 1319              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 36


 1320              		@ frame_needed = 0, uses_anonymous_args = 0
 1321              		@ link register save eliminated.
 652:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   uint32_t intsts = USB_OUTEPT(usbx, eptn)->doepint;
 1322              		.loc 1 652 3 view .LVU353
 1323              		.loc 1 652 21 is_stmt 0 view .LVU354
 1324 0000 00EB4111 		add	r1, r0, r1, lsl #5
 1325              	.LVL89:
 1326              		.loc 1 652 12 view .LVU355
 1327 0004 D1F8083B 		ldr	r3, [r1, #2824]
 1328              	.LVL90:
 653:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   return (intsts & (OTG_DEVICE(usbx)->doepmsk));
 1329              		.loc 1 653 3 is_stmt 1 view .LVU356
 1330              		.loc 1 653 21 is_stmt 0 view .LVU357
 1331 0008 00F50060 		add	r0, r0, #2048
 1332              	.LVL91:
 1333              		.loc 1 653 37 view .LVU358
 1334 000c 4069     		ldr	r0, [r0, #20]
 1335              	.LVL92:
 654:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 1336              		.loc 1 654 1 view .LVU359
 1337 000e 1840     		ands	r0, r0, r3
 1338 0010 7047     		bx	lr
 1339              		.cfi_endproc
 1340              	.LFE157:
 1342              		.section	.text.usb_ept_in_interrupt,"ax",%progbits
 1343              		.align	1
 1344              		.global	usb_ept_in_interrupt
 1345              		.syntax unified
 1346              		.thumb
 1347              		.thumb_func
 1349              	usb_ept_in_interrupt:
 1350              	.LVL93:
 1351              	.LFB158:
 655:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 656:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 657:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  get in endpoint interrupt flag
 658:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 659:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 660:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 661:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 662:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  eptn: endpoint number
 663:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval in endpoint intterupt flags
 664:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 665:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** uint32_t usb_ept_in_interrupt(otg_global_type *usbx, uint32_t eptn)
 666:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 1352              		.loc 1 666 1 is_stmt 1 view -0
 1353              		.cfi_startproc
 1354              		@ args = 0, pretend = 0, frame = 0
 1355              		@ frame_needed = 0, uses_anonymous_args = 0
 1356              		@ link register save eliminated.
 1357              		.loc 1 666 1 is_stmt 0 view .LVU361
 1358 0000 10B4     		push	{r4}
 1359              	.LCFI5:
 1360              		.cfi_def_cfa_offset 4
 1361              		.cfi_offset 4, -4
 667:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   uint32_t intsts, mask1, mask2;
 1362              		.loc 1 667 3 is_stmt 1 view .LVU362
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 37


 668:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   mask1 = OTG_DEVICE(usbx)->diepmsk;
 1363              		.loc 1 668 3 view .LVU363
 1364              		.loc 1 668 9 is_stmt 0 view .LVU364
 1365 0002 D0F81048 		ldr	r4, [r0, #2064]
 1366              	.LVL94:
 669:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   mask2 = OTG_DEVICE(usbx)->diepempmsk;
 1367              		.loc 1 669 3 is_stmt 1 view .LVU365
 1368              		.loc 1 669 9 is_stmt 0 view .LVU366
 1369 0006 D0F83438 		ldr	r3, [r0, #2100]
 1370              	.LVL95:
 670:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   mask1 |= ((mask2 >> eptn) & 0x1) << 7;
 1371              		.loc 1 670 3 is_stmt 1 view .LVU367
 1372              		.loc 1 670 20 is_stmt 0 view .LVU368
 1373 000a CB40     		lsrs	r3, r3, r1
 1374              	.LVL96:
 1375              		.loc 1 670 36 view .LVU369
 1376 000c DB01     		lsls	r3, r3, #7
 1377 000e DBB2     		uxtb	r3, r3
 1378              		.loc 1 670 9 view .LVU370
 1379 0010 2343     		orrs	r3, r3, r4
 1380              	.LVL97:
 671:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   intsts = USB_INEPT(usbx, eptn)->diepint & mask1;
 1381              		.loc 1 671 3 is_stmt 1 view .LVU371
 1382              		.loc 1 671 12 is_stmt 0 view .LVU372
 1383 0012 00EB4110 		add	r0, r0, r1, lsl #5
 1384              	.LVL98:
 1385              		.loc 1 671 12 view .LVU373
 1386 0016 00F51060 		add	r0, r0, #2304
 1387              		.loc 1 671 33 view .LVU374
 1388 001a 8068     		ldr	r0, [r0, #8]
 1389              	.LVL99:
 672:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   return intsts;
 1390              		.loc 1 672 3 is_stmt 1 view .LVU375
 673:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 1391              		.loc 1 673 1 is_stmt 0 view .LVU376
 1392 001c 1840     		ands	r0, r0, r3
 1393              	.LVL100:
 1394              		.loc 1 673 1 view .LVU377
 1395 001e 5DF8044B 		ldr	r4, [sp], #4
 1396              	.LCFI6:
 1397              		.cfi_restore 4
 1398              		.cfi_def_cfa_offset 0
 1399 0022 7047     		bx	lr
 1400              		.cfi_endproc
 1401              	.LFE158:
 1403              		.section	.text.usb_ept_out_clear,"ax",%progbits
 1404              		.align	1
 1405              		.global	usb_ept_out_clear
 1406              		.syntax unified
 1407              		.thumb
 1408              		.thumb_func
 1410              	usb_ept_out_clear:
 1411              	.LVL101:
 1412              	.LFB159:
 674:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 675:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 676:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  clear out endpoint interrupt flag
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 38


 677:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 678:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 679:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 680:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 681:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  eptn: endpoint number
 682:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval flag: interrupt flag
 683:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be any combination of the following values:
 684:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_DOEPINT_XFERC_FLAG
 685:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_DOEPINT_EPTDISD_FLAG
 686:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_DOEPINT_SETUP_FLAG
 687:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_DOEPINT_OTEPDIS_FLAG
 688:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_DOEPINT_B2BSTUP_FLAG
 689:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 690:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** void usb_ept_out_clear(otg_global_type *usbx, uint32_t eptn, uint32_t flag)
 691:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 1413              		.loc 1 691 1 is_stmt 1 view -0
 1414              		.cfi_startproc
 1415              		@ args = 0, pretend = 0, frame = 0
 1416              		@ frame_needed = 0, uses_anonymous_args = 0
 1417              		@ link register save eliminated.
 692:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   USB_OUTEPT(usbx, eptn)->doepint = flag;
 1418              		.loc 1 692 3 view .LVU379
 1419 0000 00EB4110 		add	r0, r0, r1, lsl #5
 1420              	.LVL102:
 1421              		.loc 1 692 35 is_stmt 0 view .LVU380
 1422 0004 C0F8082B 		str	r2, [r0, #2824]
 693:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 1423              		.loc 1 693 1 view .LVU381
 1424 0008 7047     		bx	lr
 1425              		.cfi_endproc
 1426              	.LFE159:
 1428              		.section	.text.usb_ept_in_clear,"ax",%progbits
 1429              		.align	1
 1430              		.global	usb_ept_in_clear
 1431              		.syntax unified
 1432              		.thumb
 1433              		.thumb_func
 1435              	usb_ept_in_clear:
 1436              	.LVL103:
 1437              	.LFB160:
 694:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 695:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 696:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  clear in endpoint interrupt flag
 697:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 698:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 699:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 700:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 701:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  eptn: endpoint number
 702:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval flag: interrupt flag
 703:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be any combination of the following values:
 704:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_DIEPINT_XFERC_FLAG
 705:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_DIEPINT_EPTDISD_FLAG
 706:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_DIEPINT_TMROC_FLAG
 707:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_DIEPINT_INTTXFE_FLAG
 708:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_DIEPINT_INEPNE_FLAG
 709:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_OTG_DIEPINT_TXFE_FLAG
 710:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 39


 711:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** void usb_ept_in_clear(otg_global_type *usbx, uint32_t eptn, uint32_t flag)
 712:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 1438              		.loc 1 712 1 is_stmt 1 view -0
 1439              		.cfi_startproc
 1440              		@ args = 0, pretend = 0, frame = 0
 1441              		@ frame_needed = 0, uses_anonymous_args = 0
 1442              		@ link register save eliminated.
 713:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   USB_INEPT(usbx, eptn)->diepint = flag;
 1443              		.loc 1 713 3 view .LVU383
 1444 0000 00EB4110 		add	r0, r0, r1, lsl #5
 1445              	.LVL104:
 1446              		.loc 1 713 34 is_stmt 0 view .LVU384
 1447 0004 C0F80829 		str	r2, [r0, #2312]
 714:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 1448              		.loc 1 714 1 view .LVU385
 1449 0008 7047     		bx	lr
 1450              		.cfi_endproc
 1451              	.LFE160:
 1453              		.section	.text.usb_set_address,"ax",%progbits
 1454              		.align	1
 1455              		.global	usb_set_address
 1456              		.syntax unified
 1457              		.thumb
 1458              		.thumb_func
 1460              	usb_set_address:
 1461              	.LVL105:
 1462              	.LFB161:
 715:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 716:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 717:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 718:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  set the host assignment address
 719:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 720:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 721:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 722:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 723:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  address: host assignment address
 724:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval none
 725:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 726:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** void usb_set_address(otg_global_type *usbx, uint8_t address)
 727:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 1463              		.loc 1 727 1 is_stmt 1 view -0
 1464              		.cfi_startproc
 1465              		@ args = 0, pretend = 0, frame = 0
 1466              		@ frame_needed = 0, uses_anonymous_args = 0
 1467              		@ link register save eliminated.
 728:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   OTG_DEVICE(usbx)->dcfg_bit.devaddr = address;
 1468              		.loc 1 728 3 view .LVU387
 1469              		.loc 1 728 38 is_stmt 0 view .LVU388
 1470 0000 D0F80038 		ldr	r3, [r0, #2048]
 1471 0004 61F30A13 		bfi	r3, r1, #4, #7
 1472 0008 C0F80038 		str	r3, [r0, #2048]
 729:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 1473              		.loc 1 729 1 view .LVU389
 1474 000c 7047     		bx	lr
 1475              		.cfi_endproc
 1476              	.LFE161:
 1478              		.section	.text.usb_ept0_start,"ax",%progbits
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 40


 1479              		.align	1
 1480              		.global	usb_ept0_start
 1481              		.syntax unified
 1482              		.thumb
 1483              		.thumb_func
 1485              	usb_ept0_start:
 1486              	.LVL106:
 1487              	.LFB162:
 730:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 731:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 732:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  enable endpoint 0 out
 733:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 734:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 735:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 736:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 737:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval none
 738:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 739:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** void usb_ept0_start(otg_global_type *usbx)
 740:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 1488              		.loc 1 740 1 is_stmt 1 view -0
 1489              		.cfi_startproc
 1490              		@ args = 0, pretend = 0, frame = 0
 1491              		@ frame_needed = 0, uses_anonymous_args = 0
 1492              		@ link register save eliminated.
 741:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   otg_eptout_type *usb_outept = USB_OUTEPT(usbx, 0);
 1493              		.loc 1 741 3 view .LVU391
 742:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   usb_outept->doeptsiz = 0;
 1494              		.loc 1 742 3 view .LVU392
 1495              		.loc 1 742 24 is_stmt 0 view .LVU393
 1496 0000 0023     		movs	r3, #0
 1497 0002 C0F8103B 		str	r3, [r0, #2832]
 743:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   usb_outept->doeptsiz_bit.pktcnt = 1;
 1498              		.loc 1 743 3 is_stmt 1 view .LVU394
 1499              		.loc 1 743 35 is_stmt 0 view .LVU395
 1500 0006 D0F8103B 		ldr	r3, [r0, #2832]
 1501 000a 0122     		movs	r2, #1
 1502 000c 62F3DC43 		bfi	r3, r2, #19, #10
 1503 0010 C0F8103B 		str	r3, [r0, #2832]
 744:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   usb_outept->doeptsiz_bit.xfersize = 24;
 1504              		.loc 1 744 3 is_stmt 1 view .LVU396
 1505              		.loc 1 744 37 is_stmt 0 view .LVU397
 1506 0014 D0F8103B 		ldr	r3, [r0, #2832]
 1507 0018 1822     		movs	r2, #24
 1508 001a 62F31203 		bfi	r3, r2, #0, #19
 1509 001e C0F8103B 		str	r3, [r0, #2832]
 745:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   usb_outept->doeptsiz_bit.rxdpid_setupcnt = 3;
 1510              		.loc 1 745 3 is_stmt 1 view .LVU398
 1511              		.loc 1 745 44 is_stmt 0 view .LVU399
 1512 0022 D0F8103B 		ldr	r3, [r0, #2832]
 1513 0026 43F0C043 		orr	r3, r3, #1610612736
 1514 002a C0F8103B 		str	r3, [r0, #2832]
 746:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 1515              		.loc 1 746 1 view .LVU400
 1516 002e 7047     		bx	lr
 1517              		.cfi_endproc
 1518              	.LFE162:
 1520              		.section	.text.usb_ept0_setup,"ax",%progbits
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 41


 1521              		.align	1
 1522              		.global	usb_ept0_setup
 1523              		.syntax unified
 1524              		.thumb
 1525              		.thumb_func
 1527              	usb_ept0_setup:
 1528              	.LVL107:
 1529              	.LFB163:
 747:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 748:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 749:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 750:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  endpoint 0 start setup
 751:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 752:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 753:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 754:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 755:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval none
 756:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 757:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** void usb_ept0_setup(otg_global_type *usbx)
 758:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 1530              		.loc 1 758 1 is_stmt 1 view -0
 1531              		.cfi_startproc
 1532              		@ args = 0, pretend = 0, frame = 0
 1533              		@ frame_needed = 0, uses_anonymous_args = 0
 1534              		@ link register save eliminated.
 759:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   USB_INEPT(usbx, 0)->diepctl_bit.mps = 0;
 1535              		.loc 1 759 3 view .LVU402
 1536              		.loc 1 759 39 is_stmt 0 view .LVU403
 1537 0000 D0F80039 		ldr	r3, [r0, #2304]
 1538 0004 6FF30A03 		bfc	r3, #0, #11
 1539 0008 C0F80039 		str	r3, [r0, #2304]
 760:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   OTG_DEVICE(usbx)->dctl_bit.cgnpinak = FALSE;
 1540              		.loc 1 760 3 is_stmt 1 view .LVU404
 1541              		.loc 1 760 39 is_stmt 0 view .LVU405
 1542 000c D0F80438 		ldr	r3, [r0, #2052]
 1543 0010 6FF30823 		bfc	r3, #8, #1
 1544 0014 C0F80438 		str	r3, [r0, #2052]
 761:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 1545              		.loc 1 761 1 view .LVU406
 1546 0018 7047     		bx	lr
 1547              		.cfi_endproc
 1548              	.LFE163:
 1550              		.section	.text.usb_connect,"ax",%progbits
 1551              		.align	1
 1552              		.global	usb_connect
 1553              		.syntax unified
 1554              		.thumb
 1555              		.thumb_func
 1557              	usb_connect:
 1558              	.LVL108:
 1559              	.LFB164:
 762:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 763:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 764:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  connect usb device by enable pull-up
 765:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 766:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 767:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 42


 768:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 769:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval none
 770:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 771:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** void usb_connect(otg_global_type *usbx)
 772:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 1560              		.loc 1 772 1 is_stmt 1 view -0
 1561              		.cfi_startproc
 1562              		@ args = 0, pretend = 0, frame = 0
 1563              		@ frame_needed = 0, uses_anonymous_args = 0
 1564              		@ link register save eliminated.
 773:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   /* D+ 1.5k pull-up enable */
 774:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   OTG_DEVICE(usbx)->dctl_bit.sftdiscon = FALSE;
 1565              		.loc 1 774 3 view .LVU408
 1566              		.loc 1 774 40 is_stmt 0 view .LVU409
 1567 0000 D0F80438 		ldr	r3, [r0, #2052]
 1568 0004 6FF34103 		bfc	r3, #1, #1
 1569 0008 C0F80438 		str	r3, [r0, #2052]
 775:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 1570              		.loc 1 775 1 view .LVU410
 1571 000c 7047     		bx	lr
 1572              		.cfi_endproc
 1573              	.LFE164:
 1575              		.section	.text.usb_disconnect,"ax",%progbits
 1576              		.align	1
 1577              		.global	usb_disconnect
 1578              		.syntax unified
 1579              		.thumb
 1580              		.thumb_func
 1582              	usb_disconnect:
 1583              	.LVL109:
 1584              	.LFB165:
 776:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 777:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 778:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  disconnect usb device by disable pull-up
 779:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 780:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 781:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 782:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 783:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval none
 784:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 785:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** void usb_disconnect(otg_global_type *usbx)
 786:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 1585              		.loc 1 786 1 is_stmt 1 view -0
 1586              		.cfi_startproc
 1587              		@ args = 0, pretend = 0, frame = 0
 1588              		@ frame_needed = 0, uses_anonymous_args = 0
 1589              		@ link register save eliminated.
 787:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   /* D+ 1.5k pull-up disable */
 788:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   OTG_DEVICE(usbx)->dctl_bit.sftdiscon = TRUE;
 1590              		.loc 1 788 3 view .LVU412
 1591              		.loc 1 788 40 is_stmt 0 view .LVU413
 1592 0000 D0F80438 		ldr	r3, [r0, #2052]
 1593 0004 43F00203 		orr	r3, r3, #2
 1594 0008 C0F80438 		str	r3, [r0, #2052]
 789:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 1595              		.loc 1 789 1 view .LVU414
 1596 000c 7047     		bx	lr
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 43


 1597              		.cfi_endproc
 1598              	.LFE165:
 1600              		.section	.text.usb_remote_wkup_set,"ax",%progbits
 1601              		.align	1
 1602              		.global	usb_remote_wkup_set
 1603              		.syntax unified
 1604              		.thumb
 1605              		.thumb_func
 1607              	usb_remote_wkup_set:
 1608              	.LVL110:
 1609              	.LFB166:
 790:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 791:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 792:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 793:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  usb remote wakeup set
 794:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 795:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 796:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 797:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 798:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval none
 799:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 800:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** void usb_remote_wkup_set(otg_global_type *usbx)
 801:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 1610              		.loc 1 801 1 is_stmt 1 view -0
 1611              		.cfi_startproc
 1612              		@ args = 0, pretend = 0, frame = 0
 1613              		@ frame_needed = 0, uses_anonymous_args = 0
 1614              		@ link register save eliminated.
 802:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   OTG_DEVICE(usbx)->dctl_bit.rwkupsig = TRUE;
 1615              		.loc 1 802 3 view .LVU416
 1616              		.loc 1 802 39 is_stmt 0 view .LVU417
 1617 0000 D0F80438 		ldr	r3, [r0, #2052]
 1618 0004 43F00103 		orr	r3, r3, #1
 1619 0008 C0F80438 		str	r3, [r0, #2052]
 803:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 1620              		.loc 1 803 1 view .LVU418
 1621 000c 7047     		bx	lr
 1622              		.cfi_endproc
 1623              	.LFE166:
 1625              		.section	.text.usb_remote_wkup_clear,"ax",%progbits
 1626              		.align	1
 1627              		.global	usb_remote_wkup_clear
 1628              		.syntax unified
 1629              		.thumb
 1630              		.thumb_func
 1632              	usb_remote_wkup_clear:
 1633              	.LVL111:
 1634              	.LFB167:
 804:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 805:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 806:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  usb remote wakeup clear
 807:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 808:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 809:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 810:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 811:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval none
 812:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 44


 813:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** void usb_remote_wkup_clear(otg_global_type *usbx)
 814:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 1635              		.loc 1 814 1 is_stmt 1 view -0
 1636              		.cfi_startproc
 1637              		@ args = 0, pretend = 0, frame = 0
 1638              		@ frame_needed = 0, uses_anonymous_args = 0
 1639              		@ link register save eliminated.
 815:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   OTG_DEVICE(usbx)->dctl_bit.rwkupsig = FALSE;
 1640              		.loc 1 815 3 view .LVU420
 1641              		.loc 1 815 39 is_stmt 0 view .LVU421
 1642 0000 D0F80438 		ldr	r3, [r0, #2052]
 1643 0004 6FF30003 		bfc	r3, #0, #1
 1644 0008 C0F80438 		str	r3, [r0, #2052]
 816:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 1645              		.loc 1 816 1 view .LVU422
 1646 000c 7047     		bx	lr
 1647              		.cfi_endproc
 1648              	.LFE167:
 1650              		.section	.text.usb_suspend_status_get,"ax",%progbits
 1651              		.align	1
 1652              		.global	usb_suspend_status_get
 1653              		.syntax unified
 1654              		.thumb
 1655              		.thumb_func
 1657              	usb_suspend_status_get:
 1658              	.LVL112:
 1659              	.LFB168:
 817:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 818:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 819:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  usb suspend status get
 820:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 821:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 822:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 823:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 824:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval usb suspend status
 825:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 826:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** uint8_t usb_suspend_status_get(otg_global_type *usbx)
 827:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 1660              		.loc 1 827 1 is_stmt 1 view -0
 1661              		.cfi_startproc
 1662              		@ args = 0, pretend = 0, frame = 0
 1663              		@ frame_needed = 0, uses_anonymous_args = 0
 1664              		@ link register save eliminated.
 828:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   return OTG_DEVICE(usbx)->dsts_bit.suspsts;
 1665              		.loc 1 828 3 view .LVU424
 1666              		.loc 1 828 10 is_stmt 0 view .LVU425
 1667 0000 00F50060 		add	r0, r0, #2048
 1668              	.LVL113:
 1669              		.loc 1 828 36 view .LVU426
 1670 0004 8068     		ldr	r0, [r0, #8]
 1671              	.LVL114:
 829:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 1672              		.loc 1 829 1 view .LVU427
 1673 0006 00F00100 		and	r0, r0, #1
 1674 000a 7047     		bx	lr
 1675              		.cfi_endproc
 1676              	.LFE168:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 45


 1678              		.section	.text.usb_port_power_on,"ax",%progbits
 1679              		.align	1
 1680              		.global	usb_port_power_on
 1681              		.syntax unified
 1682              		.thumb
 1683              		.thumb_func
 1685              	usb_port_power_on:
 1686              	.LVL115:
 1687              	.LFB169:
 830:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** #endif
 831:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 832:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** #ifdef OTGFS_USB_HOST
 833:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 834:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  usb port power on
 835:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 836:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 837:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 838:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 839:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  state: state (TRUE or FALSE)
 840:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval none
 841:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 842:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** void usb_port_power_on(otg_global_type *usbx, confirm_state state)
 843:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 1688              		.loc 1 843 1 is_stmt 1 view -0
 1689              		.cfi_startproc
 1690              		@ args = 0, pretend = 0, frame = 0
 1691              		@ frame_needed = 0, uses_anonymous_args = 0
 1692              		@ link register save eliminated.
 844:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   otg_host_type *usb_host = OTG_HOST(usbx);
 1693              		.loc 1 844 3 view .LVU429
 1694              		.loc 1 844 29 is_stmt 0 view .LVU430
 1695 0000 00F58060 		add	r0, r0, #1024
 1696              	.LVL116:
 845:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   uint32_t hprt_val = usb_host->hprt;
 1697              		.loc 1 845 3 is_stmt 1 view .LVU431
 1698              		.loc 1 845 12 is_stmt 0 view .LVU432
 1699 0004 036C     		ldr	r3, [r0, #64]
 1700              	.LVL117:
 846:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 847:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   hprt_val &= ~(USB_OTG_HPRT_PRTENA | USB_OTG_HPRT_PRTENCHNG |
 1701              		.loc 1 847 3 is_stmt 1 view .LVU433
 1702              		.loc 1 847 12 is_stmt 0 view .LVU434
 1703 0006 23F01E02 		bic	r2, r3, #30
 1704              	.LVL118:
 848:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****                USB_OTG_HPRT_PRTOVRCACT | USB_OTG_HPRT_PRTCONDET);
 849:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 850:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   if(state == TRUE)
 1705              		.loc 1 850 3 is_stmt 1 view .LVU435
 1706              		.loc 1 850 5 is_stmt 0 view .LVU436
 1707 000a 0129     		cmp	r1, #1
 1708 000c 05D0     		beq	.L110
 851:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 852:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     usb_host->hprt = hprt_val | USB_OTG_HPRT_PRTPWR;
 853:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 854:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   else
 855:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 856:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     usb_host->hprt = hprt_val & (~USB_OTG_HPRT_PRTPWR);
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 46


 1709              		.loc 1 856 5 is_stmt 1 view .LVU437
 1710              		.loc 1 856 31 is_stmt 0 view .LVU438
 1711 000e 23F48053 		bic	r3, r3, #4096
 1712 0012 23F01E03 		bic	r3, r3, #30
 1713              		.loc 1 856 20 view .LVU439
 1714 0016 0364     		str	r3, [r0, #64]
 857:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 858:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 1715              		.loc 1 858 1 view .LVU440
 1716 0018 7047     		bx	lr
 1717              	.L110:
 852:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 1718              		.loc 1 852 5 is_stmt 1 view .LVU441
 852:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 1719              		.loc 1 852 31 is_stmt 0 view .LVU442
 1720 001a 42F48052 		orr	r2, r2, #4096
 1721              	.LVL119:
 852:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 1722              		.loc 1 852 20 view .LVU443
 1723 001e 0264     		str	r2, [r0, #64]
 1724 0020 7047     		bx	lr
 1725              		.cfi_endproc
 1726              	.LFE169:
 1728              		.section	.text.usbh_get_frame,"ax",%progbits
 1729              		.align	1
 1730              		.global	usbh_get_frame
 1731              		.syntax unified
 1732              		.thumb
 1733              		.thumb_func
 1735              	usbh_get_frame:
 1736              	.LVL120:
 1737              	.LFB170:
 859:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 860:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 861:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  get current frame number
 862:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 863:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 864:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 865:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 866:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval none
 867:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 868:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** uint32_t usbh_get_frame(otg_global_type *usbx)
 869:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 1738              		.loc 1 869 1 is_stmt 1 view -0
 1739              		.cfi_startproc
 1740              		@ args = 0, pretend = 0, frame = 0
 1741              		@ frame_needed = 0, uses_anonymous_args = 0
 1742              		@ link register save eliminated.
 870:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   otg_host_type *usb_host = OTG_HOST(usbx);
 1743              		.loc 1 870 3 view .LVU445
 1744              		.loc 1 870 29 is_stmt 0 view .LVU446
 1745 0000 00F58060 		add	r0, r0, #1024
 1746              	.LVL121:
 871:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   return usb_host->hfnum & 0xFFFF;
 1747              		.loc 1 871 3 is_stmt 1 view .LVU447
 1748              		.loc 1 871 18 is_stmt 0 view .LVU448
 1749 0004 8068     		ldr	r0, [r0, #8]
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 47


 1750              	.LVL122:
 872:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 1751              		.loc 1 872 1 view .LVU449
 1752 0006 80B2     		uxth	r0, r0
 1753 0008 7047     		bx	lr
 1754              		.cfi_endproc
 1755              	.LFE170:
 1757              		.section	.text.usb_hc_enable,"ax",%progbits
 1758              		.align	1
 1759              		.global	usb_hc_enable
 1760              		.syntax unified
 1761              		.thumb
 1762              		.thumb_func
 1764              	usb_hc_enable:
 1765              	.LVL123:
 1766              	.LFB171:
 873:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 874:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 875:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  enable one host channel
 876:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 877:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 878:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 879:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 880:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  chn: host channel number
 881:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  ept_num: devvice endpoint number
 882:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  dev_address: device address
 883:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  type: channel transfer type
 884:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 885:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - EPT_CONTROL_TYPE
 886:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - EPT_BULK_TYPE
 887:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - EPT_INT_TYPE
 888:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - EPT_ISO_TYPE
 889:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  maxpacket: support max packe size for this channel
 890:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  speed: device speed
 891:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 892:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_PRTSPD_FULL_SPEED
 893:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - USB_PRTSPD_LOW_SPEED
 894:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval none
 895:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 896:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** void usb_hc_enable(otg_global_type *usbx,
 897:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****                    uint8_t chn,
 898:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****                    uint8_t ept_num,
 899:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****                    uint8_t dev_address,
 900:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****                    uint8_t type,
 901:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****                    uint16_t maxpacket,
 902:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****                    uint8_t speed)
 903:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 1767              		.loc 1 903 1 is_stmt 1 view -0
 1768              		.cfi_startproc
 1769              		@ args = 12, pretend = 0, frame = 0
 1770              		@ frame_needed = 0, uses_anonymous_args = 0
 1771              		.loc 1 903 1 is_stmt 0 view .LVU451
 1772 0000 70B5     		push	{r4, r5, r6, lr}
 1773              	.LCFI7:
 1774              		.cfi_def_cfa_offset 16
 1775              		.cfi_offset 4, -16
 1776              		.cfi_offset 5, -12
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 48


 1777              		.cfi_offset 6, -8
 1778              		.cfi_offset 14, -4
 1779 0002 9DF810E0 		ldrb	lr, [sp, #16]	@ zero_extendqisi2
 904:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   otg_hchannel_type *hch = USB_CHL(usbx, chn);
 1780              		.loc 1 904 3 is_stmt 1 view .LVU452
 1781              		.loc 1 904 28 is_stmt 0 view .LVU453
 1782 0006 00EB411C 		add	ip, r0, r1, lsl #5
 1783 000a 0CF5A064 		add	r4, ip, #1280
 1784              	.LVL124:
 905:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   otg_host_type *usb_host = OTG_HOST(usbx);
 1785              		.loc 1 905 3 is_stmt 1 view .LVU454
 1786              		.loc 1 905 29 is_stmt 0 view .LVU455
 1787 000e 00F58066 		add	r6, r0, #1024
 1788              	.LVL125:
 906:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 907:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   switch(type)
 1789              		.loc 1 907 3 is_stmt 1 view .LVU456
 1790 0012 BEF1030F 		cmp	lr, #3
 1791 0016 17D8     		bhi	.L113
 1792 0018 DFE80EF0 		tbb	[pc, lr]
 1793              	.L115:
 1794 001c 02       		.byte	(.L116-.L115)/2
 1795 001d 51       		.byte	(.L117-.L115)/2
 1796 001e 02       		.byte	(.L116-.L115)/2
 1797 001f 10       		.byte	(.L114-.L115)/2
 1798              		.p2align 1
 1799              	.L116:
 908:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 909:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     case EPT_CONTROL_TYPE:
 910:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     case EPT_BULK_TYPE:
 911:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       hch->hcintmsk |= USB_OTG_HC_XFERCM_INT | USB_OTG_HC_STALLM_INT |
 1800              		.loc 1 911 7 view .LVU457
 1801              		.loc 1 911 21 is_stmt 0 view .LVU458
 1802 0020 E568     		ldr	r5, [r4, #12]
 1803 0022 45F49365 		orr	r5, r5, #1176
 1804 0026 45F00105 		orr	r5, r5, #1
 1805 002a E560     		str	r5, [r4, #12]
 912:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****                        USB_OTG_HC_XACTERRM_INT | USB_OTG_HC_NAKM_INT |
 913:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****                        USB_OTG_HC_DTGLERRM_INT;
 914:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       if(ept_num & 0x80)
 1806              		.loc 1 914 7 is_stmt 1 view .LVU459
 1807              		.loc 1 914 9 is_stmt 0 view .LVU460
 1808 002c 12F0800F 		tst	r2, #128
 1809 0030 0AD0     		beq	.L113
 915:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       {
 916:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****         hch->hcintmsk_bit.bblerrmsk = TRUE;
 1810              		.loc 1 916 9 is_stmt 1 view .LVU461
 1811              		.loc 1 916 37 is_stmt 0 view .LVU462
 1812 0032 E568     		ldr	r5, [r4, #12]
 1813 0034 45F48075 		orr	r5, r5, #256
 1814 0038 E560     		str	r5, [r4, #12]
 1815              	.LVL126:
 1816              		.loc 1 916 37 view .LVU463
 1817 003a 05E0     		b	.L113
 1818              	.LVL127:
 1819              	.L114:
 917:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       }
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 49


 918:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       break;
 919:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     case EPT_INT_TYPE:
 920:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       hch->hcintmsk |= USB_OTG_HC_XFERCM_INT | USB_OTG_HC_STALLM_INT |
 1820              		.loc 1 920 7 is_stmt 1 view .LVU464
 1821              		.loc 1 920 21 is_stmt 0 view .LVU465
 1822 003c E568     		ldr	r5, [r4, #12]
 1823 003e 45F4D365 		orr	r5, r5, #1688
 1824 0042 45F00105 		orr	r5, r5, #1
 1825 0046 E560     		str	r5, [r4, #12]
 921:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****                        USB_OTG_HC_XACTERRM_INT | USB_OTG_HC_NAKM_INT |
 922:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****                        USB_OTG_HC_DTGLERRM_INT | USB_OTG_HC_FRMOVRRUN_INT;
 923:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       break;
 1826              		.loc 1 923 7 is_stmt 1 view .LVU466
 1827              	.LVL128:
 1828              	.L113:
 924:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     case EPT_ISO_TYPE:
 925:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 926:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       hch->hcintmsk |= USB_OTG_HC_XFERCM_INT | USB_OTG_HC_ACKM_INT |
 927:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****                        USB_OTG_HC_FRMOVRRUN_INT;
 928:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       break;
 929:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 930:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   usb_host->haintmsk |= 1 << chn;
 1829              		.loc 1 930 3 view .LVU467
 1830              		.loc 1 930 22 is_stmt 0 view .LVU468
 1831 0048 B469     		ldr	r4, [r6, #24]
 1832              	.LVL129:
 1833              		.loc 1 930 27 view .LVU469
 1834 004a 0125     		movs	r5, #1
 1835 004c 05FA01F1 		lsl	r1, r5, r1
 1836              	.LVL130:
 1837              		.loc 1 930 22 view .LVU470
 1838 0050 2143     		orrs	r1, r1, r4
 1839 0052 B161     		str	r1, [r6, #24]
 931:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   usbx->gintmsk_bit.hchintmsk = TRUE;
 1840              		.loc 1 931 3 is_stmt 1 view .LVU471
 1841              		.loc 1 931 31 is_stmt 0 view .LVU472
 1842 0054 8169     		ldr	r1, [r0, #24]
 1843 0056 41F00071 		orr	r1, r1, #33554432
 1844 005a 8161     		str	r1, [r0, #24]
 932:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 933:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   hch->hcchar_bit.devaddr = dev_address;
 1845              		.loc 1 933 3 is_stmt 1 view .LVU473
 1846              		.loc 1 933 27 is_stmt 0 view .LVU474
 1847 005c DCF80015 		ldr	r1, [ip, #1280]
 1848 0060 63F39C51 		bfi	r1, r3, #22, #7
 1849 0064 CCF80015 		str	r1, [ip, #1280]
 934:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   hch->hcchar_bit.eptnum = ept_num & 0x7F;
 1850              		.loc 1 934 3 is_stmt 1 view .LVU475
 1851              		.loc 1 934 26 is_stmt 0 view .LVU476
 1852 0068 DCF80035 		ldr	r3, [ip, #1280]
 1853              	.LVL131:
 1854              		.loc 1 934 26 view .LVU477
 1855 006c 62F3CE23 		bfi	r3, r2, #11, #4
 1856 0070 CCF80035 		str	r3, [ip, #1280]
 935:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   hch->hcchar_bit.eptdir = (ept_num & 0x80)?1:0;
 1857              		.loc 1 935 3 is_stmt 1 view .LVU478
 1858              		.loc 1 935 46 is_stmt 0 view .LVU479
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 50


 1859 0074 D209     		lsrs	r2, r2, #7
 1860              	.LVL132:
 1861              		.loc 1 935 26 view .LVU480
 1862 0076 DCF80035 		ldr	r3, [ip, #1280]
 1863 007a 62F3CF33 		bfi	r3, r2, #15, #1
 1864 007e CCF80035 		str	r3, [ip, #1280]
 936:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   hch->hcchar_bit.lspddev = (speed == USB_PRTSPD_LOW_SPEED)?1:0;
 1865              		.loc 1 936 3 is_stmt 1 view .LVU481
 1866              		.loc 1 936 62 is_stmt 0 view .LVU482
 1867 0082 9DF81830 		ldrb	r3, [sp, #24]	@ zero_extendqisi2
 1868 0086 022B     		cmp	r3, #2
 1869 0088 14BF     		ite	ne
 1870 008a 0023     		movne	r3, #0
 1871 008c 0123     		moveq	r3, #1
 1872              		.loc 1 936 27 view .LVU483
 1873 008e DCF80025 		ldr	r2, [ip, #1280]
 1874 0092 63F35142 		bfi	r2, r3, #17, #1
 1875 0096 CCF80025 		str	r2, [ip, #1280]
 937:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   hch->hcchar_bit.eptype = type;
 1876              		.loc 1 937 3 is_stmt 1 view .LVU484
 1877              		.loc 1 937 26 is_stmt 0 view .LVU485
 1878 009a DCF80035 		ldr	r3, [ip, #1280]
 1879 009e 6EF39343 		bfi	r3, lr, #18, #2
 1880 00a2 CCF80035 		str	r3, [ip, #1280]
 938:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   hch->hcchar_bit.mps = maxpacket;
 1881              		.loc 1 938 3 is_stmt 1 view .LVU486
 1882              		.loc 1 938 23 is_stmt 0 view .LVU487
 1883 00a6 DCF80035 		ldr	r3, [ip, #1280]
 1884 00aa BDF81420 		ldrh	r2, [sp, #20]
 1885 00ae 62F30A03 		bfi	r3, r2, #0, #11
 1886 00b2 CCF80035 		str	r3, [ip, #1280]
 939:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 940:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   if(type == EPT_INT_TYPE)
 1887              		.loc 1 940 3 is_stmt 1 view .LVU488
 1888              		.loc 1 940 5 is_stmt 0 view .LVU489
 1889 00b6 BEF1030F 		cmp	lr, #3
 1890 00ba 07D0     		beq	.L120
 1891              	.L112:
 941:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 942:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     hch->hcchar_bit.oddfrm = TRUE;
 943:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 944:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 1892              		.loc 1 944 1 view .LVU490
 1893 00bc 70BD     		pop	{r4, r5, r6, pc}
 1894              	.LVL133:
 1895              	.L117:
 926:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****                        USB_OTG_HC_FRMOVRRUN_INT;
 1896              		.loc 1 926 7 is_stmt 1 view .LVU491
 926:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****                        USB_OTG_HC_FRMOVRRUN_INT;
 1897              		.loc 1 926 21 is_stmt 0 view .LVU492
 1898 00be E568     		ldr	r5, [r4, #12]
 1899 00c0 45F40875 		orr	r5, r5, #544
 1900 00c4 45F00105 		orr	r5, r5, #1
 1901 00c8 E560     		str	r5, [r4, #12]
 928:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 1902              		.loc 1 928 7 is_stmt 1 view .LVU493
 1903 00ca BDE7     		b	.L113
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 51


 1904              	.LVL134:
 1905              	.L120:
 942:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 1906              		.loc 1 942 5 view .LVU494
 942:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 1907              		.loc 1 942 28 is_stmt 0 view .LVU495
 1908 00cc DCF80035 		ldr	r3, [ip, #1280]
 1909 00d0 43F00053 		orr	r3, r3, #536870912
 1910 00d4 CCF80035 		str	r3, [ip, #1280]
 1911              		.loc 1 944 1 view .LVU496
 1912 00d8 F0E7     		b	.L112
 1913              		.cfi_endproc
 1914              	.LFE171:
 1916              		.section	.text.usb_hch_read_interrupt,"ax",%progbits
 1917              		.align	1
 1918              		.global	usb_hch_read_interrupt
 1919              		.syntax unified
 1920              		.thumb
 1921              		.thumb_func
 1923              	usb_hch_read_interrupt:
 1924              	.LVL135:
 1925              	.LFB172:
 945:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 946:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 947:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  host read channel interrupt
 948:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 949:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 950:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 951:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 952:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval interrupt flag
 953:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 954:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** uint32_t usb_hch_read_interrupt(otg_global_type *usbx)
 955:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 1926              		.loc 1 955 1 is_stmt 1 view -0
 1927              		.cfi_startproc
 1928              		@ args = 0, pretend = 0, frame = 0
 1929              		@ frame_needed = 0, uses_anonymous_args = 0
 1930              		@ link register save eliminated.
 956:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   otg_host_type *usb_host = OTG_HOST(usbx);
 1931              		.loc 1 956 3 view .LVU498
 1932              		.loc 1 956 29 is_stmt 0 view .LVU499
 1933 0000 00F58060 		add	r0, r0, #1024
 1934              	.LVL136:
 957:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   return usb_host->haint & 0xFFFF;
 1935              		.loc 1 957 3 is_stmt 1 view .LVU500
 1936              		.loc 1 957 18 is_stmt 0 view .LVU501
 1937 0004 4069     		ldr	r0, [r0, #20]
 1938              	.LVL137:
 958:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 1939              		.loc 1 958 1 view .LVU502
 1940 0006 80B2     		uxth	r0, r0
 1941 0008 7047     		bx	lr
 1942              		.cfi_endproc
 1943              	.LFE172:
 1945              		.section	.text.usb_host_disable,"ax",%progbits
 1946              		.align	1
 1947              		.global	usb_host_disable
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 52


 1948              		.syntax unified
 1949              		.thumb
 1950              		.thumb_func
 1952              	usb_host_disable:
 1953              	.LVL138:
 1954              	.LFB173:
 959:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 960:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
 961:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  disable host
 962:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
 963:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
 964:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
 965:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
 966:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval none
 967:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
 968:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** void usb_host_disable(otg_global_type *usbx)
 969:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 1955              		.loc 1 969 1 is_stmt 1 view -0
 1956              		.cfi_startproc
 1957              		@ args = 0, pretend = 0, frame = 0
 1958              		@ frame_needed = 0, uses_anonymous_args = 0
 1959              		.loc 1 969 1 is_stmt 0 view .LVU504
 1960 0000 70B5     		push	{r4, r5, r6, lr}
 1961              	.LCFI8:
 1962              		.cfi_def_cfa_offset 16
 1963              		.cfi_offset 4, -16
 1964              		.cfi_offset 5, -12
 1965              		.cfi_offset 6, -8
 1966              		.cfi_offset 14, -4
 1967 0002 0446     		mov	r4, r0
 970:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   uint32_t i_index = 0, count = 0;
 1968              		.loc 1 970 3 is_stmt 1 view .LVU505
 1969              	.LVL139:
 971:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   otg_hchannel_type *hch;
 1970              		.loc 1 971 3 view .LVU506
 972:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   otg_host_type *usb_host = OTG_HOST(usbx);
 1971              		.loc 1 972 3 view .LVU507
 1972              		.loc 1 972 29 is_stmt 0 view .LVU508
 1973 0004 00F58065 		add	r5, r0, #1024
 1974              	.LVL140:
 973:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 974:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   usbx->gahbcfg_bit.glbintmsk = FALSE;
 1975              		.loc 1 974 3 is_stmt 1 view .LVU509
 1976              		.loc 1 974 31 is_stmt 0 view .LVU510
 1977 0008 8368     		ldr	r3, [r0, #8]
 1978 000a 6FF30003 		bfc	r3, #0, #1
 1979 000e 8360     		str	r3, [r0, #8]
 975:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   usb_flush_rx_fifo(usbx);
 1980              		.loc 1 975 3 is_stmt 1 view .LVU511
 1981 0010 FFF7FEFF 		bl	usb_flush_rx_fifo
 1982              	.LVL141:
 976:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   usb_flush_tx_fifo(usbx, 0x10);
 1983              		.loc 1 976 3 view .LVU512
 1984 0014 1021     		movs	r1, #16
 1985 0016 2046     		mov	r0, r4
 1986 0018 FFF7FEFF 		bl	usb_flush_tx_fifo
 1987              	.LVL142:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 53


 977:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 978:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   for(i_index = 0; i_index < 16; i_index ++)
 1988              		.loc 1 978 3 view .LVU513
 1989              		.loc 1 978 15 is_stmt 0 view .LVU514
 1990 001c 0022     		movs	r2, #0
 1991              		.loc 1 978 3 view .LVU515
 1992 001e 14E0     		b	.L123
 1993              	.LVL143:
 1994              	.L124:
 979:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 980:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     hch = USB_CHL(usbx, i_index);
 1995              		.loc 1 980 5 is_stmt 1 discriminator 3 view .LVU516
 1996              		.loc 1 980 11 is_stmt 0 discriminator 3 view .LVU517
 1997 0020 04EB4213 		add	r3, r4, r2, lsl #5
 1998              	.LVL144:
 981:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     hch->hcchar_bit.chdis = TRUE;
 1999              		.loc 1 981 5 is_stmt 1 discriminator 3 view .LVU518
 2000              		.loc 1 981 27 is_stmt 0 discriminator 3 view .LVU519
 2001 0024 D3F80015 		ldr	r1, [r3, #1280]
 2002 0028 41F08041 		orr	r1, r1, #1073741824
 2003 002c C3F80015 		str	r1, [r3, #1280]
 982:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     hch->hcchar_bit.chena = FALSE;
 2004              		.loc 1 982 5 is_stmt 1 discriminator 3 view .LVU520
 2005              		.loc 1 982 27 is_stmt 0 discriminator 3 view .LVU521
 2006 0030 D3F80015 		ldr	r1, [r3, #1280]
 2007 0034 6FF3DF71 		bfc	r1, #31, #1
 2008 0038 C3F80015 		str	r1, [r3, #1280]
 983:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     hch->hcchar_bit.eptdir = 0;
 2009              		.loc 1 983 5 is_stmt 1 discriminator 3 view .LVU522
 2010              		.loc 1 983 28 is_stmt 0 discriminator 3 view .LVU523
 2011 003c D3F80015 		ldr	r1, [r3, #1280]
 2012 0040 6FF3CF31 		bfc	r1, #15, #1
 2013 0044 C3F80015 		str	r1, [r3, #1280]
 978:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 2014              		.loc 1 978 34 is_stmt 1 discriminator 3 view .LVU524
 978:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 2015              		.loc 1 978 42 is_stmt 0 discriminator 3 view .LVU525
 2016 0048 0132     		adds	r2, r2, #1
 2017              	.LVL145:
 2018              	.L123:
 978:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 2019              		.loc 1 978 20 is_stmt 1 discriminator 1 view .LVU526
 978:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 2020              		.loc 1 978 3 is_stmt 0 discriminator 1 view .LVU527
 2021 004a 0F2A     		cmp	r2, #15
 2022 004c E8D9     		bls	.L124
 970:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   otg_hchannel_type *hch;
 2023              		.loc 1 970 25 view .LVU528
 2024 004e 0022     		movs	r2, #0
 2025              	.LVL146:
 984:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 985:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
 986:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   for(i_index = 0; i_index < 16; i_index ++)
 2026              		.loc 1 986 15 view .LVU529
 2027 0050 1046     		mov	r0, r2
 2028 0052 00E0     		b	.L125
 2029              	.LVL147:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 54


 2030              	.L126:
 2031              		.loc 1 986 34 is_stmt 1 discriminator 2 view .LVU530
 2032              		.loc 1 986 42 is_stmt 0 discriminator 2 view .LVU531
 2033 0054 0130     		adds	r0, r0, #1
 2034              	.LVL148:
 2035              	.L125:
 2036              		.loc 1 986 20 is_stmt 1 discriminator 1 view .LVU532
 2037              		.loc 1 986 3 is_stmt 0 discriminator 1 view .LVU533
 2038 0056 0F28     		cmp	r0, #15
 2039 0058 1ED8     		bhi	.L130
 987:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
 988:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     hch = USB_CHL(usbx, i_index);
 2040              		.loc 1 988 5 is_stmt 1 view .LVU534
 2041              		.loc 1 988 11 is_stmt 0 view .LVU535
 2042 005a 04EB4013 		add	r3, r4, r0, lsl #5
 2043 005e 03F5A061 		add	r1, r3, #1280
 2044              	.LVL149:
 989:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     hch->hcchar_bit.chdis = TRUE;
 2045              		.loc 1 989 5 is_stmt 1 view .LVU536
 2046              		.loc 1 989 27 is_stmt 0 view .LVU537
 2047 0062 D3F80065 		ldr	r6, [r3, #1280]
 2048 0066 46F08046 		orr	r6, r6, #1073741824
 2049 006a C3F80065 		str	r6, [r3, #1280]
 990:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     hch->hcchar_bit.chena = TRUE;
 2050              		.loc 1 990 5 is_stmt 1 view .LVU538
 2051              		.loc 1 990 27 is_stmt 0 view .LVU539
 2052 006e D3F80065 		ldr	r6, [r3, #1280]
 2053 0072 46F00046 		orr	r6, r6, #-2147483648
 2054 0076 C3F80065 		str	r6, [r3, #1280]
 991:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     hch->hcchar_bit.eptdir = 0;
 2055              		.loc 1 991 5 is_stmt 1 view .LVU540
 2056              		.loc 1 991 28 is_stmt 0 view .LVU541
 2057 007a D3F80065 		ldr	r6, [r3, #1280]
 2058 007e 6FF3CF36 		bfc	r6, #15, #1
 2059 0082 C3F80065 		str	r6, [r3, #1280]
 2060              	.LVL150:
 2061              	.L127:
 992:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     do
 2062              		.loc 1 992 5 is_stmt 1 view .LVU542
 993:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     {
 994:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       if(count ++ > 1000)
 2063              		.loc 1 994 7 view .LVU543
 2064              		.loc 1 994 9 is_stmt 0 view .LVU544
 2065 0086 B2F57A7F 		cmp	r2, #1000
 2066 008a 02F10102 		add	r2, r2, #1
 2067              	.LVL151:
 2068              		.loc 1 994 9 view .LVU545
 2069 008e E1D8     		bhi	.L126
 995:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****         break;
 996:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }while(hch->hcchar_bit.chena);
 2070              		.loc 1 996 11 is_stmt 1 view .LVU546
 2071              		.loc 1 996 27 is_stmt 0 view .LVU547
 2072 0090 0B68     		ldr	r3, [r1]
 2073              		.loc 1 996 5 view .LVU548
 2074 0092 002B     		cmp	r3, #0
 2075 0094 F7DB     		blt	.L127
 2076 0096 DDE7     		b	.L126
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 55


 2077              	.LVL152:
 2078              	.L130:
 997:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 998:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   usb_host->haint = 0xFFFFFFFF;
 2079              		.loc 1 998 3 is_stmt 1 view .LVU549
 2080              		.loc 1 998 19 is_stmt 0 view .LVU550
 2081 0098 4FF0FF33 		mov	r3, #-1
 2082 009c 6B61     		str	r3, [r5, #20]
 999:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   usbx->gintsts = 0xFFFFFFFF;
 2083              		.loc 1 999 3 is_stmt 1 view .LVU551
 2084              		.loc 1 999 17 is_stmt 0 view .LVU552
 2085 009e 6361     		str	r3, [r4, #20]
1000:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   usbx->gahbcfg_bit.glbintmsk = TRUE;
 2086              		.loc 1 1000 3 is_stmt 1 view .LVU553
 2087              		.loc 1 1000 31 is_stmt 0 view .LVU554
 2088 00a0 A368     		ldr	r3, [r4, #8]
 2089 00a2 43F00103 		orr	r3, r3, #1
 2090 00a6 A360     		str	r3, [r4, #8]
1001:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 2091              		.loc 1 1001 1 view .LVU555
 2092 00a8 70BD     		pop	{r4, r5, r6, pc}
 2093              		.loc 1 1001 1 view .LVU556
 2094              		.cfi_endproc
 2095              	.LFE173:
 2097              		.section	.text.usb_hch_halt,"ax",%progbits
 2098              		.align	1
 2099              		.global	usb_hch_halt
 2100              		.syntax unified
 2101              		.thumb
 2102              		.thumb_func
 2104              	usb_hch_halt:
 2105              	.LVL153:
 2106              	.LFB174:
1002:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
1003:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
1004:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  halt channel
1005:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
1006:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
1007:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
1008:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
1009:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  chn: channel number
1010:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval none
1011:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
1012:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** void usb_hch_halt(otg_global_type *usbx, uint8_t chn)
1013:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 2107              		.loc 1 1013 1 is_stmt 1 view -0
 2108              		.cfi_startproc
 2109              		@ args = 0, pretend = 0, frame = 0
 2110              		@ frame_needed = 0, uses_anonymous_args = 0
 2111              		@ link register save eliminated.
1014:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   uint32_t count = 0;
 2112              		.loc 1 1014 3 view .LVU558
1015:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   otg_hchannel_type *usb_chh = USB_CHL(usbx, chn);
 2113              		.loc 1 1015 3 view .LVU559
 2114              		.loc 1 1015 32 is_stmt 0 view .LVU560
 2115 0000 00EB4111 		add	r1, r0, r1, lsl #5
 2116              	.LVL154:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 56


 2117              		.loc 1 1015 32 view .LVU561
 2118 0004 01F5A06C 		add	ip, r1, #1280
 2119              	.LVL155:
1016:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   otg_host_type *usb_host = OTG_HOST(usbx);
 2120              		.loc 1 1016 3 is_stmt 1 view .LVU562
 2121              		.loc 1 1016 29 is_stmt 0 view .LVU563
 2122 0008 00F58062 		add	r2, r0, #1024
 2123              	.LVL156:
1017:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
1018:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   /* endpoint type is control or bulk */
1019:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   if(usb_chh->hcchar_bit.eptype == EPT_CONTROL_TYPE ||
 2124              		.loc 1 1019 3 is_stmt 1 view .LVU564
 2125              		.loc 1 1019 25 is_stmt 0 view .LVU565
 2126 000c D1F80035 		ldr	r3, [r1, #1280]
 2127              		.loc 1 1019 5 view .LVU566
 2128 0010 13F4402F 		tst	r3, #786432
 2129 0014 26D0     		beq	.L132
1020:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****      usb_chh->hcchar_bit.eptype == EPT_BULK_TYPE)
 2130              		.loc 1 1020 25 discriminator 1 view .LVU567
 2131 0016 D1F80035 		ldr	r3, [r1, #1280]
 2132 001a C3F38143 		ubfx	r3, r3, #18, #2
1019:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****      usb_chh->hcchar_bit.eptype == EPT_BULK_TYPE)
 2133              		.loc 1 1019 53 discriminator 1 view .LVU568
 2134 001e 022B     		cmp	r3, #2
 2135 0020 20D0     		beq	.L132
1021:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
1022:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     usb_chh->hcchar_bit.chdis = TRUE;
1023:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     if((usbx->gnptxsts_bit.nptxqspcavail) == 0)
1024:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     {
1025:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       usb_chh->hcchar_bit.chena = FALSE;
1026:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       usb_chh->hcchar_bit.chena = TRUE;
1027:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       do
1028:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       {
1029:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****         if(count ++ > 1000)
1030:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****           break;
1031:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       }while(usb_chh->hcchar_bit.chena == SET);
1032:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
1033:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     else
1034:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     {
1035:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       usb_chh->hcchar_bit.chena = TRUE;
1036:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
1037:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
1038:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   else
1039:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
1040:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     usb_chh->hcchar_bit.chdis = TRUE;
 2136              		.loc 1 1040 5 is_stmt 1 view .LVU569
 2137              		.loc 1 1040 31 is_stmt 0 view .LVU570
 2138 0022 D1F80035 		ldr	r3, [r1, #1280]
 2139 0026 43F08043 		orr	r3, r3, #1073741824
 2140 002a C1F80035 		str	r3, [r1, #1280]
1041:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     if((usb_host->hptxsts_bit.ptxqspcavil) == 0)
 2141              		.loc 1 1041 5 is_stmt 1 view .LVU571
 2142              		.loc 1 1041 30 is_stmt 0 view .LVU572
 2143 002e 1369     		ldr	r3, [r2, #16]
 2144              		.loc 1 1041 7 view .LVU573
 2145 0030 13F47F0F 		tst	r3, #16711680
 2146 0034 3ED1     		bne	.L137
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 57


1042:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     {
1043:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       usb_chh->hcchar_bit.chena = FALSE;
 2147              		.loc 1 1043 7 is_stmt 1 view .LVU574
 2148              		.loc 1 1043 33 is_stmt 0 view .LVU575
 2149 0036 D1F80035 		ldr	r3, [r1, #1280]
 2150 003a 6FF3DF73 		bfc	r3, #31, #1
 2151 003e C1F80035 		str	r3, [r1, #1280]
1044:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       usb_chh->hcchar_bit.chena = TRUE;
 2152              		.loc 1 1044 7 is_stmt 1 view .LVU576
 2153              		.loc 1 1044 33 is_stmt 0 view .LVU577
 2154 0042 D1F80035 		ldr	r3, [r1, #1280]
 2155 0046 43F00043 		orr	r3, r3, #-2147483648
 2156 004a C1F80035 		str	r3, [r1, #1280]
1014:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   otg_hchannel_type *usb_chh = USB_CHL(usbx, chn);
 2157              		.loc 1 1014 12 view .LVU578
 2158 004e 0022     		movs	r2, #0
 2159              	.LVL157:
 2160              	.L138:
1045:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       do
 2161              		.loc 1 1045 7 is_stmt 1 view .LVU579
1046:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       {
1047:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****         if(count ++ > 1000)
 2162              		.loc 1 1047 9 view .LVU580
 2163              		.loc 1 1047 11 is_stmt 0 view .LVU581
 2164 0050 B2F57A7F 		cmp	r2, #1000
 2165 0054 02F10102 		add	r2, r2, #1
 2166              	.LVL158:
 2167              		.loc 1 1047 11 view .LVU582
 2168 0058 32D8     		bhi	.L131
1048:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****           break;
1049:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       }while(usb_chh->hcchar_bit.chena == SET);
 2169              		.loc 1 1049 13 is_stmt 1 view .LVU583
 2170              		.loc 1 1049 33 is_stmt 0 view .LVU584
 2171 005a DCF80030 		ldr	r3, [ip]
 2172              		.loc 1 1049 7 view .LVU585
 2173 005e 002B     		cmp	r3, #0
 2174 0060 F6DB     		blt	.L138
 2175 0062 7047     		bx	lr
 2176              	.LVL159:
 2177              	.L132:
1022:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     if((usbx->gnptxsts_bit.nptxqspcavail) == 0)
 2178              		.loc 1 1022 5 is_stmt 1 view .LVU586
1022:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     if((usbx->gnptxsts_bit.nptxqspcavail) == 0)
 2179              		.loc 1 1022 31 is_stmt 0 view .LVU587
 2180 0064 D1F80035 		ldr	r3, [r1, #1280]
 2181 0068 43F08043 		orr	r3, r3, #1073741824
 2182 006c C1F80035 		str	r3, [r1, #1280]
1023:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     {
 2183              		.loc 1 1023 5 is_stmt 1 view .LVU588
1023:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     {
 2184              		.loc 1 1023 27 is_stmt 0 view .LVU589
 2185 0070 C36A     		ldr	r3, [r0, #44]
1023:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     {
 2186              		.loc 1 1023 7 view .LVU590
 2187 0072 13F47F0F 		tst	r3, #16711680
 2188 0076 16D1     		bne	.L134
1025:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       usb_chh->hcchar_bit.chena = TRUE;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 58


 2189              		.loc 1 1025 7 is_stmt 1 view .LVU591
1025:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       usb_chh->hcchar_bit.chena = TRUE;
 2190              		.loc 1 1025 33 is_stmt 0 view .LVU592
 2191 0078 D1F80035 		ldr	r3, [r1, #1280]
 2192 007c 6FF3DF73 		bfc	r3, #31, #1
 2193 0080 C1F80035 		str	r3, [r1, #1280]
1026:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       do
 2194              		.loc 1 1026 7 is_stmt 1 view .LVU593
1026:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       do
 2195              		.loc 1 1026 33 is_stmt 0 view .LVU594
 2196 0084 D1F80035 		ldr	r3, [r1, #1280]
 2197 0088 43F00043 		orr	r3, r3, #-2147483648
 2198 008c C1F80035 		str	r3, [r1, #1280]
1014:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   otg_hchannel_type *usb_chh = USB_CHL(usbx, chn);
 2199              		.loc 1 1014 12 view .LVU595
 2200 0090 0022     		movs	r2, #0
 2201              	.LVL160:
 2202              	.L136:
1027:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       {
 2203              		.loc 1 1027 7 is_stmt 1 view .LVU596
1029:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****           break;
 2204              		.loc 1 1029 9 view .LVU597
1029:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****           break;
 2205              		.loc 1 1029 11 is_stmt 0 view .LVU598
 2206 0092 B2F57A7F 		cmp	r2, #1000
 2207 0096 02F10102 		add	r2, r2, #1
 2208              	.LVL161:
1029:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****           break;
 2209              		.loc 1 1029 11 view .LVU599
 2210 009a 11D8     		bhi	.L131
1031:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 2211              		.loc 1 1031 13 is_stmt 1 view .LVU600
1031:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 2212              		.loc 1 1031 33 is_stmt 0 view .LVU601
 2213 009c DCF80030 		ldr	r3, [ip]
1031:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 2214              		.loc 1 1031 7 view .LVU602
 2215 00a0 002B     		cmp	r3, #0
 2216 00a2 F6DB     		blt	.L136
 2217 00a4 7047     		bx	lr
 2218              	.LVL162:
 2219              	.L134:
1035:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 2220              		.loc 1 1035 7 is_stmt 1 view .LVU603
1035:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
 2221              		.loc 1 1035 33 is_stmt 0 view .LVU604
 2222 00a6 D1F80035 		ldr	r3, [r1, #1280]
 2223 00aa 43F00043 		orr	r3, r3, #-2147483648
 2224 00ae C1F80035 		str	r3, [r1, #1280]
 2225 00b2 7047     		bx	lr
 2226              	.L137:
1050:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
1051:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     else
1052:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     {
1053:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****       usb_chh->hcchar_bit.chena = TRUE;
 2227              		.loc 1 1053 7 is_stmt 1 view .LVU605
 2228              		.loc 1 1053 33 is_stmt 0 view .LVU606
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 59


 2229 00b4 D1F80035 		ldr	r3, [r1, #1280]
 2230 00b8 43F00043 		orr	r3, r3, #-2147483648
 2231 00bc C1F80035 		str	r3, [r1, #1280]
 2232              	.LVL163:
 2233              	.L131:
1054:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     }
1055:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
1056:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 2234              		.loc 1 1056 1 view .LVU607
 2235 00c0 7047     		bx	lr
 2236              		.cfi_endproc
 2237              	.LFE174:
 2239              		.section	.text.usbh_fsls_clksel,"ax",%progbits
 2240              		.align	1
 2241              		.global	usbh_fsls_clksel
 2242              		.syntax unified
 2243              		.thumb
 2244              		.thumb_func
 2246              	usbh_fsls_clksel:
 2247              	.LVL164:
 2248              	.LFB175:
1057:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** /**
1058:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @brief  select full or low speed clock
1059:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  usbx: to select the otgfs peripheral.
1060:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         this parameter can be one of the following values:
1061:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG1_GLOBAL
1062:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   *         - OTG2_GLOBAL
1063:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @param  clk: clock frequency
1064:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   * @retval none
1065:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   */
1066:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** void usbh_fsls_clksel(otg_global_type *usbx, uint8_t clk)
1067:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** {
 2249              		.loc 1 1067 1 is_stmt 1 view -0
 2250              		.cfi_startproc
 2251              		@ args = 0, pretend = 0, frame = 0
 2252              		@ frame_needed = 0, uses_anonymous_args = 0
 2253              		@ link register save eliminated.
1068:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   otg_host_type *usb_host = OTG_HOST(usbx);
 2254              		.loc 1 1068 3 view .LVU609
 2255              		.loc 1 1068 29 is_stmt 0 view .LVU610
 2256 0000 00F58062 		add	r2, r0, #1024
 2257              	.LVL165:
1069:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** 
1070:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   usb_host->hcfg_bit.fslspclksel = clk;
 2258              		.loc 1 1070 3 is_stmt 1 view .LVU611
 2259              		.loc 1 1070 34 is_stmt 0 view .LVU612
 2260 0004 D0F80034 		ldr	r3, [r0, #1024]
 2261 0008 61F30103 		bfi	r3, r1, #0, #2
 2262 000c C0F80034 		str	r3, [r0, #1024]
1071:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   if(clk == USB_HCFG_CLK_6M)
 2263              		.loc 1 1071 3 is_stmt 1 view .LVU613
 2264              		.loc 1 1071 5 is_stmt 0 view .LVU614
 2265 0010 0229     		cmp	r1, #2
 2266 0012 03D0     		beq	.L142
1072:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
1073:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     usb_host->hfir = 6000;
1074:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 60


1075:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   else
1076:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   {
1077:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****     usb_host->hfir = 48000;
 2267              		.loc 1 1077 5 is_stmt 1 view .LVU615
 2268              		.loc 1 1077 20 is_stmt 0 view .LVU616
 2269 0014 4BF68033 		movw	r3, #48000
 2270 0018 5360     		str	r3, [r2, #4]
1078:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
1079:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c **** }
 2271              		.loc 1 1079 1 view .LVU617
 2272 001a 7047     		bx	lr
 2273              	.L142:
1073:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 2274              		.loc 1 1073 5 is_stmt 1 view .LVU618
1073:HW_Lib/AT32F435/drivers/src/at32f435_437_usb.c ****   }
 2275              		.loc 1 1073 20 is_stmt 0 view .LVU619
 2276 001c 41F27073 		movw	r3, #6000
 2277 0020 5360     		str	r3, [r2, #4]
 2278 0022 7047     		bx	lr
 2279              		.cfi_endproc
 2280              	.LFE175:
 2282              		.text
 2283              	.Letext0:
 2284              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 2285              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 2286              		.file 4 "HW_Lib/AT32F435/cmsis/cm4/core_support/cmsis_gcc.h"
 2287              		.file 5 "HW_Lib/AT32F435/device_support/at32f435_437.h"
 2288              		.file 6 "HW_Lib/AT32F435/drivers/inc/at32f435_437_usb.h"
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 61


DEFINED SYMBOLS
                            *ABS*:00000000 at32f435_437_usb.c
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:20     .text.usb_global_reset:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:26     .text.usb_global_reset:00000000 usb_global_reset
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:99     .text.usb_global_reset:00000038 $d
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:104    .text.usb_global_init:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:110    .text.usb_global_init:00000000 usb_global_init
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:139    .text.usb_global_select_core:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:145    .text.usb_global_select_core:00000000 usb_global_select_core
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:171    .text.usb_global_select_core:0000000c $d
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:176    .text.usb_flush_tx_fifo:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:182    .text.usb_flush_tx_fifo:00000000 usb_flush_tx_fifo
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:230    .text.usb_flush_tx_fifo:00000028 $d
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:235    .text.usb_flush_rx_fifo:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:241    .text.usb_flush_rx_fifo:00000000 usb_flush_rx_fifo
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:284    .text.usb_flush_rx_fifo:00000020 $d
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:289    .text.usb_global_interrupt_enable:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:295    .text.usb_global_interrupt_enable:00000000 usb_global_interrupt_enable
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:330    .text.usb_global_get_all_interrupt:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:336    .text.usb_global_get_all_interrupt:00000000 usb_global_get_all_interrupt
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:359    .text.usb_global_clear_interrupt:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:365    .text.usb_global_clear_interrupt:00000000 usb_global_clear_interrupt
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:382    .text.usb_interrupt_enable:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:388    .text.usb_interrupt_enable:00000000 usb_interrupt_enable
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:407    .text.usb_interrupt_disable:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:413    .text.usb_interrupt_disable:00000000 usb_interrupt_disable
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:432    .text.usb_set_rx_fifo:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:438    .text.usb_set_rx_fifo:00000000 usb_set_rx_fifo
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:455    .text.usb_set_tx_fifo:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:461    .text.usb_set_tx_fifo:00000000 usb_set_tx_fifo
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:542    .text.usb_global_set_mode:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:548    .text.usb_global_set_mode:00000000 usb_global_set_mode
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:612    .text.usb_global_power_on:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:618    .text.usb_global_power_on:00000000 usb_global_power_on
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:651    .text.usb_stop_phy_clk:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:657    .text.usb_stop_phy_clk:00000000 usb_stop_phy_clk
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:676    .text.usb_open_phy_clk:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:682    .text.usb_open_phy_clk:00000000 usb_open_phy_clk
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:701    .text.usb_write_packet:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:707    .text.usb_write_packet:00000000 usb_write_packet
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:759    .text.usb_read_packet:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:765    .text.usb_read_packet:00000000 usb_read_packet
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:809    .text.usb_ept_open:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:815    .text.usb_ept_open:00000000 usb_ept_open
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1014   .text.usb_ept_close:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1020   .text.usb_ept_close:00000000 usb_ept_close
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1086   .text.usb_ept_stall:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1092   .text.usb_ept_stall:00000000 usb_ept_stall
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1160   .text.usb_ept_clear_stall:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1166   .text.usb_ept_clear_stall:00000000 usb_ept_clear_stall
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1242   .text.usb_get_all_out_interrupt:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1248   .text.usb_get_all_out_interrupt:00000000 usb_get_all_out_interrupt
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1275   .text.usb_get_all_in_interrupt:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1281   .text.usb_get_all_in_interrupt:00000000 usb_get_all_in_interrupt
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1308   .text.usb_ept_out_interrupt:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1314   .text.usb_ept_out_interrupt:00000000 usb_ept_out_interrupt
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1343   .text.usb_ept_in_interrupt:00000000 $t
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s 			page 62


C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1349   .text.usb_ept_in_interrupt:00000000 usb_ept_in_interrupt
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1404   .text.usb_ept_out_clear:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1410   .text.usb_ept_out_clear:00000000 usb_ept_out_clear
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1429   .text.usb_ept_in_clear:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1435   .text.usb_ept_in_clear:00000000 usb_ept_in_clear
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1454   .text.usb_set_address:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1460   .text.usb_set_address:00000000 usb_set_address
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1479   .text.usb_ept0_start:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1485   .text.usb_ept0_start:00000000 usb_ept0_start
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1521   .text.usb_ept0_setup:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1527   .text.usb_ept0_setup:00000000 usb_ept0_setup
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1551   .text.usb_connect:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1557   .text.usb_connect:00000000 usb_connect
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1576   .text.usb_disconnect:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1582   .text.usb_disconnect:00000000 usb_disconnect
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1601   .text.usb_remote_wkup_set:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1607   .text.usb_remote_wkup_set:00000000 usb_remote_wkup_set
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1626   .text.usb_remote_wkup_clear:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1632   .text.usb_remote_wkup_clear:00000000 usb_remote_wkup_clear
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1651   .text.usb_suspend_status_get:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1657   .text.usb_suspend_status_get:00000000 usb_suspend_status_get
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1679   .text.usb_port_power_on:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1685   .text.usb_port_power_on:00000000 usb_port_power_on
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1729   .text.usbh_get_frame:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1735   .text.usbh_get_frame:00000000 usbh_get_frame
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1758   .text.usb_hc_enable:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1764   .text.usb_hc_enable:00000000 usb_hc_enable
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1794   .text.usb_hc_enable:0000001c $d
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1798   .text.usb_hc_enable:00000020 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1917   .text.usb_hch_read_interrupt:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1923   .text.usb_hch_read_interrupt:00000000 usb_hch_read_interrupt
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1946   .text.usb_host_disable:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:1952   .text.usb_host_disable:00000000 usb_host_disable
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:2098   .text.usb_hch_halt:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:2104   .text.usb_hch_halt:00000000 usb_hch_halt
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:2240   .text.usbh_fsls_clksel:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cckyjr1r.s:2246   .text.usbh_fsls_clksel:00000000 usbh_fsls_clksel

NO UNDEFINED SYMBOLS
