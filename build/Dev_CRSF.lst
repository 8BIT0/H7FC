ARM GAS  C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"Dev_CRSF.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.crsf_crc8,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	crsf_crc8:
  26              	.LVL0:
  27              	.LFB134:
  28              		.file 1 "Device/Dev_CRSF.c"
   1:Device/Dev_CRSF.c **** #include "Dev_CRSF.h"
   2:Device/Dev_CRSF.c **** 
   3:Device/Dev_CRSF.c **** #include "HW_Def.h"
   4:Device/Dev_CRSF.c **** #include "../debug/debug_util.h"
   5:Device/Dev_CRSF.c **** /*
   6:Device/Dev_CRSF.c ****  * CRSF protocol
   7:Device/Dev_CRSF.c ****  *
   8:Device/Dev_CRSF.c ****  * CRSF protocol uses a single wire half duplex uart connection.
   9:Device/Dev_CRSF.c ****  * The master sends one frame every 4ms and the slave replies between two frames from the master.
  10:Device/Dev_CRSF.c ****  *
  11:Device/Dev_CRSF.c ****  * 420000 baud
  12:Device/Dev_CRSF.c ****  * not inverted
  13:Device/Dev_CRSF.c ****  * 8 Bit
  14:Device/Dev_CRSF.c ****  * 1 Stop bit
  15:Device/Dev_CRSF.c ****  * Big endian
  16:Device/Dev_CRSF.c ****  * 420000 bit/s = 46667 byte/s (including stop bit) = 21.43us per byte
  17:Device/Dev_CRSF.c ****  * Max frame size is 64 bytes
  18:Device/Dev_CRSF.c ****  * A 64 byte frame plus 1 sync byte can be transmitted in 1393 microseconds.
  19:Device/Dev_CRSF.c ****  *
  20:Device/Dev_CRSF.c ****  * CRSF_TIME_NEEDED_PER_FRAME_US is set conservatively at 1500 microseconds
  21:Device/Dev_CRSF.c ****  *
  22:Device/Dev_CRSF.c ****  * Every frame has the structure:
  23:Device/Dev_CRSF.c ****  * <Device address><Frame length><Type><Payload><CRC>
  24:Device/Dev_CRSF.c ****  *
  25:Device/Dev_CRSF.c ****  * Device address: (uint8_t)
  26:Device/Dev_CRSF.c ****  * Frame length:   length in  bytes including Type (uint8_t)
  27:Device/Dev_CRSF.c ****  * Type:           (uint8_t)
  28:Device/Dev_CRSF.c ****  * Payload:        (uint8_t)
  29:Device/Dev_CRSF.c ****  * CRC:            (uint8_t)
  30:Device/Dev_CRSF.c ****  *
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s 			page 2


  31:Device/Dev_CRSF.c ****  */
  32:Device/Dev_CRSF.c **** 
  33:Device/Dev_CRSF.c **** #define Debug_Pin_En 0
  34:Device/Dev_CRSF.c **** 
  35:Device/Dev_CRSF.c **** static bool DevCrsf_Init(DevCRSFObj_TypeDef *obj);
  36:Device/Dev_CRSF.c **** static uint8_t DevCRSF_Decode(DevCRSFObj_TypeDef *obj);
  37:Device/Dev_CRSF.c **** static void DevCRSF_Get_Channel(DevCRSFObj_TypeDef *obj, uint16_t *ch_in);
  38:Device/Dev_CRSF.c **** static crsf_LinkStatistics_t DevCESF_Get_Statistics(DevCRSFObj_TypeDef *obj);
  39:Device/Dev_CRSF.c **** static uint8_t DevCRSF_FIFO_In(DevCRSFObj_TypeDef *obj, uint8_t *p_data, uint8_t arg);
  40:Device/Dev_CRSF.c **** 
  41:Device/Dev_CRSF.c **** DevCRSF_TypeDef DevCRSF = {
  42:Device/Dev_CRSF.c ****     .init = DevCrsf_Init,
  43:Device/Dev_CRSF.c ****     .decode = DevCRSF_FIFO_In,
  44:Device/Dev_CRSF.c ****     .get_channel = DevCRSF_Get_Channel,
  45:Device/Dev_CRSF.c ****     .get_statistics = DevCESF_Get_Statistics,
  46:Device/Dev_CRSF.c **** };
  47:Device/Dev_CRSF.c **** 
  48:Device/Dev_CRSF.c **** static uint8_t crsf_crc8tab[256] = {
  49:Device/Dev_CRSF.c ****     0x00, 0xD5, 0x7F, 0xAA, 0xFE, 0x2B, 0x81, 0x54, 0x29, 0xFC, 0x56, 0x83, 0xD7, 0x02, 0xA8, 0x7D,
  50:Device/Dev_CRSF.c ****     0x52, 0x87, 0x2D, 0xF8, 0xAC, 0x79, 0xD3, 0x06, 0x7B, 0xAE, 0x04, 0xD1, 0x85, 0x50, 0xFA, 0x2F,
  51:Device/Dev_CRSF.c ****     0xA4, 0x71, 0xDB, 0x0E, 0x5A, 0x8F, 0x25, 0xF0, 0x8D, 0x58, 0xF2, 0x27, 0x73, 0xA6, 0x0C, 0xD9,
  52:Device/Dev_CRSF.c ****     0xF6, 0x23, 0x89, 0x5C, 0x08, 0xDD, 0x77, 0xA2, 0xDF, 0x0A, 0xA0, 0x75, 0x21, 0xF4, 0x5E, 0x8B,
  53:Device/Dev_CRSF.c ****     0x9D, 0x48, 0xE2, 0x37, 0x63, 0xB6, 0x1C, 0xC9, 0xB4, 0x61, 0xCB, 0x1E, 0x4A, 0x9F, 0x35, 0xE0,
  54:Device/Dev_CRSF.c ****     0xCF, 0x1A, 0xB0, 0x65, 0x31, 0xE4, 0x4E, 0x9B, 0xE6, 0x33, 0x99, 0x4C, 0x18, 0xCD, 0x67, 0xB2,
  55:Device/Dev_CRSF.c ****     0x39, 0xEC, 0x46, 0x93, 0xC7, 0x12, 0xB8, 0x6D, 0x10, 0xC5, 0x6F, 0xBA, 0xEE, 0x3B, 0x91, 0x44,
  56:Device/Dev_CRSF.c ****     0x6B, 0xBE, 0x14, 0xC1, 0x95, 0x40, 0xEA, 0x3F, 0x42, 0x97, 0x3D, 0xE8, 0xBC, 0x69, 0xC3, 0x16,
  57:Device/Dev_CRSF.c ****     0xEF, 0x3A, 0x90, 0x45, 0x11, 0xC4, 0x6E, 0xBB, 0xC6, 0x13, 0xB9, 0x6C, 0x38, 0xED, 0x47, 0x92,
  58:Device/Dev_CRSF.c ****     0xBD, 0x68, 0xC2, 0x17, 0x43, 0x96, 0x3C, 0xE9, 0x94, 0x41, 0xEB, 0x3E, 0x6A, 0xBF, 0x15, 0xC0,
  59:Device/Dev_CRSF.c ****     0x4B, 0x9E, 0x34, 0xE1, 0xB5, 0x60, 0xCA, 0x1F, 0x62, 0xB7, 0x1D, 0xC8, 0x9C, 0x49, 0xE3, 0x36,
  60:Device/Dev_CRSF.c ****     0x19, 0xCC, 0x66, 0xB3, 0xE7, 0x32, 0x98, 0x4D, 0x30, 0xE5, 0x4F, 0x9A, 0xCE, 0x1B, 0xB1, 0x64,
  61:Device/Dev_CRSF.c ****     0x72, 0xA7, 0x0D, 0xD8, 0x8C, 0x59, 0xF3, 0x26, 0x5B, 0x8E, 0x24, 0xF1, 0xA5, 0x70, 0xDA, 0x0F,
  62:Device/Dev_CRSF.c ****     0x20, 0xF5, 0x5F, 0x8A, 0xDE, 0x0B, 0xA1, 0x74, 0x09, 0xDC, 0x76, 0xA3, 0xF7, 0x22, 0x88, 0x5D,
  63:Device/Dev_CRSF.c ****     0xD6, 0x03, 0xA9, 0x7C, 0x28, 0xFD, 0x57, 0x82, 0xFF, 0x2A, 0x80, 0x55, 0x01, 0xD4, 0x7E, 0xAB,
  64:Device/Dev_CRSF.c ****     0x84, 0x51, 0xFB, 0x2E, 0x7A, 0xAF, 0x05, 0xD0, 0xAD, 0x78, 0xD2, 0x07, 0x53, 0x86, 0x2C, 0xF9}
  65:Device/Dev_CRSF.c **** 
  66:Device/Dev_CRSF.c **** static uint8_t crsf_crc8(uint8_t *ptr, uint16_t len)
  67:Device/Dev_CRSF.c **** {
  29              		.loc 1 67 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  34              		.loc 1 67 1 is_stmt 0 view .LVU1
  35 0000 0346     		mov	r3, r0
  68:Device/Dev_CRSF.c ****     uint8_t crc = 0;
  36              		.loc 1 68 5 is_stmt 1 view .LVU2
  37              	.LVL1:
  69:Device/Dev_CRSF.c ****     for (uint8_t i = 0; i < len; i++)
  38              		.loc 1 69 5 view .LVU3
  39              	.LBB2:
  40              		.loc 1 69 10 view .LVU4
  41              		.loc 1 69 18 is_stmt 0 view .LVU5
  42 0002 0022     		movs	r2, #0
  43              	.LBE2:
  68:Device/Dev_CRSF.c ****     uint8_t crc = 0;
  44              		.loc 1 68 13 view .LVU6
  45 0004 1046     		mov	r0, r2
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s 			page 3


  46              	.LVL2:
  47              	.LBB3:
  48              		.loc 1 69 5 view .LVU7
  49 0006 08E0     		b	.L2
  50              	.LVL3:
  51              	.L3:
  70:Device/Dev_CRSF.c ****     {
  71:Device/Dev_CRSF.c ****         crc = crsf_crc8tab[crc ^ *(ptr++)];
  52              		.loc 1 71 9 is_stmt 1 discriminator 3 view .LVU8
  53              		.loc 1 71 34 is_stmt 0 discriminator 3 view .LVU9
  54 0008 13F801CB 		ldrb	ip, [r3], #1	@ zero_extendqisi2
  55              	.LVL4:
  56              		.loc 1 71 32 discriminator 3 view .LVU10
  57 000c 8CEA000C 		eor	ip, ip, r0
  58              		.loc 1 71 13 discriminator 3 view .LVU11
  59 0010 0448     		ldr	r0, .L4
  60              	.LVL5:
  61              		.loc 1 71 13 discriminator 3 view .LVU12
  62 0012 10F80C00 		ldrb	r0, [r0, ip]	@ zero_extendqisi2
  63              	.LVL6:
  69:Device/Dev_CRSF.c ****     for (uint8_t i = 0; i < len; i++)
  64              		.loc 1 69 34 is_stmt 1 discriminator 3 view .LVU13
  69:Device/Dev_CRSF.c ****     for (uint8_t i = 0; i < len; i++)
  65              		.loc 1 69 35 is_stmt 0 discriminator 3 view .LVU14
  66 0016 0132     		adds	r2, r2, #1
  67              	.LVL7:
  69:Device/Dev_CRSF.c ****     for (uint8_t i = 0; i < len; i++)
  68              		.loc 1 69 35 discriminator 3 view .LVU15
  69 0018 D2B2     		uxtb	r2, r2
  70              	.LVL8:
  71              	.L2:
  69:Device/Dev_CRSF.c ****     for (uint8_t i = 0; i < len; i++)
  72              		.loc 1 69 25 is_stmt 1 discriminator 1 view .LVU16
  69:Device/Dev_CRSF.c ****     for (uint8_t i = 0; i < len; i++)
  73              		.loc 1 69 27 is_stmt 0 discriminator 1 view .LVU17
  74 001a 1FFA82FC 		uxth	ip, r2
  69:Device/Dev_CRSF.c ****     for (uint8_t i = 0; i < len; i++)
  75              		.loc 1 69 5 discriminator 1 view .LVU18
  76 001e 8C45     		cmp	ip, r1
  77 0020 F2D3     		bcc	.L3
  69:Device/Dev_CRSF.c ****     for (uint8_t i = 0; i < len; i++)
  78              		.loc 1 69 5 discriminator 1 view .LVU19
  79              	.LBE3:
  72:Device/Dev_CRSF.c ****     }
  73:Device/Dev_CRSF.c ****     return crc;
  80              		.loc 1 73 5 is_stmt 1 view .LVU20
  74:Device/Dev_CRSF.c **** }
  81              		.loc 1 74 1 is_stmt 0 view .LVU21
  82 0022 7047     		bx	lr
  83              	.L5:
  84              		.align	2
  85              	.L4:
  86 0024 00000000 		.word	.LANCHOR0
  87              		.cfi_endproc
  88              	.LFE134:
  90              		.section	.text.DevCESF_Get_Statistics,"ax",%progbits
  91              		.align	1
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s 			page 4


  92              		.syntax unified
  93              		.thumb
  94              		.thumb_func
  96              	DevCESF_Get_Statistics:
  97              	.LVL9:
  98              	.LFB139:
  75:Device/Dev_CRSF.c **** 
  76:Device/Dev_CRSF.c **** static bool DevCrsf_Init(DevCRSFObj_TypeDef *obj)
  77:Device/Dev_CRSF.c **** {
  78:Device/Dev_CRSF.c ****     if (obj == NULL)
  79:Device/Dev_CRSF.c ****         return false;
  80:Device/Dev_CRSF.c **** 
  81:Device/Dev_CRSF.c ****     memset(obj, 0, sizeof(DevCRSFObj_TypeDef));
  82:Device/Dev_CRSF.c **** 
  83:Device/Dev_CRSF.c ****     obj->state = CRSF_State_LinkDown;
  84:Device/Dev_CRSF.c ****     obj->rec_cnt = 0;
  85:Device/Dev_CRSF.c ****     obj->rec_stage = CRSF_Stage_Header;
  86:Device/Dev_CRSF.c **** 
  87:Device/Dev_CRSF.c ****     return true;
  88:Device/Dev_CRSF.c **** }
  89:Device/Dev_CRSF.c **** 
  90:Device/Dev_CRSF.c **** static uint8_t DevCRSF_FIFO_In(DevCRSFObj_TypeDef *obj, uint8_t *p_data, uint8_t arg)
  91:Device/Dev_CRSF.c **** {
  92:Device/Dev_CRSF.c ****     uint8_t decode_state = 0;
  93:Device/Dev_CRSF.c **** 
  94:Device/Dev_CRSF.c ****     if (obj && arg)
  95:Device/Dev_CRSF.c ****     {
  96:Device/Dev_CRSF.c ****         for (uint8_t i = 0; i < arg; i ++)
  97:Device/Dev_CRSF.c ****         {
  98:Device/Dev_CRSF.c ****             switch ((uint8_t)(obj->rec_stage))
  99:Device/Dev_CRSF.c ****             {
 100:Device/Dev_CRSF.c ****             case CRSF_Stage_Header:
 101:Device/Dev_CRSF.c ****                 obj->rec_cnt = 0;
 102:Device/Dev_CRSF.c ****                 if (p_data[i] == CRSF_ADDRESS_FLIGHT_CONTROLLER)
 103:Device/Dev_CRSF.c ****                 {
 104:Device/Dev_CRSF.c ****                     obj->rec_stage = CRSF_Stage_Size;
 105:Device/Dev_CRSF.c ****                     obj->frame.addr = p_data[i];
 106:Device/Dev_CRSF.c ****                     obj->match_header_num ++;
 107:Device/Dev_CRSF.c **** 
 108:Device/Dev_CRSF.c **** #if (Debug_Pin_En == 1)
 109:Device/Dev_CRSF.c ****                     DebugPin.ctl(Debug_PC0, false);
 110:Device/Dev_CRSF.c ****                     DebugPin.ctl(Debug_PC0, true);
 111:Device/Dev_CRSF.c **** #endif
 112:Device/Dev_CRSF.c ****                 }
 113:Device/Dev_CRSF.c ****                 else
 114:Device/Dev_CRSF.c ****                     memset(&obj->frame, 0, sizeof(obj->frame));
 115:Device/Dev_CRSF.c ****                 break;
 116:Device/Dev_CRSF.c **** 
 117:Device/Dev_CRSF.c ****             case CRSF_Stage_Size:
 118:Device/Dev_CRSF.c ****                 obj->rec_cnt = 0;
 119:Device/Dev_CRSF.c ****                 if ((p_data[i] == (CRSF_FRAME_RC_CHANNELS_PAYLOAD_SIZE + CRSF_FRAME_ORIGIN_DEST_SIZ
 120:Device/Dev_CRSF.c ****                     (p_data[i] == CRSF_FRAME_LINK_STATISTICS_PAYLOAD_SIZE + CRSF_FRAME_ORIGIN_DEST_
 121:Device/Dev_CRSF.c ****                 {
 122:Device/Dev_CRSF.c ****                     obj->rec_stage = CRSF_Stage_Payload;
 123:Device/Dev_CRSF.c ****                     obj->frame.length = p_data[i];
 124:Device/Dev_CRSF.c ****                 }
 125:Device/Dev_CRSF.c ****                 else
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s 			page 5


 126:Device/Dev_CRSF.c ****                 {
 127:Device/Dev_CRSF.c ****                     obj->rec_stage = CRSF_Stage_Header;
 128:Device/Dev_CRSF.c ****                     memset(&obj->frame, 0, sizeof(obj->frame));
 129:Device/Dev_CRSF.c ****                 }
 130:Device/Dev_CRSF.c ****                 break;
 131:Device/Dev_CRSF.c **** 
 132:Device/Dev_CRSF.c ****             case CRSF_Stage_Payload:
 133:Device/Dev_CRSF.c ****                 if (obj->frame.length)
 134:Device/Dev_CRSF.c ****                 {
 135:Device/Dev_CRSF.c ****                     if (obj->rec_cnt == 0)
 136:Device/Dev_CRSF.c ****                         obj->frame.type = p_data[i];
 137:Device/Dev_CRSF.c **** 
 138:Device/Dev_CRSF.c ****                     obj->frame.data[obj->rec_cnt] = p_data[i];
 139:Device/Dev_CRSF.c ****                     obj->rec_cnt++;
 140:Device/Dev_CRSF.c ****                     
 141:Device/Dev_CRSF.c ****                     if (obj->rec_cnt == obj->frame.length)
 142:Device/Dev_CRSF.c ****                     {                
 143:Device/Dev_CRSF.c ****                         decode_state = DevCRSF_Decode(obj);
 144:Device/Dev_CRSF.c ****                         obj->rec_stage = CRSF_Stage_Header;
 145:Device/Dev_CRSF.c ****                         obj->rec_cnt = 0;
 146:Device/Dev_CRSF.c ****                         memset(&obj->frame, 0, sizeof(obj->frame));
 147:Device/Dev_CRSF.c ****                         return decode_state;
 148:Device/Dev_CRSF.c ****                     }
 149:Device/Dev_CRSF.c ****                 }
 150:Device/Dev_CRSF.c ****                 else
 151:Device/Dev_CRSF.c ****                 {
 152:Device/Dev_CRSF.c ****                     obj->rec_cnt = 0;
 153:Device/Dev_CRSF.c ****                     memset(&obj->frame, 0, sizeof(obj->frame));
 154:Device/Dev_CRSF.c ****                     obj->rec_stage = CRSF_Stage_Header;
 155:Device/Dev_CRSF.c ****                 }
 156:Device/Dev_CRSF.c ****                 break;
 157:Device/Dev_CRSF.c ****             }
 158:Device/Dev_CRSF.c ****         }
 159:Device/Dev_CRSF.c ****     }
 160:Device/Dev_CRSF.c **** 
 161:Device/Dev_CRSF.c ****     return 0;
 162:Device/Dev_CRSF.c **** }
 163:Device/Dev_CRSF.c **** 
 164:Device/Dev_CRSF.c **** /* serial receiver receive callback */
 165:Device/Dev_CRSF.c **** static uint8_t DevCRSF_Decode(DevCRSFObj_TypeDef *obj)
 166:Device/Dev_CRSF.c **** {
 167:Device/Dev_CRSF.c ****     volatile uint8_t comput_crc = 0;
 168:Device/Dev_CRSF.c ****     volatile uint8_t frame_crc = 0;
 169:Device/Dev_CRSF.c **** 
 170:Device/Dev_CRSF.c ****     if ((obj == NULL) || (obj->rec_cnt == 0) || (obj->frame.length <= 3))
 171:Device/Dev_CRSF.c ****         return CRSF_DECODE_ERROR;
 172:Device/Dev_CRSF.c **** 
 173:Device/Dev_CRSF.c ****     comput_crc = crsf_crc8(obj->frame.data, (obj->frame.length - 1));
 174:Device/Dev_CRSF.c ****     frame_crc = obj->frame.data[obj->frame.length - 1];
 175:Device/Dev_CRSF.c **** 
 176:Device/Dev_CRSF.c ****     /* check crc first */
 177:Device/Dev_CRSF.c ****     if (comput_crc == frame_crc)
 178:Device/Dev_CRSF.c ****     {
 179:Device/Dev_CRSF.c ****         /* check frame type */
 180:Device/Dev_CRSF.c ****         switch (obj->frame.type)
 181:Device/Dev_CRSF.c ****         {
 182:Device/Dev_CRSF.c ****         case CRSF_FRAMETYPE_LINK_STATISTICS:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s 			page 6


 183:Device/Dev_CRSF.c ****             if ((CRSF_ADDRESS_FLIGHT_CONTROLLER == obj->frame.addr) && \
 184:Device/Dev_CRSF.c ****                 ((CRSF_FRAME_ORIGIN_DEST_SIZE + CRSF_FRAME_LINK_STATISTICS_PAYLOAD_SIZE) == obj->fr
 185:Device/Dev_CRSF.c ****             {                
 186:Device/Dev_CRSF.c ****                 const crsf_LinkStatistics_t *stats = (const crsf_LinkStatistics_t *)&(obj->frame.da
 187:Device/Dev_CRSF.c ****                 memcpy(&obj->statistics, stats, sizeof(crsf_LinkStatistics_t));
 188:Device/Dev_CRSF.c ****                 obj->state = CRSF_State_LinkUp;
 189:Device/Dev_CRSF.c **** 
 190:Device/Dev_CRSF.c ****                 return CRSF_FRAMETYPE_LINK_STATISTICS;
 191:Device/Dev_CRSF.c ****             }
 192:Device/Dev_CRSF.c ****             break;
 193:Device/Dev_CRSF.c **** 
 194:Device/Dev_CRSF.c ****         case CRSF_FRAMETYPE_RC_CHANNELS_PACKED:
 195:Device/Dev_CRSF.c ****             if ((CRSF_ADDRESS_FLIGHT_CONTROLLER == obj->frame.addr) && \
 196:Device/Dev_CRSF.c ****                 ((CRSF_FRAME_ORIGIN_DEST_SIZE + CRSF_FRAME_RC_CHANNELS_PAYLOAD_SIZE) == obj->frame.
 197:Device/Dev_CRSF.c ****             {
 198:Device/Dev_CRSF.c **** #if (Debug_Pin_En == 1)
 199:Device/Dev_CRSF.c ****                 DebugPin.ctl(Debug_PC8, false);
 200:Device/Dev_CRSF.c ****                 DebugPin.ctl(Debug_PC8, true);
 201:Device/Dev_CRSF.c **** #endif
 202:Device/Dev_CRSF.c **** 
 203:Device/Dev_CRSF.c ****                 const crsf_channels_t *channel_val_ptr = (const crsf_channels_t *)(obj->frame.data 
 204:Device/Dev_CRSF.c ****                 obj->channel[0] = channel_val_ptr->ch0;
 205:Device/Dev_CRSF.c ****                 obj->channel[1] = channel_val_ptr->ch1;
 206:Device/Dev_CRSF.c ****                 obj->channel[2] = channel_val_ptr->ch2;
 207:Device/Dev_CRSF.c ****                 obj->channel[3] = channel_val_ptr->ch3;
 208:Device/Dev_CRSF.c ****                 obj->channel[4] = channel_val_ptr->ch4;
 209:Device/Dev_CRSF.c ****                 obj->channel[5] = channel_val_ptr->ch5;
 210:Device/Dev_CRSF.c ****                 obj->channel[6] = channel_val_ptr->ch6;
 211:Device/Dev_CRSF.c ****                 obj->channel[7] = channel_val_ptr->ch7;
 212:Device/Dev_CRSF.c ****                 obj->channel[8] = channel_val_ptr->ch8;
 213:Device/Dev_CRSF.c ****                 obj->channel[9] = channel_val_ptr->ch9;
 214:Device/Dev_CRSF.c ****                 obj->channel[10] = channel_val_ptr->ch10;
 215:Device/Dev_CRSF.c ****                 obj->channel[11] = channel_val_ptr->ch11;
 216:Device/Dev_CRSF.c ****                 obj->channel[12] = channel_val_ptr->ch12;
 217:Device/Dev_CRSF.c ****                 obj->channel[13] = channel_val_ptr->ch13;
 218:Device/Dev_CRSF.c ****                 obj->channel[14] = channel_val_ptr->ch14;
 219:Device/Dev_CRSF.c ****                 obj->channel[15] = channel_val_ptr->ch15;
 220:Device/Dev_CRSF.c **** 
 221:Device/Dev_CRSF.c ****                 if (obj->val_access)
 222:Device/Dev_CRSF.c ****                     obj->val_access = false;
 223:Device/Dev_CRSF.c **** 
 224:Device/Dev_CRSF.c ****                 obj->state = CRSF_State_LinkUp;
 225:Device/Dev_CRSF.c ****                 obj->decode_success_num ++;
 226:Device/Dev_CRSF.c ****                 return CRSF_FRAMETYPE_RC_CHANNELS_PACKED;
 227:Device/Dev_CRSF.c ****             }
 228:Device/Dev_CRSF.c ****             break;
 229:Device/Dev_CRSF.c **** 
 230:Device/Dev_CRSF.c ****         default:
 231:Device/Dev_CRSF.c ****             return CRSF_DECODE_ERROR;
 232:Device/Dev_CRSF.c ****         }
 233:Device/Dev_CRSF.c ****     }
 234:Device/Dev_CRSF.c **** 
 235:Device/Dev_CRSF.c ****     return CRSF_DECODE_ERROR;
 236:Device/Dev_CRSF.c **** }
 237:Device/Dev_CRSF.c **** 
 238:Device/Dev_CRSF.c **** static void DevCRSF_Get_Channel(DevCRSFObj_TypeDef *obj, uint16_t *ch_in)
 239:Device/Dev_CRSF.c **** {
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s 			page 7


 240:Device/Dev_CRSF.c ****     if (obj && ch_in)
 241:Device/Dev_CRSF.c ****     {
 242:Device/Dev_CRSF.c **** re_get_crsf:
 243:Device/Dev_CRSF.c ****         obj->val_access = true;
 244:Device/Dev_CRSF.c ****         
 245:Device/Dev_CRSF.c ****         /* fresh new data */
 246:Device/Dev_CRSF.c ****         memcpy(ch_in, obj->channel, sizeof(obj->channel));
 247:Device/Dev_CRSF.c ****     
 248:Device/Dev_CRSF.c ****         if (!obj->val_access)
 249:Device/Dev_CRSF.c ****             goto re_get_crsf;
 250:Device/Dev_CRSF.c ****     }
 251:Device/Dev_CRSF.c **** }
 252:Device/Dev_CRSF.c **** 
 253:Device/Dev_CRSF.c **** static crsf_LinkStatistics_t DevCESF_Get_Statistics(DevCRSFObj_TypeDef *obj)
 254:Device/Dev_CRSF.c **** {
  99              		.loc 1 254 1 is_stmt 1 view -0
 100              		.cfi_startproc
 101              		@ args = 0, pretend = 0, frame = 16
 102              		@ frame_needed = 0, uses_anonymous_args = 0
 103              		@ link register save eliminated.
 104              		.loc 1 254 1 is_stmt 0 view .LVU23
 105 0000 84B0     		sub	sp, sp, #16
 106              	.LCFI0:
 107              		.cfi_def_cfa_offset 16
 108 0002 0346     		mov	r3, r0
 255:Device/Dev_CRSF.c ****     crsf_LinkStatistics_t statistics;
 109              		.loc 1 255 5 is_stmt 1 view .LVU24
 256:Device/Dev_CRSF.c **** 
 257:Device/Dev_CRSF.c ****     memset(&statistics, 0, sizeof(crsf_LinkStatistics_t));
 110              		.loc 1 257 5 view .LVU25
 111 0004 0022     		movs	r2, #0
 112 0006 0192     		str	r2, [sp, #4]
 113 0008 0292     		str	r2, [sp, #8]
 114 000a ADF80C20 		strh	r2, [sp, #12]	@ movhi
 258:Device/Dev_CRSF.c **** 
 259:Device/Dev_CRSF.c ****     if (obj)
 115              		.loc 1 259 5 view .LVU26
 116              		.loc 1 259 8 is_stmt 0 view .LVU27
 117 000e 49B1     		cbz	r1, .L7
 118 0010 8C46     		mov	ip, r1
 260:Device/Dev_CRSF.c ****         memcpy(&statistics, &obj->statistics, sizeof(crsf_LinkStatistics_t));
 119              		.loc 1 260 9 is_stmt 1 view .LVU28
 120 0012 01AA     		add	r2, sp, #4
 121 0014 D1F84300 		ldr	r0, [r1, #67]	@ unaligned
 122              	.LVL10:
 123              		.loc 1 260 9 is_stmt 0 view .LVU29
 124 0018 D1F84710 		ldr	r1, [r1, #71]	@ unaligned
 125              	.LVL11:
 126              		.loc 1 260 9 view .LVU30
 127 001c 03C2     		stmia	r2!, {r0, r1}
 128 001e BCF84B10 		ldrh	r1, [ip, #75]	@ unaligned
 129 0022 1180     		strh	r1, [r2]	@ unaligned
 130              	.LVL12:
 131              	.L7:
 261:Device/Dev_CRSF.c **** 
 262:Device/Dev_CRSF.c ****     return statistics;
 132              		.loc 1 262 5 is_stmt 1 view .LVU31
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s 			page 8


 133              		.loc 1 262 12 is_stmt 0 view .LVU32
 134 0024 01AA     		add	r2, sp, #4
 135 0026 03CA     		ldmia	r2!, {r0, r1}
 136 0028 1860     		str	r0, [r3]	@ unaligned
 137 002a 5960     		str	r1, [r3, #4]	@ unaligned
 138 002c 1288     		ldrh	r2, [r2]	@ unaligned
 139 002e 1A81     		strh	r2, [r3, #8]	@ unaligned
 263:Device/Dev_CRSF.c **** }
 140              		.loc 1 263 1 view .LVU33
 141 0030 1846     		mov	r0, r3
 142 0032 04B0     		add	sp, sp, #16
 143              	.LCFI1:
 144              		.cfi_def_cfa_offset 0
 145              		@ sp needed
 146 0034 7047     		bx	lr
 147              		.cfi_endproc
 148              	.LFE139:
 150              		.section	.text.DevCrsf_Init,"ax",%progbits
 151              		.align	1
 152              		.syntax unified
 153              		.thumb
 154              		.thumb_func
 156              	DevCrsf_Init:
 157              	.LVL13:
 158              	.LFB135:
  77:Device/Dev_CRSF.c ****     if (obj == NULL)
 159              		.loc 1 77 1 is_stmt 1 view -0
 160              		.cfi_startproc
 161              		@ args = 0, pretend = 0, frame = 0
 162              		@ frame_needed = 0, uses_anonymous_args = 0
  78:Device/Dev_CRSF.c ****         return false;
 163              		.loc 1 78 5 view .LVU35
  78:Device/Dev_CRSF.c ****         return false;
 164              		.loc 1 78 8 is_stmt 0 view .LVU36
 165 0000 48B1     		cbz	r0, .L11
  77:Device/Dev_CRSF.c ****     if (obj == NULL)
 166              		.loc 1 77 1 view .LVU37
 167 0002 10B5     		push	{r4, lr}
 168              	.LCFI2:
 169              		.cfi_def_cfa_offset 8
 170              		.cfi_offset 4, -8
 171              		.cfi_offset 14, -4
 172 0004 0446     		mov	r4, r0
  81:Device/Dev_CRSF.c **** 
 173              		.loc 1 81 5 is_stmt 1 view .LVU38
 174 0006 7C22     		movs	r2, #124
 175 0008 0021     		movs	r1, #0
 176 000a FFF7FEFF 		bl	memset
 177              	.LVL14:
  83:Device/Dev_CRSF.c ****     obj->rec_cnt = 0;
 178              		.loc 1 83 5 view .LVU39
  83:Device/Dev_CRSF.c ****     obj->rec_cnt = 0;
 179              		.loc 1 83 16 is_stmt 0 view .LVU40
 180 000e 0120     		movs	r0, #1
 181 0010 84F84200 		strb	r0, [r4, #66]
  84:Device/Dev_CRSF.c ****     obj->rec_stage = CRSF_Stage_Header;
 182              		.loc 1 84 5 is_stmt 1 view .LVU41
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s 			page 9


  85:Device/Dev_CRSF.c **** 
 183              		.loc 1 85 5 view .LVU42
  87:Device/Dev_CRSF.c **** }
 184              		.loc 1 87 5 view .LVU43
  88:Device/Dev_CRSF.c **** 
 185              		.loc 1 88 1 is_stmt 0 view .LVU44
 186 0014 10BD     		pop	{r4, pc}
 187              	.LVL15:
 188              	.L11:
 189              	.LCFI3:
 190              		.cfi_def_cfa_offset 0
 191              		.cfi_restore 4
 192              		.cfi_restore 14
  79:Device/Dev_CRSF.c **** 
 193              		.loc 1 79 16 view .LVU45
 194 0016 0020     		movs	r0, #0
 195              	.LVL16:
  88:Device/Dev_CRSF.c **** 
 196              		.loc 1 88 1 view .LVU46
 197 0018 7047     		bx	lr
 198              		.cfi_endproc
 199              	.LFE135:
 201              		.section	.text.DevCRSF_Get_Channel,"ax",%progbits
 202              		.align	1
 203              		.syntax unified
 204              		.thumb
 205              		.thumb_func
 207              	DevCRSF_Get_Channel:
 208              	.LVL17:
 209              	.LFB138:
 239:Device/Dev_CRSF.c ****     if (obj && ch_in)
 210              		.loc 1 239 1 is_stmt 1 view -0
 211              		.cfi_startproc
 212              		@ args = 0, pretend = 0, frame = 0
 213              		@ frame_needed = 0, uses_anonymous_args = 0
 240:Device/Dev_CRSF.c ****     {
 214              		.loc 1 240 5 view .LVU48
 240:Device/Dev_CRSF.c ****     {
 215              		.loc 1 240 8 is_stmt 0 view .LVU49
 216 0000 38B3     		cbz	r0, .L20
 217 0002 0346     		mov	r3, r0
 240:Device/Dev_CRSF.c ****     {
 218              		.loc 1 240 13 discriminator 1 view .LVU50
 219 0004 29B3     		cbz	r1, .L20
 239:Device/Dev_CRSF.c ****     if (obj && ch_in)
 220              		.loc 1 239 1 view .LVU51
 221 0006 00B5     		push	{lr}
 222              	.LCFI4:
 223              		.cfi_def_cfa_offset 4
 224              		.cfi_offset 14, -4
 225              	.LVL18:
 226              	.L18:
 243:Device/Dev_CRSF.c ****         
 227              		.loc 1 243 9 is_stmt 1 view .LVU52
 243:Device/Dev_CRSF.c ****         
 228              		.loc 1 243 25 is_stmt 0 view .LVU53
 229 0008 0122     		movs	r2, #1
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s 			page 10


 230 000a 83F85820 		strb	r2, [r3, #88]
 246:Device/Dev_CRSF.c ****     
 231              		.loc 1 246 9 is_stmt 1 view .LVU54
 232 000e D3F85AE0 		ldr	lr, [r3, #90]	@ unaligned
 233 0012 D3F85EC0 		ldr	ip, [r3, #94]	@ unaligned
 234 0016 D3F86200 		ldr	r0, [r3, #98]	@ unaligned
 235 001a D3F86620 		ldr	r2, [r3, #102]	@ unaligned
 236 001e C1F800E0 		str	lr, [r1]	@ unaligned
 237 0022 C1F804C0 		str	ip, [r1, #4]	@ unaligned
 238 0026 8860     		str	r0, [r1, #8]	@ unaligned
 239 0028 CA60     		str	r2, [r1, #12]	@ unaligned
 240 002a D3F86AE0 		ldr	lr, [r3, #106]	@ unaligned
 241 002e D3F86EC0 		ldr	ip, [r3, #110]	@ unaligned
 242 0032 D3F87200 		ldr	r0, [r3, #114]	@ unaligned
 243 0036 D3F87620 		ldr	r2, [r3, #118]	@ unaligned
 244 003a C1F810E0 		str	lr, [r1, #16]	@ unaligned
 245 003e C1F814C0 		str	ip, [r1, #20]	@ unaligned
 246 0042 8861     		str	r0, [r1, #24]	@ unaligned
 247 0044 CA61     		str	r2, [r1, #28]	@ unaligned
 248:Device/Dev_CRSF.c ****             goto re_get_crsf;
 248              		.loc 1 248 9 view .LVU55
 248:Device/Dev_CRSF.c ****             goto re_get_crsf;
 249              		.loc 1 248 17 is_stmt 0 view .LVU56
 250 0046 93F85820 		ldrb	r2, [r3, #88]	@ zero_extendqisi2
 248:Device/Dev_CRSF.c ****             goto re_get_crsf;
 251              		.loc 1 248 12 view .LVU57
 252 004a 002A     		cmp	r2, #0
 253 004c DCD0     		beq	.L18
 251:Device/Dev_CRSF.c **** 
 254              		.loc 1 251 1 view .LVU58
 255 004e 5DF804FB 		ldr	pc, [sp], #4
 256              	.LVL19:
 257              	.L20:
 258              	.LCFI5:
 259              		.cfi_def_cfa_offset 0
 260              		.cfi_restore 14
 251:Device/Dev_CRSF.c **** 
 261              		.loc 1 251 1 view .LVU59
 262 0052 7047     		bx	lr
 263              		.cfi_endproc
 264              	.LFE138:
 266              		.section	.text.DevCRSF_Decode,"ax",%progbits
 267              		.align	1
 268              		.syntax unified
 269              		.thumb
 270              		.thumb_func
 272              	DevCRSF_Decode:
 273              	.LVL20:
 274              	.LFB137:
 166:Device/Dev_CRSF.c ****     volatile uint8_t comput_crc = 0;
 275              		.loc 1 166 1 is_stmt 1 view -0
 276              		.cfi_startproc
 277              		@ args = 0, pretend = 0, frame = 8
 278              		@ frame_needed = 0, uses_anonymous_args = 0
 166:Device/Dev_CRSF.c ****     volatile uint8_t comput_crc = 0;
 279              		.loc 1 166 1 is_stmt 0 view .LVU61
 280 0000 70B5     		push	{r4, r5, r6, lr}
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s 			page 11


 281              	.LCFI6:
 282              		.cfi_def_cfa_offset 16
 283              		.cfi_offset 4, -16
 284              		.cfi_offset 5, -12
 285              		.cfi_offset 6, -8
 286              		.cfi_offset 14, -4
 287 0002 82B0     		sub	sp, sp, #8
 288              	.LCFI7:
 289              		.cfi_def_cfa_offset 24
 167:Device/Dev_CRSF.c ****     volatile uint8_t frame_crc = 0;
 290              		.loc 1 167 5 is_stmt 1 view .LVU62
 167:Device/Dev_CRSF.c ****     volatile uint8_t frame_crc = 0;
 291              		.loc 1 167 22 is_stmt 0 view .LVU63
 292 0004 0023     		movs	r3, #0
 293 0006 8DF80730 		strb	r3, [sp, #7]
 168:Device/Dev_CRSF.c **** 
 294              		.loc 1 168 5 is_stmt 1 view .LVU64
 168:Device/Dev_CRSF.c **** 
 295              		.loc 1 168 22 is_stmt 0 view .LVU65
 296 000a 8DF80630 		strb	r3, [sp, #6]
 170:Device/Dev_CRSF.c ****         return CRSF_DECODE_ERROR;
 297              		.loc 1 170 5 is_stmt 1 view .LVU66
 170:Device/Dev_CRSF.c ****         return CRSF_DECODE_ERROR;
 298              		.loc 1 170 8 is_stmt 0 view .LVU67
 299 000e 0028     		cmp	r0, #0
 300 0010 00F0DA80 		beq	.L27
 301 0014 0446     		mov	r4, r0
 170:Device/Dev_CRSF.c ****         return CRSF_DECODE_ERROR;
 302              		.loc 1 170 30 discriminator 1 view .LVU68
 303 0016 90F84030 		ldrb	r3, [r0, #64]	@ zero_extendqisi2
 170:Device/Dev_CRSF.c ****         return CRSF_DECODE_ERROR;
 304              		.loc 1 170 23 discriminator 1 view .LVU69
 305 001a 002B     		cmp	r3, #0
 306 001c 00F0D680 		beq	.L28
 170:Device/Dev_CRSF.c ****         return CRSF_DECODE_ERROR;
 307              		.loc 1 170 60 discriminator 2 view .LVU70
 308 0020 4578     		ldrb	r5, [r0, #1]	@ zero_extendqisi2
 170:Device/Dev_CRSF.c ****         return CRSF_DECODE_ERROR;
 309              		.loc 1 170 46 discriminator 2 view .LVU71
 310 0022 032D     		cmp	r5, #3
 311 0024 01D8     		bhi	.L34
 171:Device/Dev_CRSF.c **** 
 312              		.loc 1 171 16 view .LVU72
 313 0026 FF20     		movs	r0, #255
 314              	.LVL21:
 171:Device/Dev_CRSF.c **** 
 315              		.loc 1 171 16 view .LVU73
 316 0028 D1E0     		b	.L23
 317              	.LVL22:
 318              	.L34:
 173:Device/Dev_CRSF.c ****     frame_crc = obj->frame.data[obj->frame.length - 1];
 319              		.loc 1 173 5 is_stmt 1 view .LVU74
 173:Device/Dev_CRSF.c ****     frame_crc = obj->frame.data[obj->frame.length - 1];
 320              		.loc 1 173 38 is_stmt 0 view .LVU75
 321 002a C61C     		adds	r6, r0, #3
 173:Device/Dev_CRSF.c ****     frame_crc = obj->frame.data[obj->frame.length - 1];
 322              		.loc 1 173 18 view .LVU76
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s 			page 12


 323 002c 691E     		subs	r1, r5, #1
 324 002e 89B2     		uxth	r1, r1
 325 0030 3046     		mov	r0, r6
 326              	.LVL23:
 173:Device/Dev_CRSF.c ****     frame_crc = obj->frame.data[obj->frame.length - 1];
 327              		.loc 1 173 18 view .LVU77
 328 0032 FFF7FEFF 		bl	crsf_crc8
 329              	.LVL24:
 173:Device/Dev_CRSF.c ****     frame_crc = obj->frame.data[obj->frame.length - 1];
 330              		.loc 1 173 16 view .LVU78
 331 0036 8DF80700 		strb	r0, [sp, #7]
 174:Device/Dev_CRSF.c **** 
 332              		.loc 1 174 5 is_stmt 1 view .LVU79
 174:Device/Dev_CRSF.c **** 
 333              		.loc 1 174 51 is_stmt 0 view .LVU80
 334 003a 013D     		subs	r5, r5, #1
 174:Device/Dev_CRSF.c **** 
 335              		.loc 1 174 32 view .LVU81
 336 003c 2544     		add	r5, r5, r4
 337 003e EB78     		ldrb	r3, [r5, #3]	@ zero_extendqisi2
 174:Device/Dev_CRSF.c **** 
 338              		.loc 1 174 15 view .LVU82
 339 0040 8DF80630 		strb	r3, [sp, #6]
 177:Device/Dev_CRSF.c ****     {
 340              		.loc 1 177 5 is_stmt 1 view .LVU83
 177:Device/Dev_CRSF.c ****     {
 341              		.loc 1 177 20 is_stmt 0 view .LVU84
 342 0044 9DF80720 		ldrb	r2, [sp, #7]	@ zero_extendqisi2
 343 0048 D2B2     		uxtb	r2, r2
 344 004a 9DF80630 		ldrb	r3, [sp, #6]	@ zero_extendqisi2
 345 004e DBB2     		uxtb	r3, r3
 177:Device/Dev_CRSF.c ****     {
 346              		.loc 1 177 8 view .LVU85
 347 0050 9A42     		cmp	r2, r3
 348 0052 01D0     		beq	.L35
 235:Device/Dev_CRSF.c **** }
 349              		.loc 1 235 12 view .LVU86
 350 0054 FF20     		movs	r0, #255
 351 0056 BAE0     		b	.L23
 352              	.L35:
 180:Device/Dev_CRSF.c ****         {
 353              		.loc 1 180 9 is_stmt 1 view .LVU87
 180:Device/Dev_CRSF.c ****         {
 354              		.loc 1 180 27 is_stmt 0 view .LVU88
 355 0058 A078     		ldrb	r0, [r4, #2]	@ zero_extendqisi2
 180:Device/Dev_CRSF.c ****         {
 356              		.loc 1 180 9 view .LVU89
 357 005a 1428     		cmp	r0, #20
 358 005c 03D0     		beq	.L24
 359 005e 1628     		cmp	r0, #22
 360 0060 16D0     		beq	.L25
 361 0062 FF20     		movs	r0, #255
 362 0064 B3E0     		b	.L23
 363              	.L24:
 183:Device/Dev_CRSF.c ****                 ((CRSF_FRAME_ORIGIN_DEST_SIZE + CRSF_FRAME_LINK_STATISTICS_PAYLOAD_SIZE) == obj->fr
 364              		.loc 1 183 13 is_stmt 1 view .LVU90
 183:Device/Dev_CRSF.c ****                 ((CRSF_FRAME_ORIGIN_DEST_SIZE + CRSF_FRAME_LINK_STATISTICS_PAYLOAD_SIZE) == obj->fr
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s 			page 13


 365              		.loc 1 183 69 is_stmt 0 view .LVU91
 366 0066 2288     		ldrh	r2, [r4]	@ unaligned
 183:Device/Dev_CRSF.c ****                 ((CRSF_FRAME_ORIGIN_DEST_SIZE + CRSF_FRAME_LINK_STATISTICS_PAYLOAD_SIZE) == obj->fr
 367              		.loc 1 183 16 view .LVU92
 368 0068 40F6C843 		movw	r3, #3272
 369 006c 9A42     		cmp	r2, r3
 370 006e 01D0     		beq	.L36
 235:Device/Dev_CRSF.c **** }
 371              		.loc 1 235 12 view .LVU93
 372 0070 FF20     		movs	r0, #255
 373 0072 ACE0     		b	.L23
 374              	.L36:
 375              	.LBB4:
 186:Device/Dev_CRSF.c ****                 memcpy(&obj->statistics, stats, sizeof(crsf_LinkStatistics_t));
 376              		.loc 1 186 17 is_stmt 1 view .LVU94
 377              	.LVL25:
 187:Device/Dev_CRSF.c ****                 obj->state = CRSF_State_LinkUp;
 378              		.loc 1 187 17 view .LVU95
 379 0074 D4F80320 		ldr	r2, [r4, #3]	@ unaligned
 380 0078 7368     		ldr	r3, [r6, #4]	@ unaligned
 381 007a C4F84320 		str	r2, [r4, #67]	@ unaligned
 382 007e C4F84730 		str	r3, [r4, #71]	@ unaligned
 383 0082 3389     		ldrh	r3, [r6, #8]	@ unaligned
 384 0084 A4F84B30 		strh	r3, [r4, #75]	@ unaligned
 188:Device/Dev_CRSF.c **** 
 385              		.loc 1 188 17 view .LVU96
 188:Device/Dev_CRSF.c **** 
 386              		.loc 1 188 28 is_stmt 0 view .LVU97
 387 0088 0023     		movs	r3, #0
 388 008a 84F84230 		strb	r3, [r4, #66]
 190:Device/Dev_CRSF.c ****             }
 389              		.loc 1 190 17 is_stmt 1 view .LVU98
 190:Device/Dev_CRSF.c ****             }
 390              		.loc 1 190 24 is_stmt 0 view .LVU99
 391 008e 9EE0     		b	.L23
 392              	.LVL26:
 393              	.L25:
 190:Device/Dev_CRSF.c ****             }
 394              		.loc 1 190 24 view .LVU100
 395              	.LBE4:
 195:Device/Dev_CRSF.c ****                 ((CRSF_FRAME_ORIGIN_DEST_SIZE + CRSF_FRAME_RC_CHANNELS_PAYLOAD_SIZE) == obj->frame.
 396              		.loc 1 195 13 is_stmt 1 view .LVU101
 195:Device/Dev_CRSF.c ****                 ((CRSF_FRAME_ORIGIN_DEST_SIZE + CRSF_FRAME_RC_CHANNELS_PAYLOAD_SIZE) == obj->frame.
 397              		.loc 1 195 69 is_stmt 0 view .LVU102
 398 0090 2288     		ldrh	r2, [r4]	@ unaligned
 195:Device/Dev_CRSF.c ****                 ((CRSF_FRAME_ORIGIN_DEST_SIZE + CRSF_FRAME_RC_CHANNELS_PAYLOAD_SIZE) == obj->frame.
 399              		.loc 1 195 16 view .LVU103
 400 0092 41F6C803 		movw	r3, #6344
 401 0096 9A42     		cmp	r2, r3
 402 0098 01D0     		beq	.L37
 235:Device/Dev_CRSF.c **** }
 403              		.loc 1 235 12 view .LVU104
 404 009a FF20     		movs	r0, #255
 405 009c 97E0     		b	.L23
 406              	.L37:
 407              	.LBB5:
 203:Device/Dev_CRSF.c ****                 obj->channel[0] = channel_val_ptr->ch0;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s 			page 14


 408              		.loc 1 203 17 is_stmt 1 view .LVU105
 409              	.LVL27:
 204:Device/Dev_CRSF.c ****                 obj->channel[1] = channel_val_ptr->ch1;
 410              		.loc 1 204 17 view .LVU106
 204:Device/Dev_CRSF.c ****                 obj->channel[1] = channel_val_ptr->ch1;
 411              		.loc 1 204 50 is_stmt 0 view .LVU107
 412 009e 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
 413 00a0 6179     		ldrb	r1, [r4, #5]	@ zero_extendqisi2
 414 00a2 01F00702 		and	r2, r1, #7
 415 00a6 43EA0223 		orr	r3, r3, r2, lsl #8
 204:Device/Dev_CRSF.c ****                 obj->channel[1] = channel_val_ptr->ch1;
 416              		.loc 1 204 33 view .LVU108
 417 00aa A4F85A30 		strh	r3, [r4, #90]	@ movhi
 205:Device/Dev_CRSF.c ****                 obj->channel[2] = channel_val_ptr->ch2;
 418              		.loc 1 205 17 is_stmt 1 view .LVU109
 205:Device/Dev_CRSF.c ****                 obj->channel[2] = channel_val_ptr->ch2;
 419              		.loc 1 205 50 is_stmt 0 view .LVU110
 420 00ae A279     		ldrb	r2, [r4, #6]	@ zero_extendqisi2
 421 00b0 02F03F03 		and	r3, r2, #63
 422 00b4 5B01     		lsls	r3, r3, #5
 423 00b6 43EAD103 		orr	r3, r3, r1, lsr #3
 205:Device/Dev_CRSF.c ****                 obj->channel[2] = channel_val_ptr->ch2;
 424              		.loc 1 205 33 view .LVU111
 425 00ba A4F85C30 		strh	r3, [r4, #92]	@ movhi
 206:Device/Dev_CRSF.c ****                 obj->channel[3] = channel_val_ptr->ch3;
 426              		.loc 1 206 17 is_stmt 1 view .LVU112
 206:Device/Dev_CRSF.c ****                 obj->channel[3] = channel_val_ptr->ch3;
 427              		.loc 1 206 50 is_stmt 0 view .LVU113
 428 00be E379     		ldrb	r3, [r4, #7]	@ zero_extendqisi2
 429 00c0 9B00     		lsls	r3, r3, #2
 430 00c2 43EA9213 		orr	r3, r3, r2, lsr #6
 431 00c6 227A     		ldrb	r2, [r4, #8]	@ zero_extendqisi2
 432 00c8 02F00101 		and	r1, r2, #1
 433 00cc 43EA8123 		orr	r3, r3, r1, lsl #10
 206:Device/Dev_CRSF.c ****                 obj->channel[3] = channel_val_ptr->ch3;
 434              		.loc 1 206 33 view .LVU114
 435 00d0 A4F85E30 		strh	r3, [r4, #94]	@ movhi
 207:Device/Dev_CRSF.c ****                 obj->channel[4] = channel_val_ptr->ch4;
 436              		.loc 1 207 17 is_stmt 1 view .LVU115
 207:Device/Dev_CRSF.c ****                 obj->channel[4] = channel_val_ptr->ch4;
 437              		.loc 1 207 50 is_stmt 0 view .LVU116
 438 00d4 617A     		ldrb	r1, [r4, #9]	@ zero_extendqisi2
 439 00d6 01F00F03 		and	r3, r1, #15
 440 00da DB01     		lsls	r3, r3, #7
 441 00dc 43EA5203 		orr	r3, r3, r2, lsr #1
 207:Device/Dev_CRSF.c ****                 obj->channel[4] = channel_val_ptr->ch4;
 442              		.loc 1 207 33 view .LVU117
 443 00e0 A4F86030 		strh	r3, [r4, #96]	@ movhi
 208:Device/Dev_CRSF.c ****                 obj->channel[5] = channel_val_ptr->ch5;
 444              		.loc 1 208 17 is_stmt 1 view .LVU118
 208:Device/Dev_CRSF.c ****                 obj->channel[5] = channel_val_ptr->ch5;
 445              		.loc 1 208 50 is_stmt 0 view .LVU119
 446 00e4 A27A     		ldrb	r2, [r4, #10]	@ zero_extendqisi2
 447 00e6 02F07F03 		and	r3, r2, #127
 448 00ea 1B01     		lsls	r3, r3, #4
 449 00ec 43EA1113 		orr	r3, r3, r1, lsr #4
 208:Device/Dev_CRSF.c ****                 obj->channel[5] = channel_val_ptr->ch5;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s 			page 15


 450              		.loc 1 208 33 view .LVU120
 451 00f0 A4F86230 		strh	r3, [r4, #98]	@ movhi
 209:Device/Dev_CRSF.c ****                 obj->channel[6] = channel_val_ptr->ch6;
 452              		.loc 1 209 17 is_stmt 1 view .LVU121
 209:Device/Dev_CRSF.c ****                 obj->channel[6] = channel_val_ptr->ch6;
 453              		.loc 1 209 50 is_stmt 0 view .LVU122
 454 00f4 E37A     		ldrb	r3, [r4, #11]	@ zero_extendqisi2
 455 00f6 5B00     		lsls	r3, r3, #1
 456 00f8 43EAD213 		orr	r3, r3, r2, lsr #7
 457 00fc 217B     		ldrb	r1, [r4, #12]	@ zero_extendqisi2
 458 00fe 01F00302 		and	r2, r1, #3
 459 0102 43EA4223 		orr	r3, r3, r2, lsl #9
 209:Device/Dev_CRSF.c ****                 obj->channel[6] = channel_val_ptr->ch6;
 460              		.loc 1 209 33 view .LVU123
 461 0106 A4F86430 		strh	r3, [r4, #100]	@ movhi
 210:Device/Dev_CRSF.c ****                 obj->channel[7] = channel_val_ptr->ch7;
 462              		.loc 1 210 17 is_stmt 1 view .LVU124
 210:Device/Dev_CRSF.c ****                 obj->channel[7] = channel_val_ptr->ch7;
 463              		.loc 1 210 50 is_stmt 0 view .LVU125
 464 010a 627B     		ldrb	r2, [r4, #13]	@ zero_extendqisi2
 465 010c 02F01F03 		and	r3, r2, #31
 466 0110 9B01     		lsls	r3, r3, #6
 467 0112 43EA9103 		orr	r3, r3, r1, lsr #2
 210:Device/Dev_CRSF.c ****                 obj->channel[7] = channel_val_ptr->ch7;
 468              		.loc 1 210 33 view .LVU126
 469 0116 A4F86630 		strh	r3, [r4, #102]	@ movhi
 211:Device/Dev_CRSF.c ****                 obj->channel[8] = channel_val_ptr->ch8;
 470              		.loc 1 211 17 is_stmt 1 view .LVU127
 211:Device/Dev_CRSF.c ****                 obj->channel[8] = channel_val_ptr->ch8;
 471              		.loc 1 211 50 is_stmt 0 view .LVU128
 472 011a A37B     		ldrb	r3, [r4, #14]	@ zero_extendqisi2
 473 011c DB00     		lsls	r3, r3, #3
 474 011e 43EA5213 		orr	r3, r3, r2, lsr #5
 211:Device/Dev_CRSF.c ****                 obj->channel[8] = channel_val_ptr->ch8;
 475              		.loc 1 211 33 view .LVU129
 476 0122 A4F86830 		strh	r3, [r4, #104]	@ movhi
 212:Device/Dev_CRSF.c ****                 obj->channel[9] = channel_val_ptr->ch9;
 477              		.loc 1 212 17 is_stmt 1 view .LVU130
 212:Device/Dev_CRSF.c ****                 obj->channel[9] = channel_val_ptr->ch9;
 478              		.loc 1 212 50 is_stmt 0 view .LVU131
 479 0126 E37B     		ldrb	r3, [r4, #15]	@ zero_extendqisi2
 480 0128 217C     		ldrb	r1, [r4, #16]	@ zero_extendqisi2
 481 012a 01F00702 		and	r2, r1, #7
 482 012e 43EA0223 		orr	r3, r3, r2, lsl #8
 212:Device/Dev_CRSF.c ****                 obj->channel[9] = channel_val_ptr->ch9;
 483              		.loc 1 212 33 view .LVU132
 484 0132 A4F86A30 		strh	r3, [r4, #106]	@ movhi
 213:Device/Dev_CRSF.c ****                 obj->channel[10] = channel_val_ptr->ch10;
 485              		.loc 1 213 17 is_stmt 1 view .LVU133
 213:Device/Dev_CRSF.c ****                 obj->channel[10] = channel_val_ptr->ch10;
 486              		.loc 1 213 50 is_stmt 0 view .LVU134
 487 0136 627C     		ldrb	r2, [r4, #17]	@ zero_extendqisi2
 488 0138 02F03F03 		and	r3, r2, #63
 489 013c 5B01     		lsls	r3, r3, #5
 490 013e 43EAD103 		orr	r3, r3, r1, lsr #3
 213:Device/Dev_CRSF.c ****                 obj->channel[10] = channel_val_ptr->ch10;
 491              		.loc 1 213 33 view .LVU135
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s 			page 16


 492 0142 A4F86C30 		strh	r3, [r4, #108]	@ movhi
 214:Device/Dev_CRSF.c ****                 obj->channel[11] = channel_val_ptr->ch11;
 493              		.loc 1 214 17 is_stmt 1 view .LVU136
 214:Device/Dev_CRSF.c ****                 obj->channel[11] = channel_val_ptr->ch11;
 494              		.loc 1 214 51 is_stmt 0 view .LVU137
 495 0146 A37C     		ldrb	r3, [r4, #18]	@ zero_extendqisi2
 496 0148 9B00     		lsls	r3, r3, #2
 497 014a 43EA9213 		orr	r3, r3, r2, lsr #6
 498 014e E27C     		ldrb	r2, [r4, #19]	@ zero_extendqisi2
 499 0150 02F00101 		and	r1, r2, #1
 500 0154 43EA8123 		orr	r3, r3, r1, lsl #10
 214:Device/Dev_CRSF.c ****                 obj->channel[11] = channel_val_ptr->ch11;
 501              		.loc 1 214 34 view .LVU138
 502 0158 A4F86E30 		strh	r3, [r4, #110]	@ movhi
 215:Device/Dev_CRSF.c ****                 obj->channel[12] = channel_val_ptr->ch12;
 503              		.loc 1 215 17 is_stmt 1 view .LVU139
 215:Device/Dev_CRSF.c ****                 obj->channel[12] = channel_val_ptr->ch12;
 504              		.loc 1 215 51 is_stmt 0 view .LVU140
 505 015c 217D     		ldrb	r1, [r4, #20]	@ zero_extendqisi2
 506 015e 01F00F03 		and	r3, r1, #15
 507 0162 DB01     		lsls	r3, r3, #7
 508 0164 43EA5203 		orr	r3, r3, r2, lsr #1
 215:Device/Dev_CRSF.c ****                 obj->channel[12] = channel_val_ptr->ch12;
 509              		.loc 1 215 34 view .LVU141
 510 0168 A4F87030 		strh	r3, [r4, #112]	@ movhi
 216:Device/Dev_CRSF.c ****                 obj->channel[13] = channel_val_ptr->ch13;
 511              		.loc 1 216 17 is_stmt 1 view .LVU142
 216:Device/Dev_CRSF.c ****                 obj->channel[13] = channel_val_ptr->ch13;
 512              		.loc 1 216 51 is_stmt 0 view .LVU143
 513 016c 627D     		ldrb	r2, [r4, #21]	@ zero_extendqisi2
 514 016e 02F07F03 		and	r3, r2, #127
 515 0172 1B01     		lsls	r3, r3, #4
 516 0174 43EA1113 		orr	r3, r3, r1, lsr #4
 216:Device/Dev_CRSF.c ****                 obj->channel[13] = channel_val_ptr->ch13;
 517              		.loc 1 216 34 view .LVU144
 518 0178 A4F87230 		strh	r3, [r4, #114]	@ movhi
 217:Device/Dev_CRSF.c ****                 obj->channel[14] = channel_val_ptr->ch14;
 519              		.loc 1 217 17 is_stmt 1 view .LVU145
 217:Device/Dev_CRSF.c ****                 obj->channel[14] = channel_val_ptr->ch14;
 520              		.loc 1 217 51 is_stmt 0 view .LVU146
 521 017c A37D     		ldrb	r3, [r4, #22]	@ zero_extendqisi2
 522 017e 5B00     		lsls	r3, r3, #1
 523 0180 43EAD213 		orr	r3, r3, r2, lsr #7
 524 0184 E17D     		ldrb	r1, [r4, #23]	@ zero_extendqisi2
 525 0186 01F00302 		and	r2, r1, #3
 526 018a 43EA4223 		orr	r3, r3, r2, lsl #9
 217:Device/Dev_CRSF.c ****                 obj->channel[14] = channel_val_ptr->ch14;
 527              		.loc 1 217 34 view .LVU147
 528 018e A4F87430 		strh	r3, [r4, #116]	@ movhi
 218:Device/Dev_CRSF.c ****                 obj->channel[15] = channel_val_ptr->ch15;
 529              		.loc 1 218 17 is_stmt 1 view .LVU148
 218:Device/Dev_CRSF.c ****                 obj->channel[15] = channel_val_ptr->ch15;
 530              		.loc 1 218 51 is_stmt 0 view .LVU149
 531 0192 227E     		ldrb	r2, [r4, #24]	@ zero_extendqisi2
 532 0194 02F01F03 		and	r3, r2, #31
 533 0198 9B01     		lsls	r3, r3, #6
 534 019a 43EA9103 		orr	r3, r3, r1, lsr #2
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s 			page 17


 218:Device/Dev_CRSF.c ****                 obj->channel[15] = channel_val_ptr->ch15;
 535              		.loc 1 218 34 view .LVU150
 536 019e A4F87630 		strh	r3, [r4, #118]	@ movhi
 219:Device/Dev_CRSF.c **** 
 537              		.loc 1 219 17 is_stmt 1 view .LVU151
 219:Device/Dev_CRSF.c **** 
 538              		.loc 1 219 51 is_stmt 0 view .LVU152
 539 01a2 637E     		ldrb	r3, [r4, #25]	@ zero_extendqisi2
 540 01a4 DB00     		lsls	r3, r3, #3
 541 01a6 43EA5213 		orr	r3, r3, r2, lsr #5
 219:Device/Dev_CRSF.c **** 
 542              		.loc 1 219 34 view .LVU153
 543 01aa A4F87830 		strh	r3, [r4, #120]	@ movhi
 221:Device/Dev_CRSF.c ****                     obj->val_access = false;
 544              		.loc 1 221 17 is_stmt 1 view .LVU154
 221:Device/Dev_CRSF.c ****                     obj->val_access = false;
 545              		.loc 1 221 24 is_stmt 0 view .LVU155
 546 01ae 94F85830 		ldrb	r3, [r4, #88]	@ zero_extendqisi2
 221:Device/Dev_CRSF.c ****                     obj->val_access = false;
 547              		.loc 1 221 20 view .LVU156
 548 01b2 13B1     		cbz	r3, .L26
 222:Device/Dev_CRSF.c **** 
 549              		.loc 1 222 21 is_stmt 1 view .LVU157
 222:Device/Dev_CRSF.c **** 
 550              		.loc 1 222 37 is_stmt 0 view .LVU158
 551 01b4 0023     		movs	r3, #0
 552 01b6 84F85830 		strb	r3, [r4, #88]
 553              	.L26:
 224:Device/Dev_CRSF.c ****                 obj->decode_success_num ++;
 554              		.loc 1 224 17 is_stmt 1 view .LVU159
 224:Device/Dev_CRSF.c ****                 obj->decode_success_num ++;
 555              		.loc 1 224 28 is_stmt 0 view .LVU160
 556 01ba 0023     		movs	r3, #0
 557 01bc 84F84230 		strb	r3, [r4, #66]
 225:Device/Dev_CRSF.c ****                 return CRSF_FRAMETYPE_RC_CHANNELS_PACKED;
 558              		.loc 1 225 17 is_stmt 1 view .LVU161
 225:Device/Dev_CRSF.c ****                 return CRSF_FRAMETYPE_RC_CHANNELS_PACKED;
 559              		.loc 1 225 20 is_stmt 0 view .LVU162
 560 01c0 636D     		ldr	r3, [r4, #84]
 225:Device/Dev_CRSF.c ****                 return CRSF_FRAMETYPE_RC_CHANNELS_PACKED;
 561              		.loc 1 225 41 view .LVU163
 562 01c2 0133     		adds	r3, r3, #1
 563 01c4 6365     		str	r3, [r4, #84]
 226:Device/Dev_CRSF.c ****             }
 564              		.loc 1 226 17 is_stmt 1 view .LVU164
 226:Device/Dev_CRSF.c ****             }
 565              		.loc 1 226 24 is_stmt 0 view .LVU165
 566 01c6 02E0     		b	.L23
 567              	.LVL28:
 568              	.L27:
 226:Device/Dev_CRSF.c ****             }
 569              		.loc 1 226 24 view .LVU166
 570              	.LBE5:
 171:Device/Dev_CRSF.c **** 
 571              		.loc 1 171 16 view .LVU167
 572 01c8 FF20     		movs	r0, #255
 573              	.LVL29:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s 			page 18


 171:Device/Dev_CRSF.c **** 
 574              		.loc 1 171 16 view .LVU168
 575 01ca 00E0     		b	.L23
 576              	.LVL30:
 577              	.L28:
 171:Device/Dev_CRSF.c **** 
 578              		.loc 1 171 16 view .LVU169
 579 01cc FF20     		movs	r0, #255
 580              	.LVL31:
 581              	.L23:
 236:Device/Dev_CRSF.c **** 
 582              		.loc 1 236 1 view .LVU170
 583 01ce 02B0     		add	sp, sp, #8
 584              	.LCFI8:
 585              		.cfi_def_cfa_offset 16
 586              		@ sp needed
 587 01d0 70BD     		pop	{r4, r5, r6, pc}
 588              		.cfi_endproc
 589              	.LFE137:
 591              		.section	.text.DevCRSF_FIFO_In,"ax",%progbits
 592              		.align	1
 593              		.syntax unified
 594              		.thumb
 595              		.thumb_func
 597              	DevCRSF_FIFO_In:
 598              	.LVL32:
 599              	.LFB136:
  91:Device/Dev_CRSF.c ****     uint8_t decode_state = 0;
 600              		.loc 1 91 1 is_stmt 1 view -0
 601              		.cfi_startproc
 602              		@ args = 0, pretend = 0, frame = 0
 603              		@ frame_needed = 0, uses_anonymous_args = 0
  91:Device/Dev_CRSF.c ****     uint8_t decode_state = 0;
 604              		.loc 1 91 1 is_stmt 0 view .LVU172
 605 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 606              	.LCFI9:
 607              		.cfi_def_cfa_offset 24
 608              		.cfi_offset 4, -24
 609              		.cfi_offset 5, -20
 610              		.cfi_offset 6, -16
 611              		.cfi_offset 7, -12
 612              		.cfi_offset 8, -8
 613              		.cfi_offset 14, -4
  92:Device/Dev_CRSF.c **** 
 614              		.loc 1 92 5 is_stmt 1 view .LVU173
 615              	.LVL33:
  94:Device/Dev_CRSF.c ****     {
 616              		.loc 1 94 5 view .LVU174
  94:Device/Dev_CRSF.c ****     {
 617              		.loc 1 94 8 is_stmt 0 view .LVU175
 618 0004 0028     		cmp	r0, #0
 619 0006 6BD0     		beq	.L50
 620 0008 0F46     		mov	r7, r1
 621 000a 1646     		mov	r6, r2
 622 000c 0546     		mov	r5, r0
  94:Device/Dev_CRSF.c ****     {
 623              		.loc 1 94 13 discriminator 1 view .LVU176
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s 			page 19


 624 000e 002A     		cmp	r2, #0
 625 0010 62D1     		bne	.L51
 626              	.LVL34:
 627              	.L39:
 162:Device/Dev_CRSF.c **** 
 628              		.loc 1 162 1 view .LVU177
 629 0012 3046     		mov	r0, r6
 630 0014 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 631              	.LVL35:
 632              	.L44:
 633              	.LBB6:
 114:Device/Dev_CRSF.c ****                 break;
 634              		.loc 1 114 21 is_stmt 1 view .LVU178
 635 0018 4022     		movs	r2, #64
 636 001a 0021     		movs	r1, #0
 637 001c 2846     		mov	r0, r5
 638 001e FFF7FEFF 		bl	memset
 639              	.LVL36:
 640 0022 0DE0     		b	.L43
 641              	.L41:
 118:Device/Dev_CRSF.c ****                 if ((p_data[i] == (CRSF_FRAME_RC_CHANNELS_PAYLOAD_SIZE + CRSF_FRAME_ORIGIN_DEST_SIZ
 642              		.loc 1 118 17 view .LVU179
 118:Device/Dev_CRSF.c ****                 if ((p_data[i] == (CRSF_FRAME_RC_CHANNELS_PAYLOAD_SIZE + CRSF_FRAME_ORIGIN_DEST_SIZ
 643              		.loc 1 118 30 is_stmt 0 view .LVU180
 644 0024 0023     		movs	r3, #0
 645 0026 85F84030 		strb	r3, [r5, #64]
 119:Device/Dev_CRSF.c ****                     (p_data[i] == CRSF_FRAME_LINK_STATISTICS_PAYLOAD_SIZE + CRSF_FRAME_ORIGIN_DEST_
 646              		.loc 1 119 17 is_stmt 1 view .LVU181
 119:Device/Dev_CRSF.c ****                     (p_data[i] == CRSF_FRAME_LINK_STATISTICS_PAYLOAD_SIZE + CRSF_FRAME_ORIGIN_DEST_
 647              		.loc 1 119 28 is_stmt 0 view .LVU182
 648 002a 3A19     		adds	r2, r7, r4
 649 002c 3B5D     		ldrb	r3, [r7, r4]	@ zero_extendqisi2
 119:Device/Dev_CRSF.c ****                     (p_data[i] == CRSF_FRAME_LINK_STATISTICS_PAYLOAD_SIZE + CRSF_FRAME_ORIGIN_DEST_
 650              		.loc 1 119 20 view .LVU183
 651 002e 182B     		cmp	r3, #24
 652 0030 01D0     		beq	.L45
 119:Device/Dev_CRSF.c ****                     (p_data[i] == CRSF_FRAME_LINK_STATISTICS_PAYLOAD_SIZE + CRSF_FRAME_ORIGIN_DEST_
 653              		.loc 1 119 104 discriminator 1 view .LVU184
 654 0032 0C2B     		cmp	r3, #12
 655 0034 1ED1     		bne	.L46
 656              	.L45:
 122:Device/Dev_CRSF.c ****                     obj->frame.length = p_data[i];
 657              		.loc 1 122 21 is_stmt 1 view .LVU185
 122:Device/Dev_CRSF.c ****                     obj->frame.length = p_data[i];
 658              		.loc 1 122 36 is_stmt 0 view .LVU186
 659 0036 0223     		movs	r3, #2
 660 0038 85F84130 		strb	r3, [r5, #65]
 123:Device/Dev_CRSF.c ****                 }
 661              		.loc 1 123 21 is_stmt 1 view .LVU187
 123:Device/Dev_CRSF.c ****                 }
 662              		.loc 1 123 47 is_stmt 0 view .LVU188
 663 003c 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 123:Device/Dev_CRSF.c ****                 }
 664              		.loc 1 123 39 view .LVU189
 665 003e 6B70     		strb	r3, [r5, #1]
 666              	.L43:
  96:Device/Dev_CRSF.c ****         {
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s 			page 20


 667              		.loc 1 96 38 is_stmt 1 discriminator 2 view .LVU190
  96:Device/Dev_CRSF.c ****         {
 668              		.loc 1 96 40 is_stmt 0 discriminator 2 view .LVU191
 669 0040 0134     		adds	r4, r4, #1
 670              	.LVL37:
  96:Device/Dev_CRSF.c ****         {
 671              		.loc 1 96 40 discriminator 2 view .LVU192
 672 0042 E4B2     		uxtb	r4, r4
 673              	.LVL38:
 674              	.L40:
  96:Device/Dev_CRSF.c ****         {
 675              		.loc 1 96 29 is_stmt 1 discriminator 1 view .LVU193
  96:Device/Dev_CRSF.c ****         {
 676              		.loc 1 96 9 is_stmt 0 discriminator 1 view .LVU194
 677 0044 B442     		cmp	r4, r6
 678 0046 49D2     		bcs	.L53
  98:Device/Dev_CRSF.c ****             {
 679              		.loc 1 98 13 is_stmt 1 view .LVU195
  98:Device/Dev_CRSF.c ****             {
 680              		.loc 1 98 34 is_stmt 0 view .LVU196
 681 0048 95F84130 		ldrb	r3, [r5, #65]	@ zero_extendqisi2
  98:Device/Dev_CRSF.c ****             {
 682              		.loc 1 98 13 view .LVU197
 683 004c 012B     		cmp	r3, #1
 684 004e E9D0     		beq	.L41
 685 0050 022B     		cmp	r3, #2
 686 0052 17D0     		beq	.L42
 687 0054 002B     		cmp	r3, #0
 688 0056 F3D1     		bne	.L43
 101:Device/Dev_CRSF.c ****                 if (p_data[i] == CRSF_ADDRESS_FLIGHT_CONTROLLER)
 689              		.loc 1 101 17 is_stmt 1 view .LVU198
 101:Device/Dev_CRSF.c ****                 if (p_data[i] == CRSF_ADDRESS_FLIGHT_CONTROLLER)
 690              		.loc 1 101 30 is_stmt 0 view .LVU199
 691 0058 85F84030 		strb	r3, [r5, #64]
 102:Device/Dev_CRSF.c ****                 {
 692              		.loc 1 102 17 is_stmt 1 view .LVU200
 102:Device/Dev_CRSF.c ****                 {
 693              		.loc 1 102 27 is_stmt 0 view .LVU201
 694 005c 3B5D     		ldrb	r3, [r7, r4]	@ zero_extendqisi2
 102:Device/Dev_CRSF.c ****                 {
 695              		.loc 1 102 20 view .LVU202
 696 005e C82B     		cmp	r3, #200
 697 0060 DAD1     		bne	.L44
 104:Device/Dev_CRSF.c ****                     obj->frame.addr = p_data[i];
 698              		.loc 1 104 21 is_stmt 1 view .LVU203
 104:Device/Dev_CRSF.c ****                     obj->frame.addr = p_data[i];
 699              		.loc 1 104 36 is_stmt 0 view .LVU204
 700 0062 0123     		movs	r3, #1
 701 0064 85F84130 		strb	r3, [r5, #65]
 105:Device/Dev_CRSF.c ****                     obj->match_header_num ++;
 702              		.loc 1 105 21 is_stmt 1 view .LVU205
 105:Device/Dev_CRSF.c ****                     obj->match_header_num ++;
 703              		.loc 1 105 45 is_stmt 0 view .LVU206
 704 0068 3B5D     		ldrb	r3, [r7, r4]	@ zero_extendqisi2
 105:Device/Dev_CRSF.c ****                     obj->match_header_num ++;
 705              		.loc 1 105 37 view .LVU207
 706 006a 2B70     		strb	r3, [r5]
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s 			page 21


 106:Device/Dev_CRSF.c **** 
 707              		.loc 1 106 21 is_stmt 1 view .LVU208
 106:Device/Dev_CRSF.c **** 
 708              		.loc 1 106 24 is_stmt 0 view .LVU209
 709 006c 2B6D     		ldr	r3, [r5, #80]
 106:Device/Dev_CRSF.c **** 
 710              		.loc 1 106 43 view .LVU210
 711 006e 0133     		adds	r3, r3, #1
 712 0070 2B65     		str	r3, [r5, #80]
 713 0072 E5E7     		b	.L43
 714              	.L46:
 127:Device/Dev_CRSF.c ****                     memset(&obj->frame, 0, sizeof(obj->frame));
 715              		.loc 1 127 21 is_stmt 1 view .LVU211
 127:Device/Dev_CRSF.c ****                     memset(&obj->frame, 0, sizeof(obj->frame));
 716              		.loc 1 127 36 is_stmt 0 view .LVU212
 717 0074 0021     		movs	r1, #0
 718 0076 85F84110 		strb	r1, [r5, #65]
 128:Device/Dev_CRSF.c ****                 }
 719              		.loc 1 128 21 is_stmt 1 view .LVU213
 720 007a 4022     		movs	r2, #64
 721 007c 2846     		mov	r0, r5
 722 007e FFF7FEFF 		bl	memset
 723              	.LVL39:
 724 0082 DDE7     		b	.L43
 725              	.L42:
 133:Device/Dev_CRSF.c ****                 {
 726              		.loc 1 133 17 view .LVU214
 133:Device/Dev_CRSF.c ****                 {
 727              		.loc 1 133 31 is_stmt 0 view .LVU215
 728 0084 6A78     		ldrb	r2, [r5, #1]	@ zero_extendqisi2
 133:Device/Dev_CRSF.c ****                 {
 729              		.loc 1 133 20 view .LVU216
 730 0086 DAB1     		cbz	r2, .L47
 135:Device/Dev_CRSF.c ****                         obj->frame.type = p_data[i];
 731              		.loc 1 135 21 is_stmt 1 view .LVU217
 135:Device/Dev_CRSF.c ****                         obj->frame.type = p_data[i];
 732              		.loc 1 135 28 is_stmt 0 view .LVU218
 733 0088 95F84030 		ldrb	r3, [r5, #64]	@ zero_extendqisi2
 135:Device/Dev_CRSF.c ****                         obj->frame.type = p_data[i];
 734              		.loc 1 135 24 view .LVU219
 735 008c 0BB9     		cbnz	r3, .L48
 136:Device/Dev_CRSF.c **** 
 736              		.loc 1 136 25 is_stmt 1 view .LVU220
 136:Device/Dev_CRSF.c **** 
 737              		.loc 1 136 49 is_stmt 0 view .LVU221
 738 008e 395D     		ldrb	r1, [r7, r4]	@ zero_extendqisi2
 136:Device/Dev_CRSF.c **** 
 739              		.loc 1 136 41 view .LVU222
 740 0090 A970     		strb	r1, [r5, #2]
 741              	.L48:
 138:Device/Dev_CRSF.c ****                     obj->rec_cnt++;
 742              		.loc 1 138 21 is_stmt 1 view .LVU223
 138:Device/Dev_CRSF.c ****                     obj->rec_cnt++;
 743              		.loc 1 138 59 is_stmt 0 view .LVU224
 744 0092 385D     		ldrb	r0, [r7, r4]	@ zero_extendqisi2
 138:Device/Dev_CRSF.c ****                     obj->rec_cnt++;
 745              		.loc 1 138 51 view .LVU225
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s 			page 22


 746 0094 E918     		adds	r1, r5, r3
 747 0096 C870     		strb	r0, [r1, #3]
 139:Device/Dev_CRSF.c ****                     
 748              		.loc 1 139 21 is_stmt 1 view .LVU226
 139:Device/Dev_CRSF.c ****                     
 749              		.loc 1 139 33 is_stmt 0 view .LVU227
 750 0098 0133     		adds	r3, r3, #1
 751 009a DBB2     		uxtb	r3, r3
 752 009c 85F84030 		strb	r3, [r5, #64]
 141:Device/Dev_CRSF.c ****                     {                
 753              		.loc 1 141 21 is_stmt 1 view .LVU228
 141:Device/Dev_CRSF.c ****                     {                
 754              		.loc 1 141 24 is_stmt 0 view .LVU229
 755 00a0 9A42     		cmp	r2, r3
 756 00a2 CDD1     		bne	.L43
 143:Device/Dev_CRSF.c ****                         obj->rec_stage = CRSF_Stage_Header;
 757              		.loc 1 143 25 is_stmt 1 view .LVU230
 143:Device/Dev_CRSF.c ****                         obj->rec_stage = CRSF_Stage_Header;
 758              		.loc 1 143 40 is_stmt 0 view .LVU231
 759 00a4 2846     		mov	r0, r5
 760 00a6 FFF7FEFF 		bl	DevCRSF_Decode
 761              	.LVL40:
 762 00aa 0646     		mov	r6, r0
 763              	.LVL41:
 144:Device/Dev_CRSF.c ****                         obj->rec_cnt = 0;
 764              		.loc 1 144 25 is_stmt 1 view .LVU232
 144:Device/Dev_CRSF.c ****                         obj->rec_cnt = 0;
 765              		.loc 1 144 40 is_stmt 0 view .LVU233
 766 00ac 0021     		movs	r1, #0
 767 00ae 85F84110 		strb	r1, [r5, #65]
 145:Device/Dev_CRSF.c ****                         memset(&obj->frame, 0, sizeof(obj->frame));
 768              		.loc 1 145 25 is_stmt 1 view .LVU234
 145:Device/Dev_CRSF.c ****                         memset(&obj->frame, 0, sizeof(obj->frame));
 769              		.loc 1 145 38 is_stmt 0 view .LVU235
 770 00b2 85F84010 		strb	r1, [r5, #64]
 146:Device/Dev_CRSF.c ****                         return decode_state;
 771              		.loc 1 146 25 is_stmt 1 view .LVU236
 772 00b6 4022     		movs	r2, #64
 773 00b8 2846     		mov	r0, r5
 774 00ba FFF7FEFF 		bl	memset
 775              	.LVL42:
 147:Device/Dev_CRSF.c ****                     }
 776              		.loc 1 147 25 view .LVU237
 147:Device/Dev_CRSF.c ****                     }
 777              		.loc 1 147 32 is_stmt 0 view .LVU238
 778 00be A8E7     		b	.L39
 779              	.LVL43:
 780              	.L47:
 152:Device/Dev_CRSF.c ****                     memset(&obj->frame, 0, sizeof(obj->frame));
 781              		.loc 1 152 21 is_stmt 1 view .LVU239
 152:Device/Dev_CRSF.c ****                     memset(&obj->frame, 0, sizeof(obj->frame));
 782              		.loc 1 152 34 is_stmt 0 view .LVU240
 783 00c0 4FF00008 		mov	r8, #0
 784 00c4 85F84080 		strb	r8, [r5, #64]
 153:Device/Dev_CRSF.c ****                     obj->rec_stage = CRSF_Stage_Header;
 785              		.loc 1 153 21 is_stmt 1 view .LVU241
 786 00c8 4022     		movs	r2, #64
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s 			page 23


 787 00ca 4146     		mov	r1, r8
 788 00cc 2846     		mov	r0, r5
 789 00ce FFF7FEFF 		bl	memset
 790              	.LVL44:
 154:Device/Dev_CRSF.c ****                 }
 791              		.loc 1 154 21 view .LVU242
 154:Device/Dev_CRSF.c ****                 }
 792              		.loc 1 154 36 is_stmt 0 view .LVU243
 793 00d2 85F84180 		strb	r8, [r5, #65]
 794 00d6 B3E7     		b	.L43
 795              	.LVL45:
 796              	.L51:
  96:Device/Dev_CRSF.c ****         {
 797              		.loc 1 96 22 view .LVU244
 798 00d8 0024     		movs	r4, #0
 799 00da B3E7     		b	.L40
 800              	.LVL46:
 801              	.L53:
  96:Device/Dev_CRSF.c ****         {
 802              		.loc 1 96 22 view .LVU245
 803              	.LBE6:
 161:Device/Dev_CRSF.c **** }
 804              		.loc 1 161 12 view .LVU246
 805 00dc 0026     		movs	r6, #0
 806              	.LBB7:
 807 00de 98E7     		b	.L39
 808              	.LVL47:
 809              	.L50:
 161:Device/Dev_CRSF.c **** }
 810              		.loc 1 161 12 view .LVU247
 811              	.LBE7:
 812 00e0 0026     		movs	r6, #0
 813 00e2 96E7     		b	.L39
 814              		.cfi_endproc
 815              	.LFE136:
 817              		.global	DevCRSF
 818              		.section	.data.DevCRSF,"aw"
 819              		.align	2
 822              	DevCRSF:
 823 0000 00000000 		.word	DevCrsf_Init
 824 0004 00000000 		.word	DevCRSF_FIFO_In
 825 0008 00000000 		.word	DevCRSF_Get_Channel
 826 000c 00000000 		.word	DevCESF_Get_Statistics
 827              		.section	.rodata.crsf_crc8tab,"a"
 828              		.align	2
 829              		.set	.LANCHOR0,. + 0
 832              	crsf_crc8tab:
 833 0000 00D57FAA 		.ascii	"\000\325\177\252\376+\201T)\374V\203\327\002\250}R\207"
 833      FE2B8154 
 833      29FC5683 
 833      D702A87D 
 833      5287
 834 0012 2DF8AC79 		.ascii	"-\370\254y\323\006{\256\004\321\205P\372/\244q\333\016"
 834      D3067BAE 
 834      04D18550 
 834      FA2FA471 
 834      DB0E
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s 			page 24


 835 0024 5A8F25F0 		.ascii	"Z\217%\360\215X\362's\246\014\331\366#\211\\\010\335"
 835      8D58F227 
 835      73A60CD9 
 835      F623895C 
 835      08DD
 836 0036 77A2DF0A 		.ascii	"w\242\337\012\240u!\364^\213\235H\3427c\266\034\311"
 836      A07521F4 
 836      5E8B9D48 
 836      E23763B6 
 836      1CC9
 837 0048 B461CB1E 		.ascii	"\264a\313\036J\2375\340\317\032\260e1\344N\233\3463"
 837      4A9F35E0 
 837      CF1AB065 
 837      31E44E9B 
 837      E633
 838 005a 994C18CD 		.ascii	"\231L\030\315g\2629\354F\223\307\022\270m\020\305o\272"
 838      67B239EC 
 838      4693C712 
 838      B86D10C5 
 838      6FBA
 839 006c EE3B9144 		.ascii	"\356;\221Dk\276\024\301\225@\352?B\227=\350\274i\303"
 839      6BBE14C1 
 839      9540EA3F 
 839      42973DE8 
 839      BC69C3
 840 007f 16EF3A90 		.ascii	"\026\357:\220E\021\304n\273\306\023\271l8\355G\222\275"
 840      4511C46E 
 840      BBC613B9 
 840      6C38ED47 
 840      92BD
 841 0091 68C21743 		.ascii	"h\302\027C\226<\351\224A\353>j\277\025\300K\2364\341"
 841      963CE994 
 841      41EB3E6A 
 841      BF15C04B 
 841      9E34E1
 842 00a4 B560CA1F 		.ascii	"\265`\312\037b\267\035\310\234I\3436\031\314f\263\347"
 842      62B71DC8 
 842      9C49E336 
 842      19CC66B3 
 842      E7
 843 00b5 32984D30 		.ascii	"2\230M0\345O\232\316\033\261dr\247\015\330\214Y\363"
 843      E54F9ACE 
 843      1BB16472 
 843      A70DD88C 
 843      59F3
 844 00c7 265B8E24 		.ascii	"&[\216$\361\245p\332\017 \365_\212\336\013\241t\011"
 844      F1A570DA 
 844      0F20F55F 
 844      8ADE0BA1 
 844      7409
 845 00d9 DC76A3F7 		.ascii	"\334v\243\367\"\210]\326\003\251|(\375W\202\377*\200"
 845      22885DD6 
 845      03A97C28 
 845      FD5782FF 
 845      2A80
 846 00eb 5501D47E 		.ascii	"U\001\324~\253\204Q\373.z\257\005\320\255x\322\007S"
 846      AB8451FB 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s 			page 25


 846      2E7AAF05 
 846      D0AD78D2 
 846      0753
 847 00fd 862CF9   		.ascii	"\206,\371"
 848              		.text
 849              	.Letext0:
 850              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 851              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 852              		.file 4 "Device/Dev_CRSF.h"
 853              		.file 5 "HW_Lib/AT32F435/drivers/inc/at32f435_437_tmr.h"
 854              		.file 6 "common/Error_Log/../../common/gen_physic_def/imu_data.h"
 855              		.file 7 "<built-in>"
ARM GAS  C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s 			page 26


DEFINED SYMBOLS
                            *ABS*:00000000 Dev_CRSF.c
C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s:20     .text.crsf_crc8:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s:25     .text.crsf_crc8:00000000 crsf_crc8
C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s:86     .text.crsf_crc8:00000024 $d
C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s:91     .text.DevCESF_Get_Statistics:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s:96     .text.DevCESF_Get_Statistics:00000000 DevCESF_Get_Statistics
C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s:151    .text.DevCrsf_Init:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s:156    .text.DevCrsf_Init:00000000 DevCrsf_Init
C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s:202    .text.DevCRSF_Get_Channel:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s:207    .text.DevCRSF_Get_Channel:00000000 DevCRSF_Get_Channel
C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s:267    .text.DevCRSF_Decode:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s:272    .text.DevCRSF_Decode:00000000 DevCRSF_Decode
C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s:592    .text.DevCRSF_FIFO_In:00000000 $t
C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s:597    .text.DevCRSF_FIFO_In:00000000 DevCRSF_FIFO_In
C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s:822    .data.DevCRSF:00000000 DevCRSF
C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s:819    .data.DevCRSF:00000000 $d
C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s:828    .rodata.crsf_crc8tab:00000000 $d
C:\Users\8bit\AppData\Local\Temp\cc1DdWnb.s:832    .rodata.crsf_crc8tab:00000000 crsf_crc8tab

UNDEFINED SYMBOLS
memset
