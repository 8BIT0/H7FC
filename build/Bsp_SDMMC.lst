ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s 			page 1


   1              		.cpu cortex-m7
   2              		.arch armv7e-m
   3              		.fpu fpv5-d16
   4              		.eabi_attribute 28, 1
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 1
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.file	"Bsp_SDMMC.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.text.BspSDMMC_PinCLK_Enable,"ax",%progbits
  19              		.align	1
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	BspSDMMC_PinCLK_Enable:
  25              	.LVL0:
  26              	.LFB144:
  27              		.file 1 "Bsp/Bsp_SDMMC.c"
   1:Bsp/Bsp_SDMMC.c **** #include "Bsp_SDMMC.h"
   2:Bsp/Bsp_SDMMC.c **** 
   3:Bsp/Bsp_SDMMC.c **** static const GPIO_InitTypeDef BspSDMMC_PinCfg = {
   4:Bsp/Bsp_SDMMC.c ****     .Mode = GPIO_MODE_AF_PP,
   5:Bsp/Bsp_SDMMC.c ****     .Pull = GPIO_NOPULL,
   6:Bsp/Bsp_SDMMC.c ****     .Speed = GPIO_SPEED_FREQ_VERY_HIGH,
   7:Bsp/Bsp_SDMMC.c **** };
   8:Bsp/Bsp_SDMMC.c **** 
   9:Bsp/Bsp_SDMMC.c **** /* internal function */
  10:Bsp/Bsp_SDMMC.c **** static bool BspSDMMC_PortCLK_Init(SDMMC_TypeDef *instance);
  11:Bsp/Bsp_SDMMC.c **** static void BspSDMMC_PinCLK_Enable(GPIO_TypeDef *port);
  12:Bsp/Bsp_SDMMC.c **** 
  13:Bsp/Bsp_SDMMC.c **** /* external function */
  14:Bsp/Bsp_SDMMC.c **** static bool BspSDMMC_Init(BspSDMMC_Obj_TypeDef *obj);
  15:Bsp/Bsp_SDMMC.c **** static bool BspSDMMC_Read(BspSDMMC_Obj_TypeDef *obj, uint32_t *pData, uint32_t ReadAddr, uint32_t N
  16:Bsp/Bsp_SDMMC.c **** static bool BspSDMMC_Write(BspSDMMC_Obj_TypeDef *obj, uint32_t *pData, uint32_t WriteAddr, uint32_t
  17:Bsp/Bsp_SDMMC.c **** static bool BspSDMMC_Erase(BspSDMMC_Obj_TypeDef *obj, uint32_t StartAddr, uint32_t EndAddr);
  18:Bsp/Bsp_SDMMC.c **** static bool BspSDMMC_GetStatus(BspSDMMC_Obj_TypeDef *obj);
  19:Bsp/Bsp_SDMMC.c **** static bool BspSDMMC_GetInfo(BspSDMMC_Obj_TypeDef *obj, HAL_SD_CardInfoTypeDef *info_out);
  20:Bsp/Bsp_SDMMC.c **** 
  21:Bsp/Bsp_SDMMC.c **** BspSDMMC_TypeDef BspSDMMC = {
  22:Bsp/Bsp_SDMMC.c ****     .init = BspSDMMC_Init,
  23:Bsp/Bsp_SDMMC.c ****     .read = BspSDMMC_Read,
  24:Bsp/Bsp_SDMMC.c ****     .write = BspSDMMC_Write,
  25:Bsp/Bsp_SDMMC.c ****     .erase = BspSDMMC_Erase,
  26:Bsp/Bsp_SDMMC.c ****     .status = BspSDMMC_GetStatus,
  27:Bsp/Bsp_SDMMC.c ****     .info = BspSDMMC_GetInfo,
  28:Bsp/Bsp_SDMMC.c **** };
  29:Bsp/Bsp_SDMMC.c **** 
  30:Bsp/Bsp_SDMMC.c **** static void BspSDMMC_PinCLK_Enable(GPIO_TypeDef *port)
  31:Bsp/Bsp_SDMMC.c **** {
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s 			page 2


  28              		.loc 1 31 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 40
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  33              		.loc 1 31 1 is_stmt 0 view .LVU1
  34 0000 8AB0     		sub	sp, sp, #40
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 40
  32:Bsp/Bsp_SDMMC.c ****     if (port == GPIOA)
  37              		.loc 1 32 5 is_stmt 1 view .LVU2
  38              		.loc 1 32 8 is_stmt 0 view .LVU3
  39 0002 5B4B     		ldr	r3, .L22
  40 0004 9842     		cmp	r0, r3
  41 0006 2AD0     		beq	.L13
  33:Bsp/Bsp_SDMMC.c ****     {
  34:Bsp/Bsp_SDMMC.c ****         __HAL_RCC_GPIOA_CLK_ENABLE();
  35:Bsp/Bsp_SDMMC.c ****     }
  36:Bsp/Bsp_SDMMC.c ****     else if (port == GPIOB)
  42              		.loc 1 36 10 is_stmt 1 view .LVU4
  43              		.loc 1 36 13 is_stmt 0 view .LVU5
  44 0008 5A4B     		ldr	r3, .L22+4
  45 000a 9842     		cmp	r0, r3
  46 000c 37D0     		beq	.L14
  37:Bsp/Bsp_SDMMC.c ****     {
  38:Bsp/Bsp_SDMMC.c ****         __HAL_RCC_GPIOB_CLK_ENABLE();
  39:Bsp/Bsp_SDMMC.c ****     }
  40:Bsp/Bsp_SDMMC.c ****     else if (port == GPIOC)
  47              		.loc 1 40 10 is_stmt 1 view .LVU6
  48              		.loc 1 40 13 is_stmt 0 view .LVU7
  49 000e 5A4B     		ldr	r3, .L22+8
  50 0010 9842     		cmp	r0, r3
  51 0012 43D0     		beq	.L15
  41:Bsp/Bsp_SDMMC.c ****     {
  42:Bsp/Bsp_SDMMC.c ****         __HAL_RCC_GPIOC_CLK_ENABLE();
  43:Bsp/Bsp_SDMMC.c ****     }
  44:Bsp/Bsp_SDMMC.c ****     else if (port == GPIOD)
  52              		.loc 1 44 10 is_stmt 1 view .LVU8
  53              		.loc 1 44 13 is_stmt 0 view .LVU9
  54 0014 594B     		ldr	r3, .L22+12
  55 0016 9842     		cmp	r0, r3
  56 0018 4FD0     		beq	.L16
  45:Bsp/Bsp_SDMMC.c ****     {
  46:Bsp/Bsp_SDMMC.c ****         __HAL_RCC_GPIOD_CLK_ENABLE();
  47:Bsp/Bsp_SDMMC.c ****     }
  48:Bsp/Bsp_SDMMC.c ****     else if (port == GPIOE)
  57              		.loc 1 48 10 is_stmt 1 view .LVU10
  58              		.loc 1 48 13 is_stmt 0 view .LVU11
  59 001a 594B     		ldr	r3, .L22+16
  60 001c 9842     		cmp	r0, r3
  61 001e 5BD0     		beq	.L17
  49:Bsp/Bsp_SDMMC.c ****     {
  50:Bsp/Bsp_SDMMC.c ****         __HAL_RCC_GPIOE_CLK_ENABLE();
  51:Bsp/Bsp_SDMMC.c ****     }
  52:Bsp/Bsp_SDMMC.c ****     else if (port == GPIOF)
  62              		.loc 1 52 10 is_stmt 1 view .LVU12
  63              		.loc 1 52 13 is_stmt 0 view .LVU13
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s 			page 3


  64 0020 584B     		ldr	r3, .L22+20
  65 0022 9842     		cmp	r0, r3
  66 0024 67D0     		beq	.L18
  53:Bsp/Bsp_SDMMC.c ****     {
  54:Bsp/Bsp_SDMMC.c ****         __HAL_RCC_GPIOF_CLK_ENABLE();
  55:Bsp/Bsp_SDMMC.c ****     }
  56:Bsp/Bsp_SDMMC.c ****     else if (port == GPIOG)
  67              		.loc 1 56 10 is_stmt 1 view .LVU14
  68              		.loc 1 56 13 is_stmt 0 view .LVU15
  69 0026 584B     		ldr	r3, .L22+24
  70 0028 9842     		cmp	r0, r3
  71 002a 73D0     		beq	.L19
  57:Bsp/Bsp_SDMMC.c ****     {
  58:Bsp/Bsp_SDMMC.c ****         __HAL_RCC_GPIOG_CLK_ENABLE();
  59:Bsp/Bsp_SDMMC.c ****     }
  60:Bsp/Bsp_SDMMC.c ****     else if (port == GPIOH)
  72              		.loc 1 60 10 is_stmt 1 view .LVU16
  73              		.loc 1 60 13 is_stmt 0 view .LVU17
  74 002c 574B     		ldr	r3, .L22+28
  75 002e 9842     		cmp	r0, r3
  76 0030 7FD0     		beq	.L20
  61:Bsp/Bsp_SDMMC.c ****     {
  62:Bsp/Bsp_SDMMC.c ****         __HAL_RCC_GPIOH_CLK_ENABLE();
  63:Bsp/Bsp_SDMMC.c ****     }
  64:Bsp/Bsp_SDMMC.c ****     else if (port == GPIOJ)
  77              		.loc 1 64 10 is_stmt 1 view .LVU18
  78              		.loc 1 64 13 is_stmt 0 view .LVU19
  79 0032 574B     		ldr	r3, .L22+32
  80 0034 9842     		cmp	r0, r3
  81 0036 00F08B80 		beq	.L21
  65:Bsp/Bsp_SDMMC.c ****     {
  66:Bsp/Bsp_SDMMC.c ****         __HAL_RCC_GPIOJ_CLK_ENABLE();
  67:Bsp/Bsp_SDMMC.c ****     }
  68:Bsp/Bsp_SDMMC.c ****     else if (port == GPIOK)
  82              		.loc 1 68 10 is_stmt 1 view .LVU20
  83              		.loc 1 68 13 is_stmt 0 view .LVU21
  84 003a 564B     		ldr	r3, .L22+36
  85 003c 9842     		cmp	r0, r3
  86 003e 1CD1     		bne	.L1
  69:Bsp/Bsp_SDMMC.c ****     {
  70:Bsp/Bsp_SDMMC.c ****         __HAL_RCC_GPIOK_CLK_ENABLE();
  87              		.loc 1 70 9 is_stmt 1 view .LVU22
  88              	.LBB2:
  89              		.loc 1 70 9 view .LVU23
  90              		.loc 1 70 9 view .LVU24
  91 0040 03F5E053 		add	r3, r3, #7168
  92 0044 D3F8E020 		ldr	r2, [r3, #224]
  93 0048 42F48062 		orr	r2, r2, #1024
  94 004c C3F8E020 		str	r2, [r3, #224]
  95              		.loc 1 70 9 view .LVU25
  96 0050 D3F8E030 		ldr	r3, [r3, #224]
  97 0054 03F48063 		and	r3, r3, #1024
  98 0058 0993     		str	r3, [sp, #36]
  99              		.loc 1 70 9 view .LVU26
 100 005a 099B     		ldr	r3, [sp, #36]
 101              	.LBE2:
 102              		.loc 1 70 9 view .LVU27
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s 			page 4


  71:Bsp/Bsp_SDMMC.c ****     }
  72:Bsp/Bsp_SDMMC.c **** }
 103              		.loc 1 72 1 is_stmt 0 view .LVU28
 104 005c 0DE0     		b	.L1
 105              	.L13:
  34:Bsp/Bsp_SDMMC.c ****     }
 106              		.loc 1 34 9 is_stmt 1 view .LVU29
 107              	.LBB3:
  34:Bsp/Bsp_SDMMC.c ****     }
 108              		.loc 1 34 9 view .LVU30
  34:Bsp/Bsp_SDMMC.c ****     }
 109              		.loc 1 34 9 view .LVU31
 110 005e 03F58843 		add	r3, r3, #17408
 111 0062 D3F8E020 		ldr	r2, [r3, #224]
 112 0066 42F00102 		orr	r2, r2, #1
 113 006a C3F8E020 		str	r2, [r3, #224]
  34:Bsp/Bsp_SDMMC.c ****     }
 114              		.loc 1 34 9 view .LVU32
 115 006e D3F8E030 		ldr	r3, [r3, #224]
 116 0072 03F00103 		and	r3, r3, #1
 117 0076 0093     		str	r3, [sp]
  34:Bsp/Bsp_SDMMC.c ****     }
 118              		.loc 1 34 9 view .LVU33
 119 0078 009B     		ldr	r3, [sp]
 120              	.LBE3:
  34:Bsp/Bsp_SDMMC.c ****     }
 121              		.loc 1 34 9 view .LVU34
 122              	.L1:
 123              		.loc 1 72 1 is_stmt 0 view .LVU35
 124 007a 0AB0     		add	sp, sp, #40
 125              	.LCFI1:
 126              		.cfi_remember_state
 127              		.cfi_def_cfa_offset 0
 128              		@ sp needed
 129 007c 7047     		bx	lr
 130              	.L14:
 131              	.LCFI2:
 132              		.cfi_restore_state
  38:Bsp/Bsp_SDMMC.c ****     }
 133              		.loc 1 38 9 is_stmt 1 view .LVU36
 134              	.LBB4:
  38:Bsp/Bsp_SDMMC.c ****     }
 135              		.loc 1 38 9 view .LVU37
  38:Bsp/Bsp_SDMMC.c ****     }
 136              		.loc 1 38 9 view .LVU38
 137 007e 03F58043 		add	r3, r3, #16384
 138 0082 D3F8E020 		ldr	r2, [r3, #224]
 139 0086 42F00202 		orr	r2, r2, #2
 140 008a C3F8E020 		str	r2, [r3, #224]
  38:Bsp/Bsp_SDMMC.c ****     }
 141              		.loc 1 38 9 view .LVU39
 142 008e D3F8E030 		ldr	r3, [r3, #224]
 143 0092 03F00203 		and	r3, r3, #2
 144 0096 0193     		str	r3, [sp, #4]
  38:Bsp/Bsp_SDMMC.c ****     }
 145              		.loc 1 38 9 view .LVU40
 146 0098 019B     		ldr	r3, [sp, #4]
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s 			page 5


 147              	.LBE4:
  38:Bsp/Bsp_SDMMC.c ****     }
 148              		.loc 1 38 9 view .LVU41
 149 009a EEE7     		b	.L1
 150              	.L15:
  42:Bsp/Bsp_SDMMC.c ****     }
 151              		.loc 1 42 9 view .LVU42
 152              	.LBB5:
  42:Bsp/Bsp_SDMMC.c ****     }
 153              		.loc 1 42 9 view .LVU43
  42:Bsp/Bsp_SDMMC.c ****     }
 154              		.loc 1 42 9 view .LVU44
 155 009c 03F57053 		add	r3, r3, #15360
 156 00a0 D3F8E020 		ldr	r2, [r3, #224]
 157 00a4 42F00402 		orr	r2, r2, #4
 158 00a8 C3F8E020 		str	r2, [r3, #224]
  42:Bsp/Bsp_SDMMC.c ****     }
 159              		.loc 1 42 9 view .LVU45
 160 00ac D3F8E030 		ldr	r3, [r3, #224]
 161 00b0 03F00403 		and	r3, r3, #4
 162 00b4 0293     		str	r3, [sp, #8]
  42:Bsp/Bsp_SDMMC.c ****     }
 163              		.loc 1 42 9 view .LVU46
 164 00b6 029B     		ldr	r3, [sp, #8]
 165              	.LBE5:
  42:Bsp/Bsp_SDMMC.c ****     }
 166              		.loc 1 42 9 view .LVU47
 167 00b8 DFE7     		b	.L1
 168              	.L16:
  46:Bsp/Bsp_SDMMC.c ****     }
 169              		.loc 1 46 9 view .LVU48
 170              	.LBB6:
  46:Bsp/Bsp_SDMMC.c ****     }
 171              		.loc 1 46 9 view .LVU49
  46:Bsp/Bsp_SDMMC.c ****     }
 172              		.loc 1 46 9 view .LVU50
 173 00ba 03F56053 		add	r3, r3, #14336
 174 00be D3F8E020 		ldr	r2, [r3, #224]
 175 00c2 42F00802 		orr	r2, r2, #8
 176 00c6 C3F8E020 		str	r2, [r3, #224]
  46:Bsp/Bsp_SDMMC.c ****     }
 177              		.loc 1 46 9 view .LVU51
 178 00ca D3F8E030 		ldr	r3, [r3, #224]
 179 00ce 03F00803 		and	r3, r3, #8
 180 00d2 0393     		str	r3, [sp, #12]
  46:Bsp/Bsp_SDMMC.c ****     }
 181              		.loc 1 46 9 view .LVU52
 182 00d4 039B     		ldr	r3, [sp, #12]
 183              	.LBE6:
  46:Bsp/Bsp_SDMMC.c ****     }
 184              		.loc 1 46 9 view .LVU53
 185 00d6 D0E7     		b	.L1
 186              	.L17:
  50:Bsp/Bsp_SDMMC.c ****     }
 187              		.loc 1 50 9 view .LVU54
 188              	.LBB7:
  50:Bsp/Bsp_SDMMC.c ****     }
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s 			page 6


 189              		.loc 1 50 9 view .LVU55
  50:Bsp/Bsp_SDMMC.c ****     }
 190              		.loc 1 50 9 view .LVU56
 191 00d8 03F55053 		add	r3, r3, #13312
 192 00dc D3F8E020 		ldr	r2, [r3, #224]
 193 00e0 42F01002 		orr	r2, r2, #16
 194 00e4 C3F8E020 		str	r2, [r3, #224]
  50:Bsp/Bsp_SDMMC.c ****     }
 195              		.loc 1 50 9 view .LVU57
 196 00e8 D3F8E030 		ldr	r3, [r3, #224]
 197 00ec 03F01003 		and	r3, r3, #16
 198 00f0 0493     		str	r3, [sp, #16]
  50:Bsp/Bsp_SDMMC.c ****     }
 199              		.loc 1 50 9 view .LVU58
 200 00f2 049B     		ldr	r3, [sp, #16]
 201              	.LBE7:
  50:Bsp/Bsp_SDMMC.c ****     }
 202              		.loc 1 50 9 view .LVU59
 203 00f4 C1E7     		b	.L1
 204              	.L18:
  54:Bsp/Bsp_SDMMC.c ****     }
 205              		.loc 1 54 9 view .LVU60
 206              	.LBB8:
  54:Bsp/Bsp_SDMMC.c ****     }
 207              		.loc 1 54 9 view .LVU61
  54:Bsp/Bsp_SDMMC.c ****     }
 208              		.loc 1 54 9 view .LVU62
 209 00f6 03F54053 		add	r3, r3, #12288
 210 00fa D3F8E020 		ldr	r2, [r3, #224]
 211 00fe 42F02002 		orr	r2, r2, #32
 212 0102 C3F8E020 		str	r2, [r3, #224]
  54:Bsp/Bsp_SDMMC.c ****     }
 213              		.loc 1 54 9 view .LVU63
 214 0106 D3F8E030 		ldr	r3, [r3, #224]
 215 010a 03F02003 		and	r3, r3, #32
 216 010e 0593     		str	r3, [sp, #20]
  54:Bsp/Bsp_SDMMC.c ****     }
 217              		.loc 1 54 9 view .LVU64
 218 0110 059B     		ldr	r3, [sp, #20]
 219              	.LBE8:
  54:Bsp/Bsp_SDMMC.c ****     }
 220              		.loc 1 54 9 view .LVU65
 221 0112 B2E7     		b	.L1
 222              	.L19:
  58:Bsp/Bsp_SDMMC.c ****     }
 223              		.loc 1 58 9 view .LVU66
 224              	.LBB9:
  58:Bsp/Bsp_SDMMC.c ****     }
 225              		.loc 1 58 9 view .LVU67
  58:Bsp/Bsp_SDMMC.c ****     }
 226              		.loc 1 58 9 view .LVU68
 227 0114 03F53053 		add	r3, r3, #11264
 228 0118 D3F8E020 		ldr	r2, [r3, #224]
 229 011c 42F04002 		orr	r2, r2, #64
 230 0120 C3F8E020 		str	r2, [r3, #224]
  58:Bsp/Bsp_SDMMC.c ****     }
 231              		.loc 1 58 9 view .LVU69
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s 			page 7


 232 0124 D3F8E030 		ldr	r3, [r3, #224]
 233 0128 03F04003 		and	r3, r3, #64
 234 012c 0693     		str	r3, [sp, #24]
  58:Bsp/Bsp_SDMMC.c ****     }
 235              		.loc 1 58 9 view .LVU70
 236 012e 069B     		ldr	r3, [sp, #24]
 237              	.LBE9:
  58:Bsp/Bsp_SDMMC.c ****     }
 238              		.loc 1 58 9 view .LVU71
 239 0130 A3E7     		b	.L1
 240              	.L20:
  62:Bsp/Bsp_SDMMC.c ****     }
 241              		.loc 1 62 9 view .LVU72
 242              	.LBB10:
  62:Bsp/Bsp_SDMMC.c ****     }
 243              		.loc 1 62 9 view .LVU73
  62:Bsp/Bsp_SDMMC.c ****     }
 244              		.loc 1 62 9 view .LVU74
 245 0132 03F52053 		add	r3, r3, #10240
 246 0136 D3F8E020 		ldr	r2, [r3, #224]
 247 013a 42F08002 		orr	r2, r2, #128
 248 013e C3F8E020 		str	r2, [r3, #224]
  62:Bsp/Bsp_SDMMC.c ****     }
 249              		.loc 1 62 9 view .LVU75
 250 0142 D3F8E030 		ldr	r3, [r3, #224]
 251 0146 03F08003 		and	r3, r3, #128
 252 014a 0793     		str	r3, [sp, #28]
  62:Bsp/Bsp_SDMMC.c ****     }
 253              		.loc 1 62 9 view .LVU76
 254 014c 079B     		ldr	r3, [sp, #28]
 255              	.LBE10:
  62:Bsp/Bsp_SDMMC.c ****     }
 256              		.loc 1 62 9 view .LVU77
 257 014e 94E7     		b	.L1
 258              	.L21:
  66:Bsp/Bsp_SDMMC.c ****     }
 259              		.loc 1 66 9 view .LVU78
 260              	.LBB11:
  66:Bsp/Bsp_SDMMC.c ****     }
 261              		.loc 1 66 9 view .LVU79
  66:Bsp/Bsp_SDMMC.c ****     }
 262              		.loc 1 66 9 view .LVU80
 263 0150 03F50053 		add	r3, r3, #8192
 264 0154 D3F8E020 		ldr	r2, [r3, #224]
 265 0158 42F40072 		orr	r2, r2, #512
 266 015c C3F8E020 		str	r2, [r3, #224]
  66:Bsp/Bsp_SDMMC.c ****     }
 267              		.loc 1 66 9 view .LVU81
 268 0160 D3F8E030 		ldr	r3, [r3, #224]
 269 0164 03F40073 		and	r3, r3, #512
 270 0168 0893     		str	r3, [sp, #32]
  66:Bsp/Bsp_SDMMC.c ****     }
 271              		.loc 1 66 9 view .LVU82
 272 016a 089B     		ldr	r3, [sp, #32]
 273              	.LBE11:
  66:Bsp/Bsp_SDMMC.c ****     }
 274              		.loc 1 66 9 view .LVU83
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s 			page 8


 275 016c 85E7     		b	.L1
 276              	.L23:
 277 016e 00BF     		.align	2
 278              	.L22:
 279 0170 00000258 		.word	1476526080
 280 0174 00040258 		.word	1476527104
 281 0178 00080258 		.word	1476528128
 282 017c 000C0258 		.word	1476529152
 283 0180 00100258 		.word	1476530176
 284 0184 00140258 		.word	1476531200
 285 0188 00180258 		.word	1476532224
 286 018c 001C0258 		.word	1476533248
 287 0190 00240258 		.word	1476535296
 288 0194 00280258 		.word	1476536320
 289              		.cfi_endproc
 290              	.LFE144:
 292              		.section	.text.BspSDMMC_GetInfo,"ax",%progbits
 293              		.align	1
 294              		.syntax unified
 295              		.thumb
 296              		.thumb_func
 298              	BspSDMMC_GetInfo:
 299              	.LVL1:
 300              	.LFB152:
  73:Bsp/Bsp_SDMMC.c **** 
  74:Bsp/Bsp_SDMMC.c **** static bool BspSDMMC_PortCLK_Init(SDMMC_TypeDef *instance)
  75:Bsp/Bsp_SDMMC.c **** {
  76:Bsp/Bsp_SDMMC.c ****     RCC_PeriphCLKInitTypeDef PeriphClkInitStruct = {0};
  77:Bsp/Bsp_SDMMC.c ****     if (instance == NULL)
  78:Bsp/Bsp_SDMMC.c ****         return false;
  79:Bsp/Bsp_SDMMC.c **** 
  80:Bsp/Bsp_SDMMC.c ****     if (instance == SDMMC1)
  81:Bsp/Bsp_SDMMC.c ****     {
  82:Bsp/Bsp_SDMMC.c ****         PeriphClkInitStruct.PeriphClockSelection = RCC_PERIPHCLK_SDMMC;
  83:Bsp/Bsp_SDMMC.c ****         PeriphClkInitStruct.SdmmcClockSelection = RCC_SDMMCCLKSOURCE_PLL;
  84:Bsp/Bsp_SDMMC.c ****         if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInitStruct) != HAL_OK)
  85:Bsp/Bsp_SDMMC.c ****             return false;
  86:Bsp/Bsp_SDMMC.c **** 
  87:Bsp/Bsp_SDMMC.c ****         __HAL_RCC_SDMMC1_CLK_ENABLE();
  88:Bsp/Bsp_SDMMC.c ****         return true;
  89:Bsp/Bsp_SDMMC.c ****     }
  90:Bsp/Bsp_SDMMC.c **** 
  91:Bsp/Bsp_SDMMC.c ****     return true;
  92:Bsp/Bsp_SDMMC.c **** }
  93:Bsp/Bsp_SDMMC.c **** 
  94:Bsp/Bsp_SDMMC.c **** static bool BspSDMMC_Pin_Init(SD_TypeDef *type, BspSDMMC_PinConfig_TypeDef *obj)
  95:Bsp/Bsp_SDMMC.c **** {
  96:Bsp/Bsp_SDMMC.c ****     GPIO_InitTypeDef GPIO_InitStruct = BspSDMMC_PinCfg;
  97:Bsp/Bsp_SDMMC.c **** 
  98:Bsp/Bsp_SDMMC.c ****     if (obj == NULL)
  99:Bsp/Bsp_SDMMC.c ****         return false;
 100:Bsp/Bsp_SDMMC.c **** 
 101:Bsp/Bsp_SDMMC.c ****     if (type == SDMMC1)
 102:Bsp/Bsp_SDMMC.c ****     {
 103:Bsp/Bsp_SDMMC.c ****         GPIO_InitStruct.Alternate = obj->Alternate;
 104:Bsp/Bsp_SDMMC.c **** 
 105:Bsp/Bsp_SDMMC.c ****         BspSDMMC_PinCLK_Enable(obj->CK_Port);
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s 			page 9


 106:Bsp/Bsp_SDMMC.c ****         GPIO_InitStruct.Pin = obj->CK_Pin;
 107:Bsp/Bsp_SDMMC.c ****         HAL_GPIO_Init(obj->CK_Port, &GPIO_InitStruct);
 108:Bsp/Bsp_SDMMC.c **** 
 109:Bsp/Bsp_SDMMC.c ****         BspSDMMC_PinCLK_Enable(obj->CMD_Port);
 110:Bsp/Bsp_SDMMC.c ****         GPIO_InitStruct.Pin = obj->CMD_Pin;
 111:Bsp/Bsp_SDMMC.c ****         HAL_GPIO_Init(obj->CMD_Port, &GPIO_InitStruct);
 112:Bsp/Bsp_SDMMC.c **** 
 113:Bsp/Bsp_SDMMC.c ****         BspSDMMC_PinCLK_Enable(obj->D0_Port);
 114:Bsp/Bsp_SDMMC.c ****         GPIO_InitStruct.Pin = obj->D0_Pin;
 115:Bsp/Bsp_SDMMC.c ****         HAL_GPIO_Init(obj->D0_Port, &GPIO_InitStruct);
 116:Bsp/Bsp_SDMMC.c **** 
 117:Bsp/Bsp_SDMMC.c ****         BspSDMMC_PinCLK_Enable(obj->D1_Port);
 118:Bsp/Bsp_SDMMC.c ****         GPIO_InitStruct.Pin = obj->D1_Pin;
 119:Bsp/Bsp_SDMMC.c ****         HAL_GPIO_Init(obj->D1_Port, &GPIO_InitStruct);
 120:Bsp/Bsp_SDMMC.c **** 
 121:Bsp/Bsp_SDMMC.c ****         BspSDMMC_PinCLK_Enable(obj->D2_Port);
 122:Bsp/Bsp_SDMMC.c ****         GPIO_InitStruct.Pin = obj->D2_Pin;
 123:Bsp/Bsp_SDMMC.c ****         HAL_GPIO_Init(obj->D2_Port, &GPIO_InitStruct);
 124:Bsp/Bsp_SDMMC.c **** 
 125:Bsp/Bsp_SDMMC.c ****         BspSDMMC_PinCLK_Enable(obj->D3_Port);
 126:Bsp/Bsp_SDMMC.c ****         GPIO_InitStruct.Pin = obj->D3_Pin;
 127:Bsp/Bsp_SDMMC.c ****         HAL_GPIO_Init(obj->D3_Port, &GPIO_InitStruct);
 128:Bsp/Bsp_SDMMC.c **** 
 129:Bsp/Bsp_SDMMC.c ****         return true;
 130:Bsp/Bsp_SDMMC.c ****     }
 131:Bsp/Bsp_SDMMC.c **** 
 132:Bsp/Bsp_SDMMC.c ****     return false;
 133:Bsp/Bsp_SDMMC.c **** }
 134:Bsp/Bsp_SDMMC.c **** 
 135:Bsp/Bsp_SDMMC.c **** static bool BspSDMMC_Init(BspSDMMC_Obj_TypeDef *obj)
 136:Bsp/Bsp_SDMMC.c **** {
 137:Bsp/Bsp_SDMMC.c ****     BspSDMMC_PortCLK_Init(obj->instance);
 138:Bsp/Bsp_SDMMC.c ****     BspSDMMC_Pin_Init(obj->instance, obj->pin);
 139:Bsp/Bsp_SDMMC.c **** 
 140:Bsp/Bsp_SDMMC.c ****     obj->hdl.Instance = obj->instance; // SDMMC1;
 141:Bsp/Bsp_SDMMC.c ****     obj->hdl.Init.ClockEdge = SDMMC_CLOCK_EDGE_RISING;
 142:Bsp/Bsp_SDMMC.c ****     obj->hdl.Init.ClockPowerSave = SDMMC_CLOCK_POWER_SAVE_DISABLE;
 143:Bsp/Bsp_SDMMC.c ****     obj->hdl.Init.BusWide = SDMMC_BUS_WIDE_4B;
 144:Bsp/Bsp_SDMMC.c ****     obj->hdl.Init.HardwareFlowControl = SDMMC_HARDWARE_FLOW_CONTROL_DISABLE;
 145:Bsp/Bsp_SDMMC.c ****     obj->hdl.Init.ClockDiv = 0;
 146:Bsp/Bsp_SDMMC.c ****     obj->hdl.Init.TranceiverPresent = SDMMC_TRANSCEIVER_NOT_PRESENT;
 147:Bsp/Bsp_SDMMC.c **** 
 148:Bsp/Bsp_SDMMC.c ****     if (HAL_SD_Init(&(obj->hdl)) != HAL_OK)
 149:Bsp/Bsp_SDMMC.c ****         return false;
 150:Bsp/Bsp_SDMMC.c **** 
 151:Bsp/Bsp_SDMMC.c ****     return true;
 152:Bsp/Bsp_SDMMC.c **** }
 153:Bsp/Bsp_SDMMC.c **** 
 154:Bsp/Bsp_SDMMC.c **** static bool BspSDMMC_Read(BspSDMMC_Obj_TypeDef *obj, uint32_t *pData, uint32_t ReadAddr, uint32_t N
 155:Bsp/Bsp_SDMMC.c **** {
 156:Bsp/Bsp_SDMMC.c ****     bool sd_state = true;
 157:Bsp/Bsp_SDMMC.c **** 
 158:Bsp/Bsp_SDMMC.c ****     if (HAL_SD_ReadBlocks(&(obj->hdl), (uint8_t *)pData, ReadAddr, NumOfBlocks, SDMMC_DATATIMEOUT) 
 159:Bsp/Bsp_SDMMC.c ****         sd_state = false;
 160:Bsp/Bsp_SDMMC.c **** 
 161:Bsp/Bsp_SDMMC.c ****     return sd_state;
 162:Bsp/Bsp_SDMMC.c **** }
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s 			page 10


 163:Bsp/Bsp_SDMMC.c **** 
 164:Bsp/Bsp_SDMMC.c **** static bool BspSDMMC_Write(BspSDMMC_Obj_TypeDef *obj, uint32_t *pData, uint32_t WriteAddr, uint32_t
 165:Bsp/Bsp_SDMMC.c **** {
 166:Bsp/Bsp_SDMMC.c ****     bool sd_state = true;
 167:Bsp/Bsp_SDMMC.c **** 
 168:Bsp/Bsp_SDMMC.c ****     if (HAL_SD_WriteBlocks(&(obj->hdl), (uint8_t *)pData, WriteAddr, NumOfBlocks, SDMMC_DATATIMEOUT
 169:Bsp/Bsp_SDMMC.c ****         sd_state = false;
 170:Bsp/Bsp_SDMMC.c **** 
 171:Bsp/Bsp_SDMMC.c ****     return sd_state;
 172:Bsp/Bsp_SDMMC.c **** }
 173:Bsp/Bsp_SDMMC.c **** 
 174:Bsp/Bsp_SDMMC.c **** static bool BspSDMMC_Erase(BspSDMMC_Obj_TypeDef *obj, uint32_t StartAddr, uint32_t EndAddr)
 175:Bsp/Bsp_SDMMC.c **** {
 176:Bsp/Bsp_SDMMC.c ****     bool sd_state = true;
 177:Bsp/Bsp_SDMMC.c **** 
 178:Bsp/Bsp_SDMMC.c ****     if (HAL_SD_Erase(&(obj->hdl), StartAddr, EndAddr) != HAL_OK)
 179:Bsp/Bsp_SDMMC.c ****         sd_state = false;
 180:Bsp/Bsp_SDMMC.c **** 
 181:Bsp/Bsp_SDMMC.c ****     return sd_state;
 182:Bsp/Bsp_SDMMC.c **** }
 183:Bsp/Bsp_SDMMC.c **** 
 184:Bsp/Bsp_SDMMC.c **** static bool BspSDMMC_GetStatus(BspSDMMC_Obj_TypeDef *obj)
 185:Bsp/Bsp_SDMMC.c **** {
 186:Bsp/Bsp_SDMMC.c ****     if (obj == NULL)
 187:Bsp/Bsp_SDMMC.c ****         return false;
 188:Bsp/Bsp_SDMMC.c **** 
 189:Bsp/Bsp_SDMMC.c ****     return ((HAL_SD_GetCardState(&(obj->hdl)) == HAL_SD_CARD_TRANSFER) ? true : false);
 190:Bsp/Bsp_SDMMC.c **** }
 191:Bsp/Bsp_SDMMC.c **** 
 192:Bsp/Bsp_SDMMC.c **** static bool BspSDMMC_GetInfo(BspSDMMC_Obj_TypeDef *obj, HAL_SD_CardInfoTypeDef *info_out)
 193:Bsp/Bsp_SDMMC.c **** {
 301              		.loc 1 193 1 view -0
 302              		.cfi_startproc
 303              		@ args = 0, pretend = 0, frame = 0
 304              		@ frame_needed = 0, uses_anonymous_args = 0
 194:Bsp/Bsp_SDMMC.c ****     if ((obj == NULL) && (info_out == NULL))
 305              		.loc 1 194 5 view .LVU85
 306              		.loc 1 194 8 is_stmt 0 view .LVU86
 307 0000 0028     		cmp	r0, #0
 308 0002 08BF     		it	eq
 309 0004 0029     		cmpeq	r1, #0
 310 0006 01D1     		bne	.L31
 195:Bsp/Bsp_SDMMC.c ****         return false;
 311              		.loc 1 195 16 view .LVU87
 312 0008 0020     		movs	r0, #0
 313              	.LVL2:
 196:Bsp/Bsp_SDMMC.c **** 
 197:Bsp/Bsp_SDMMC.c ****     memset(&(obj->info), NULL, sizeof(obj->info));
 198:Bsp/Bsp_SDMMC.c ****     HAL_SD_GetCardInfo(&(obj->hdl), &(obj->info));
 199:Bsp/Bsp_SDMMC.c ****     info_out = &(obj->info);
 200:Bsp/Bsp_SDMMC.c **** 
 201:Bsp/Bsp_SDMMC.c ****     return true;
 202:Bsp/Bsp_SDMMC.c **** }
 314              		.loc 1 202 1 view .LVU88
 315 000a 7047     		bx	lr
 316              	.LVL3:
 317              	.L31:
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s 			page 11


 193:Bsp/Bsp_SDMMC.c ****     if ((obj == NULL) && (info_out == NULL))
 318              		.loc 1 193 1 view .LVU89
 319 000c 38B5     		push	{r3, r4, r5, lr}
 320              	.LCFI3:
 321              		.cfi_def_cfa_offset 16
 322              		.cfi_offset 3, -16
 323              		.cfi_offset 4, -12
 324              		.cfi_offset 5, -8
 325              		.cfi_offset 14, -4
 326 000e 0446     		mov	r4, r0
 197:Bsp/Bsp_SDMMC.c ****     HAL_SD_GetCardInfo(&(obj->hdl), &(obj->info));
 327              		.loc 1 197 5 is_stmt 1 view .LVU90
 197:Bsp/Bsp_SDMMC.c ****     HAL_SD_GetCardInfo(&(obj->hdl), &(obj->info));
 328              		.loc 1 197 12 is_stmt 0 view .LVU91
 329 0010 00F18805 		add	r5, r0, #136
 197:Bsp/Bsp_SDMMC.c ****     HAL_SD_GetCardInfo(&(obj->hdl), &(obj->info));
 330              		.loc 1 197 5 view .LVU92
 331 0014 2422     		movs	r2, #36
 332 0016 0021     		movs	r1, #0
 333              	.LVL4:
 197:Bsp/Bsp_SDMMC.c ****     HAL_SD_GetCardInfo(&(obj->hdl), &(obj->info));
 334              		.loc 1 197 5 view .LVU93
 335 0018 2846     		mov	r0, r5
 336              	.LVL5:
 197:Bsp/Bsp_SDMMC.c ****     HAL_SD_GetCardInfo(&(obj->hdl), &(obj->info));
 337              		.loc 1 197 5 view .LVU94
 338 001a FFF7FEFF 		bl	memset
 339              	.LVL6:
 198:Bsp/Bsp_SDMMC.c ****     info_out = &(obj->info);
 340              		.loc 1 198 5 is_stmt 1 view .LVU95
 341 001e 2946     		mov	r1, r5
 342 0020 201D     		adds	r0, r4, #4
 343 0022 FFF7FEFF 		bl	HAL_SD_GetCardInfo
 344              	.LVL7:
 199:Bsp/Bsp_SDMMC.c **** 
 345              		.loc 1 199 5 view .LVU96
 201:Bsp/Bsp_SDMMC.c **** }
 346              		.loc 1 201 5 view .LVU97
 201:Bsp/Bsp_SDMMC.c **** }
 347              		.loc 1 201 12 is_stmt 0 view .LVU98
 348 0026 0120     		movs	r0, #1
 349              		.loc 1 202 1 view .LVU99
 350 0028 38BD     		pop	{r3, r4, r5, pc}
 351              		.loc 1 202 1 view .LVU100
 352              		.cfi_endproc
 353              	.LFE152:
 355              		.section	.text.BspSDMMC_GetStatus,"ax",%progbits
 356              		.align	1
 357              		.syntax unified
 358              		.thumb
 359              		.thumb_func
 361              	BspSDMMC_GetStatus:
 362              	.LVL8:
 363              	.LFB151:
 185:Bsp/Bsp_SDMMC.c ****     if (obj == NULL)
 364              		.loc 1 185 1 is_stmt 1 view -0
 365              		.cfi_startproc
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s 			page 12


 366              		@ args = 0, pretend = 0, frame = 0
 367              		@ frame_needed = 0, uses_anonymous_args = 0
 186:Bsp/Bsp_SDMMC.c ****         return false;
 368              		.loc 1 186 5 view .LVU102
 186:Bsp/Bsp_SDMMC.c ****         return false;
 369              		.loc 1 186 8 is_stmt 0 view .LVU103
 370 0000 40B1     		cbz	r0, .L34
 185:Bsp/Bsp_SDMMC.c ****     if (obj == NULL)
 371              		.loc 1 185 1 view .LVU104
 372 0002 08B5     		push	{r3, lr}
 373              	.LCFI4:
 374              		.cfi_def_cfa_offset 8
 375              		.cfi_offset 3, -8
 376              		.cfi_offset 14, -4
 189:Bsp/Bsp_SDMMC.c **** }
 377              		.loc 1 189 5 is_stmt 1 view .LVU105
 189:Bsp/Bsp_SDMMC.c **** }
 378              		.loc 1 189 14 is_stmt 0 view .LVU106
 379 0004 0430     		adds	r0, r0, #4
 380              	.LVL9:
 189:Bsp/Bsp_SDMMC.c **** }
 381              		.loc 1 189 14 view .LVU107
 382 0006 FFF7FEFF 		bl	HAL_SD_GetCardState
 383              	.LVL10:
 189:Bsp/Bsp_SDMMC.c **** }
 384              		.loc 1 189 79 view .LVU108
 385 000a 0428     		cmp	r0, #4
 386 000c 14BF     		ite	ne
 387 000e 0020     		movne	r0, #0
 388 0010 0120     		moveq	r0, #1
 190:Bsp/Bsp_SDMMC.c **** 
 389              		.loc 1 190 1 view .LVU109
 390 0012 08BD     		pop	{r3, pc}
 391              	.LVL11:
 392              	.L34:
 393              	.LCFI5:
 394              		.cfi_def_cfa_offset 0
 395              		.cfi_restore 3
 396              		.cfi_restore 14
 187:Bsp/Bsp_SDMMC.c **** 
 397              		.loc 1 187 16 view .LVU110
 398 0014 0020     		movs	r0, #0
 399              	.LVL12:
 190:Bsp/Bsp_SDMMC.c **** 
 400              		.loc 1 190 1 view .LVU111
 401 0016 7047     		bx	lr
 402              		.cfi_endproc
 403              	.LFE151:
 405              		.section	.text.BspSDMMC_Erase,"ax",%progbits
 406              		.align	1
 407              		.syntax unified
 408              		.thumb
 409              		.thumb_func
 411              	BspSDMMC_Erase:
 412              	.LVL13:
 413              	.LFB150:
 175:Bsp/Bsp_SDMMC.c ****     bool sd_state = true;
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s 			page 13


 414              		.loc 1 175 1 is_stmt 1 view -0
 415              		.cfi_startproc
 416              		@ args = 0, pretend = 0, frame = 0
 417              		@ frame_needed = 0, uses_anonymous_args = 0
 175:Bsp/Bsp_SDMMC.c ****     bool sd_state = true;
 418              		.loc 1 175 1 is_stmt 0 view .LVU113
 419 0000 08B5     		push	{r3, lr}
 420              	.LCFI6:
 421              		.cfi_def_cfa_offset 8
 422              		.cfi_offset 3, -8
 423              		.cfi_offset 14, -4
 176:Bsp/Bsp_SDMMC.c **** 
 424              		.loc 1 176 5 is_stmt 1 view .LVU114
 425              	.LVL14:
 178:Bsp/Bsp_SDMMC.c ****         sd_state = false;
 426              		.loc 1 178 5 view .LVU115
 178:Bsp/Bsp_SDMMC.c ****         sd_state = false;
 427              		.loc 1 178 9 is_stmt 0 view .LVU116
 428 0002 0430     		adds	r0, r0, #4
 429              	.LVL15:
 178:Bsp/Bsp_SDMMC.c ****         sd_state = false;
 430              		.loc 1 178 9 view .LVU117
 431 0004 FFF7FEFF 		bl	HAL_SD_Erase
 432              	.LVL16:
 178:Bsp/Bsp_SDMMC.c ****         sd_state = false;
 433              		.loc 1 178 8 view .LVU118
 434 0008 08B9     		cbnz	r0, .L41
 176:Bsp/Bsp_SDMMC.c **** 
 435              		.loc 1 176 10 view .LVU119
 436 000a 0120     		movs	r0, #1
 437              	.L40:
 438              	.LVL17:
 181:Bsp/Bsp_SDMMC.c **** }
 439              		.loc 1 181 5 is_stmt 1 view .LVU120
 182:Bsp/Bsp_SDMMC.c **** 
 440              		.loc 1 182 1 is_stmt 0 view .LVU121
 441 000c 08BD     		pop	{r3, pc}
 442              	.LVL18:
 443              	.L41:
 179:Bsp/Bsp_SDMMC.c **** 
 444              		.loc 1 179 18 view .LVU122
 445 000e 0020     		movs	r0, #0
 446 0010 FCE7     		b	.L40
 447              		.cfi_endproc
 448              	.LFE150:
 450              		.section	.text.BspSDMMC_Write,"ax",%progbits
 451              		.align	1
 452              		.syntax unified
 453              		.thumb
 454              		.thumb_func
 456              	BspSDMMC_Write:
 457              	.LVL19:
 458              	.LFB149:
 165:Bsp/Bsp_SDMMC.c ****     bool sd_state = true;
 459              		.loc 1 165 1 is_stmt 1 view -0
 460              		.cfi_startproc
 461              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s 			page 14


 462              		@ frame_needed = 0, uses_anonymous_args = 0
 165:Bsp/Bsp_SDMMC.c ****     bool sd_state = true;
 463              		.loc 1 165 1 is_stmt 0 view .LVU124
 464 0000 10B5     		push	{r4, lr}
 465              	.LCFI7:
 466              		.cfi_def_cfa_offset 8
 467              		.cfi_offset 4, -8
 468              		.cfi_offset 14, -4
 469 0002 82B0     		sub	sp, sp, #8
 470              	.LCFI8:
 471              		.cfi_def_cfa_offset 16
 166:Bsp/Bsp_SDMMC.c **** 
 472              		.loc 1 166 5 is_stmt 1 view .LVU125
 473              	.LVL20:
 168:Bsp/Bsp_SDMMC.c ****         sd_state = false;
 474              		.loc 1 168 5 view .LVU126
 168:Bsp/Bsp_SDMMC.c ****         sd_state = false;
 475              		.loc 1 168 9 is_stmt 0 view .LVU127
 476 0004 4FF0FF34 		mov	r4, #-1
 477 0008 0094     		str	r4, [sp]
 478 000a 0430     		adds	r0, r0, #4
 479              	.LVL21:
 168:Bsp/Bsp_SDMMC.c ****         sd_state = false;
 480              		.loc 1 168 9 view .LVU128
 481 000c FFF7FEFF 		bl	HAL_SD_WriteBlocks
 482              	.LVL22:
 168:Bsp/Bsp_SDMMC.c ****         sd_state = false;
 483              		.loc 1 168 8 view .LVU129
 484 0010 10B9     		cbnz	r0, .L45
 166:Bsp/Bsp_SDMMC.c **** 
 485              		.loc 1 166 10 view .LVU130
 486 0012 0120     		movs	r0, #1
 487              	.L44:
 488              	.LVL23:
 171:Bsp/Bsp_SDMMC.c **** }
 489              		.loc 1 171 5 is_stmt 1 view .LVU131
 172:Bsp/Bsp_SDMMC.c **** 
 490              		.loc 1 172 1 is_stmt 0 view .LVU132
 491 0014 02B0     		add	sp, sp, #8
 492              	.LCFI9:
 493              		.cfi_remember_state
 494              		.cfi_def_cfa_offset 8
 495              		@ sp needed
 496 0016 10BD     		pop	{r4, pc}
 497              	.LVL24:
 498              	.L45:
 499              	.LCFI10:
 500              		.cfi_restore_state
 169:Bsp/Bsp_SDMMC.c **** 
 501              		.loc 1 169 18 view .LVU133
 502 0018 0020     		movs	r0, #0
 503 001a FBE7     		b	.L44
 504              		.cfi_endproc
 505              	.LFE149:
 507              		.section	.text.BspSDMMC_Read,"ax",%progbits
 508              		.align	1
 509              		.syntax unified
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s 			page 15


 510              		.thumb
 511              		.thumb_func
 513              	BspSDMMC_Read:
 514              	.LVL25:
 515              	.LFB148:
 155:Bsp/Bsp_SDMMC.c ****     bool sd_state = true;
 516              		.loc 1 155 1 is_stmt 1 view -0
 517              		.cfi_startproc
 518              		@ args = 0, pretend = 0, frame = 0
 519              		@ frame_needed = 0, uses_anonymous_args = 0
 155:Bsp/Bsp_SDMMC.c ****     bool sd_state = true;
 520              		.loc 1 155 1 is_stmt 0 view .LVU135
 521 0000 10B5     		push	{r4, lr}
 522              	.LCFI11:
 523              		.cfi_def_cfa_offset 8
 524              		.cfi_offset 4, -8
 525              		.cfi_offset 14, -4
 526 0002 82B0     		sub	sp, sp, #8
 527              	.LCFI12:
 528              		.cfi_def_cfa_offset 16
 156:Bsp/Bsp_SDMMC.c **** 
 529              		.loc 1 156 5 is_stmt 1 view .LVU136
 530              	.LVL26:
 158:Bsp/Bsp_SDMMC.c ****         sd_state = false;
 531              		.loc 1 158 5 view .LVU137
 158:Bsp/Bsp_SDMMC.c ****         sd_state = false;
 532              		.loc 1 158 9 is_stmt 0 view .LVU138
 533 0004 4FF0FF34 		mov	r4, #-1
 534 0008 0094     		str	r4, [sp]
 535 000a 0430     		adds	r0, r0, #4
 536              	.LVL27:
 158:Bsp/Bsp_SDMMC.c ****         sd_state = false;
 537              		.loc 1 158 9 view .LVU139
 538 000c FFF7FEFF 		bl	HAL_SD_ReadBlocks
 539              	.LVL28:
 158:Bsp/Bsp_SDMMC.c ****         sd_state = false;
 540              		.loc 1 158 8 view .LVU140
 541 0010 10B9     		cbnz	r0, .L49
 156:Bsp/Bsp_SDMMC.c **** 
 542              		.loc 1 156 10 view .LVU141
 543 0012 0120     		movs	r0, #1
 544              	.L48:
 545              	.LVL29:
 161:Bsp/Bsp_SDMMC.c **** }
 546              		.loc 1 161 5 is_stmt 1 view .LVU142
 162:Bsp/Bsp_SDMMC.c **** 
 547              		.loc 1 162 1 is_stmt 0 view .LVU143
 548 0014 02B0     		add	sp, sp, #8
 549              	.LCFI13:
 550              		.cfi_remember_state
 551              		.cfi_def_cfa_offset 8
 552              		@ sp needed
 553 0016 10BD     		pop	{r4, pc}
 554              	.LVL30:
 555              	.L49:
 556              	.LCFI14:
 557              		.cfi_restore_state
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s 			page 16


 159:Bsp/Bsp_SDMMC.c **** 
 558              		.loc 1 159 18 view .LVU144
 559 0018 0020     		movs	r0, #0
 560 001a FBE7     		b	.L48
 561              		.cfi_endproc
 562              	.LFE148:
 564              		.section	.text.BspSDMMC_PortCLK_Init,"ax",%progbits
 565              		.align	1
 566              		.syntax unified
 567              		.thumb
 568              		.thumb_func
 570              	BspSDMMC_PortCLK_Init:
 571              	.LVL31:
 572              	.LFB145:
  75:Bsp/Bsp_SDMMC.c ****     RCC_PeriphCLKInitTypeDef PeriphClkInitStruct = {0};
 573              		.loc 1 75 1 is_stmt 1 view -0
 574              		.cfi_startproc
 575              		@ args = 0, pretend = 0, frame = 192
 576              		@ frame_needed = 0, uses_anonymous_args = 0
  75:Bsp/Bsp_SDMMC.c ****     RCC_PeriphCLKInitTypeDef PeriphClkInitStruct = {0};
 577              		.loc 1 75 1 is_stmt 0 view .LVU146
 578 0000 10B5     		push	{r4, lr}
 579              	.LCFI15:
 580              		.cfi_def_cfa_offset 8
 581              		.cfi_offset 4, -8
 582              		.cfi_offset 14, -4
 583 0002 B0B0     		sub	sp, sp, #192
 584              	.LCFI16:
 585              		.cfi_def_cfa_offset 200
 586 0004 0446     		mov	r4, r0
  76:Bsp/Bsp_SDMMC.c ****     if (instance == NULL)
 587              		.loc 1 76 5 is_stmt 1 view .LVU147
  76:Bsp/Bsp_SDMMC.c ****     if (instance == NULL)
 588              		.loc 1 76 30 is_stmt 0 view .LVU148
 589 0006 BC22     		movs	r2, #188
 590 0008 0021     		movs	r1, #0
 591 000a 01A8     		add	r0, sp, #4
 592              	.LVL32:
  76:Bsp/Bsp_SDMMC.c ****     if (instance == NULL)
 593              		.loc 1 76 30 view .LVU149
 594 000c FFF7FEFF 		bl	memset
 595              	.LVL33:
  77:Bsp/Bsp_SDMMC.c ****         return false;
 596              		.loc 1 77 5 is_stmt 1 view .LVU150
  77:Bsp/Bsp_SDMMC.c ****         return false;
 597              		.loc 1 77 8 is_stmt 0 view .LVU151
 598 0010 DCB1     		cbz	r4, .L53
  80:Bsp/Bsp_SDMMC.c ****     {
 599              		.loc 1 80 5 is_stmt 1 view .LVU152
  80:Bsp/Bsp_SDMMC.c ****     {
 600              		.loc 1 80 8 is_stmt 0 view .LVU153
 601 0012 104B     		ldr	r3, .L58
 602 0014 9C42     		cmp	r4, r3
 603 0016 02D0     		beq	.L57
  91:Bsp/Bsp_SDMMC.c **** }
 604              		.loc 1 91 12 view .LVU154
 605 0018 0120     		movs	r0, #1
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s 			page 17


 606              	.L52:
  92:Bsp/Bsp_SDMMC.c **** 
 607              		.loc 1 92 1 view .LVU155
 608 001a 30B0     		add	sp, sp, #192
 609              	.LCFI17:
 610              		.cfi_remember_state
 611              		.cfi_def_cfa_offset 8
 612              		@ sp needed
 613 001c 10BD     		pop	{r4, pc}
 614              	.LVL34:
 615              	.L57:
 616              	.LCFI18:
 617              		.cfi_restore_state
  82:Bsp/Bsp_SDMMC.c ****         PeriphClkInitStruct.SdmmcClockSelection = RCC_SDMMCCLKSOURCE_PLL;
 618              		.loc 1 82 9 is_stmt 1 view .LVU156
  82:Bsp/Bsp_SDMMC.c ****         PeriphClkInitStruct.SdmmcClockSelection = RCC_SDMMCCLKSOURCE_PLL;
 619              		.loc 1 82 50 is_stmt 0 view .LVU157
 620 001e 4FF48033 		mov	r3, #65536
 621 0022 0193     		str	r3, [sp, #4]
  83:Bsp/Bsp_SDMMC.c ****         if (HAL_RCCEx_PeriphCLKConfig(&PeriphClkInitStruct) != HAL_OK)
 622              		.loc 1 83 9 is_stmt 1 view .LVU158
  84:Bsp/Bsp_SDMMC.c ****             return false;
 623              		.loc 1 84 9 view .LVU159
  84:Bsp/Bsp_SDMMC.c ****             return false;
 624              		.loc 1 84 13 is_stmt 0 view .LVU160
 625 0024 01A8     		add	r0, sp, #4
 626 0026 FFF7FEFF 		bl	HAL_RCCEx_PeriphCLKConfig
 627              	.LVL35:
  84:Bsp/Bsp_SDMMC.c ****             return false;
 628              		.loc 1 84 12 view .LVU161
 629 002a 80B9     		cbnz	r0, .L55
  87:Bsp/Bsp_SDMMC.c ****         return true;
 630              		.loc 1 87 9 is_stmt 1 view .LVU162
 631              	.LBB12:
  87:Bsp/Bsp_SDMMC.c ****         return true;
 632              		.loc 1 87 9 view .LVU163
  87:Bsp/Bsp_SDMMC.c ****         return true;
 633              		.loc 1 87 9 view .LVU164
 634 002c 0A4B     		ldr	r3, .L58+4
 635 002e D3F8D420 		ldr	r2, [r3, #212]
 636 0032 42F48032 		orr	r2, r2, #65536
 637 0036 C3F8D420 		str	r2, [r3, #212]
  87:Bsp/Bsp_SDMMC.c ****         return true;
 638              		.loc 1 87 9 view .LVU165
 639 003a D3F8D430 		ldr	r3, [r3, #212]
 640 003e 03F48033 		and	r3, r3, #65536
 641 0042 0093     		str	r3, [sp]
  87:Bsp/Bsp_SDMMC.c ****         return true;
 642              		.loc 1 87 9 view .LVU166
 643 0044 009B     		ldr	r3, [sp]
 644              	.LBE12:
  87:Bsp/Bsp_SDMMC.c ****         return true;
 645              		.loc 1 87 9 view .LVU167
  88:Bsp/Bsp_SDMMC.c ****     }
 646              		.loc 1 88 9 view .LVU168
  88:Bsp/Bsp_SDMMC.c ****     }
 647              		.loc 1 88 16 is_stmt 0 view .LVU169
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s 			page 18


 648 0046 0120     		movs	r0, #1
 649 0048 E7E7     		b	.L52
 650              	.L53:
  78:Bsp/Bsp_SDMMC.c **** 
 651              		.loc 1 78 16 view .LVU170
 652 004a 0020     		movs	r0, #0
 653 004c E5E7     		b	.L52
 654              	.L55:
  85:Bsp/Bsp_SDMMC.c **** 
 655              		.loc 1 85 20 view .LVU171
 656 004e 0020     		movs	r0, #0
 657 0050 E3E7     		b	.L52
 658              	.L59:
 659 0052 00BF     		.align	2
 660              	.L58:
 661 0054 00700052 		.word	1375760384
 662 0058 00440258 		.word	1476543488
 663              		.cfi_endproc
 664              	.LFE145:
 666              		.section	.text.BspSDMMC_Pin_Init,"ax",%progbits
 667              		.align	1
 668              		.syntax unified
 669              		.thumb
 670              		.thumb_func
 672              	BspSDMMC_Pin_Init:
 673              	.LVL36:
 674              	.LFB146:
  95:Bsp/Bsp_SDMMC.c ****     GPIO_InitTypeDef GPIO_InitStruct = BspSDMMC_PinCfg;
 675              		.loc 1 95 1 is_stmt 1 view -0
 676              		.cfi_startproc
 677              		@ args = 0, pretend = 0, frame = 24
 678              		@ frame_needed = 0, uses_anonymous_args = 0
  95:Bsp/Bsp_SDMMC.c ****     GPIO_InitTypeDef GPIO_InitStruct = BspSDMMC_PinCfg;
 679              		.loc 1 95 1 is_stmt 0 view .LVU173
 680 0000 10B5     		push	{r4, lr}
 681              	.LCFI19:
 682              		.cfi_def_cfa_offset 8
 683              		.cfi_offset 4, -8
 684              		.cfi_offset 14, -4
 685 0002 86B0     		sub	sp, sp, #24
 686              	.LCFI20:
 687              		.cfi_def_cfa_offset 32
  96:Bsp/Bsp_SDMMC.c **** 
 688              		.loc 1 96 5 is_stmt 1 view .LVU174
  96:Bsp/Bsp_SDMMC.c **** 
 689              		.loc 1 96 22 is_stmt 0 view .LVU175
 690 0004 0023     		movs	r3, #0
 691 0006 0193     		str	r3, [sp, #4]
 692 0008 0293     		str	r3, [sp, #8]
 693 000a 0393     		str	r3, [sp, #12]
 694 000c 0493     		str	r3, [sp, #16]
 695 000e 0593     		str	r3, [sp, #20]
 696 0010 0223     		movs	r3, #2
 697 0012 0293     		str	r3, [sp, #8]
 698 0014 0323     		movs	r3, #3
 699 0016 0493     		str	r3, [sp, #16]
  98:Bsp/Bsp_SDMMC.c ****         return false;
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s 			page 19


 700              		.loc 1 98 5 is_stmt 1 view .LVU176
  98:Bsp/Bsp_SDMMC.c ****         return false;
 701              		.loc 1 98 8 is_stmt 0 view .LVU177
 702 0018 0029     		cmp	r1, #0
 703 001a 40D0     		beq	.L62
 704 001c 0C46     		mov	r4, r1
 101:Bsp/Bsp_SDMMC.c ****     {
 705              		.loc 1 101 5 is_stmt 1 view .LVU178
 101:Bsp/Bsp_SDMMC.c ****     {
 706              		.loc 1 101 8 is_stmt 0 view .LVU179
 707 001e 214B     		ldr	r3, .L66
 708 0020 9842     		cmp	r0, r3
 709 0022 02D0     		beq	.L65
 132:Bsp/Bsp_SDMMC.c **** }
 710              		.loc 1 132 12 view .LVU180
 711 0024 0020     		movs	r0, #0
 712              	.LVL37:
 713              	.L61:
 133:Bsp/Bsp_SDMMC.c **** 
 714              		.loc 1 133 1 view .LVU181
 715 0026 06B0     		add	sp, sp, #24
 716              	.LCFI21:
 717              		.cfi_remember_state
 718              		.cfi_def_cfa_offset 8
 719              		@ sp needed
 720 0028 10BD     		pop	{r4, pc}
 721              	.LVL38:
 722              	.L65:
 723              	.LCFI22:
 724              		.cfi_restore_state
 103:Bsp/Bsp_SDMMC.c **** 
 725              		.loc 1 103 9 is_stmt 1 view .LVU182
 103:Bsp/Bsp_SDMMC.c **** 
 726              		.loc 1 103 40 is_stmt 0 view .LVU183
 727 002a 0B6B     		ldr	r3, [r1, #48]	@ unaligned
 103:Bsp/Bsp_SDMMC.c **** 
 728              		.loc 1 103 35 view .LVU184
 729 002c 0593     		str	r3, [sp, #20]
 105:Bsp/Bsp_SDMMC.c ****         GPIO_InitStruct.Pin = obj->CK_Pin;
 730              		.loc 1 105 9 is_stmt 1 view .LVU185
 731 002e 0869     		ldr	r0, [r1, #16]	@ unaligned
 732              	.LVL39:
 105:Bsp/Bsp_SDMMC.c ****         GPIO_InitStruct.Pin = obj->CK_Pin;
 733              		.loc 1 105 9 is_stmt 0 view .LVU186
 734 0030 FFF7FEFF 		bl	BspSDMMC_PinCLK_Enable
 735              	.LVL40:
 106:Bsp/Bsp_SDMMC.c ****         HAL_GPIO_Init(obj->CK_Port, &GPIO_InitStruct);
 736              		.loc 1 106 9 is_stmt 1 view .LVU187
 106:Bsp/Bsp_SDMMC.c ****         HAL_GPIO_Init(obj->CK_Port, &GPIO_InitStruct);
 737              		.loc 1 106 34 is_stmt 0 view .LVU188
 738 0034 A36A     		ldr	r3, [r4, #40]	@ unaligned
 106:Bsp/Bsp_SDMMC.c ****         HAL_GPIO_Init(obj->CK_Port, &GPIO_InitStruct);
 739              		.loc 1 106 29 view .LVU189
 740 0036 0193     		str	r3, [sp, #4]
 107:Bsp/Bsp_SDMMC.c **** 
 741              		.loc 1 107 9 is_stmt 1 view .LVU190
 742 0038 01A9     		add	r1, sp, #4
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s 			page 20


 743 003a 2069     		ldr	r0, [r4, #16]	@ unaligned
 744 003c FFF7FEFF 		bl	HAL_GPIO_Init
 745              	.LVL41:
 109:Bsp/Bsp_SDMMC.c ****         GPIO_InitStruct.Pin = obj->CMD_Pin;
 746              		.loc 1 109 9 view .LVU191
 747 0040 6069     		ldr	r0, [r4, #20]	@ unaligned
 748 0042 FFF7FEFF 		bl	BspSDMMC_PinCLK_Enable
 749              	.LVL42:
 110:Bsp/Bsp_SDMMC.c ****         HAL_GPIO_Init(obj->CMD_Port, &GPIO_InitStruct);
 750              		.loc 1 110 9 view .LVU192
 110:Bsp/Bsp_SDMMC.c ****         HAL_GPIO_Init(obj->CMD_Port, &GPIO_InitStruct);
 751              		.loc 1 110 34 is_stmt 0 view .LVU193
 752 0046 E36A     		ldr	r3, [r4, #44]	@ unaligned
 110:Bsp/Bsp_SDMMC.c ****         HAL_GPIO_Init(obj->CMD_Port, &GPIO_InitStruct);
 753              		.loc 1 110 29 view .LVU194
 754 0048 0193     		str	r3, [sp, #4]
 111:Bsp/Bsp_SDMMC.c **** 
 755              		.loc 1 111 9 is_stmt 1 view .LVU195
 756 004a 01A9     		add	r1, sp, #4
 757 004c 6069     		ldr	r0, [r4, #20]	@ unaligned
 758 004e FFF7FEFF 		bl	HAL_GPIO_Init
 759              	.LVL43:
 113:Bsp/Bsp_SDMMC.c ****         GPIO_InitStruct.Pin = obj->D0_Pin;
 760              		.loc 1 113 9 view .LVU196
 761 0052 2068     		ldr	r0, [r4]	@ unaligned
 762 0054 FFF7FEFF 		bl	BspSDMMC_PinCLK_Enable
 763              	.LVL44:
 114:Bsp/Bsp_SDMMC.c ****         HAL_GPIO_Init(obj->D0_Port, &GPIO_InitStruct);
 764              		.loc 1 114 9 view .LVU197
 114:Bsp/Bsp_SDMMC.c ****         HAL_GPIO_Init(obj->D0_Port, &GPIO_InitStruct);
 765              		.loc 1 114 34 is_stmt 0 view .LVU198
 766 0058 A369     		ldr	r3, [r4, #24]	@ unaligned
 114:Bsp/Bsp_SDMMC.c ****         HAL_GPIO_Init(obj->D0_Port, &GPIO_InitStruct);
 767              		.loc 1 114 29 view .LVU199
 768 005a 0193     		str	r3, [sp, #4]
 115:Bsp/Bsp_SDMMC.c **** 
 769              		.loc 1 115 9 is_stmt 1 view .LVU200
 770 005c 01A9     		add	r1, sp, #4
 771 005e 2068     		ldr	r0, [r4]	@ unaligned
 772 0060 FFF7FEFF 		bl	HAL_GPIO_Init
 773              	.LVL45:
 117:Bsp/Bsp_SDMMC.c ****         GPIO_InitStruct.Pin = obj->D1_Pin;
 774              		.loc 1 117 9 view .LVU201
 775 0064 6068     		ldr	r0, [r4, #4]	@ unaligned
 776 0066 FFF7FEFF 		bl	BspSDMMC_PinCLK_Enable
 777              	.LVL46:
 118:Bsp/Bsp_SDMMC.c ****         HAL_GPIO_Init(obj->D1_Port, &GPIO_InitStruct);
 778              		.loc 1 118 9 view .LVU202
 118:Bsp/Bsp_SDMMC.c ****         HAL_GPIO_Init(obj->D1_Port, &GPIO_InitStruct);
 779              		.loc 1 118 34 is_stmt 0 view .LVU203
 780 006a E369     		ldr	r3, [r4, #28]	@ unaligned
 118:Bsp/Bsp_SDMMC.c ****         HAL_GPIO_Init(obj->D1_Port, &GPIO_InitStruct);
 781              		.loc 1 118 29 view .LVU204
 782 006c 0193     		str	r3, [sp, #4]
 119:Bsp/Bsp_SDMMC.c **** 
 783              		.loc 1 119 9 is_stmt 1 view .LVU205
 784 006e 01A9     		add	r1, sp, #4
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s 			page 21


 785 0070 6068     		ldr	r0, [r4, #4]	@ unaligned
 786 0072 FFF7FEFF 		bl	HAL_GPIO_Init
 787              	.LVL47:
 121:Bsp/Bsp_SDMMC.c ****         GPIO_InitStruct.Pin = obj->D2_Pin;
 788              		.loc 1 121 9 view .LVU206
 789 0076 A068     		ldr	r0, [r4, #8]	@ unaligned
 790 0078 FFF7FEFF 		bl	BspSDMMC_PinCLK_Enable
 791              	.LVL48:
 122:Bsp/Bsp_SDMMC.c ****         HAL_GPIO_Init(obj->D2_Port, &GPIO_InitStruct);
 792              		.loc 1 122 9 view .LVU207
 122:Bsp/Bsp_SDMMC.c ****         HAL_GPIO_Init(obj->D2_Port, &GPIO_InitStruct);
 793              		.loc 1 122 34 is_stmt 0 view .LVU208
 794 007c 236A     		ldr	r3, [r4, #32]	@ unaligned
 122:Bsp/Bsp_SDMMC.c ****         HAL_GPIO_Init(obj->D2_Port, &GPIO_InitStruct);
 795              		.loc 1 122 29 view .LVU209
 796 007e 0193     		str	r3, [sp, #4]
 123:Bsp/Bsp_SDMMC.c **** 
 797              		.loc 1 123 9 is_stmt 1 view .LVU210
 798 0080 01A9     		add	r1, sp, #4
 799 0082 A068     		ldr	r0, [r4, #8]	@ unaligned
 800 0084 FFF7FEFF 		bl	HAL_GPIO_Init
 801              	.LVL49:
 125:Bsp/Bsp_SDMMC.c ****         GPIO_InitStruct.Pin = obj->D3_Pin;
 802              		.loc 1 125 9 view .LVU211
 803 0088 E068     		ldr	r0, [r4, #12]	@ unaligned
 804 008a FFF7FEFF 		bl	BspSDMMC_PinCLK_Enable
 805              	.LVL50:
 126:Bsp/Bsp_SDMMC.c ****         HAL_GPIO_Init(obj->D3_Port, &GPIO_InitStruct);
 806              		.loc 1 126 9 view .LVU212
 126:Bsp/Bsp_SDMMC.c ****         HAL_GPIO_Init(obj->D3_Port, &GPIO_InitStruct);
 807              		.loc 1 126 34 is_stmt 0 view .LVU213
 808 008e 636A     		ldr	r3, [r4, #36]	@ unaligned
 126:Bsp/Bsp_SDMMC.c ****         HAL_GPIO_Init(obj->D3_Port, &GPIO_InitStruct);
 809              		.loc 1 126 29 view .LVU214
 810 0090 0193     		str	r3, [sp, #4]
 127:Bsp/Bsp_SDMMC.c **** 
 811              		.loc 1 127 9 is_stmt 1 view .LVU215
 812 0092 01A9     		add	r1, sp, #4
 813 0094 E068     		ldr	r0, [r4, #12]	@ unaligned
 814 0096 FFF7FEFF 		bl	HAL_GPIO_Init
 815              	.LVL51:
 129:Bsp/Bsp_SDMMC.c ****     }
 816              		.loc 1 129 9 view .LVU216
 129:Bsp/Bsp_SDMMC.c ****     }
 817              		.loc 1 129 16 is_stmt 0 view .LVU217
 818 009a 0120     		movs	r0, #1
 819 009c C3E7     		b	.L61
 820              	.LVL52:
 821              	.L62:
  99:Bsp/Bsp_SDMMC.c **** 
 822              		.loc 1 99 16 view .LVU218
 823 009e 0020     		movs	r0, #0
 824              	.LVL53:
  99:Bsp/Bsp_SDMMC.c **** 
 825              		.loc 1 99 16 view .LVU219
 826 00a0 C1E7     		b	.L61
 827              	.L67:
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s 			page 22


 828 00a2 00BF     		.align	2
 829              	.L66:
 830 00a4 00700052 		.word	1375760384
 831              		.cfi_endproc
 832              	.LFE146:
 834              		.section	.text.BspSDMMC_Init,"ax",%progbits
 835              		.align	1
 836              		.syntax unified
 837              		.thumb
 838              		.thumb_func
 840              	BspSDMMC_Init:
 841              	.LVL54:
 842              	.LFB147:
 136:Bsp/Bsp_SDMMC.c ****     BspSDMMC_PortCLK_Init(obj->instance);
 843              		.loc 1 136 1 is_stmt 1 view -0
 844              		.cfi_startproc
 845              		@ args = 0, pretend = 0, frame = 0
 846              		@ frame_needed = 0, uses_anonymous_args = 0
 136:Bsp/Bsp_SDMMC.c ****     BspSDMMC_PortCLK_Init(obj->instance);
 847              		.loc 1 136 1 is_stmt 0 view .LVU221
 848 0000 10B5     		push	{r4, lr}
 849              	.LCFI23:
 850              		.cfi_def_cfa_offset 8
 851              		.cfi_offset 4, -8
 852              		.cfi_offset 14, -4
 853 0002 0446     		mov	r4, r0
 137:Bsp/Bsp_SDMMC.c ****     BspSDMMC_Pin_Init(obj->instance, obj->pin);
 854              		.loc 1 137 5 is_stmt 1 view .LVU222
 855 0004 D0F88400 		ldr	r0, [r0, #132]	@ unaligned
 856              	.LVL55:
 137:Bsp/Bsp_SDMMC.c ****     BspSDMMC_Pin_Init(obj->instance, obj->pin);
 857              		.loc 1 137 5 is_stmt 0 view .LVU223
 858 0008 FFF7FEFF 		bl	BspSDMMC_PortCLK_Init
 859              	.LVL56:
 138:Bsp/Bsp_SDMMC.c **** 
 860              		.loc 1 138 5 is_stmt 1 view .LVU224
 861 000c 2168     		ldr	r1, [r4]	@ unaligned
 862 000e D4F88400 		ldr	r0, [r4, #132]	@ unaligned
 863 0012 FFF7FEFF 		bl	BspSDMMC_Pin_Init
 864              	.LVL57:
 140:Bsp/Bsp_SDMMC.c ****     obj->hdl.Init.ClockEdge = SDMMC_CLOCK_EDGE_RISING;
 865              		.loc 1 140 5 view .LVU225
 140:Bsp/Bsp_SDMMC.c ****     obj->hdl.Init.ClockEdge = SDMMC_CLOCK_EDGE_RISING;
 866              		.loc 1 140 28 is_stmt 0 view .LVU226
 867 0016 D4F88430 		ldr	r3, [r4, #132]	@ unaligned
 140:Bsp/Bsp_SDMMC.c ****     obj->hdl.Init.ClockEdge = SDMMC_CLOCK_EDGE_RISING;
 868              		.loc 1 140 23 view .LVU227
 869 001a 6360     		str	r3, [r4, #4]	@ unaligned
 141:Bsp/Bsp_SDMMC.c ****     obj->hdl.Init.ClockPowerSave = SDMMC_CLOCK_POWER_SAVE_DISABLE;
 870              		.loc 1 141 5 is_stmt 1 view .LVU228
 141:Bsp/Bsp_SDMMC.c ****     obj->hdl.Init.ClockPowerSave = SDMMC_CLOCK_POWER_SAVE_DISABLE;
 871              		.loc 1 141 29 is_stmt 0 view .LVU229
 872 001c 0023     		movs	r3, #0
 873 001e 2372     		strb	r3, [r4, #8]
 874 0020 6372     		strb	r3, [r4, #9]
 875 0022 A372     		strb	r3, [r4, #10]
 876 0024 E372     		strb	r3, [r4, #11]
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s 			page 23


 142:Bsp/Bsp_SDMMC.c ****     obj->hdl.Init.BusWide = SDMMC_BUS_WIDE_4B;
 877              		.loc 1 142 5 is_stmt 1 view .LVU230
 142:Bsp/Bsp_SDMMC.c ****     obj->hdl.Init.BusWide = SDMMC_BUS_WIDE_4B;
 878              		.loc 1 142 34 is_stmt 0 view .LVU231
 879 0026 2373     		strb	r3, [r4, #12]
 880 0028 6373     		strb	r3, [r4, #13]
 881 002a A373     		strb	r3, [r4, #14]
 882 002c E373     		strb	r3, [r4, #15]
 143:Bsp/Bsp_SDMMC.c ****     obj->hdl.Init.HardwareFlowControl = SDMMC_HARDWARE_FLOW_CONTROL_DISABLE;
 883              		.loc 1 143 5 is_stmt 1 view .LVU232
 143:Bsp/Bsp_SDMMC.c ****     obj->hdl.Init.HardwareFlowControl = SDMMC_HARDWARE_FLOW_CONTROL_DISABLE;
 884              		.loc 1 143 27 is_stmt 0 view .LVU233
 885 002e 2374     		strb	r3, [r4, #16]
 886 0030 4022     		movs	r2, #64
 887 0032 6274     		strb	r2, [r4, #17]
 888 0034 A374     		strb	r3, [r4, #18]
 889 0036 E374     		strb	r3, [r4, #19]
 144:Bsp/Bsp_SDMMC.c ****     obj->hdl.Init.ClockDiv = 0;
 890              		.loc 1 144 5 is_stmt 1 view .LVU234
 144:Bsp/Bsp_SDMMC.c ****     obj->hdl.Init.ClockDiv = 0;
 891              		.loc 1 144 39 is_stmt 0 view .LVU235
 892 0038 2375     		strb	r3, [r4, #20]
 893 003a 6375     		strb	r3, [r4, #21]
 894 003c A375     		strb	r3, [r4, #22]
 895 003e E375     		strb	r3, [r4, #23]
 145:Bsp/Bsp_SDMMC.c ****     obj->hdl.Init.TranceiverPresent = SDMMC_TRANSCEIVER_NOT_PRESENT;
 896              		.loc 1 145 5 is_stmt 1 view .LVU236
 145:Bsp/Bsp_SDMMC.c ****     obj->hdl.Init.TranceiverPresent = SDMMC_TRANSCEIVER_NOT_PRESENT;
 897              		.loc 1 145 28 is_stmt 0 view .LVU237
 898 0040 2376     		strb	r3, [r4, #24]
 899 0042 6376     		strb	r3, [r4, #25]
 900 0044 A376     		strb	r3, [r4, #26]
 901 0046 E376     		strb	r3, [r4, #27]
 146:Bsp/Bsp_SDMMC.c **** 
 902              		.loc 1 146 5 is_stmt 1 view .LVU238
 146:Bsp/Bsp_SDMMC.c **** 
 903              		.loc 1 146 37 is_stmt 0 view .LVU239
 904 0048 0122     		movs	r2, #1
 905 004a 2277     		strb	r2, [r4, #28]
 906 004c 6377     		strb	r3, [r4, #29]
 907 004e A377     		strb	r3, [r4, #30]
 908 0050 E377     		strb	r3, [r4, #31]
 148:Bsp/Bsp_SDMMC.c ****         return false;
 909              		.loc 1 148 5 is_stmt 1 view .LVU240
 148:Bsp/Bsp_SDMMC.c ****         return false;
 910              		.loc 1 148 9 is_stmt 0 view .LVU241
 911 0052 201D     		adds	r0, r4, #4
 912 0054 FFF7FEFF 		bl	HAL_SD_Init
 913              	.LVL58:
 148:Bsp/Bsp_SDMMC.c ****         return false;
 914              		.loc 1 148 8 view .LVU242
 915 0058 08B9     		cbnz	r0, .L70
 151:Bsp/Bsp_SDMMC.c **** }
 916              		.loc 1 151 12 view .LVU243
 917 005a 0120     		movs	r0, #1
 918              	.L69:
 152:Bsp/Bsp_SDMMC.c **** 
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s 			page 24


 919              		.loc 1 152 1 view .LVU244
 920 005c 10BD     		pop	{r4, pc}
 921              	.LVL59:
 922              	.L70:
 149:Bsp/Bsp_SDMMC.c **** 
 923              		.loc 1 149 16 view .LVU245
 924 005e 0020     		movs	r0, #0
 925 0060 FCE7     		b	.L69
 926              		.cfi_endproc
 927              	.LFE147:
 929              		.global	BspSDMMC
 930              		.section	.data.BspSDMMC,"aw"
 931              		.align	2
 934              	BspSDMMC:
 935 0000 00000000 		.word	BspSDMMC_Init
 936 0004 00000000 		.word	BspSDMMC_Read
 937 0008 00000000 		.word	BspSDMMC_Write
 938 000c 00000000 		.word	BspSDMMC_Erase
 939 0010 00000000 		.word	BspSDMMC_GetStatus
 940 0014 00000000 		.word	BspSDMMC_GetInfo
 941              		.text
 942              	.Letext0:
 943              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 944              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 945              		.file 4 "HAL_Lib/CMSIS/Device/ST/STM32H7xx/Include/stm32h743xx.h"
 946              		.file 5 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_def.h"
 947              		.file 6 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_rcc_ex.h"
 948              		.file 7 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_gpio.h"
 949              		.file 8 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_ll_sdmmc.h"
 950              		.file 9 "HAL_Lib/STM32H7xx_HAL_Driver/Inc/stm32h7xx_hal_sd.h"
 951              		.file 10 "Bsp/Bsp_SDMMC.h"
 952              		.file 11 "<built-in>"
ARM GAS  C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s 			page 25


DEFINED SYMBOLS
                            *ABS*:00000000 Bsp_SDMMC.c
C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s:19     .text.BspSDMMC_PinCLK_Enable:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s:24     .text.BspSDMMC_PinCLK_Enable:00000000 BspSDMMC_PinCLK_Enable
C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s:279    .text.BspSDMMC_PinCLK_Enable:00000170 $d
C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s:293    .text.BspSDMMC_GetInfo:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s:298    .text.BspSDMMC_GetInfo:00000000 BspSDMMC_GetInfo
C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s:356    .text.BspSDMMC_GetStatus:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s:361    .text.BspSDMMC_GetStatus:00000000 BspSDMMC_GetStatus
C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s:406    .text.BspSDMMC_Erase:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s:411    .text.BspSDMMC_Erase:00000000 BspSDMMC_Erase
C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s:451    .text.BspSDMMC_Write:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s:456    .text.BspSDMMC_Write:00000000 BspSDMMC_Write
C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s:508    .text.BspSDMMC_Read:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s:513    .text.BspSDMMC_Read:00000000 BspSDMMC_Read
C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s:565    .text.BspSDMMC_PortCLK_Init:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s:570    .text.BspSDMMC_PortCLK_Init:00000000 BspSDMMC_PortCLK_Init
C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s:661    .text.BspSDMMC_PortCLK_Init:00000054 $d
C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s:667    .text.BspSDMMC_Pin_Init:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s:672    .text.BspSDMMC_Pin_Init:00000000 BspSDMMC_Pin_Init
C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s:830    .text.BspSDMMC_Pin_Init:000000a4 $d
C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s:835    .text.BspSDMMC_Init:00000000 $t
C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s:840    .text.BspSDMMC_Init:00000000 BspSDMMC_Init
C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s:934    .data.BspSDMMC:00000000 BspSDMMC
C:\Users\HUAV\AppData\Local\Temp\ccSSK0Z9.s:931    .data.BspSDMMC:00000000 $d

UNDEFINED SYMBOLS
memset
HAL_SD_GetCardInfo
HAL_SD_GetCardState
HAL_SD_Erase
HAL_SD_WriteBlocks
HAL_SD_ReadBlocks
HAL_RCCEx_PeriphCLKConfig
HAL_GPIO_Init
HAL_SD_Init
