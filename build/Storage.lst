ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"Storage.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.Storage_Get_SecInfo,"ax",%progbits
  20              		.align	1
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  25              	Storage_Get_SecInfo:
  26              	.LVL0:
  27              	.LFB168:
  28              		.file 1 "System/storage/Storage.c"
   1:System/storage/Storage.c ****  /* 
   2:System/storage/Storage.c ****  * Auther: 8_B!T0
   3:System/storage/Storage.c ****  * WARNING: NOT ALL CIRCUMSTANCES BEEN TESTED
   4:System/storage/Storage.c ****  * 
   5:System/storage/Storage.c ****  * Bref: Use for storage parameter for drone
   6:System/storage/Storage.c ****  *       can create search delete parameter section as user want
   7:System/storage/Storage.c ****  */
   8:System/storage/Storage.c **** #include "Storage.h"
   9:System/storage/Storage.c **** #include "shell_port.h"
  10:System/storage/Storage.c **** #include "util.h"
  11:System/storage/Storage.c **** #include "HW_Def.h"
  12:System/storage/Storage.c **** #include "Storage_Bus_Port.h"
  13:System/storage/Storage.c **** #include "Srv_OsCommon.h"
  14:System/storage/Storage.c **** #include "debug_util.h"
  15:System/storage/Storage.c **** 
  16:System/storage/Storage.c **** #define STORAGE_TAG                     "[ STORAGE INFO ] "
  17:System/storage/Storage.c **** #define STORAGE_INFO(fmt, ...)          Debug_Print(&DebugPort, STORAGE_TAG, fmt, ##__VA_ARGS__)
  18:System/storage/Storage.c **** 
  19:System/storage/Storage.c **** #define Storage_Malloc(size)            SrvOsCommon.malloc(size)
  20:System/storage/Storage.c **** #define Storage_Free(ptr)               SrvOsCommon.free(ptr)
  21:System/storage/Storage.c **** #define Storage_GetSysTick_Ptr          SrvOsCommon.get_os_ms
  22:System/storage/Storage.c **** 
  23:System/storage/Storage.c **** #define STORAGE_DEBUG                   1
  24:System/storage/Storage.c **** 
  25:System/storage/Storage.c **** #define InternalFlash_BootDataSec_Size  (4 Kb)
  26:System/storage/Storage.c **** #define InternalFlash_SysDataSec_Size   (16 Kb)
  27:System/storage/Storage.c **** #define InternalFlash_UserDataSec_Size  (32 Kb)
  28:System/storage/Storage.c **** 
  29:System/storage/Storage.c **** #define Storage_TabSize                 Flash_Storage_TabSize
  30:System/storage/Storage.c **** #define Storage_InfoPageSize            Flash_Storage_InfoPageSize
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 2


  31:System/storage/Storage.c **** 
  32:System/storage/Storage.c **** #define Item_Capacity_Per_Tab           (Storage_TabSize / sizeof(Storage_Item_TypeDef))
  33:System/storage/Storage.c **** 
  34:System/storage/Storage.c **** /* internal vriable */
  35:System/storage/Storage.c **** Storage_Monitor_TypeDef Storage_Monitor;
  36:System/storage/Storage.c **** static uint8_t page_data_tmp[Storage_TabSize * 2] __attribute__((aligned(4))) = {0};
  37:System/storage/Storage.c **** static uint8_t flash_write_tmp[Storage_TabSize * 2] __attribute__((aligned(4))) __attribute__((sect
  38:System/storage/Storage.c **** static uint8_t flash_read_tmp[Storage_TabSize * 2] __attribute__((aligned(4))) __attribute__((secti
  39:System/storage/Storage.c **** 
  40:System/storage/Storage.c **** static bool Storage_Set_DeviceObj(StorageDevObj_TypeDef *ext_dev);
  41:System/storage/Storage.c **** static bool Storage_Device_Init(StorageDevObj_TypeDef *ext_dev);
  42:System/storage/Storage.c **** 
  43:System/storage/Storage.c **** static bool Storage_Clear_Tab(uint32_t addr, uint32_t tab_num);
  44:System/storage/Storage.c **** static bool Storage_Establish_Tab(Storage_ParaClassType_List class);
  45:System/storage/Storage.c **** 
  46:System/storage/Storage.c **** static bool Storage_ExtFlash_ParaSec_Read(uint32_t addr_offset, uint8_t *p_data, uint32_t len);
  47:System/storage/Storage.c **** static bool Storage_ExtFlash_ParaSec_Write(uint32_t addr_offset, uint8_t *p_data, uint32_t len);
  48:System/storage/Storage.c **** static bool Storage_ExtFlash_ParaSec_Erase(uint32_t addr_offset, uint32_t len);
  49:System/storage/Storage.c **** static bool Storage_ExtFlash_EraseAll(void);
  50:System/storage/Storage.c **** 
  51:System/storage/Storage.c **** /* internal function */
  52:System/storage/Storage.c **** static bool Storage_Build_StorageInfo(void);
  53:System/storage/Storage.c **** static bool Storage_Get_StorageInfo(void);
  54:System/storage/Storage.c **** static bool Storage_Format(void);
  55:System/storage/Storage.c **** static bool Storage_Compare_ItemSlot_CRC(const Storage_Item_TypeDef item);
  56:System/storage/Storage.c **** static bool Storage_Comput_ItemSlot_CRC(Storage_Item_TypeDef *p_item);
  57:System/storage/Storage.c **** static Storage_BaseSecInfo_TypeDef* Storage_Get_SecInfo(Storage_FlashInfo_TypeDef *info, Storage_Pa
  58:System/storage/Storage.c **** static bool Storage_DeleteSingleDataSlot(uint32_t slot_addr, uint8_t *p_data, Storage_BaseSecInfo_T
  59:System/storage/Storage.c **** static Storage_ErrorCode_List Storage_FreeSlot_CheckMerge(uint32_t slot_addr, Storage_FreeSlot_Type
  60:System/storage/Storage.c **** static bool Storage_Link_FreeSlot(uint32_t front_free_addr, uint32_t behind_free_addr, uint32_t new
  61:System/storage/Storage.c **** static Storage_ErrorCode_List Storage_ItemSlot_Update(uint32_t tab_addr, uint8_t item_index, Storag
  62:System/storage/Storage.c **** 
  63:System/storage/Storage.c **** /* external function */
  64:System/storage/Storage.c **** static bool Storage_Init(StorageDevObj_TypeDef *ExtDev);
  65:System/storage/Storage.c **** static Storage_ItemSearchOut_TypeDef Storage_Search(Storage_ParaClassType_List _class, const char *
  66:System/storage/Storage.c **** static Storage_ErrorCode_List Storage_DeleteItem(Storage_ParaClassType_List _class, const char *nam
  67:System/storage/Storage.c **** static Storage_ErrorCode_List Storage_CreateItem(Storage_ParaClassType_List _class, const char *nam
  68:System/storage/Storage.c **** static Storage_ErrorCode_List Storage_SlotData_Update(Storage_ParaClassType_List _class, storage_ha
  69:System/storage/Storage.c **** static Storage_ErrorCode_List Storage_Get_Data(Storage_ParaClassType_List _class, Storage_Item_Type
  70:System/storage/Storage.c **** static Storage_ErrorCode_List Storage_Get_DevInfo(StorageDevObj_TypeDef *info);
  71:System/storage/Storage.c **** static bool Storage_Write_Section(uint32_t addr, uint8_t *p_data, uint16_t len);
  72:System/storage/Storage.c **** static bool Storage_Read_Section(uint32_t addr, uint8_t *p_data, uint16_t len);
  73:System/storage/Storage.c **** static bool Storage_Erase_Section(uint32_t addr, uint16_t len);
  74:System/storage/Storage.c **** 
  75:System/storage/Storage.c **** static bool Storage_Firmware_Format(void);
  76:System/storage/Storage.c **** static bool Storage_Frimware_Read(uint32_t addr_offset, uint8_t *p_data, uint16_t size);
  77:System/storage/Storage.c **** static bool Storage_Firmware_Write(Storage_MediumType_List medium, uint32_t addr_offset, uint8_t *p
  78:System/storage/Storage.c **** 
  79:System/storage/Storage.c **** Storage_TypeDef Storage = {
  80:System/storage/Storage.c ****     .init = Storage_Init,
  81:System/storage/Storage.c ****     .search = Storage_Search,
  82:System/storage/Storage.c ****     .create = Storage_CreateItem,
  83:System/storage/Storage.c ****     .get = Storage_Get_Data,
  84:System/storage/Storage.c ****     .update = Storage_SlotData_Update,
  85:System/storage/Storage.c ****     .get_dev_info = Storage_Get_DevInfo,
  86:System/storage/Storage.c **** 
  87:System/storage/Storage.c ****     .write_section = Storage_Write_Section,
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 3


  88:System/storage/Storage.c ****     .read_section = Storage_Read_Section,
  89:System/storage/Storage.c ****     .erase_section = Storage_Erase_Section,
  90:System/storage/Storage.c **** 
  91:System/storage/Storage.c ****     .format_firmware = Storage_Firmware_Format,
  92:System/storage/Storage.c ****     .read_firmware = Storage_Frimware_Read,
  93:System/storage/Storage.c ****     .write_firmware = Storage_Firmware_Write,
  94:System/storage/Storage.c **** };
  95:System/storage/Storage.c **** 
  96:System/storage/Storage.c **** static bool Storage_Init(StorageDevObj_TypeDef *ExtDev)
  97:System/storage/Storage.c **** {
  98:System/storage/Storage.c ****     void *bus_cfg = NULL;
  99:System/storage/Storage.c ****     memset(&Storage_Monitor, 0, sizeof(Storage_Monitor));
 100:System/storage/Storage.c **** 
 101:System/storage/Storage.c ****     Storage_Monitor.init_state = false;
 102:System/storage/Storage.c ****     if (!BspFlash.init())
 103:System/storage/Storage.c ****         return false;
 104:System/storage/Storage.c **** 
 105:System/storage/Storage.c ****     /* external flash init */
 106:System/storage/Storage.c **** #if (FLASH_CHIP_STATE == ON)
 107:System/storage/Storage.c ****     if ((ExtDev == NULL) || !StoragePort_Api.bus_type_check(ExtDev->chip_type))
 108:System/storage/Storage.c ****         return false;
 109:System/storage/Storage.c **** 
 110:System/storage/Storage.c ****     Storage_Monitor.ExtDev_ptr = NULL;
 111:System/storage/Storage.c ****     bus_cfg = StoragePort_Api.init(ExtDev->bus_type, SrvOsCommon.malloc, SrvOsCommon.free);
 112:System/storage/Storage.c ****     if (bus_cfg == NULL)
 113:System/storage/Storage.c ****     {
 114:System/storage/Storage.c ****         STORAGE_INFO("Bus Init Failed\r\n");
 115:System/storage/Storage.c ****         Storage_Monitor.ExternalFlash_Error_Code = Storage_BusInit_Error;
 116:System/storage/Storage.c ****         return false;
 117:System/storage/Storage.c ****     }
 118:System/storage/Storage.c **** 
 119:System/storage/Storage.c ****     STORAGE_INFO("Bus init accomplished\r\n");
 120:System/storage/Storage.c ****     Storage_Monitor.ExtBusCfg_Ptr = bus_cfg;
 121:System/storage/Storage.c **** 
 122:System/storage/Storage.c ****     if (ExtDev->chip_type >= Storage_ChipType_All)
 123:System/storage/Storage.c ****     {
 124:System/storage/Storage.c ****         STORAGE_INFO("Unknown chip type\r\n");
 125:System/storage/Storage.c ****         Storage_Monitor.ExternalFlash_Error_Code = Storage_ModuleType_Error;
 126:System/storage/Storage.c ****         return false;
 127:System/storage/Storage.c ****     }
 128:System/storage/Storage.c **** 
 129:System/storage/Storage.c ****     if (!Storage_Set_DeviceObj(ExtDev))
 130:System/storage/Storage.c ****     {
 131:System/storage/Storage.c ****         Storage_Monitor.ExternalFlash_Error_Code = Storage_ExtDevObj_Error;
 132:System/storage/Storage.c ****         return false;
 133:System/storage/Storage.c ****     }
 134:System/storage/Storage.c **** 
 135:System/storage/Storage.c ****     Storage_Monitor.ExtDev_ptr = ExtDev;
 136:System/storage/Storage.c ****     Storage_Monitor.ExternalFlash_ReInit_cnt = ExternalModule_ReInit_Cnt;
 137:System/storage/Storage.c **** 
 138:System/storage/Storage.c **** reinit_external_flash_module:
 139:System/storage/Storage.c ****     if (!Storage_Device_Init(ExtDev))
 140:System/storage/Storage.c ****     {
 141:System/storage/Storage.c ****         Storage_Monitor.ExternalFlash_Error_Code = Storage_ModuleInit_Error;
 142:System/storage/Storage.c ****         STORAGE_INFO("chip init failed\r\n");
 143:System/storage/Storage.c ****         if (Storage_Monitor.ExternalFlash_ReInit_cnt)
 144:System/storage/Storage.c ****         {
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 4


 145:System/storage/Storage.c ****             STORAGE_INFO("init retry remain %d\r\n\r\n", Storage_Monitor.ExternalFlash_ReInit_cnt);
 146:System/storage/Storage.c ****             Storage_Monitor.ExternalFlash_ReInit_cnt --;
 147:System/storage/Storage.c ****             goto reinit_external_flash_module;
 148:System/storage/Storage.c ****         }
 149:System/storage/Storage.c ****         return false;
 150:System/storage/Storage.c ****     }
 151:System/storage/Storage.c **** 
 152:System/storage/Storage.c ****     /* set external flash device read write base address */
 153:System/storage/Storage.c ****     Storage_Monitor.external_info.base_addr = ExtFlash_Start_Addr;
 154:System/storage/Storage.c ****     Storage_Monitor.ExternalFlash_Format_cnt = Format_Retry_Cnt;
 155:System/storage/Storage.c ****                         
 156:System/storage/Storage.c **** reupdate_external_flash_info:
 157:System/storage/Storage.c ****     /* get storage info */
 158:System/storage/Storage.c ****     if (!Storage_Get_StorageInfo())
 159:System/storage/Storage.c ****     {
 160:System/storage/Storage.c **** reformat_external_flash_info:
 161:System/storage/Storage.c ****         if (Storage_Monitor.ExternalFlash_Format_cnt)
 162:System/storage/Storage.c ****         {
 163:System/storage/Storage.c ****             /* format storage device */
 164:System/storage/Storage.c ****             if (!Storage_Format())
 165:System/storage/Storage.c ****             {
 166:System/storage/Storage.c ****                 Storage_Monitor.ExternalFlash_Format_cnt --;
 167:System/storage/Storage.c ****                 Storage_Monitor.external_info.base_addr = ExtFlash_Start_Addr;
 168:System/storage/Storage.c ****                 if (Storage_Monitor.ExternalFlash_Format_cnt == 0)
 169:System/storage/Storage.c ****                     return false;
 170:System/storage/Storage.c ****                     
 171:System/storage/Storage.c ****                 goto reformat_external_flash_info;
 172:System/storage/Storage.c ****             }
 173:System/storage/Storage.c **** 
 174:System/storage/Storage.c ****             /* external flash module format successed */
 175:System/storage/Storage.c ****             /* build storage tab */
 176:System/storage/Storage.c ****             if (Storage_Build_StorageInfo())
 177:System/storage/Storage.c ****             {
 178:System/storage/Storage.c ****                 Storage_Monitor.ExternalFlash_BuildTab_cnt ++;
 179:System/storage/Storage.c ****                 Storage_Monitor.init_state = true;
 180:System/storage/Storage.c **** 
 181:System/storage/Storage.c ****                 /* after tab builded read storage info again */
 182:System/storage/Storage.c ****                 goto reupdate_external_flash_info;
 183:System/storage/Storage.c ****             }
 184:System/storage/Storage.c ****         }
 185:System/storage/Storage.c ****     }
 186:System/storage/Storage.c ****     else
 187:System/storage/Storage.c ****     {
 188:System/storage/Storage.c ****         STORAGE_INFO("chip init done\r\n");
 189:System/storage/Storage.c ****         Storage_Monitor.init_state = true;
 190:System/storage/Storage.c ****     }
 191:System/storage/Storage.c **** #endif
 192:System/storage/Storage.c **** 
 193:System/storage/Storage.c ****     return Storage_Monitor.init_state;
 194:System/storage/Storage.c **** }
 195:System/storage/Storage.c **** 
 196:System/storage/Storage.c **** static Storage_ErrorCode_List Storage_Get_DevInfo(StorageDevObj_TypeDef *info)
 197:System/storage/Storage.c **** {
 198:System/storage/Storage.c ****     StorageDevObj_TypeDef *p_dev = NULL;
 199:System/storage/Storage.c **** 
 200:System/storage/Storage.c ****     if (info)
 201:System/storage/Storage.c ****     {
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 5


 202:System/storage/Storage.c ****         memset(info, 0, sizeof(StorageDevObj_TypeDef));
 203:System/storage/Storage.c ****         if (Storage_Monitor.init_state && Storage_Monitor.ExtDev_ptr)
 204:System/storage/Storage.c ****         {
 205:System/storage/Storage.c ****             p_dev = (StorageDevObj_TypeDef *)Storage_Monitor.ExtDev_ptr;
 206:System/storage/Storage.c ****             memcpy(info, p_dev, sizeof(StorageDevObj_TypeDef));
 207:System/storage/Storage.c ****             return Storage_Error_None;
 208:System/storage/Storage.c ****         }
 209:System/storage/Storage.c **** 
 210:System/storage/Storage.c ****         return Storage_ModuleInit_Error;
 211:System/storage/Storage.c ****     }
 212:System/storage/Storage.c **** 
 213:System/storage/Storage.c ****     return Storage_ExtDevObj_Error;
 214:System/storage/Storage.c **** }
 215:System/storage/Storage.c **** 
 216:System/storage/Storage.c **** static bool Storage_Format(void)
 217:System/storage/Storage.c **** {
 218:System/storage/Storage.c ****     uint32_t size = 0;
 219:System/storage/Storage.c ****     uint8_t default_data = 0;
 220:System/storage/Storage.c ****     uint32_t read_time = 0;
 221:System/storage/Storage.c ****     uint32_t remain_size = 0;
 222:System/storage/Storage.c ****     uint32_t addr_offset = From_Start_Address;
 223:System/storage/Storage.c ****         
 224:System/storage/Storage.c ****     size = Storage_TabSize;
 225:System/storage/Storage.c ****     default_data = ExtFlash_Storage_DefaultData;
 226:System/storage/Storage.c ****     remain_size = ExtFlash_Storage_TotalSize;
 227:System/storage/Storage.c ****     read_time = ExtFlash_Storage_TotalSize / Storage_TabSize;
 228:System/storage/Storage.c ****     if (ExtFlash_Storage_TotalSize % Storage_TabSize)
 229:System/storage/Storage.c ****         read_time ++;
 230:System/storage/Storage.c **** 
 231:System/storage/Storage.c ****     for(uint32_t i = 0; i < read_time; i++)
 232:System/storage/Storage.c ****     {
 233:System/storage/Storage.c ****         if ((remain_size != 0) && (remain_size < size))
 234:System/storage/Storage.c ****             size = remain_size;
 235:System/storage/Storage.c **** 
 236:System/storage/Storage.c ****         if (!Storage_ExtFlash_ParaSec_Erase(addr_offset, size))
 237:System/storage/Storage.c ****             return false;
 238:System/storage/Storage.c **** 
 239:System/storage/Storage.c ****         if (!Storage_ExtFlash_ParaSec_Read(addr_offset, page_data_tmp, size))
 240:System/storage/Storage.c ****             return false;
 241:System/storage/Storage.c **** 
 242:System/storage/Storage.c ****         for(uint32_t j = 0; j < size; j++)
 243:System/storage/Storage.c ****         {
 244:System/storage/Storage.c ****             if (page_data_tmp[i] != default_data)
 245:System/storage/Storage.c ****                 return false;
 246:System/storage/Storage.c ****         }
 247:System/storage/Storage.c **** 
 248:System/storage/Storage.c ****         addr_offset += size;
 249:System/storage/Storage.c ****         remain_size -= size;
 250:System/storage/Storage.c **** 
 251:System/storage/Storage.c ****         if (remain_size == 0)
 252:System/storage/Storage.c ****             return true;
 253:System/storage/Storage.c ****     }
 254:System/storage/Storage.c **** 
 255:System/storage/Storage.c ****     return false;
 256:System/storage/Storage.c **** }
 257:System/storage/Storage.c **** 
 258:System/storage/Storage.c **** static bool Storage_Check_Tab(Storage_BaseSecInfo_TypeDef *sec_info)
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 6


 259:System/storage/Storage.c **** {
 260:System/storage/Storage.c ****     uint32_t free_i = 0;
 261:System/storage/Storage.c ****     uint32_t tab_addr = 0;
 262:System/storage/Storage.c ****     uint32_t store_param_found = 0;
 263:System/storage/Storage.c ****     uint32_t store_param_size = 0;
 264:System/storage/Storage.c ****     uint32_t free_slot_addr = 0;
 265:System/storage/Storage.c ****     uint32_t sec_start_addr = 0;
 266:System/storage/Storage.c ****     uint32_t sec_end_addr = 0;
 267:System/storage/Storage.c ****     uint16_t crc16 = 0;
 268:System/storage/Storage.c ****     uint8_t *crc_buf = NULL;
 269:System/storage/Storage.c ****     uint16_t crc_len = 0;
 270:System/storage/Storage.c ****     Storage_FreeSlot_TypeDef *FreeSlot_Info = NULL;
 271:System/storage/Storage.c ****     Storage_Item_TypeDef *p_ItemList = NULL;
 272:System/storage/Storage.c **** 
 273:System/storage/Storage.c ****     if (sec_info)
 274:System/storage/Storage.c ****     {
 275:System/storage/Storage.c ****         /* free address & slot check */
 276:System/storage/Storage.c ****         free_slot_addr = sec_info->free_slot_addr;
 277:System/storage/Storage.c ****         sec_start_addr = sec_info->data_sec_addr;
 278:System/storage/Storage.c ****         sec_end_addr = sec_start_addr + sec_info->data_sec_size;
 279:System/storage/Storage.c **** 
 280:System/storage/Storage.c ****         for(free_i = 0; ;)
 281:System/storage/Storage.c ****         {
 282:System/storage/Storage.c ****             /* check boot section free slot */
 283:System/storage/Storage.c ****             if ((free_slot_addr == 0) || \
 284:System/storage/Storage.c ****                 (free_slot_addr < sec_start_addr) || \
 285:System/storage/Storage.c ****                 (free_slot_addr > sec_end_addr) || \
 286:System/storage/Storage.c ****                 !Storage_ExtFlash_ParaSec_Read(free_slot_addr, page_data_tmp, Storage_TabSize))
 287:System/storage/Storage.c ****                 return false;
 288:System/storage/Storage.c **** 
 289:System/storage/Storage.c ****             FreeSlot_Info = (Storage_FreeSlot_TypeDef *)page_data_tmp;
 290:System/storage/Storage.c **** 
 291:System/storage/Storage.c ****             if ((FreeSlot_Info->head_tag != STORAGE_SLOT_HEAD_TAG) || \
 292:System/storage/Storage.c ****                 (FreeSlot_Info->end_tag != STORAGE_SLOT_END_TAG))
 293:System/storage/Storage.c ****                 return false;
 294:System/storage/Storage.c **** 
 295:System/storage/Storage.c ****             free_i ++;
 296:System/storage/Storage.c ****             if (FreeSlot_Info->nxt_addr == 0)
 297:System/storage/Storage.c ****                 break;
 298:System/storage/Storage.c **** 
 299:System/storage/Storage.c ****             free_slot_addr = FreeSlot_Info->nxt_addr;
 300:System/storage/Storage.c ****         }
 301:System/storage/Storage.c ****         
 302:System/storage/Storage.c ****         if (sec_info->para_num)
 303:System/storage/Storage.c ****         {
 304:System/storage/Storage.c ****             tab_addr = sec_info->tab_addr;
 305:System/storage/Storage.c **** 
 306:System/storage/Storage.c ****             for (uint16_t tab_i = 0; tab_i < sec_info->page_num; tab_i ++)
 307:System/storage/Storage.c ****             {
 308:System/storage/Storage.c ****                 if (!Storage_ExtFlash_ParaSec_Read(tab_addr, page_data_tmp, sec_info->tab_size / se
 309:System/storage/Storage.c ****                     return false;
 310:System/storage/Storage.c ****             
 311:System/storage/Storage.c ****                 p_ItemList = (Storage_Item_TypeDef *)page_data_tmp;
 312:System/storage/Storage.c ****                 for(uint16_t item_i = 0; item_i < Item_Capacity_Per_Tab; item_i ++)
 313:System/storage/Storage.c ****                 {
 314:System/storage/Storage.c ****                     if ((p_ItemList[item_i].head_tag == STORAGE_ITEM_HEAD_TAG) && \
 315:System/storage/Storage.c ****                         (p_ItemList[item_i].end_tag == STORAGE_ITEM_END_TAG))
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 7


 316:System/storage/Storage.c ****                     {
 317:System/storage/Storage.c ****                         /* check item slot crc */
 318:System/storage/Storage.c ****                         /*
 319:System/storage/Storage.c ****                          *  typedef struct
 320:System/storage/Storage.c ****                          *  {
 321:System/storage/Storage.c ****                          *      uint8_t head_tag;
 322:System/storage/Storage.c ****                          *      uint8_t class;
 323:System/storage/Storage.c ****                          *      uint8_t name[STORAGE_NAME_LEN];
 324:System/storage/Storage.c ****                          *      uint32_t data_addr;
 325:System/storage/Storage.c ****                          *      uint16_t len;
 326:System/storage/Storage.c ****                          *      uint16_t crc16;
 327:System/storage/Storage.c ****                          *      uint8_t end_tag;
 328:System/storage/Storage.c ****                          *  } Storage_Item_TypeDef;
 329:System/storage/Storage.c ****                          *  
 330:System/storage/Storage.c ****                          * comput crc from class to len
 331:System/storage/Storage.c ****                          */
 332:System/storage/Storage.c ****                         crc_buf = (uint8_t *)&p_ItemList[item_i] + sizeof(p_ItemList[item_i].head_t
 333:System/storage/Storage.c ****                         crc_len = sizeof(Storage_Item_TypeDef);
 334:System/storage/Storage.c ****                         crc_len -= sizeof(p_ItemList[item_i].head_tag);
 335:System/storage/Storage.c ****                         crc_len -= sizeof(p_ItemList[item_i].end_tag);
 336:System/storage/Storage.c ****                         crc_len -= sizeof(p_ItemList[item_i].crc16);
 337:System/storage/Storage.c ****                         store_param_size += p_ItemList[item_i].len;
 338:System/storage/Storage.c ****                         
 339:System/storage/Storage.c ****                         crc16 = Common_CRC16(crc_buf, crc_len);
 340:System/storage/Storage.c ****                         if (crc16 != p_ItemList[item_i].crc16)
 341:System/storage/Storage.c ****                             return false;
 342:System/storage/Storage.c **** 
 343:System/storage/Storage.c ****                         store_param_found ++;
 344:System/storage/Storage.c ****                     }
 345:System/storage/Storage.c ****                 }
 346:System/storage/Storage.c **** 
 347:System/storage/Storage.c ****                 tab_addr += (sec_info->tab_size / sec_info->page_num);
 348:System/storage/Storage.c ****             }
 349:System/storage/Storage.c **** 
 350:System/storage/Storage.c ****             if ((store_param_found != sec_info->para_num) || \
 351:System/storage/Storage.c ****                 (store_param_size != sec_info->para_size))
 352:System/storage/Storage.c ****                 return false;
 353:System/storage/Storage.c ****         }
 354:System/storage/Storage.c **** 
 355:System/storage/Storage.c ****         return true;
 356:System/storage/Storage.c ****     }
 357:System/storage/Storage.c **** 
 358:System/storage/Storage.c ****     return false;
 359:System/storage/Storage.c **** }
 360:System/storage/Storage.c **** 
 361:System/storage/Storage.c **** static bool Storage_Get_StorageInfo(void)
 362:System/storage/Storage.c **** {
 363:System/storage/Storage.c ****     Storage_FlashInfo_TypeDef *p_Info = NULL;
 364:System/storage/Storage.c ****     Storage_FlashInfo_TypeDef Info_r;
 365:System/storage/Storage.c ****     uint16_t crc = 0;
 366:System/storage/Storage.c ****     uint16_t crc_read = 0;
 367:System/storage/Storage.c ****     char flash_tag[INTERNAL_PAGE_TAG_SIZE + EXTERNAL_PAGE_TAG_SIZE];
 368:System/storage/Storage.c **** 
 369:System/storage/Storage.c ****     memset(flash_tag, '\0', sizeof(flash_tag));
 370:System/storage/Storage.c ****     memset(&Info_r, 0, sizeof(Storage_FlashInfo_TypeDef));
 371:System/storage/Storage.c **** 
 372:System/storage/Storage.c ****     memcpy(flash_tag, EXTERNAL_STORAGE_PAGE_TAG, EXTERNAL_PAGE_TAG_SIZE);
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 8


 373:System/storage/Storage.c ****     p_Info = &Storage_Monitor.external_info;
 374:System/storage/Storage.c ****     
 375:System/storage/Storage.c ****     if (Storage_ExtFlash_ParaSec_Read(From_Start_Address, page_data_tmp, Storage_TabSize))
 376:System/storage/Storage.c ****     {
 377:System/storage/Storage.c ****         /* check internal storage tag */
 378:System/storage/Storage.c ****         Info_r = *(Storage_FlashInfo_TypeDef *)page_data_tmp;
 379:System/storage/Storage.c ****         
 380:System/storage/Storage.c ****         /* check storage tag */
 381:System/storage/Storage.c ****         /* check boot / sys / user  start addr */
 382:System/storage/Storage.c ****         if ((strcmp((const char *)Info_r.tag, flash_tag) != 0) || \
 383:System/storage/Storage.c ****             (Info_r.boot_sec.tab_addr == 0) || \
 384:System/storage/Storage.c ****             (Info_r.sys_sec.tab_addr == 0) || \
 385:System/storage/Storage.c ****             (Info_r.user_sec.tab_addr == 0) || \
 386:System/storage/Storage.c ****             (Info_r.boot_sec.tab_addr == Info_r.sys_sec.tab_addr) || \
 387:System/storage/Storage.c ****             (Info_r.boot_sec.tab_addr == Info_r.user_sec.tab_addr) || \
 388:System/storage/Storage.c ****             (Info_r.sys_sec.tab_addr == Info_r.user_sec.tab_addr))
 389:System/storage/Storage.c ****             return false;
 390:System/storage/Storage.c **** 
 391:System/storage/Storage.c ****         /* get crc from storage baseinfo section check crc value */
 392:System/storage/Storage.c ****         memcpy(&crc_read, &page_data_tmp[OnChipFlash_Storage_InfoPageSize - sizeof(uint16_t)], size
 393:System/storage/Storage.c ****         crc = Common_CRC16(page_data_tmp, OnChipFlash_Storage_InfoPageSize - sizeof(crc));
 394:System/storage/Storage.c ****         if (crc != crc_read)
 395:System/storage/Storage.c ****             return false;
 396:System/storage/Storage.c **** 
 397:System/storage/Storage.c ****         memset(page_data_tmp, 0, Storage_TabSize);
 398:System/storage/Storage.c ****         /* check  boot  section tab & free slot info & stored item */
 399:System/storage/Storage.c ****         /* check system section tab & free slot info & stored item */
 400:System/storage/Storage.c ****         /* check  user  section tab & free slot info & stored item */
 401:System/storage/Storage.c ****         if (Storage_Check_Tab(&Info_r.boot_sec) && \
 402:System/storage/Storage.c ****             Storage_Check_Tab(&Info_r.sys_sec) && \
 403:System/storage/Storage.c ****             Storage_Check_Tab(&Info_r.user_sec))
 404:System/storage/Storage.c ****         {
 405:System/storage/Storage.c ****             memcpy(p_Info, &Info_r, sizeof(Storage_FlashInfo_TypeDef));
 406:System/storage/Storage.c ****             return true;
 407:System/storage/Storage.c ****         }
 408:System/storage/Storage.c ****     }
 409:System/storage/Storage.c **** 
 410:System/storage/Storage.c ****     return false;
 411:System/storage/Storage.c **** }
 412:System/storage/Storage.c **** 
 413:System/storage/Storage.c **** static bool Storage_Clear_Tab(uint32_t addr, uint32_t tab_num)
 414:System/storage/Storage.c **** {
 415:System/storage/Storage.c ****     uint32_t addr_tmp = 0;
 416:System/storage/Storage.c **** 
 417:System/storage/Storage.c ****     if ((addr == 0) || \
 418:System/storage/Storage.c ****         (tab_num == 0))
 419:System/storage/Storage.c ****         return false;
 420:System/storage/Storage.c **** 
 421:System/storage/Storage.c ****     memset(page_data_tmp, 0, Storage_TabSize);
 422:System/storage/Storage.c ****     addr_tmp = addr;
 423:System/storage/Storage.c ****     
 424:System/storage/Storage.c ****     for(uint32_t i = 0; i < tab_num; i++)
 425:System/storage/Storage.c ****     {
 426:System/storage/Storage.c ****         if (!Storage_ExtFlash_ParaSec_Write(addr_tmp, page_data_tmp, Storage_TabSize))
 427:System/storage/Storage.c ****             return false;
 428:System/storage/Storage.c **** 
 429:System/storage/Storage.c ****         addr_tmp += Storage_TabSize;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 9


 430:System/storage/Storage.c ****     }
 431:System/storage/Storage.c **** 
 432:System/storage/Storage.c ****     return true;
 433:System/storage/Storage.c **** }
 434:System/storage/Storage.c **** 
 435:System/storage/Storage.c **** /* 
 436:System/storage/Storage.c ****  * if matched return data slot address 
 437:System/storage/Storage.c ****  * else return 0
 438:System/storage/Storage.c ****  */
 439:System/storage/Storage.c **** static Storage_ItemSearchOut_TypeDef Storage_Search(Storage_ParaClassType_List _class, const char *
 440:System/storage/Storage.c **** {
 441:System/storage/Storage.c ****     Storage_BaseSecInfo_TypeDef *p_Sec = NULL;
 442:System/storage/Storage.c ****     Storage_Item_TypeDef *item_list = NULL;
 443:System/storage/Storage.c ****     Storage_Item_TypeDef *p_item = NULL;
 444:System/storage/Storage.c ****     uint32_t tab_addr = 0;
 445:System/storage/Storage.c ****     Storage_ItemSearchOut_TypeDef ItemSearch;
 446:System/storage/Storage.c **** 
 447:System/storage/Storage.c ****     memset(&ItemSearch, 0, sizeof(ItemSearch));
 448:System/storage/Storage.c **** 
 449:System/storage/Storage.c ****     if (!Storage_Monitor.init_state || \
 450:System/storage/Storage.c ****         (name == NULL) || \
 451:System/storage/Storage.c ****         (strlen(name) == 0) || \
 452:System/storage/Storage.c ****         (_class > Para_User))
 453:System/storage/Storage.c ****         return ItemSearch;
 454:System/storage/Storage.c **** 
 455:System/storage/Storage.c ****     p_Sec = Storage_Get_SecInfo(&Storage_Monitor.external_info, _class);
 456:System/storage/Storage.c **** 
 457:System/storage/Storage.c ****     if ((p_Sec == NULL) || \
 458:System/storage/Storage.c ****         (p_Sec->para_num == 0) || \
 459:System/storage/Storage.c ****         (p_Sec->para_size == 0))
 460:System/storage/Storage.c ****         return ItemSearch;
 461:System/storage/Storage.c **** 
 462:System/storage/Storage.c ****     tab_addr = p_Sec->tab_addr;
 463:System/storage/Storage.c ****     /* tab traverse */
 464:System/storage/Storage.c ****     for (uint8_t tab_i = 0; tab_i < p_Sec->page_num; tab_i ++)
 465:System/storage/Storage.c ****     {
 466:System/storage/Storage.c ****         if (!Storage_ExtFlash_ParaSec_Read(tab_addr, page_data_tmp, (p_Sec->tab_size / p_Sec->page_
 467:System/storage/Storage.c ****             return ItemSearch;
 468:System/storage/Storage.c ****     
 469:System/storage/Storage.c ****         /* tab item traverse */
 470:System/storage/Storage.c ****         item_list = (Storage_Item_TypeDef *)page_data_tmp;
 471:System/storage/Storage.c ****         for (uint16_t item_i = 0; item_i < ((p_Sec->tab_size / p_Sec->page_num) / sizeof(Storage_It
 472:System/storage/Storage.c ****         {
 473:System/storage/Storage.c ****             p_item = &item_list[item_i];
 474:System/storage/Storage.c **** 
 475:System/storage/Storage.c ****             if ((p_item->head_tag == STORAGE_ITEM_HEAD_TAG) && \
 476:System/storage/Storage.c ****                 (p_item->end_tag == STORAGE_ITEM_END_TAG) && \
 477:System/storage/Storage.c ****                 (memcmp(p_item->name, name, strlen(name)) == 0))
 478:System/storage/Storage.c ****             {
 479:System/storage/Storage.c ****                 if (Storage_Compare_ItemSlot_CRC(*p_item))
 480:System/storage/Storage.c ****                 {
 481:System/storage/Storage.c ****                     ItemSearch.item_addr = tab_addr;
 482:System/storage/Storage.c ****                     ItemSearch.item_index = item_i;
 483:System/storage/Storage.c ****                     ItemSearch.item = *p_item;
 484:System/storage/Storage.c ****                     return ItemSearch;
 485:System/storage/Storage.c ****                 }
 486:System/storage/Storage.c ****             }
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 10


 487:System/storage/Storage.c ****         }
 488:System/storage/Storage.c ****     
 489:System/storage/Storage.c ****         /* update tab address */
 490:System/storage/Storage.c ****         tab_addr += (p_Sec->tab_size / p_Sec->page_num);
 491:System/storage/Storage.c ****     }
 492:System/storage/Storage.c **** 
 493:System/storage/Storage.c ****     return ItemSearch;
 494:System/storage/Storage.c **** }
 495:System/storage/Storage.c **** 
 496:System/storage/Storage.c **** static Storage_ErrorCode_List Storage_ItemSlot_Update(uint32_t tab_addr, uint8_t item_index, Storag
 497:System/storage/Storage.c **** {
 498:System/storage/Storage.c ****     Storage_Item_TypeDef *ItemList = NULL;
 499:System/storage/Storage.c **** 
 500:System/storage/Storage.c ****     if ((tab_addr == 0) || \
 501:System/storage/Storage.c ****         (p_Sec == NULL) || \
 502:System/storage/Storage.c ****         (item.head_tag != STORAGE_ITEM_HEAD_TAG) || \
 503:System/storage/Storage.c ****         (item.end_tag != STORAGE_ITEM_END_TAG) || \
 504:System/storage/Storage.c ****         (item.data_addr == 0) || \
 505:System/storage/Storage.c ****         (item.data_addr > (p_Sec->data_sec_addr + p_Sec->data_sec_size)) || \
 506:System/storage/Storage.c ****         (item.data_addr < p_Sec->data_sec_addr))
 507:System/storage/Storage.c ****         return Storage_Param_Error;
 508:System/storage/Storage.c **** 
 509:System/storage/Storage.c ****     if (!Storage_ExtFlash_ParaSec_Read(tab_addr, &page_data_tmp[Storage_TabSize], Storage_TabSize))
 510:System/storage/Storage.c ****         return Storage_Read_Error;
 511:System/storage/Storage.c **** 
 512:System/storage/Storage.c ****     ItemList = (Storage_Item_TypeDef *)&page_data_tmp[Storage_TabSize];
 513:System/storage/Storage.c ****     ItemList[item_index] = item;
 514:System/storage/Storage.c **** 
 515:System/storage/Storage.c ****     if (!Storage_ExtFlash_ParaSec_Write(tab_addr, (uint8_t *)ItemList, Storage_TabSize))
 516:System/storage/Storage.c ****         return Storage_Write_Error;
 517:System/storage/Storage.c **** 
 518:System/storage/Storage.c ****     return Storage_Error_None;
 519:System/storage/Storage.c **** }
 520:System/storage/Storage.c **** 
 521:System/storage/Storage.c **** static Storage_ErrorCode_List Storage_Get_Data(Storage_ParaClassType_List class, Storage_Item_TypeD
 522:System/storage/Storage.c **** {
 523:System/storage/Storage.c ****     uint32_t data_len = 0;
 524:System/storage/Storage.c ****     uint32_t data_addr = 0;
 525:System/storage/Storage.c ****     uint8_t *p_read_out = NULL;
 526:System/storage/Storage.c ****     uint8_t *crc_buf = NULL;
 527:System/storage/Storage.c ****     uint16_t crc_len = 0;
 528:System/storage/Storage.c ****     uint16_t crc = 0;
 529:System/storage/Storage.c ****     Storage_DataSlot_TypeDef DataSlot;
 530:System/storage/Storage.c ****     uint8_t *p_data_start = NULL;
 531:System/storage/Storage.c **** 
 532:System/storage/Storage.c ****     memset(&DataSlot, 0, sizeof(Storage_DataSlot_TypeDef));
 533:System/storage/Storage.c ****     if (item.data_addr && p_data && size)
 534:System/storage/Storage.c ****     {
 535:System/storage/Storage.c ****         data_len = item.len;
 536:System/storage/Storage.c ****         data_addr = item.data_addr;
 537:System/storage/Storage.c **** 
 538:System/storage/Storage.c ****         while(data_len)
 539:System/storage/Storage.c ****         {
 540:System/storage/Storage.c ****             if (!Storage_ExtFlash_ParaSec_Read(data_addr, page_data_tmp, data_len + sizeof(Storage_
 541:System/storage/Storage.c ****                 return Storage_GetData_Error;
 542:System/storage/Storage.c **** 
 543:System/storage/Storage.c ****             p_read_out = page_data_tmp;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 11


 544:System/storage/Storage.c ****             memcpy(&DataSlot.head_tag, p_read_out, sizeof(DataSlot.head_tag));
 545:System/storage/Storage.c ****             p_read_out += sizeof(DataSlot.head_tag);
 546:System/storage/Storage.c ****             if (DataSlot.head_tag != STORAGE_SLOT_HEAD_TAG)
 547:System/storage/Storage.c ****                 return Storage_GetData_Error;
 548:System/storage/Storage.c **** 
 549:System/storage/Storage.c ****             memcpy(DataSlot.name, p_read_out, STORAGE_NAME_LEN);
 550:System/storage/Storage.c ****             p_read_out += STORAGE_NAME_LEN;
 551:System/storage/Storage.c **** 
 552:System/storage/Storage.c ****             memcpy(&DataSlot.total_data_size, p_read_out, sizeof(DataSlot.total_data_size));
 553:System/storage/Storage.c ****             p_read_out += sizeof(DataSlot.total_data_size);
 554:System/storage/Storage.c ****             if (DataSlot.total_data_size == 0)
 555:System/storage/Storage.c ****                 return Storage_GetData_Error;
 556:System/storage/Storage.c **** 
 557:System/storage/Storage.c ****             memcpy(&DataSlot.cur_slot_size, p_read_out, sizeof(DataSlot.cur_slot_size));
 558:System/storage/Storage.c ****             p_read_out += sizeof(DataSlot.cur_slot_size);
 559:System/storage/Storage.c ****             if (DataSlot.cur_slot_size == 0)
 560:System/storage/Storage.c ****                 return Storage_GetData_Error;
 561:System/storage/Storage.c **** 
 562:System/storage/Storage.c ****             memcpy(&DataSlot.nxt_addr, p_read_out, sizeof(DataSlot.nxt_addr));
 563:System/storage/Storage.c ****             p_read_out += sizeof(DataSlot.nxt_addr);
 564:System/storage/Storage.c **** 
 565:System/storage/Storage.c ****             memcpy(&DataSlot.align_size, p_read_out, sizeof(DataSlot.align_size));
 566:System/storage/Storage.c ****             p_read_out += sizeof(DataSlot.align_size);
 567:System/storage/Storage.c ****             p_data_start = p_read_out;
 568:System/storage/Storage.c **** 
 569:System/storage/Storage.c ****             crc_buf = p_read_out;
 570:System/storage/Storage.c ****             crc_len = DataSlot.cur_slot_size;
 571:System/storage/Storage.c ****             crc = Common_CRC16(crc_buf, crc_len);
 572:System/storage/Storage.c **** 
 573:System/storage/Storage.c ****             p_read_out += DataSlot.cur_slot_size;
 574:System/storage/Storage.c ****             memcpy(&DataSlot.slot_crc, p_read_out, sizeof(DataSlot.slot_crc));
 575:System/storage/Storage.c ****             p_read_out += sizeof(DataSlot.slot_crc);
 576:System/storage/Storage.c ****             if (crc != DataSlot.slot_crc)
 577:System/storage/Storage.c ****                 return Storage_GetData_Error;
 578:System/storage/Storage.c **** 
 579:System/storage/Storage.c ****             memcpy(&DataSlot.end_tag, p_read_out, sizeof(DataSlot.end_tag));
 580:System/storage/Storage.c ****             if (DataSlot.end_tag != STORAGE_SLOT_END_TAG)
 581:System/storage/Storage.c ****                 return Storage_GetData_Error;
 582:System/storage/Storage.c **** 
 583:System/storage/Storage.c ****             memcpy(p_data, p_data_start, DataSlot.cur_slot_size - DataSlot.align_size);
 584:System/storage/Storage.c ****             data_len -= DataSlot.cur_slot_size;
 585:System/storage/Storage.c **** 
 586:System/storage/Storage.c ****             if (DataSlot.nxt_addr)
 587:System/storage/Storage.c ****             {
 588:System/storage/Storage.c ****                 p_data += DataSlot.cur_slot_size - DataSlot.align_size;
 589:System/storage/Storage.c ****                 data_addr = DataSlot.nxt_addr;
 590:System/storage/Storage.c ****             }
 591:System/storage/Storage.c ****             else
 592:System/storage/Storage.c ****             {
 593:System/storage/Storage.c ****                 if (data_len == 0)
 594:System/storage/Storage.c ****                     break;
 595:System/storage/Storage.c **** 
 596:System/storage/Storage.c ****                 return Storage_GetData_Error;
 597:System/storage/Storage.c ****             }
 598:System/storage/Storage.c ****         }
 599:System/storage/Storage.c **** 
 600:System/storage/Storage.c ****         return Storage_Error_None;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 12


 601:System/storage/Storage.c ****     }
 602:System/storage/Storage.c **** 
 603:System/storage/Storage.c ****     return Storage_GetData_Error;
 604:System/storage/Storage.c **** }
 605:System/storage/Storage.c **** 
 606:System/storage/Storage.c **** static Storage_ErrorCode_List Storage_SlotData_Update(Storage_ParaClassType_List _class, storage_ha
 607:System/storage/Storage.c **** {
 608:System/storage/Storage.c ****     Storage_BaseSecInfo_TypeDef *p_Sec = NULL;
 609:System/storage/Storage.c ****     Storage_DataSlot_TypeDef *p_slotdata = NULL;
 610:System/storage/Storage.c ****     uint8_t *p_read_tmp = page_data_tmp;
 611:System/storage/Storage.c ****     uint8_t *crc_buf = NULL;
 612:System/storage/Storage.c ****     uint16_t crc = 0;
 613:System/storage/Storage.c ****     uint32_t read_addr = 0;
 614:System/storage/Storage.c ****     uint32_t read_size = 0;
 615:System/storage/Storage.c ****     uint32_t valid_data_size = 0;
 616:System/storage/Storage.c ****     uint8_t align_byte = 0;
 617:System/storage/Storage.c **** 
 618:System/storage/Storage.c ****     if (!Storage_Monitor.init_state || \
 619:System/storage/Storage.c ****         (_class > Para_User) || \
 620:System/storage/Storage.c ****         (data_slot_hdl == 0) || \
 621:System/storage/Storage.c ****         (p_data == NULL) || \
 622:System/storage/Storage.c ****         (size == 0))
 623:System/storage/Storage.c ****         return Storage_Param_Error;
 624:System/storage/Storage.c **** 
 625:System/storage/Storage.c ****     p_Sec = Storage_Get_SecInfo(&Storage_Monitor.external_info, _class);
 626:System/storage/Storage.c ****     
 627:System/storage/Storage.c ****     if ((p_Sec == NULL) || \
 628:System/storage/Storage.c ****         (p_Sec->data_sec_addr > data_slot_hdl) || \
 629:System/storage/Storage.c ****         (data_slot_hdl > (p_Sec->data_sec_addr + p_Sec->data_sec_size)))
 630:System/storage/Storage.c ****         return Storage_Param_Error;
 631:System/storage/Storage.c **** 
 632:System/storage/Storage.c ****     read_addr = data_slot_hdl;
 633:System/storage/Storage.c ****     memset(page_data_tmp, 0, sizeof(Storage_DataSlot_TypeDef));
 634:System/storage/Storage.c ****     if (size % STORAGE_DATA_ALIGN)
 635:System/storage/Storage.c ****     {
 636:System/storage/Storage.c ****         align_byte = STORAGE_DATA_ALIGN - size % STORAGE_DATA_ALIGN;
 637:System/storage/Storage.c ****     }
 638:System/storage/Storage.c ****     else
 639:System/storage/Storage.c ****         align_byte = 0;
 640:System/storage/Storage.c **** 
 641:System/storage/Storage.c ****     /* get data slot first */
 642:System/storage/Storage.c ****     if (!Storage_ExtFlash_ParaSec_Read(read_addr, p_read_tmp, sizeof(Storage_DataSlot_TypeDef)))
 643:System/storage/Storage.c ****         return Storage_Read_Error;
 644:System/storage/Storage.c ****     
 645:System/storage/Storage.c ****     /* get data size */
 646:System/storage/Storage.c ****     p_slotdata = (Storage_DataSlot_TypeDef *)p_read_tmp;
 647:System/storage/Storage.c ****     if ((p_slotdata->head_tag != STORAGE_SLOT_HEAD_TAG) || \
 648:System/storage/Storage.c ****         (p_slotdata->total_data_size == 0) || \
 649:System/storage/Storage.c ****         (p_slotdata->total_data_size > p_Sec->data_sec_size))
 650:System/storage/Storage.c ****         return Storage_DataInfo_Error;
 651:System/storage/Storage.c **** 
 652:System/storage/Storage.c ****     if (p_slotdata->total_data_size != (size + align_byte))
 653:System/storage/Storage.c ****         return Storage_Update_DataSize_Error;
 654:System/storage/Storage.c **** 
 655:System/storage/Storage.c ****     read_size = p_slotdata->total_data_size + sizeof(Storage_DataSlot_TypeDef);
 656:System/storage/Storage.c ****     p_read_tmp = page_data_tmp;
 657:System/storage/Storage.c ****     memset(p_read_tmp, 0, sizeof(Storage_DataSlot_TypeDef));
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 13


 658:System/storage/Storage.c ****     p_slotdata = NULL;
 659:System/storage/Storage.c ****     while(true)
 660:System/storage/Storage.c ****     {
 661:System/storage/Storage.c ****         p_read_tmp = page_data_tmp;
 662:System/storage/Storage.c ****         p_slotdata = (Storage_DataSlot_TypeDef *)p_read_tmp;
 663:System/storage/Storage.c **** 
 664:System/storage/Storage.c ****         /* get data from handle */
 665:System/storage/Storage.c ****         if (!Storage_ExtFlash_ParaSec_Read(read_addr, p_read_tmp, read_size))
 666:System/storage/Storage.c ****             return Storage_Read_Error;
 667:System/storage/Storage.c **** 
 668:System/storage/Storage.c ****         p_slotdata->head_tag = *((uint32_t *)p_read_tmp);
 669:System/storage/Storage.c ****         p_read_tmp += sizeof(p_slotdata->head_tag);
 670:System/storage/Storage.c ****         if (p_slotdata->head_tag != STORAGE_SLOT_HEAD_TAG)
 671:System/storage/Storage.c ****             return Storage_DataInfo_Error;
 672:System/storage/Storage.c **** 
 673:System/storage/Storage.c ****         memcpy(p_slotdata->name, p_read_tmp, STORAGE_NAME_LEN);
 674:System/storage/Storage.c ****         p_read_tmp += STORAGE_NAME_LEN;
 675:System/storage/Storage.c **** 
 676:System/storage/Storage.c ****         p_slotdata->total_data_size = *((uint32_t *)p_read_tmp);
 677:System/storage/Storage.c ****         p_read_tmp += sizeof(p_slotdata->total_data_size);
 678:System/storage/Storage.c ****         if ((p_slotdata->total_data_size == 0) || \
 679:System/storage/Storage.c ****             (p_slotdata->total_data_size > p_Sec->data_sec_size))
 680:System/storage/Storage.c ****             return Storage_DataInfo_Error;
 681:System/storage/Storage.c **** 
 682:System/storage/Storage.c ****         p_slotdata->cur_slot_size = *((uint32_t *)p_read_tmp);
 683:System/storage/Storage.c ****         p_read_tmp += sizeof(p_slotdata->cur_slot_size);
 684:System/storage/Storage.c ****         if (p_slotdata->cur_slot_size > p_slotdata->total_data_size)
 685:System/storage/Storage.c ****             return Storage_DataInfo_Error;
 686:System/storage/Storage.c **** 
 687:System/storage/Storage.c ****         p_slotdata->nxt_addr = *((uint32_t *)p_read_tmp);
 688:System/storage/Storage.c ****         p_read_tmp += sizeof(p_slotdata->nxt_addr);
 689:System/storage/Storage.c ****         if (p_slotdata->nxt_addr)
 690:System/storage/Storage.c ****         {
 691:System/storage/Storage.c ****             if ((p_slotdata->nxt_addr < p_Sec->data_sec_addr) || \
 692:System/storage/Storage.c ****                 (p_slotdata->nxt_addr > p_Sec->data_sec_addr + p_Sec->data_sec_size))
 693:System/storage/Storage.c ****                 return Storage_DataInfo_Error;
 694:System/storage/Storage.c ****         }
 695:System/storage/Storage.c **** 
 696:System/storage/Storage.c ****         p_slotdata->align_size = *((uint8_t *)p_read_tmp);
 697:System/storage/Storage.c ****         p_read_tmp += sizeof(p_slotdata->align_size);
 698:System/storage/Storage.c ****         if (p_slotdata->align_size >= STORAGE_DATA_ALIGN)
 699:System/storage/Storage.c ****             return Storage_DataInfo_Error;
 700:System/storage/Storage.c **** 
 701:System/storage/Storage.c ****         crc_buf = p_read_tmp;
 702:System/storage/Storage.c ****         memcpy(p_read_tmp, p_data, (p_slotdata->cur_slot_size - p_slotdata->align_size));
 703:System/storage/Storage.c ****         p_read_tmp += p_slotdata->cur_slot_size - p_slotdata->align_size;
 704:System/storage/Storage.c **** 
 705:System/storage/Storage.c ****         if (p_slotdata->align_size)
 706:System/storage/Storage.c ****             /* set align byte */
 707:System/storage/Storage.c ****             memset(p_read_tmp, 0, p_slotdata->align_size);
 708:System/storage/Storage.c ****         
 709:System/storage/Storage.c ****         p_read_tmp += p_slotdata->align_size;
 710:System/storage/Storage.c ****         /* update crc */
 711:System/storage/Storage.c ****         crc = Common_CRC16(crc_buf, p_slotdata->cur_slot_size) ;
 712:System/storage/Storage.c ****         
 713:System/storage/Storage.c ****         valid_data_size += p_slotdata->cur_slot_size - p_slotdata->align_size;
 714:System/storage/Storage.c ****         if (p_slotdata->nxt_addr == 0)
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 14


 715:System/storage/Storage.c ****         {
 716:System/storage/Storage.c ****             /* all data has been read out from the data slot in destination section */
 717:System/storage/Storage.c ****             /* compare update data size and valid_data_size */
 718:System/storage/Storage.c ****             if (size != valid_data_size)
 719:System/storage/Storage.c ****                 return Storage_Update_DataSize_Error;
 720:System/storage/Storage.c ****         }
 721:System/storage/Storage.c **** 
 722:System/storage/Storage.c ****         memcpy(p_read_tmp, &crc, sizeof(crc));
 723:System/storage/Storage.c ****         
 724:System/storage/Storage.c ****         p_data += p_slotdata->cur_slot_size - p_slotdata->align_size;
 725:System/storage/Storage.c ****         p_read_tmp += sizeof(p_slotdata->slot_crc);
 726:System/storage/Storage.c **** 
 727:System/storage/Storage.c ****         if (*(uint32_t *)p_read_tmp != STORAGE_SLOT_END_TAG)
 728:System/storage/Storage.c ****             return Storage_DataInfo_Error;
 729:System/storage/Storage.c **** 
 730:System/storage/Storage.c ****         if ((p_slotdata->nxt_addr == 0) && \
 731:System/storage/Storage.c ****             (size == valid_data_size))
 732:System/storage/Storage.c ****         {
 733:System/storage/Storage.c ****             /* update data to flash */
 734:System/storage/Storage.c ****             if (!Storage_ExtFlash_ParaSec_Write(read_addr, page_data_tmp, p_slotdata->cur_slot_size
 735:System/storage/Storage.c ****                 return Storage_Write_Error;
 736:System/storage/Storage.c **** 
 737:System/storage/Storage.c ****             /* update accomplish */
 738:System/storage/Storage.c ****             return Storage_Error_None;
 739:System/storage/Storage.c ****         }
 740:System/storage/Storage.c **** 
 741:System/storage/Storage.c ****         read_addr = p_slotdata->nxt_addr;
 742:System/storage/Storage.c ****     }
 743:System/storage/Storage.c **** 
 744:System/storage/Storage.c ****     return Storage_Error_None;
 745:System/storage/Storage.c **** }
 746:System/storage/Storage.c **** 
 747:System/storage/Storage.c **** static bool Storage_Link_FreeSlot(uint32_t front_free_addr, uint32_t behind_free_addr, uint32_t new
 748:System/storage/Storage.c **** {
 749:System/storage/Storage.c ****     Storage_FreeSlot_TypeDef front_slot;
 750:System/storage/Storage.c ****     Storage_FreeSlot_TypeDef behind_slot;
 751:System/storage/Storage.c **** 
 752:System/storage/Storage.c ****     if ((new_free_addr == 0) || \
 753:System/storage/Storage.c ****         (front_free_addr == 0) || \
 754:System/storage/Storage.c ****         (behind_free_addr == 0) || \
 755:System/storage/Storage.c ****         (front_free_addr >= new_free_addr) || \
 756:System/storage/Storage.c ****         (behind_free_addr <= new_free_addr) || \
 757:System/storage/Storage.c ****         (new_free_slot == NULL))
 758:System/storage/Storage.c ****         return false;
 759:System/storage/Storage.c **** 
 760:System/storage/Storage.c ****     memset(&front_slot, 0, sizeof(Storage_FreeSlot_TypeDef));
 761:System/storage/Storage.c ****     memset(&behind_slot, 0, sizeof(Storage_FreeSlot_TypeDef));
 762:System/storage/Storage.c **** 
 763:System/storage/Storage.c **** /* 
 764:System/storage/Storage.c ****  *
 765:System/storage/Storage.c ****  *       address N                    address X                   address Y
 766:System/storage/Storage.c ****  * _____________________        _____________________        ______________________
 767:System/storage/Storage.c ****  * |  front free slot  |    |   new free slot   |    |  behind free slot  |
 768:System/storage/Storage.c ****  * |                   |   |    |                   |   |    |                    |   |
 769:System/storage/Storage.c ****  * |____next_addr_X____|   |    |____next_addr_Y____|   |    |_____next_addr_Z____|   |
 770:System/storage/Storage.c ****  *          |______________|             |______________|              |______________|
 771:System/storage/Storage.c ****  * 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 15


 772:System/storage/Storage.c ****  */
 773:System/storage/Storage.c **** 
 774:System/storage/Storage.c ****     if (!Storage_ExtFlash_ParaSec_Read(front_free_addr, (uint8_t *)&front_slot, sizeof(Storage_Free
 775:System/storage/Storage.c ****         return false;
 776:System/storage/Storage.c **** 
 777:System/storage/Storage.c ****     /* link free slot address */
 778:System/storage/Storage.c ****     front_slot.nxt_addr = new_free_addr;
 779:System/storage/Storage.c ****     new_free_slot->nxt_addr = behind_free_addr;
 780:System/storage/Storage.c **** 
 781:System/storage/Storage.c ****     if (!Storage_ExtFlash_ParaSec_Write(front_free_addr, (uint8_t *)&front_slot, sizeof(Storage_Fre
 782:System/storage/Storage.c ****         return false;
 783:System/storage/Storage.c **** 
 784:System/storage/Storage.c ****     if (!Storage_ExtFlash_ParaSec_Write(new_free_addr, (uint8_t *)new_free_slot, sizeof(Storage_Fre
 785:System/storage/Storage.c ****         return false;
 786:System/storage/Storage.c **** 
 787:System/storage/Storage.c ****     return true;
 788:System/storage/Storage.c **** }
 789:System/storage/Storage.c **** 
 790:System/storage/Storage.c **** /* developping & untested */
 791:System/storage/Storage.c **** static Storage_ErrorCode_List Storage_FreeSlot_CheckMerge(uint32_t slot_addr, Storage_FreeSlot_Type
 792:System/storage/Storage.c **** {
 793:System/storage/Storage.c ****     Storage_FreeSlot_TypeDef FreeSlot_Info;
 794:System/storage/Storage.c ****     uint32_t front_freeslot_addr = 0;
 795:System/storage/Storage.c ****     uint32_t behind_freeslot_addr = 0;
 796:System/storage/Storage.c ****     uint32_t ori_freespace_size = 0;
 797:System/storage/Storage.c **** 
 798:System/storage/Storage.c ****     if ((p_Sec == NULL) || \
 799:System/storage/Storage.c ****         (slot_info == NULL) || \
 800:System/storage/Storage.c ****         (slot_addr < p_Sec->data_sec_addr) || \
 801:System/storage/Storage.c ****         (slot_addr > (p_Sec->data_sec_addr + p_Sec->data_sec_size)))
 802:System/storage/Storage.c ****         return Storage_Param_Error;
 803:System/storage/Storage.c **** 
 804:System/storage/Storage.c ****     memset(&FreeSlot_Info, 0, sizeof(FreeSlot_Info));
 805:System/storage/Storage.c **** 
 806:System/storage/Storage.c ****     if ((slot_info->head_tag != STORAGE_SLOT_HEAD_TAG) || \
 807:System/storage/Storage.c ****         (slot_info->end_tag != STORAGE_SLOT_END_TAG) || \
 808:System/storage/Storage.c ****         (slot_info->cur_slot_size > p_Sec->free_space_size))
 809:System/storage/Storage.c ****         return Storage_FreeSlot_Info_Error;
 810:System/storage/Storage.c **** 
 811:System/storage/Storage.c ****     ori_freespace_size = p_Sec->free_space_size;
 812:System/storage/Storage.c ****     front_freeslot_addr = p_Sec->free_slot_addr;
 813:System/storage/Storage.c ****     while (true)
 814:System/storage/Storage.c ****     {
 815:System/storage/Storage.c ****         /* traverse all free slot */
 816:System/storage/Storage.c ****         if (!Storage_ExtFlash_ParaSec_Read(front_freeslot_addr, (uint8_t *)&FreeSlot_Info, sizeof(F
 817:System/storage/Storage.c ****             return Storage_Read_Error;
 818:System/storage/Storage.c **** 
 819:System/storage/Storage.c ****         if ((FreeSlot_Info.head_tag != STORAGE_SLOT_HEAD_TAG) || \
 820:System/storage/Storage.c ****             (FreeSlot_Info.end_tag != STORAGE_SLOT_END_TAG))
 821:System/storage/Storage.c ****             return Storage_FreeSlot_Info_Error;
 822:System/storage/Storage.c **** 
 823:System/storage/Storage.c ****         behind_freeslot_addr = FreeSlot_Info.nxt_addr;
 824:System/storage/Storage.c ****         p_Sec->free_space_size += slot_info->cur_slot_size;
 825:System/storage/Storage.c **** 
 826:System/storage/Storage.c ****         /* circumstance 1: new free slot in front of the old free slot */
 827:System/storage/Storage.c ****         if (slot_addr + slot_info->cur_slot_size == front_freeslot_addr)
 828:System/storage/Storage.c ****         {
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 16


 829:System/storage/Storage.c ****             slot_info->nxt_addr = FreeSlot_Info.nxt_addr;
 830:System/storage/Storage.c ****             slot_info->cur_slot_size += FreeSlot_Info.cur_slot_size + sizeof(Storage_FreeSlot_TypeD
 831:System/storage/Storage.c **** 
 832:System/storage/Storage.c ****             memset(&FreeSlot_Info, 0, sizeof(FreeSlot_Info));
 833:System/storage/Storage.c **** 
 834:System/storage/Storage.c ****             /* write to front freeslot address */
 835:System/storage/Storage.c ****             if (!Storage_ExtFlash_ParaSec_Write(front_freeslot_addr, (uint8_t *)&FreeSlot_Info, siz
 836:System/storage/Storage.c ****             {
 837:System/storage/Storage.c ****                 p_Sec->free_space_size = ori_freespace_size;
 838:System/storage/Storage.c ****                 return Storage_Write_Error;
 839:System/storage/Storage.c ****             }
 840:System/storage/Storage.c **** 
 841:System/storage/Storage.c ****             /* write to current freeslot section */
 842:System/storage/Storage.c ****             if (!Storage_ExtFlash_ParaSec_Write(slot_addr, (uint8_t *)slot_info, sizeof(Storage_Fre
 843:System/storage/Storage.c ****             {
 844:System/storage/Storage.c ****                 p_Sec->free_space_size = ori_freespace_size;
 845:System/storage/Storage.c ****                 return Storage_Write_Error;
 846:System/storage/Storage.c ****             }
 847:System/storage/Storage.c **** 
 848:System/storage/Storage.c ****             p_Sec->free_slot_addr = slot_addr;
 849:System/storage/Storage.c ****             p_Sec->free_space_size += sizeof(Storage_FreeSlot_TypeDef);
 850:System/storage/Storage.c ****         }
 851:System/storage/Storage.c ****         /* circumstance 2: new free slot is behind of the old free slot */
 852:System/storage/Storage.c ****         else if (front_freeslot_addr + FreeSlot_Info.cur_slot_size == slot_addr)
 853:System/storage/Storage.c ****         {
 854:System/storage/Storage.c ****             /* merge behind free slot */
 855:System/storage/Storage.c ****             FreeSlot_Info.cur_slot_size += slot_info->cur_slot_size + sizeof(Storage_FreeSlot_TypeD
 856:System/storage/Storage.c ****             Storage_Assert(slot_info->nxt_addr < FreeSlot_Info.nxt_addr);
 857:System/storage/Storage.c ****             FreeSlot_Info.nxt_addr = slot_info->nxt_addr;
 858:System/storage/Storage.c **** 
 859:System/storage/Storage.c ****             memset(slot_info, 0, sizeof(Storage_FreeSlot_TypeDef));
 860:System/storage/Storage.c **** 
 861:System/storage/Storage.c ****             /* write to new free slot */
 862:System/storage/Storage.c ****             if (!Storage_ExtFlash_ParaSec_Write(slot_addr, (uint8_t *)slot_info, sizeof(Storage_Fre
 863:System/storage/Storage.c ****                 return Storage_Write_Error;
 864:System/storage/Storage.c **** 
 865:System/storage/Storage.c ****             /* write to behind free slot */
 866:System/storage/Storage.c ****             if (!Storage_ExtFlash_ParaSec_Write(front_freeslot_addr, (uint8_t *)&FreeSlot_Info, siz
 867:System/storage/Storage.c ****                 return Storage_Write_Error;
 868:System/storage/Storage.c ****         }
 869:System/storage/Storage.c ****         /* circumstance 3: none free slot near by */
 870:System/storage/Storage.c ****         else if (((front_freeslot_addr + FreeSlot_Info.cur_slot_size + sizeof(Storage_FreeSlot_Type
 871:System/storage/Storage.c ****                  (behind_freeslot_addr > (slot_addr + slot_info->cur_slot_size + sizeof(Storage_Fre
 872:System/storage/Storage.c ****         {
 873:System/storage/Storage.c ****             /* link free slot */
 874:System/storage/Storage.c ****             if (Storage_Link_FreeSlot(front_freeslot_addr, behind_freeslot_addr, slot_addr, slot_in
 875:System/storage/Storage.c ****                 return Storage_Error_None;
 876:System/storage/Storage.c **** 
 877:System/storage/Storage.c ****             return Storage_FreeSlot_Link_Error;
 878:System/storage/Storage.c ****         }
 879:System/storage/Storage.c **** 
 880:System/storage/Storage.c ****         if (FreeSlot_Info.nxt_addr == 0)
 881:System/storage/Storage.c ****             return Storage_Error_None;
 882:System/storage/Storage.c **** 
 883:System/storage/Storage.c ****         /* update front free slot address */
 884:System/storage/Storage.c ****         front_freeslot_addr = behind_freeslot_addr;
 885:System/storage/Storage.c ****     }
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 17


 886:System/storage/Storage.c **** 
 887:System/storage/Storage.c ****     return Storage_Delete_Error;
 888:System/storage/Storage.c **** }
 889:System/storage/Storage.c **** 
 890:System/storage/Storage.c **** /* untested */
 891:System/storage/Storage.c **** static bool Storage_DeleteSingleDataSlot(uint32_t slot_addr, uint8_t *p_data, Storage_BaseSecInfo_T
 892:System/storage/Storage.c **** {
 893:System/storage/Storage.c ****     uint32_t cur_slot_size = 0;
 894:System/storage/Storage.c ****     uint32_t inc_free_space = sizeof(Storage_DataSlot_TypeDef);
 895:System/storage/Storage.c ****     uint8_t *p_freeslot_start = NULL;
 896:System/storage/Storage.c ****     uint8_t *data_w = NULL;
 897:System/storage/Storage.c **** 
 898:System/storage/Storage.c ****     if ((slot_addr == 0) || \
 899:System/storage/Storage.c ****         (p_Sec == NULL) || \
 900:System/storage/Storage.c ****         (p_data == NULL) || \
 901:System/storage/Storage.c ****         (slot_addr < p_Sec->data_sec_addr) || \
 902:System/storage/Storage.c ****         (slot_addr > (p_Sec->data_sec_addr + p_Sec->data_sec_size)))
 903:System/storage/Storage.c ****         return false;
 904:System/storage/Storage.c ****     
 905:System/storage/Storage.c ****     /* check header */
 906:System/storage/Storage.c ****     if (*((uint32_t *)p_data) != STORAGE_SLOT_HEAD_TAG)
 907:System/storage/Storage.c ****         return false;
 908:System/storage/Storage.c **** 
 909:System/storage/Storage.c ****     p_freeslot_start = p_data;
 910:System/storage/Storage.c ****     data_w = p_freeslot_start;
 911:System/storage/Storage.c ****     p_data += sizeof(uint32_t);
 912:System/storage/Storage.c **** 
 913:System/storage/Storage.c ****     /* clear current slot name */
 914:System/storage/Storage.c ****     memset(p_data, 0, STORAGE_NAME_LEN);
 915:System/storage/Storage.c ****     p_data += STORAGE_NAME_LEN;
 916:System/storage/Storage.c **** 
 917:System/storage/Storage.c ****     /* clear total data size */
 918:System/storage/Storage.c ****     *((uint32_t *)p_data) = 0;
 919:System/storage/Storage.c ****     p_data += sizeof(uint32_t);
 920:System/storage/Storage.c **** 
 921:System/storage/Storage.c ****     /* get current slot data size */
 922:System/storage/Storage.c ****     cur_slot_size = *((uint32_t *)p_data);
 923:System/storage/Storage.c ****     inc_free_space += cur_slot_size;
 924:System/storage/Storage.c ****     
 925:System/storage/Storage.c ****     /* clear current slot data size */
 926:System/storage/Storage.c ****     *((uint32_t *)p_data) = 0;
 927:System/storage/Storage.c ****     p_data += sizeof(uint32_t);
 928:System/storage/Storage.c **** 
 929:System/storage/Storage.c ****     /* clear next data slot address */
 930:System/storage/Storage.c ****     *((uint32_t *)p_data) = 0;
 931:System/storage/Storage.c ****     p_data += sizeof(uint32_t);
 932:System/storage/Storage.c **** 
 933:System/storage/Storage.c ****     /* clear align size */
 934:System/storage/Storage.c ****     *((uint8_t *)p_data) = 0;
 935:System/storage/Storage.c ****     p_data += sizeof(uint8_t);
 936:System/storage/Storage.c **** 
 937:System/storage/Storage.c ****     /* clear data */
 938:System/storage/Storage.c ****     memset(p_data, 0, cur_slot_size);
 939:System/storage/Storage.c ****     p_data += cur_slot_size;
 940:System/storage/Storage.c **** 
 941:System/storage/Storage.c ****     /* clear crc */
 942:System/storage/Storage.c ****     *((uint16_t *)p_data) = 0;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 18


 943:System/storage/Storage.c ****     p_data += sizeof(uint16_t);
 944:System/storage/Storage.c **** 
 945:System/storage/Storage.c ****     /* clear end tag */
 946:System/storage/Storage.c ****     *((uint32_t *)p_data) = 0;
 947:System/storage/Storage.c **** 
 948:System/storage/Storage.c ****     /* update freeslot data info */
 949:System/storage/Storage.c ****     if (*(uint32_t *)p_freeslot_start == STORAGE_SLOT_HEAD_TAG)
 950:System/storage/Storage.c ****     {
 951:System/storage/Storage.c ****         p_freeslot_start += sizeof(uint32_t);
 952:System/storage/Storage.c **** 
 953:System/storage/Storage.c ****         /* update current free slot size */
 954:System/storage/Storage.c ****         *(uint32_t *)p_freeslot_start = cur_slot_size;
 955:System/storage/Storage.c ****         p_freeslot_start += sizeof(uint32_t);
 956:System/storage/Storage.c **** 
 957:System/storage/Storage.c ****         /* reset next freeslot addr
 958:System/storage/Storage.c ****          * link free slot address
 959:System/storage/Storage.c ****          *
 960:System/storage/Storage.c ****          * should link free slot
 961:System/storage/Storage.c ****          */
 962:System/storage/Storage.c ****         *(uint32_t *)p_freeslot_start = 0;
 963:System/storage/Storage.c ****         p_freeslot_start += sizeof(uint32_t);
 964:System/storage/Storage.c **** 
 965:System/storage/Storage.c ****         /* set end tag */
 966:System/storage/Storage.c ****         *(uint32_t *)p_freeslot_start = STORAGE_SLOT_END_TAG;
 967:System/storage/Storage.c ****     }
 968:System/storage/Storage.c ****     else
 969:System/storage/Storage.c ****         return false;
 970:System/storage/Storage.c **** 
 971:System/storage/Storage.c ****     /* update to data section */
 972:System/storage/Storage.c ****     if (Storage_ExtFlash_ParaSec_Write(slot_addr, data_w, inc_free_space))
 973:System/storage/Storage.c ****     {
 974:System/storage/Storage.c ****         /* check free slot and merge */
 975:System/storage/Storage.c ****         if (Storage_FreeSlot_CheckMerge(slot_addr, (Storage_FreeSlot_TypeDef *)p_freeslot_start, p_
 976:System/storage/Storage.c ****             return true;
 977:System/storage/Storage.c ****     }
 978:System/storage/Storage.c **** 
 979:System/storage/Storage.c ****     return false;
 980:System/storage/Storage.c **** }
 981:System/storage/Storage.c **** 
 982:System/storage/Storage.c **** /* developping & untested */
 983:System/storage/Storage.c **** static bool Storage_DeleteAllDataSlot(uint32_t addr, char *name, uint32_t total_size, Storage_BaseS
 984:System/storage/Storage.c **** {
 985:System/storage/Storage.c ****     Storage_DataSlot_TypeDef data_slot;
 986:System/storage/Storage.c ****     uint8_t *p_read = page_data_tmp;
 987:System/storage/Storage.c ****     uint8_t name_len = 0;
 988:System/storage/Storage.c **** 
 989:System/storage/Storage.c ****     if ((addr == 0) || \
 990:System/storage/Storage.c ****         (name == NULL) || \
 991:System/storage/Storage.c ****         (strlen(name) == 0) || \
 992:System/storage/Storage.c ****         (total_size == 0) || \
 993:System/storage/Storage.c ****         (p_Sec == NULL))
 994:System/storage/Storage.c ****         return false;
 995:System/storage/Storage.c **** 
 996:System/storage/Storage.c ****     memset(&data_slot, 0, sizeof(data_slot));
 997:System/storage/Storage.c ****     name_len = strlen(name);
 998:System/storage/Storage.c **** 
 999:System/storage/Storage.c ****     if (!Storage_ExtFlash_ParaSec_Read(addr, page_data_tmp, total_size))
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 19


1000:System/storage/Storage.c ****         return false;
1001:System/storage/Storage.c **** 
1002:System/storage/Storage.c ****     data_slot.head_tag = *((uint32_t *)p_read);
1003:System/storage/Storage.c ****     if (data_slot.head_tag != STORAGE_SLOT_HEAD_TAG)
1004:System/storage/Storage.c ****         return false;
1005:System/storage/Storage.c **** 
1006:System/storage/Storage.c ****     p_read += sizeof(data_slot.head_tag);
1007:System/storage/Storage.c ****     memcpy(data_slot.name, p_read, STORAGE_NAME_LEN);
1008:System/storage/Storage.c ****     if (memcmp(data_slot.name, name, name_len) != 0)
1009:System/storage/Storage.c ****         return false;
1010:System/storage/Storage.c **** 
1011:System/storage/Storage.c ****     p_read += STORAGE_NAME_LEN;
1012:System/storage/Storage.c ****     data_slot.total_data_size = *((uint32_t *)p_read);
1013:System/storage/Storage.c ****     if (data_slot.total_data_size != total_size)
1014:System/storage/Storage.c ****         return false;
1015:System/storage/Storage.c **** 
1016:System/storage/Storage.c ****     p_read += sizeof(data_slot.total_data_size);
1017:System/storage/Storage.c ****     data_slot.cur_slot_size = *((uint32_t *)p_read);
1018:System/storage/Storage.c ****     if (data_slot.cur_slot_size > data_slot.total_data_size)
1019:System/storage/Storage.c ****         return false;
1020:System/storage/Storage.c **** 
1021:System/storage/Storage.c ****     p_read += sizeof(data_slot.cur_slot_size);
1022:System/storage/Storage.c ****     data_slot.nxt_addr = *((uint32_t *)p_read);
1023:System/storage/Storage.c ****     if ((data_slot.nxt_addr < p_Sec->data_sec_addr) || \
1024:System/storage/Storage.c ****         (data_slot.nxt_addr > (p_Sec->data_sec_addr + p_Sec->data_sec_size)))
1025:System/storage/Storage.c ****         return false;
1026:System/storage/Storage.c ****     
1027:System/storage/Storage.c ****     p_read += sizeof(data_slot.nxt_addr);
1028:System/storage/Storage.c ****     data_slot.align_size = *((uint8_t *)p_read);    
1029:System/storage/Storage.c ****     if (data_slot.align_size >= STORAGE_DATA_ALIGN)
1030:System/storage/Storage.c ****         return false;
1031:System/storage/Storage.c **** 
1032:System/storage/Storage.c ****     /* set current slot data as 0 */
1033:System/storage/Storage.c ****     p_read += sizeof(data_slot.align_size);
1034:System/storage/Storage.c ****     memset(p_read, 0, data_slot.cur_slot_size);
1035:System/storage/Storage.c ****     p_read += data_slot.cur_slot_size;
1036:System/storage/Storage.c **** 
1037:System/storage/Storage.c ****     /* clear crc */
1038:System/storage/Storage.c ****     *((uint16_t *)p_read) = 0;
1039:System/storage/Storage.c ****     p_read += sizeof(data_slot.slot_crc);
1040:System/storage/Storage.c **** 
1041:System/storage/Storage.c ****     /* ender error */
1042:System/storage/Storage.c ****     if (*((uint32_t *)p_read) != STORAGE_SLOT_END_TAG)
1043:System/storage/Storage.c ****         return false;
1044:System/storage/Storage.c **** 
1045:System/storage/Storage.c ****     /* delete next slot data */
1046:System/storage/Storage.c ****     if (data_slot.nxt_addr)
1047:System/storage/Storage.c ****     {
1048:System/storage/Storage.c ****         /* traverse slot address */
1049:System/storage/Storage.c ****         if (!Storage_DeleteAllDataSlot(data_slot.nxt_addr, name, total_size, p_Sec))
1050:System/storage/Storage.c ****             return false;
1051:System/storage/Storage.c ****     }
1052:System/storage/Storage.c **** 
1053:System/storage/Storage.c ****     /* reset data slot as free slot */
1054:System/storage/Storage.c ****     if (!Storage_DeleteSingleDataSlot(addr, page_data_tmp, p_Sec))
1055:System/storage/Storage.c ****         return false;
1056:System/storage/Storage.c **** 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 20


1057:System/storage/Storage.c ****     return true;
1058:System/storage/Storage.c **** }
1059:System/storage/Storage.c **** 
1060:System/storage/Storage.c **** /* developping */
1061:System/storage/Storage.c **** static Storage_ErrorCode_List Storage_DeleteItem(Storage_ParaClassType_List _class, const char *nam
1062:System/storage/Storage.c **** {
1063:System/storage/Storage.c ****     Storage_FlashInfo_TypeDef *p_Flash = NULL;
1064:System/storage/Storage.c ****     Storage_BaseSecInfo_TypeDef *p_Sec = NULL;
1065:System/storage/Storage.c ****     Storage_ItemSearchOut_TypeDef ItemSearch;
1066:System/storage/Storage.c ****     
1067:System/storage/Storage.c ****     memset(&ItemSearch, 0, sizeof(ItemSearch));
1068:System/storage/Storage.c **** 
1069:System/storage/Storage.c ****     if ( !Storage_Monitor.init_state || \
1070:System/storage/Storage.c ****         (name == NULL) || \
1071:System/storage/Storage.c ****         (strlen(name) == 0) || \
1072:System/storage/Storage.c ****         (strlen(name) >= STORAGE_NAME_LEN) || \
1073:System/storage/Storage.c ****         (size == 0))
1074:System/storage/Storage.c ****         return Storage_Param_Error;
1075:System/storage/Storage.c **** 
1076:System/storage/Storage.c ****     p_Flash = &Storage_Monitor.external_info;
1077:System/storage/Storage.c ****     p_Sec = Storage_Get_SecInfo(p_Flash, _class);
1078:System/storage/Storage.c ****     if ((p_Sec == NULL) || \
1079:System/storage/Storage.c ****         (p_Sec->para_num == 0) || \
1080:System/storage/Storage.c ****         (p_Sec->para_size == 0))
1081:System/storage/Storage.c ****         return Storage_Class_Error;
1082:System/storage/Storage.c **** 
1083:System/storage/Storage.c ****     /* search tab for item slot first */
1084:System/storage/Storage.c ****     ItemSearch = Storage_Search(_class, name);
1085:System/storage/Storage.c ****     if ((ItemSearch.item_addr == 0) || \
1086:System/storage/Storage.c ****         (ItemSearch.item.data_addr == 0) || \
1087:System/storage/Storage.c ****         (ItemSearch.item.head_tag != STORAGE_ITEM_HEAD_TAG) || \
1088:System/storage/Storage.c ****         (ItemSearch.item.end_tag != STORAGE_ITEM_END_TAG) || \
1089:System/storage/Storage.c ****         !Storage_DeleteAllDataSlot(ItemSearch.item.data_addr, (char *)name, ItemSearch.item.len, p_
1090:System/storage/Storage.c ****         return Storage_Delete_Error;
1091:System/storage/Storage.c **** 
1092:System/storage/Storage.c ****     /* update item slot tab */
1093:System/storage/Storage.c ****     memset(ItemSearch.item.name, '\0', STORAGE_NAME_LEN);
1094:System/storage/Storage.c ****     memcpy(ItemSearch.item.name, STORAGE_FREEITEM_NAME, strlen(STORAGE_FREEITEM_NAME));
1095:System/storage/Storage.c **** 
1096:System/storage/Storage.c ****     if (!Storage_Comput_ItemSlot_CRC(&ItemSearch.item))
1097:System/storage/Storage.c ****         return Storage_ItemUpdate_Error;
1098:System/storage/Storage.c **** 
1099:System/storage/Storage.c ****     if (!Storage_ItemSlot_Update(ItemSearch.item_addr, ItemSearch.item_index, p_Sec, ItemSearch.ite
1100:System/storage/Storage.c ****         return Storage_ItemUpdate_Error;
1101:System/storage/Storage.c **** 
1102:System/storage/Storage.c ****     /* update base info */
1103:System/storage/Storage.c **** 
1104:System/storage/Storage.c ****     return Storage_Delete_Error;
1105:System/storage/Storage.c **** }
1106:System/storage/Storage.c **** 
1107:System/storage/Storage.c **** static Storage_ErrorCode_List Storage_CreateItem(Storage_ParaClassType_List _class, const char *nam
1108:System/storage/Storage.c **** {
1109:System/storage/Storage.c ****     uint8_t *crc_buf = NULL;
1110:System/storage/Storage.c ****     uint8_t *slot_update_ptr = NULL;
1111:System/storage/Storage.c ****     uint16_t base_info_crc = 0;
1112:System/storage/Storage.c ****     uint32_t storage_data_size = 0;
1113:System/storage/Storage.c ****     uint32_t stored_size = 0;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 21


1114:System/storage/Storage.c ****     uint32_t store_addr = 0;
1115:System/storage/Storage.c ****     uint32_t unstored_size = 0;
1116:System/storage/Storage.c ****     uint32_t storage_tab_addr = 0;
1117:System/storage/Storage.c ****     uint32_t cur_freeslot_addr = 0;
1118:System/storage/Storage.c ****     uint32_t slot_useful_size = 0;
1119:System/storage/Storage.c ****     uint8_t item_index = 0;
1120:System/storage/Storage.c ****     Storage_FlashInfo_TypeDef *p_Flash = NULL;
1121:System/storage/Storage.c ****     Storage_BaseSecInfo_TypeDef *p_Sec = NULL;
1122:System/storage/Storage.c ****     Storage_Item_TypeDef *tab_item = NULL;
1123:System/storage/Storage.c ****     Storage_Item_TypeDef crt_item_slot;
1124:System/storage/Storage.c ****     Storage_FreeSlot_TypeDef FreeSlot;
1125:System/storage/Storage.c ****     Storage_DataSlot_TypeDef DataSlot;
1126:System/storage/Storage.c ****     uint8_t align_byte = 0;
1127:System/storage/Storage.c **** 
1128:System/storage/Storage.c ****     memset(&crt_item_slot, 0, sizeof(crt_item_slot));
1129:System/storage/Storage.c ****     memset(&DataSlot, 0, sizeof(Storage_DataSlot_TypeDef));
1130:System/storage/Storage.c ****     memset(&FreeSlot, 0, sizeof(Storage_FreeSlot_TypeDef));
1131:System/storage/Storage.c **** 
1132:System/storage/Storage.c ****     if ((name == NULL) || (p_data == NULL) || (size == 0))
1133:System/storage/Storage.c ****         return Storage_Param_Error;
1134:System/storage/Storage.c **** 
1135:System/storage/Storage.c ****     p_Flash = &Storage_Monitor.external_info;
1136:System/storage/Storage.c ****     p_Sec = Storage_Get_SecInfo(p_Flash, _class);
1137:System/storage/Storage.c ****     if (p_Sec == NULL)
1138:System/storage/Storage.c ****         return Storage_Class_Error;
1139:System/storage/Storage.c **** 
1140:System/storage/Storage.c ****     if (p_Sec->free_slot_addr == 0)
1141:System/storage/Storage.c ****         return Storage_FreeSlot_Addr_Error;
1142:System/storage/Storage.c **** 
1143:System/storage/Storage.c ****     if (Storage_ExtFlash_ParaSec_Read(p_Sec->free_slot_addr, (uint8_t *)&FreeSlot, sizeof(Storage_F
1144:System/storage/Storage.c ****         (FreeSlot.head_tag == STORAGE_SLOT_HEAD_TAG) && \
1145:System/storage/Storage.c ****         (FreeSlot.end_tag == STORAGE_SLOT_END_TAG) && \
1146:System/storage/Storage.c ****         (strlen(name) <= STORAGE_NAME_LEN))
1147:System/storage/Storage.c ****     {
1148:System/storage/Storage.c ****         cur_freeslot_addr = p_Sec->free_slot_addr;
1149:System/storage/Storage.c **** 
1150:System/storage/Storage.c ****         if (size % STORAGE_DATA_ALIGN)
1151:System/storage/Storage.c ****         {
1152:System/storage/Storage.c ****             align_byte = STORAGE_DATA_ALIGN - size % STORAGE_DATA_ALIGN;
1153:System/storage/Storage.c ****         }
1154:System/storage/Storage.c ****         else
1155:System/storage/Storage.c ****             align_byte = 0;
1156:System/storage/Storage.c **** 
1157:System/storage/Storage.c ****         p_Sec->para_num ++;
1158:System/storage/Storage.c ****         p_Sec->para_size += (size + align_byte);
1159:System/storage/Storage.c ****         
1160:System/storage/Storage.c ****         storage_tab_addr = p_Sec->tab_addr;
1161:System/storage/Storage.c ****         for(uint16_t tab_i = 0; tab_i < p_Sec->page_num; tab_i ++)
1162:System/storage/Storage.c ****         {
1163:System/storage/Storage.c ****             store_addr = 0;
1164:System/storage/Storage.c ****             item_index = 0;
1165:System/storage/Storage.c **** 
1166:System/storage/Storage.c ****             /* step 1: search tab */
1167:System/storage/Storage.c ****             if (!Storage_ExtFlash_ParaSec_Read(storage_tab_addr, page_data_tmp, (p_Sec->tab_size / 
1168:System/storage/Storage.c ****                 return Storage_Read_Error;
1169:System/storage/Storage.c **** 
1170:System/storage/Storage.c ****             tab_item = (Storage_Item_TypeDef *)page_data_tmp;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 22


1171:System/storage/Storage.c ****             for (uint16_t item_i = 0; item_i < Item_Capacity_Per_Tab; item_i ++)
1172:System/storage/Storage.c ****             {
1173:System/storage/Storage.c ****                 if (((tab_item[item_i].head_tag == STORAGE_ITEM_HEAD_TAG) && \
1174:System/storage/Storage.c ****                      (tab_item[item_i].end_tag == STORAGE_ITEM_END_TAG) && \
1175:System/storage/Storage.c ****                      (memcmp(tab_item[item_i].name, STORAGE_FREEITEM_NAME, strlen(STORAGE_FREEITEM_
1176:System/storage/Storage.c ****                     ((tab_item[item_i].head_tag != STORAGE_ITEM_HEAD_TAG) && \
1177:System/storage/Storage.c ****                      (tab_item[item_i].end_tag != STORAGE_ITEM_END_TAG)))
1178:System/storage/Storage.c ****                 {
1179:System/storage/Storage.c ****                     item_index = item_i;
1180:System/storage/Storage.c **** 
1181:System/storage/Storage.c ****                     /* found empty item slot */
1182:System/storage/Storage.c ****                     crt_item_slot = tab_item[item_i];
1183:System/storage/Storage.c **** 
1184:System/storage/Storage.c ****                     /* set item slot info */
1185:System/storage/Storage.c ****                     crt_item_slot._class = _class;
1186:System/storage/Storage.c ****                     memset(crt_item_slot.name, '\0', STORAGE_NAME_LEN);
1187:System/storage/Storage.c ****                     memcpy(crt_item_slot.name, name, strlen(name));
1188:System/storage/Storage.c ****                     crt_item_slot.len = size + align_byte;
1189:System/storage/Storage.c **** 
1190:System/storage/Storage.c ****                     /* set free slot address as current data address */
1191:System/storage/Storage.c ****                     crt_item_slot.data_addr = p_Sec->free_slot_addr;
1192:System/storage/Storage.c ****                     crt_item_slot.head_tag = STORAGE_ITEM_HEAD_TAG;
1193:System/storage/Storage.c ****                     crt_item_slot.end_tag = STORAGE_ITEM_END_TAG;
1194:System/storage/Storage.c **** 
1195:System/storage/Storage.c ****                     /* comput crc */
1196:System/storage/Storage.c ****                     Storage_Comput_ItemSlot_CRC(&crt_item_slot);
1197:System/storage/Storage.c ****                     store_addr = crt_item_slot.data_addr;
1198:System/storage/Storage.c ****                     break; 
1199:System/storage/Storage.c ****                 }
1200:System/storage/Storage.c ****             }
1201:System/storage/Storage.c **** 
1202:System/storage/Storage.c ****             if (store_addr)
1203:System/storage/Storage.c ****                 break;
1204:System/storage/Storage.c **** 
1205:System/storage/Storage.c ****             storage_tab_addr += (p_Sec->tab_size / p_Sec->page_num);
1206:System/storage/Storage.c ****         }
1207:System/storage/Storage.c **** 
1208:System/storage/Storage.c ****         if (store_addr == 0)
1209:System/storage/Storage.c ****             return Storage_DataAddr_Update_Error;
1210:System/storage/Storage.c **** 
1211:System/storage/Storage.c ****         storage_data_size = size;
1212:System/storage/Storage.c ****         /* get align byte size */
1213:System/storage/Storage.c ****         /* noticed: write 0 on align space */
1214:System/storage/Storage.c ****         storage_data_size += align_byte;
1215:System/storage/Storage.c **** 
1216:System/storage/Storage.c ****         /* noticed: DataSlot.cur_data_size - DataSlot.align_size is current slot storaged data size
1217:System/storage/Storage.c ****         DataSlot.total_data_size = storage_data_size;
1218:System/storage/Storage.c ****         unstored_size = DataSlot.total_data_size;
1219:System/storage/Storage.c **** 
1220:System/storage/Storage.c ****         if (p_Sec->free_space_size >= storage_data_size)
1221:System/storage/Storage.c ****         {
1222:System/storage/Storage.c ****             while(true)
1223:System/storage/Storage.c ****             {
1224:System/storage/Storage.c ****                 /* step 2: comput storage data size and set data slot */
1225:System/storage/Storage.c ****                 DataSlot.head_tag = STORAGE_SLOT_HEAD_TAG;
1226:System/storage/Storage.c ****                 DataSlot.end_tag = STORAGE_SLOT_END_TAG;
1227:System/storage/Storage.c ****                 memset(DataSlot.name, '\0', STORAGE_NAME_LEN);
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 23


1228:System/storage/Storage.c ****                 memcpy(DataSlot.name, name, strlen(name));
1229:System/storage/Storage.c ****                 
1230:System/storage/Storage.c ****                 if (FreeSlot.cur_slot_size <= sizeof(Storage_DataSlot_TypeDef))
1231:System/storage/Storage.c ****                     return Storage_No_Enough_Space;
1232:System/storage/Storage.c **** 
1233:System/storage/Storage.c ****                 p_data += stored_size;
1234:System/storage/Storage.c ****                 slot_useful_size = FreeSlot.cur_slot_size - sizeof(Storage_DataSlot_TypeDef);
1235:System/storage/Storage.c ****                 /* current have space for new data need to be storage */
1236:System/storage/Storage.c ****                 if (slot_useful_size < storage_data_size)
1237:System/storage/Storage.c ****                 {
1238:System/storage/Storage.c ****                     /*
1239:System/storage/Storage.c ****                      * UNTESTED IN THIS BRANCH
1240:System/storage/Storage.c ****                      */
1241:System/storage/Storage.c ****                     
1242:System/storage/Storage.c ****                     DataSlot.cur_slot_size = slot_useful_size;
1243:System/storage/Storage.c ****                     stored_size += DataSlot.cur_slot_size;
1244:System/storage/Storage.c ****                     unstored_size -= stored_size;
1245:System/storage/Storage.c ****                     DataSlot.align_size = 0;
1246:System/storage/Storage.c ****                     
1247:System/storage/Storage.c ****                     /* current free slot full fill can not split any space for next free slot`s sta
1248:System/storage/Storage.c ****                     DataSlot.nxt_addr = FreeSlot.nxt_addr;
1249:System/storage/Storage.c **** 
1250:System/storage/Storage.c ****                     /* in light of current free slot not enough for storage data, 
1251:System/storage/Storage.c ****                         * then find next free slot used for storage data remaining */
1252:System/storage/Storage.c ****                     cur_freeslot_addr = FreeSlot.nxt_addr;
1253:System/storage/Storage.c ****                     if (!Storage_ExtFlash_ParaSec_Read(cur_freeslot_addr, (uint8_t *)&FreeSlot, siz
1254:System/storage/Storage.c ****                         return Storage_FreeSlot_Get_Error;   
1255:System/storage/Storage.c ****                 }
1256:System/storage/Storage.c ****                 else
1257:System/storage/Storage.c ****                 {
1258:System/storage/Storage.c ****                     /* seperate data slot and new free slot from current free slot */
1259:System/storage/Storage.c ****                     stored_size += unstored_size;
1260:System/storage/Storage.c ****                     DataSlot.cur_slot_size = unstored_size;
1261:System/storage/Storage.c ****                     DataSlot.align_size = align_byte;
1262:System/storage/Storage.c ****                     DataSlot.nxt_addr = 0;
1263:System/storage/Storage.c **** 
1264:System/storage/Storage.c ****                     /* update current free slot adderess */
1265:System/storage/Storage.c ****                     cur_freeslot_addr += DataSlot.cur_slot_size + sizeof(Storage_DataSlot_TypeDef);
1266:System/storage/Storage.c ****                     FreeSlot.cur_slot_size -= DataSlot.cur_slot_size + sizeof(Storage_DataSlot_Type
1267:System/storage/Storage.c ****                 }
1268:System/storage/Storage.c **** 
1269:System/storage/Storage.c ****                 p_Sec->free_space_size -= DataSlot.cur_slot_size;
1270:System/storage/Storage.c **** 
1271:System/storage/Storage.c ****                 /* write to the data section */
1272:System/storage/Storage.c ****                 /* storage target data */
1273:System/storage/Storage.c ****                 slot_update_ptr = page_data_tmp;
1274:System/storage/Storage.c ****                 memcpy(slot_update_ptr, &DataSlot.head_tag, sizeof(DataSlot.head_tag));
1275:System/storage/Storage.c ****                 slot_update_ptr += sizeof(DataSlot.head_tag);
1276:System/storage/Storage.c ****                 memcpy(slot_update_ptr, DataSlot.name, STORAGE_NAME_LEN);
1277:System/storage/Storage.c ****                 slot_update_ptr += STORAGE_NAME_LEN;
1278:System/storage/Storage.c ****                 memcpy(slot_update_ptr, &DataSlot.total_data_size, sizeof(DataSlot.total_data_size)
1279:System/storage/Storage.c ****                 slot_update_ptr += sizeof(DataSlot.total_data_size);
1280:System/storage/Storage.c ****                 memcpy(slot_update_ptr, &DataSlot.cur_slot_size, sizeof(DataSlot.cur_slot_size));
1281:System/storage/Storage.c ****                 slot_update_ptr += sizeof(DataSlot.cur_slot_size);
1282:System/storage/Storage.c ****                 memcpy(slot_update_ptr, &DataSlot.nxt_addr, sizeof(DataSlot.nxt_addr));
1283:System/storage/Storage.c ****                 slot_update_ptr += sizeof(DataSlot.nxt_addr);
1284:System/storage/Storage.c ****                 memcpy(slot_update_ptr, &DataSlot.align_size, sizeof(DataSlot.align_size));
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 24


1285:System/storage/Storage.c ****                 slot_update_ptr += sizeof(DataSlot.align_size);
1286:System/storage/Storage.c ****                 crc_buf = slot_update_ptr;
1287:System/storage/Storage.c ****                 memcpy(slot_update_ptr, p_data, (DataSlot.cur_slot_size - DataSlot.align_size));
1288:System/storage/Storage.c ****                 slot_update_ptr += (DataSlot.cur_slot_size - DataSlot.align_size);
1289:System/storage/Storage.c ****                 
1290:System/storage/Storage.c ****                 if (DataSlot.align_size)
1291:System/storage/Storage.c ****                     memset(slot_update_ptr, 0, DataSlot.align_size);
1292:System/storage/Storage.c ****                 
1293:System/storage/Storage.c ****                 slot_update_ptr += DataSlot.align_size;
1294:System/storage/Storage.c **** 
1295:System/storage/Storage.c ****                 /* comput current slot crc */
1296:System/storage/Storage.c ****                 DataSlot.slot_crc = Common_CRC16(crc_buf, DataSlot.cur_slot_size);
1297:System/storage/Storage.c ****                 memcpy(slot_update_ptr, &DataSlot.slot_crc, sizeof(DataSlot.slot_crc));
1298:System/storage/Storage.c ****                 slot_update_ptr += sizeof(DataSlot.slot_crc);
1299:System/storage/Storage.c ****                 memcpy(slot_update_ptr, &DataSlot.end_tag, sizeof(DataSlot.end_tag));
1300:System/storage/Storage.c ****                 slot_update_ptr += sizeof(DataSlot.end_tag);
1301:System/storage/Storage.c **** 
1302:System/storage/Storage.c ****                 /* step 3: store data to data section */
1303:System/storage/Storage.c ****                 if (!Storage_ExtFlash_ParaSec_Write(store_addr, page_data_tmp, (DataSlot.cur_slot_s
1304:System/storage/Storage.c ****                     return Storage_Write_Error;
1305:System/storage/Storage.c **** 
1306:System/storage/Storage.c ****                 if (DataSlot.nxt_addr == 0)
1307:System/storage/Storage.c ****                 {
1308:System/storage/Storage.c ****                     if (DataSlot.total_data_size == stored_size)
1309:System/storage/Storage.c ****                     {
1310:System/storage/Storage.c ****                         /* step 4: update free slot */
1311:System/storage/Storage.c ****                         if (!Storage_ExtFlash_ParaSec_Write(cur_freeslot_addr, (uint8_t *)&FreeSlot
1312:System/storage/Storage.c ****                             return Storage_Write_Error;
1313:System/storage/Storage.c **** 
1314:System/storage/Storage.c ****                         break;
1315:System/storage/Storage.c ****                     }
1316:System/storage/Storage.c **** 
1317:System/storage/Storage.c ****                     return Storage_No_Enough_Space;
1318:System/storage/Storage.c ****                 }
1319:System/storage/Storage.c ****                 else
1320:System/storage/Storage.c ****                 {
1321:System/storage/Storage.c ****                     /* after target data segment stored, shift target data pointer to unstored pos
1322:System/storage/Storage.c ****                         * and update next segment data store address */
1323:System/storage/Storage.c ****                     stored_size += slot_useful_size;
1324:System/storage/Storage.c ****                     store_addr = DataSlot.nxt_addr;
1325:System/storage/Storage.c ****                 }
1326:System/storage/Storage.c ****             }
1327:System/storage/Storage.c ****         }
1328:System/storage/Storage.c **** 
1329:System/storage/Storage.c ****         /* get tab */
1330:System/storage/Storage.c ****         if (!Storage_ExtFlash_ParaSec_Read(storage_tab_addr, page_data_tmp, (p_Sec->tab_size / p_Se
1331:System/storage/Storage.c ****             return Storage_Read_Error;
1332:System/storage/Storage.c **** 
1333:System/storage/Storage.c ****         tab_item = (Storage_Item_TypeDef *)page_data_tmp;
1334:System/storage/Storage.c ****         tab_item[item_index] = crt_item_slot;
1335:System/storage/Storage.c **** 
1336:System/storage/Storage.c ****         /* write back item slot list to tab */
1337:System/storage/Storage.c ****         if (!Storage_ExtFlash_ParaSec_Write(storage_tab_addr, page_data_tmp, (p_Sec->tab_size / p_S
1338:System/storage/Storage.c ****             return Storage_Write_Error;
1339:System/storage/Storage.c **** 
1340:System/storage/Storage.c ****         /* update free slot address in base info */
1341:System/storage/Storage.c ****         p_Sec->free_slot_addr = cur_freeslot_addr;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 25


1342:System/storage/Storage.c **** 
1343:System/storage/Storage.c ****         /* update base info crc */
1344:System/storage/Storage.c ****         memcpy(page_data_tmp, p_Flash, sizeof(Storage_FlashInfo_TypeDef));
1345:System/storage/Storage.c ****         base_info_crc = Common_CRC16(page_data_tmp, Storage_InfoPageSize - sizeof(base_info_crc));
1346:System/storage/Storage.c ****         memcpy(&page_data_tmp[Storage_InfoPageSize - sizeof(base_info_crc)], &base_info_crc, sizeof
1347:System/storage/Storage.c ****         
1348:System/storage/Storage.c ****         /* update base info from section start*/
1349:System/storage/Storage.c ****         if (!Storage_ExtFlash_ParaSec_Write(From_Start_Address, page_data_tmp, Storage_InfoPageSize
1350:System/storage/Storage.c ****             return Storage_Write_Error;
1351:System/storage/Storage.c ****     }
1352:System/storage/Storage.c **** 
1353:System/storage/Storage.c ****     return Storage_Error_None;
1354:System/storage/Storage.c **** }
1355:System/storage/Storage.c **** 
1356:System/storage/Storage.c **** static bool Storage_Establish_Tab(Storage_ParaClassType_List class)
1357:System/storage/Storage.c **** {
1358:System/storage/Storage.c ****     Storage_FlashInfo_TypeDef *p_Flash = NULL;
1359:System/storage/Storage.c ****     Storage_BaseSecInfo_TypeDef *p_SecInfo = NULL;
1360:System/storage/Storage.c ****     uint16_t clear_cnt = 0;
1361:System/storage/Storage.c ****     uint32_t clear_byte = 0;
1362:System/storage/Storage.c ****     uint32_t clear_remain = 0;
1363:System/storage/Storage.c ****     uint32_t addr_tmp = 0;
1364:System/storage/Storage.c ****     Storage_FreeSlot_TypeDef free_slot;
1365:System/storage/Storage.c ****     uint16_t crc = 0;
1366:System/storage/Storage.c **** 
1367:System/storage/Storage.c ****     p_Flash = &Storage_Monitor.external_info;
1368:System/storage/Storage.c ****     p_SecInfo = Storage_Get_SecInfo(p_Flash, class);
1369:System/storage/Storage.c ****     if (p_SecInfo == NULL)
1370:System/storage/Storage.c ****         return false;
1371:System/storage/Storage.c **** 
1372:System/storage/Storage.c ****     if (p_SecInfo->tab_addr && Storage_Clear_Tab(p_SecInfo->tab_addr, p_SecInfo->page_num))
1373:System/storage/Storage.c ****     {
1374:System/storage/Storage.c ****         /* clear boot data section */
1375:System/storage/Storage.c ****         if (p_SecInfo->data_sec_addr == 0)
1376:System/storage/Storage.c ****             return false;
1377:System/storage/Storage.c **** 
1378:System/storage/Storage.c ****         /* write 0 to data section */
1379:System/storage/Storage.c ****         memset(page_data_tmp, 0, Storage_TabSize);
1380:System/storage/Storage.c ****         clear_cnt = p_SecInfo->data_sec_size / Storage_TabSize;
1381:System/storage/Storage.c ****         clear_remain = p_SecInfo->data_sec_size;
1382:System/storage/Storage.c ****         addr_tmp = p_SecInfo->data_sec_addr;
1383:System/storage/Storage.c ****         clear_byte = Storage_TabSize;
1384:System/storage/Storage.c ****         if (p_SecInfo->data_sec_size % Storage_TabSize)
1385:System/storage/Storage.c ****             clear_cnt ++;
1386:System/storage/Storage.c ****  
1387:System/storage/Storage.c ****         for(uint16_t i = 0; i < clear_cnt; i++)
1388:System/storage/Storage.c ****         {
1389:System/storage/Storage.c ****             if (!Storage_ExtFlash_ParaSec_Write(addr_tmp, page_data_tmp, clear_byte))
1390:System/storage/Storage.c ****                 return false;
1391:System/storage/Storage.c **** 
1392:System/storage/Storage.c ****             addr_tmp += Storage_TabSize;
1393:System/storage/Storage.c ****             clear_remain -= clear_byte;
1394:System/storage/Storage.c ****             if (clear_remain && clear_remain <= clear_byte)
1395:System/storage/Storage.c ****                 clear_byte = clear_remain;
1396:System/storage/Storage.c ****         }
1397:System/storage/Storage.c **** 
1398:System/storage/Storage.c ****         /* write free slot info */
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 26


1399:System/storage/Storage.c ****         memset(&free_slot, 0, sizeof(free_slot));
1400:System/storage/Storage.c ****         free_slot.head_tag = STORAGE_SLOT_HEAD_TAG;
1401:System/storage/Storage.c ****         free_slot.cur_slot_size = p_SecInfo->data_sec_size - sizeof(free_slot);
1402:System/storage/Storage.c ****         free_slot.nxt_addr = 0;
1403:System/storage/Storage.c ****         /* if current free slot get enought space for data then set next address (nxt_addr) as 0 */
1404:System/storage/Storage.c ****         /* or else setnext address (nxt_addr) as next slot address such as 0x80exxxx. */
1405:System/storage/Storage.c ****         /* until all data was saved into multiple flash segment completely */
1406:System/storage/Storage.c ****         /* set ender tag as 0xFE1001FE */
1407:System/storage/Storage.c ****         free_slot.end_tag = STORAGE_SLOT_END_TAG;
1408:System/storage/Storage.c ****         
1409:System/storage/Storage.c ****         memcpy(page_data_tmp, &free_slot, sizeof(free_slot));
1410:System/storage/Storage.c ****         if (!Storage_ExtFlash_ParaSec_Write(p_SecInfo->data_sec_addr, page_data_tmp, Storage_TabSiz
1411:System/storage/Storage.c ****             return false;
1412:System/storage/Storage.c **** 
1413:System/storage/Storage.c ****         /* update info section */
1414:System/storage/Storage.c ****         p_SecInfo->free_slot_addr = p_SecInfo->data_sec_addr;
1415:System/storage/Storage.c ****         p_SecInfo->free_space_size = p_SecInfo->data_sec_size;
1416:System/storage/Storage.c ****         p_SecInfo->para_num = 0;
1417:System/storage/Storage.c ****         p_SecInfo->para_size = 0;
1418:System/storage/Storage.c **** 
1419:System/storage/Storage.c ****         /* read out whole section info data from storage info section */
1420:System/storage/Storage.c ****         if (!Storage_ExtFlash_ParaSec_Read(From_Start_Address, page_data_tmp, Storage_TabSize))
1421:System/storage/Storage.c ****             return false;
1422:System/storage/Storage.c **** 
1423:System/storage/Storage.c ****         memset(page_data_tmp, 0, Storage_InfoPageSize);
1424:System/storage/Storage.c ****         memcpy(page_data_tmp, p_Flash, sizeof(Storage_FlashInfo_TypeDef));
1425:System/storage/Storage.c **** 
1426:System/storage/Storage.c ****         /* comput crc */
1427:System/storage/Storage.c ****         crc = Common_CRC16(page_data_tmp, Storage_InfoPageSize - sizeof(crc));
1428:System/storage/Storage.c ****         memcpy(&page_data_tmp[Storage_InfoPageSize - sizeof(crc)], &crc, sizeof(crc));
1429:System/storage/Storage.c **** 
1430:System/storage/Storage.c ****         /* erase sector first then write into the target sector */
1431:System/storage/Storage.c ****         if (!Storage_ExtFlash_ParaSec_Write(From_Start_Address, page_data_tmp, Storage_TabSize))
1432:System/storage/Storage.c ****             return false;
1433:System/storage/Storage.c **** 
1434:System/storage/Storage.c ****         return true;
1435:System/storage/Storage.c ****     }
1436:System/storage/Storage.c **** 
1437:System/storage/Storage.c ****     return false;
1438:System/storage/Storage.c **** }
1439:System/storage/Storage.c **** 
1440:System/storage/Storage.c **** static bool Storage_Build_StorageInfo(void)
1441:System/storage/Storage.c **** {
1442:System/storage/Storage.c ****     uint32_t page_num = 0;
1443:System/storage/Storage.c ****     Storage_FlashInfo_TypeDef Info;
1444:System/storage/Storage.c ****     Storage_FlashInfo_TypeDef Info_Rx;
1445:System/storage/Storage.c ****     uint32_t addr_offset = 0;
1446:System/storage/Storage.c ****     uint32_t BaseInfo_start_addr = 0;
1447:System/storage/Storage.c ****     uint32_t tab_addr_offset = 0;
1448:System/storage/Storage.c ****     uint16_t crc = 0;
1449:System/storage/Storage.c ****     uint32_t remain_data_sec_size = 0;
1450:System/storage/Storage.c ****     uint32_t data_sec_size = 0;
1451:System/storage/Storage.c **** 
1452:System/storage/Storage.c ****     memset(&Info, 0, sizeof(Storage_FlashInfo_TypeDef));
1453:System/storage/Storage.c ****     memset(&Info_Rx, 0, sizeof(Storage_FlashInfo_TypeDef));
1454:System/storage/Storage.c ****     memcpy(Info.tag, EXTERNAL_STORAGE_PAGE_TAG, EXTERNAL_PAGE_TAG_SIZE);
1455:System/storage/Storage.c **** 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 27


1456:System/storage/Storage.c ****     Info.total_size = ExtFlash_Storage_TotalSize;
1457:System/storage/Storage.c ****     Info.base_addr = Storage_Monitor.external_info.base_addr;
1458:System/storage/Storage.c ****     
1459:System/storage/Storage.c ****     BaseInfo_start_addr = Info.base_addr;
1460:System/storage/Storage.c ****     page_num = Storage_ExtFlash_Max_Capacity / (ExtFlash_Storage_TabSize / StorageItem_Size);
1461:System/storage/Storage.c ****     if (page_num == 0)
1462:System/storage/Storage.c ****         return false;
1463:System/storage/Storage.c ****     
1464:System/storage/Storage.c ****     Info.boot_sec.tab_addr = Storage_InfoPageSize;
1465:System/storage/Storage.c ****     Info.boot_sec.tab_size = BootSection_Block_Size * BootTab_Num;
1466:System/storage/Storage.c ****     Info.boot_sec.page_num = BootTab_Num;
1467:System/storage/Storage.c ****     Info.boot_sec.data_sec_size = ExternalFlash_BootDataSec_Size;
1468:System/storage/Storage.c ****     Info.boot_sec.para_size = 0;
1469:System/storage/Storage.c ****     Info.boot_sec.para_num = 0;
1470:System/storage/Storage.c ****     tab_addr_offset = (Info.boot_sec.tab_addr + Info.boot_sec.tab_size) + Storage_ReserveBlock_Size
1471:System/storage/Storage.c **** 
1472:System/storage/Storage.c ****     Info.sys_sec.tab_addr = tab_addr_offset;
1473:System/storage/Storage.c ****     Info.sys_sec.tab_size = page_num * ExtFlash_Storage_TabSize;
1474:System/storage/Storage.c ****     Info.sys_sec.data_sec_size = ExternalFlash_SysDataSec_Size;
1475:System/storage/Storage.c ****     Info.sys_sec.page_num = page_num;
1476:System/storage/Storage.c ****     Info.sys_sec.para_size = 0;
1477:System/storage/Storage.c ****     Info.sys_sec.para_num = 0;
1478:System/storage/Storage.c ****     tab_addr_offset += Info.sys_sec.tab_size + Storage_ReserveBlock_Size;
1479:System/storage/Storage.c ****         
1480:System/storage/Storage.c ****     Info.user_sec.tab_addr = tab_addr_offset;
1481:System/storage/Storage.c ****     Info.user_sec.tab_size = page_num * ExtFlash_Storage_TabSize;
1482:System/storage/Storage.c ****     Info.user_sec.data_sec_size = ExternalFlash_UserDataSec_Size;
1483:System/storage/Storage.c ****     Info.user_sec.page_num = page_num;
1484:System/storage/Storage.c ****     Info.user_sec.para_size = 0;
1485:System/storage/Storage.c ****     Info.user_sec.para_num = 0;
1486:System/storage/Storage.c ****     tab_addr_offset += Info.user_sec.tab_size + Storage_ReserveBlock_Size;
1487:System/storage/Storage.c ****     
1488:System/storage/Storage.c ****     /* get the remaining size of rom space has left */
1489:System/storage/Storage.c ****     if (Info.total_size < tab_addr_offset)
1490:System/storage/Storage.c ****         return false;
1491:System/storage/Storage.c ****     
1492:System/storage/Storage.c ****     remain_data_sec_size = Info.total_size - tab_addr_offset;
1493:System/storage/Storage.c ****     data_sec_size += Info.boot_sec.data_sec_size + Storage_ReserveBlock_Size;
1494:System/storage/Storage.c ****     data_sec_size += Info.sys_sec.data_sec_size + Storage_ReserveBlock_Size;
1495:System/storage/Storage.c ****     data_sec_size += Info.user_sec.data_sec_size + Storage_ReserveBlock_Size;
1496:System/storage/Storage.c **** 
1497:System/storage/Storage.c ****     if (remain_data_sec_size < data_sec_size)
1498:System/storage/Storage.c ****         return false;
1499:System/storage/Storage.c ****         
1500:System/storage/Storage.c ****     Info.remain_size = remain_data_sec_size - data_sec_size;
1501:System/storage/Storage.c ****     Info.data_sec_size = Info.boot_sec.data_sec_size + Info.sys_sec.data_sec_size + Info.user_sec.d
1502:System/storage/Storage.c **** 
1503:System/storage/Storage.c ****     /* get data sec addr */
1504:System/storage/Storage.c ****     Info.boot_sec.data_sec_addr = tab_addr_offset;
1505:System/storage/Storage.c ****     tab_addr_offset += ExternalFlash_BootDataSec_Size;
1506:System/storage/Storage.c ****     tab_addr_offset += Storage_ReserveBlock_Size;
1507:System/storage/Storage.c **** 
1508:System/storage/Storage.c ****     Info.sys_sec.data_sec_addr = tab_addr_offset;
1509:System/storage/Storage.c ****     tab_addr_offset += ExternalFlash_SysDataSec_Size;
1510:System/storage/Storage.c ****     tab_addr_offset += Storage_ReserveBlock_Size;
1511:System/storage/Storage.c **** 
1512:System/storage/Storage.c ****     Info.user_sec.data_sec_addr = tab_addr_offset;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 28


1513:System/storage/Storage.c ****     tab_addr_offset += ExternalFlash_UserDataSec_Size;
1514:System/storage/Storage.c ****     tab_addr_offset += Storage_ReserveBlock_Size;
1515:System/storage/Storage.c **** 
1516:System/storage/Storage.c ****     Storage_Monitor.external_info = Info;
1517:System/storage/Storage.c ****     addr_offset = BaseInfo_start_addr - Storage_Monitor.external_info.base_addr;
1518:System/storage/Storage.c **** 
1519:System/storage/Storage.c ****     /* write 0 to info section */
1520:System/storage/Storage.c ****     memset(page_data_tmp, 0, Storage_InfoPageSize);
1521:System/storage/Storage.c **** 
1522:System/storage/Storage.c ****     /* read out and erase sector */
1523:System/storage/Storage.c ****     if (!Storage_ExtFlash_ParaSec_Read(addr_offset, page_data_tmp, sizeof(Info)))
1524:System/storage/Storage.c ****         return false;
1525:System/storage/Storage.c **** 
1526:System/storage/Storage.c ****     /* write base info to info section */
1527:System/storage/Storage.c ****     memcpy(page_data_tmp, &Info, sizeof(Info));
1528:System/storage/Storage.c ****     crc = Common_CRC16(page_data_tmp, Storage_InfoPageSize - sizeof(crc));
1529:System/storage/Storage.c ****     memcpy(&page_data_tmp[Storage_InfoPageSize - sizeof(crc)], &crc, sizeof(crc));
1530:System/storage/Storage.c **** 
1531:System/storage/Storage.c ****     /* write into flash chip */
1532:System/storage/Storage.c ****     if (!Storage_ExtFlash_ParaSec_Write(addr_offset, page_data_tmp, Storage_InfoPageSize))
1533:System/storage/Storage.c ****         return false;
1534:System/storage/Storage.c **** 
1535:System/storage/Storage.c ****     /* read out again */
1536:System/storage/Storage.c ****     if (!Storage_ExtFlash_ParaSec_Read(addr_offset, page_data_tmp, sizeof(Info)))
1537:System/storage/Storage.c ****         return false;
1538:System/storage/Storage.c **** 
1539:System/storage/Storage.c ****     /* compare with target */
1540:System/storage/Storage.c ****     memcpy(&Info_Rx, page_data_tmp, sizeof(Info_Rx));
1541:System/storage/Storage.c ****     if (memcmp(&Info_Rx, &Info, sizeof(Storage_FlashInfo_TypeDef)) != 0)
1542:System/storage/Storage.c ****         return false;
1543:System/storage/Storage.c **** 
1544:System/storage/Storage.c ****     if (!Storage_Establish_Tab(Para_Boot) || \
1545:System/storage/Storage.c ****         !Storage_Establish_Tab(Para_Sys)  || \
1546:System/storage/Storage.c ****         !Storage_Establish_Tab(Para_User))
1547:System/storage/Storage.c ****         return false;
1548:System/storage/Storage.c **** 
1549:System/storage/Storage.c ****     return true;
1550:System/storage/Storage.c **** }
1551:System/storage/Storage.c **** 
1552:System/storage/Storage.c **** static bool Storage_Compare_ItemSlot_CRC(const Storage_Item_TypeDef item)
1553:System/storage/Storage.c **** {
1554:System/storage/Storage.c ****     uint8_t *crc_buf = (uint8_t *)&item;
1555:System/storage/Storage.c ****     uint16_t crc_len = sizeof(Storage_Item_TypeDef);
1556:System/storage/Storage.c ****     uint16_t crc = 0;
1557:System/storage/Storage.c ****     
1558:System/storage/Storage.c ****     crc_buf += sizeof(item.head_tag);
1559:System/storage/Storage.c ****     crc_len -= sizeof(item.head_tag);
1560:System/storage/Storage.c ****     crc_len -= sizeof(item.end_tag);
1561:System/storage/Storage.c ****     crc_len -= sizeof(item.crc16);
1562:System/storage/Storage.c ****     crc = Common_CRC16(crc_buf, crc_len);
1563:System/storage/Storage.c **** 
1564:System/storage/Storage.c ****     if (crc == item.crc16)
1565:System/storage/Storage.c ****         return true;
1566:System/storage/Storage.c **** 
1567:System/storage/Storage.c ****     return false;
1568:System/storage/Storage.c **** }
1569:System/storage/Storage.c **** 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 29


1570:System/storage/Storage.c **** static bool Storage_Comput_ItemSlot_CRC(Storage_Item_TypeDef *p_item)
1571:System/storage/Storage.c **** {
1572:System/storage/Storage.c ****     uint8_t *crc_buf = NULL;
1573:System/storage/Storage.c ****     uint16_t crc_len = sizeof(Storage_Item_TypeDef);
1574:System/storage/Storage.c ****     
1575:System/storage/Storage.c ****     if (p_item)
1576:System/storage/Storage.c ****     {
1577:System/storage/Storage.c ****         crc_buf = ((uint8_t *)p_item) + sizeof(p_item->head_tag);
1578:System/storage/Storage.c ****         crc_len -= sizeof(p_item->head_tag);
1579:System/storage/Storage.c ****         crc_len -= sizeof(p_item->end_tag);
1580:System/storage/Storage.c ****         crc_len -= sizeof(p_item->crc16);
1581:System/storage/Storage.c ****         p_item->crc16 = Common_CRC16(crc_buf, crc_len);
1582:System/storage/Storage.c **** 
1583:System/storage/Storage.c ****         return true;
1584:System/storage/Storage.c ****     }
1585:System/storage/Storage.c **** 
1586:System/storage/Storage.c ****     return false;
1587:System/storage/Storage.c **** }
1588:System/storage/Storage.c **** 
1589:System/storage/Storage.c **** static Storage_BaseSecInfo_TypeDef* Storage_Get_SecInfo(Storage_FlashInfo_TypeDef *info, Storage_Pa
1590:System/storage/Storage.c **** {
  29              		.loc 1 1590 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
1591:System/storage/Storage.c ****     if (info)
  34              		.loc 1 1591 5 view .LVU1
  35              		.loc 1 1591 8 is_stmt 0 view .LVU2
  36 0000 60B1     		cbz	r0, .L5
1592:System/storage/Storage.c ****     {
1593:System/storage/Storage.c ****         switch(class)
  37              		.loc 1 1593 9 is_stmt 1 view .LVU3
  38 0002 0129     		cmp	r1, #1
  39 0004 06D0     		beq	.L3
  40 0006 0229     		cmp	r1, #2
  41 0008 06D0     		beq	.L4
  42 000a 09B1     		cbz	r1, .L7
  43 000c 0020     		movs	r0, #0
  44              	.LVL1:
1594:System/storage/Storage.c ****         {
1595:System/storage/Storage.c ****             case Para_Boot: return &(info->boot_sec);
1596:System/storage/Storage.c ****             case Para_Sys:  return &(info->sys_sec);
1597:System/storage/Storage.c ****             case Para_User: return &(info->user_sec);
1598:System/storage/Storage.c ****             default:        return NULL;
1599:System/storage/Storage.c ****         }
1600:System/storage/Storage.c ****     }
1601:System/storage/Storage.c **** 
1602:System/storage/Storage.c ****     return NULL;
1603:System/storage/Storage.c **** }
  45              		.loc 1 1603 1 is_stmt 0 view .LVU4
  46 000e 7047     		bx	lr
  47              	.LVL2:
  48              	.L7:
1595:System/storage/Storage.c ****             case Para_Sys:  return &(info->sys_sec);
  49              		.loc 1 1595 29 is_stmt 1 view .LVU5
1595:System/storage/Storage.c ****             case Para_Sys:  return &(info->sys_sec);
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 30


  50              		.loc 1 1595 36 is_stmt 0 view .LVU6
  51 0010 3030     		adds	r0, r0, #48
  52              	.LVL3:
1595:System/storage/Storage.c ****             case Para_Sys:  return &(info->sys_sec);
  53              		.loc 1 1595 36 view .LVU7
  54 0012 7047     		bx	lr
  55              	.LVL4:
  56              	.L3:
1596:System/storage/Storage.c ****             case Para_User: return &(info->user_sec);
  57              		.loc 1 1596 29 is_stmt 1 view .LVU8
1596:System/storage/Storage.c ****             case Para_User: return &(info->user_sec);
  58              		.loc 1 1596 36 is_stmt 0 view .LVU9
  59 0014 5430     		adds	r0, r0, #84
  60              	.LVL5:
1596:System/storage/Storage.c ****             case Para_User: return &(info->user_sec);
  61              		.loc 1 1596 36 view .LVU10
  62 0016 7047     		bx	lr
  63              	.LVL6:
  64              	.L4:
1597:System/storage/Storage.c ****             default:        return NULL;
  65              		.loc 1 1597 29 is_stmt 1 view .LVU11
1597:System/storage/Storage.c ****             default:        return NULL;
  66              		.loc 1 1597 36 is_stmt 0 view .LVU12
  67 0018 7830     		adds	r0, r0, #120
  68              	.LVL7:
1597:System/storage/Storage.c ****             default:        return NULL;
  69              		.loc 1 1597 36 view .LVU13
  70 001a 7047     		bx	lr
  71              	.LVL8:
  72              	.L5:
1597:System/storage/Storage.c ****             default:        return NULL;
  73              		.loc 1 1597 36 view .LVU14
  74 001c 7047     		bx	lr
  75              		.cfi_endproc
  76              	.LFE168:
  78              		.section	.text.Storage_Erase_Section,"ax",%progbits
  79              		.align	1
  80              		.syntax unified
  81              		.thumb
  82              		.thumb_func
  84              	Storage_Erase_Section:
  85              	.LVL9:
  86              	.LFB171:
1604:System/storage/Storage.c **** 
1605:System/storage/Storage.c **** /********************************************** BlackBox Storage API Section **********************
1606:System/storage/Storage.c **** static bool Storage_Write_Section(uint32_t addr, uint8_t *p_data, uint16_t len)
1607:System/storage/Storage.c **** {
1608:System/storage/Storage.c ****     uint32_t write_cnt = 0;
1609:System/storage/Storage.c ****     uint32_t addr_tmp = 0;
1610:System/storage/Storage.c ****     StorageDevObj_TypeDef *p_dev = NULL;
1611:System/storage/Storage.c **** 
1612:System/storage/Storage.c ****     p_dev = (StorageDevObj_TypeDef *)Storage_Monitor.ExtDev_ptr;
1613:System/storage/Storage.c ****     if (addr && p_data && len && p_dev && p_dev->api && p_dev->obj)
1614:System/storage/Storage.c ****     {
1615:System/storage/Storage.c ****         if ((addr % p_dev->sector_size) || \
1616:System/storage/Storage.c ****             (len % p_dev->sector_size))
1617:System/storage/Storage.c ****             return false;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 31


1618:System/storage/Storage.c **** 
1619:System/storage/Storage.c ****         write_cnt = len / p_dev->sector_size;
1620:System/storage/Storage.c ****         addr_tmp = addr;
1621:System/storage/Storage.c **** 
1622:System/storage/Storage.c ****         for (uint8_t i = 0; i < write_cnt; i ++)
1623:System/storage/Storage.c ****         {
1624:System/storage/Storage.c ****             switch((uint8_t)p_dev->chip_type)
1625:System/storage/Storage.c ****             {
1626:System/storage/Storage.c ****                 case Storage_ChipType_W25Qxx:
1627:System/storage/Storage.c ****                     /* erase sector */
1628:System/storage/Storage.c ****                     if (To_DevW25Qxx_API(p_dev->api)->erase_sector(To_DevW25Qxx_OBJ(p_dev->obj), ad
1629:System/storage/Storage.c ****                     {
1630:System/storage/Storage.c ****                         STORAGE_INFO("section erase failed\r\n");
1631:System/storage/Storage.c ****                         return false;
1632:System/storage/Storage.c ****                     }
1633:System/storage/Storage.c **** 
1634:System/storage/Storage.c ****                     /* update sector */
1635:System/storage/Storage.c ****                     if (To_DevW25Qxx_API(p_dev->api)->write(To_DevW25Qxx_OBJ(p_dev->obj), addr_tmp,
1636:System/storage/Storage.c ****                     {
1637:System/storage/Storage.c ****                         STORAGE_INFO("section write failed\r\n");
1638:System/storage/Storage.c ****                         return false;
1639:System/storage/Storage.c ****                     }
1640:System/storage/Storage.c ****                     break;
1641:System/storage/Storage.c **** 
1642:System/storage/Storage.c ****                 default: return false;
1643:System/storage/Storage.c ****             }
1644:System/storage/Storage.c **** 
1645:System/storage/Storage.c ****             addr_tmp += p_dev->sector_size;
1646:System/storage/Storage.c ****         }
1647:System/storage/Storage.c **** 
1648:System/storage/Storage.c ****         return true;
1649:System/storage/Storage.c ****     }
1650:System/storage/Storage.c **** 
1651:System/storage/Storage.c ****     return false;
1652:System/storage/Storage.c **** }
1653:System/storage/Storage.c **** 
1654:System/storage/Storage.c **** static bool Storage_Read_Section(uint32_t addr, uint8_t *p_data, uint16_t len)
1655:System/storage/Storage.c **** {
1656:System/storage/Storage.c ****     uint32_t read_cnt = 0;
1657:System/storage/Storage.c ****     uint32_t addr_tmp = 0;
1658:System/storage/Storage.c ****     StorageDevObj_TypeDef *p_dev = NULL;
1659:System/storage/Storage.c **** 
1660:System/storage/Storage.c ****     p_dev = (StorageDevObj_TypeDef *)Storage_Monitor.ExtDev_ptr;
1661:System/storage/Storage.c ****     if (addr && p_data && len && p_dev && p_dev->api && p_dev->obj)
1662:System/storage/Storage.c ****     {
1663:System/storage/Storage.c ****         if ((addr % p_dev->sector_size) || \
1664:System/storage/Storage.c ****             (len % p_dev->sector_size))
1665:System/storage/Storage.c ****             return false;
1666:System/storage/Storage.c ****     
1667:System/storage/Storage.c ****         read_cnt = len / p_dev->sector_size;
1668:System/storage/Storage.c ****         addr_tmp = addr;
1669:System/storage/Storage.c **** 
1670:System/storage/Storage.c ****         for (uint8_t i = 0; i < read_cnt; i++)
1671:System/storage/Storage.c ****         {
1672:System/storage/Storage.c ****             switch((uint8_t)p_dev->chip_type)
1673:System/storage/Storage.c ****             {
1674:System/storage/Storage.c ****                 case Storage_ChipType_W25Qxx:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 32


1675:System/storage/Storage.c ****                     /* read sector */
1676:System/storage/Storage.c ****                     if (To_DevW25Qxx_API(p_dev->api)->read(To_DevW25Qxx_OBJ(p_dev->obj), addr_tmp, 
1677:System/storage/Storage.c ****                     {
1678:System/storage/Storage.c ****                         STORAGE_INFO("section read failed\r\n");
1679:System/storage/Storage.c ****                         memset(p_data, 0, len);
1680:System/storage/Storage.c ****                         return false;
1681:System/storage/Storage.c ****                     }
1682:System/storage/Storage.c ****                     break;
1683:System/storage/Storage.c **** 
1684:System/storage/Storage.c ****                 default: return false;
1685:System/storage/Storage.c ****             }
1686:System/storage/Storage.c **** 
1687:System/storage/Storage.c ****             addr_tmp += p_dev->sector_size;
1688:System/storage/Storage.c ****         }
1689:System/storage/Storage.c **** 
1690:System/storage/Storage.c ****         return true;
1691:System/storage/Storage.c ****     }
1692:System/storage/Storage.c **** 
1693:System/storage/Storage.c ****     return false;
1694:System/storage/Storage.c **** }
1695:System/storage/Storage.c **** 
1696:System/storage/Storage.c **** static bool Storage_Erase_Section(uint32_t addr, uint16_t len)
1697:System/storage/Storage.c **** {
  87              		.loc 1 1697 1 is_stmt 1 view -0
  88              		.cfi_startproc
  89              		@ args = 0, pretend = 0, frame = 0
  90              		@ frame_needed = 0, uses_anonymous_args = 0
  91              		.loc 1 1697 1 is_stmt 0 view .LVU16
  92 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
  93              	.LCFI0:
  94              		.cfi_def_cfa_offset 24
  95              		.cfi_offset 3, -24
  96              		.cfi_offset 4, -20
  97              		.cfi_offset 5, -16
  98              		.cfi_offset 6, -12
  99              		.cfi_offset 7, -8
 100              		.cfi_offset 14, -4
1698:System/storage/Storage.c ****     uint32_t erase_cnt = 0;
 101              		.loc 1 1698 5 is_stmt 1 view .LVU17
 102              	.LVL10:
1699:System/storage/Storage.c ****     uint32_t addr_tmp = 0;
 103              		.loc 1 1699 5 view .LVU18
1700:System/storage/Storage.c ****     StorageDevObj_TypeDef *p_dev = NULL;
 104              		.loc 1 1700 5 view .LVU19
1701:System/storage/Storage.c **** 
1702:System/storage/Storage.c ****     p_dev = (StorageDevObj_TypeDef *)Storage_Monitor.ExtDev_ptr;
 105              		.loc 1 1702 5 view .LVU20
 106              		.loc 1 1702 11 is_stmt 0 view .LVU21
 107 0002 1E4B     		ldr	r3, .L23
 108 0004 9D68     		ldr	r5, [r3, #8]
 109              	.LVL11:
1703:System/storage/Storage.c ****     if (addr && len && p_dev && p_dev->api && p_dev->obj)
 110              		.loc 1 1703 5 is_stmt 1 view .LVU22
 111              		.loc 1 1703 8 is_stmt 0 view .LVU23
 112 0006 30B3     		cbz	r0, .L12
 113 0008 0646     		mov	r6, r0
 114              		.loc 1 1703 14 discriminator 1 view .LVU24
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 33


 115 000a 31B3     		cbz	r1, .L13
 116              		.loc 1 1703 21 discriminator 2 view .LVU25
 117 000c 3DB3     		cbz	r5, .L14
 118              		.loc 1 1703 38 discriminator 3 view .LVU26
 119 000e 2B6B     		ldr	r3, [r5, #48]
 120              		.loc 1 1703 30 discriminator 3 view .LVU27
 121 0010 3BB3     		cbz	r3, .L15
 122              		.loc 1 1703 52 discriminator 4 view .LVU28
 123 0012 EB6A     		ldr	r3, [r5, #44]
 124              		.loc 1 1703 44 discriminator 4 view .LVU29
 125 0014 3BB3     		cbz	r3, .L16
1704:System/storage/Storage.c ****     {
1705:System/storage/Storage.c ****         if ((addr % p_dev->sector_size) || \
 126              		.loc 1 1705 9 is_stmt 1 view .LVU30
 127              		.loc 1 1705 26 is_stmt 0 view .LVU31
 128 0016 AC6A     		ldr	r4, [r5, #40]
 129              		.loc 1 1705 19 view .LVU32
 130 0018 B0FBF4F3 		udiv	r3, r0, r4
 131 001c 04FB1303 		mls	r3, r4, r3, r0
 132              		.loc 1 1705 12 view .LVU33
 133 0020 1BBB     		cbnz	r3, .L17
1706:System/storage/Storage.c ****             (len % p_dev->sector_size))
 134              		.loc 1 1706 18 discriminator 1 view .LVU34
 135 0022 B1FBF4F3 		udiv	r3, r1, r4
 136 0026 04FB1313 		mls	r3, r4, r3, r1
1705:System/storage/Storage.c ****             (len % p_dev->sector_size))
 137              		.loc 1 1705 41 discriminator 1 view .LVU35
 138 002a 03BB     		cbnz	r3, .L18
1707:System/storage/Storage.c ****             return false;
1708:System/storage/Storage.c ****     
1709:System/storage/Storage.c ****         erase_cnt = len / p_dev->sector_size;
 139              		.loc 1 1709 9 is_stmt 1 view .LVU36
 140              		.loc 1 1709 19 is_stmt 0 view .LVU37
 141 002c B1FBF4F4 		udiv	r4, r1, r4
 142              	.LVL12:
1710:System/storage/Storage.c ****         addr_tmp = addr;
 143              		.loc 1 1710 9 is_stmt 1 view .LVU38
1711:System/storage/Storage.c **** 
1712:System/storage/Storage.c ****         for (uint8_t i = 0; i < erase_cnt; i ++)
 144              		.loc 1 1712 9 view .LVU39
 145              	.LBB2:
 146              		.loc 1 1712 14 view .LVU40
 147              		.loc 1 1712 22 is_stmt 0 view .LVU41
 148 0030 0027     		movs	r7, #0
 149              	.LVL13:
 150              	.L10:
 151              		.loc 1 1712 29 is_stmt 1 discriminator 1 view .LVU42
 152              		.loc 1 1712 9 is_stmt 0 discriminator 1 view .LVU43
 153 0032 A742     		cmp	r7, r4
 154 0034 0DD2     		bcs	.L22
1713:System/storage/Storage.c ****         {
1714:System/storage/Storage.c ****             switch((uint8_t)p_dev->chip_type)
 155              		.loc 1 1714 13 is_stmt 1 view .LVU44
 156              		.loc 1 1714 34 is_stmt 0 view .LVU45
 157 0036 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
 158              		.loc 1 1714 13 view .LVU46
 159 0038 012B     		cmp	r3, #1
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 34


 160 003a 1AD1     		bne	.L19
1715:System/storage/Storage.c ****             {
1716:System/storage/Storage.c ****                 case Storage_ChipType_W25Qxx:
1717:System/storage/Storage.c ****                     /* erase sector */
1718:System/storage/Storage.c ****                     if (To_DevW25Qxx_API(p_dev->api)->erase_sector(To_DevW25Qxx_OBJ(p_dev->obj), ad
 161              		.loc 1 1718 21 is_stmt 1 view .LVU47
 162              		.loc 1 1718 25 is_stmt 0 view .LVU48
 163 003c 2B6B     		ldr	r3, [r5, #48]
 164              		.loc 1 1718 53 view .LVU49
 165 003e DB68     		ldr	r3, [r3, #12]
 166              		.loc 1 1718 25 view .LVU50
 167 0040 3146     		mov	r1, r6
 168 0042 E86A     		ldr	r0, [r5, #44]
 169 0044 9847     		blx	r3
 170              	.LVL14:
 171              		.loc 1 1718 24 view .LVU51
 172 0046 B0B9     		cbnz	r0, .L20
1719:System/storage/Storage.c ****                         return false;
1720:System/storage/Storage.c ****                     break;
 173              		.loc 1 1720 21 is_stmt 1 discriminator 2 view .LVU52
1721:System/storage/Storage.c **** 
1722:System/storage/Storage.c ****                 default: return false;
1723:System/storage/Storage.c ****             }
1724:System/storage/Storage.c **** 
1725:System/storage/Storage.c ****             addr_tmp += p_dev->sector_size;
 174              		.loc 1 1725 13 discriminator 2 view .LVU53
 175              		.loc 1 1725 30 is_stmt 0 discriminator 2 view .LVU54
 176 0048 AB6A     		ldr	r3, [r5, #40]
 177              		.loc 1 1725 22 discriminator 2 view .LVU55
 178 004a 1E44     		add	r6, r6, r3
 179              	.LVL15:
1712:System/storage/Storage.c ****         {
 180              		.loc 1 1712 44 is_stmt 1 discriminator 2 view .LVU56
1712:System/storage/Storage.c ****         {
 181              		.loc 1 1712 46 is_stmt 0 discriminator 2 view .LVU57
 182 004c 0137     		adds	r7, r7, #1
 183              	.LVL16:
1712:System/storage/Storage.c ****         {
 184              		.loc 1 1712 46 discriminator 2 view .LVU58
 185 004e FFB2     		uxtb	r7, r7
 186              	.LVL17:
1712:System/storage/Storage.c ****         {
 187              		.loc 1 1712 46 discriminator 2 view .LVU59
 188 0050 EFE7     		b	.L10
 189              	.L22:
1712:System/storage/Storage.c ****         {
 190              		.loc 1 1712 46 discriminator 2 view .LVU60
 191              	.LBE2:
1726:System/storage/Storage.c ****         }
1727:System/storage/Storage.c **** 
1728:System/storage/Storage.c ****         return true;
 192              		.loc 1 1728 16 view .LVU61
 193 0052 0120     		movs	r0, #1
 194              	.LBB3:
 195 0054 00E0     		b	.L9
 196              	.LVL18:
 197              	.L12:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 35


 198              		.loc 1 1728 16 view .LVU62
 199              	.LBE3:
1729:System/storage/Storage.c ****     }
1730:System/storage/Storage.c **** 
1731:System/storage/Storage.c ****     return false;
 200              		.loc 1 1731 12 view .LVU63
 201 0056 0020     		movs	r0, #0
 202              	.LVL19:
 203              	.L9:
1732:System/storage/Storage.c **** }
 204              		.loc 1 1732 1 view .LVU64
 205 0058 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 206              	.LVL20:
 207              	.L13:
1731:System/storage/Storage.c **** }
 208              		.loc 1 1731 12 view .LVU65
 209 005a 0020     		movs	r0, #0
 210              	.LVL21:
1731:System/storage/Storage.c **** }
 211              		.loc 1 1731 12 view .LVU66
 212 005c FCE7     		b	.L9
 213              	.LVL22:
 214              	.L14:
1731:System/storage/Storage.c **** }
 215              		.loc 1 1731 12 view .LVU67
 216 005e 0020     		movs	r0, #0
 217              	.LVL23:
1731:System/storage/Storage.c **** }
 218              		.loc 1 1731 12 view .LVU68
 219 0060 FAE7     		b	.L9
 220              	.LVL24:
 221              	.L15:
1731:System/storage/Storage.c **** }
 222              		.loc 1 1731 12 view .LVU69
 223 0062 0020     		movs	r0, #0
 224              	.LVL25:
1731:System/storage/Storage.c **** }
 225              		.loc 1 1731 12 view .LVU70
 226 0064 F8E7     		b	.L9
 227              	.LVL26:
 228              	.L16:
1731:System/storage/Storage.c **** }
 229              		.loc 1 1731 12 view .LVU71
 230 0066 0020     		movs	r0, #0
 231              	.LVL27:
1731:System/storage/Storage.c **** }
 232              		.loc 1 1731 12 view .LVU72
 233 0068 F6E7     		b	.L9
 234              	.LVL28:
 235              	.L17:
1707:System/storage/Storage.c ****     
 236              		.loc 1 1707 20 view .LVU73
 237 006a 0020     		movs	r0, #0
 238              	.LVL29:
1707:System/storage/Storage.c ****     
 239              		.loc 1 1707 20 view .LVU74
 240 006c F4E7     		b	.L9
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 36


 241              	.LVL30:
 242              	.L18:
1707:System/storage/Storage.c ****     
 243              		.loc 1 1707 20 view .LVU75
 244 006e 0020     		movs	r0, #0
 245              	.LVL31:
1707:System/storage/Storage.c ****     
 246              		.loc 1 1707 20 view .LVU76
 247 0070 F2E7     		b	.L9
 248              	.LVL32:
 249              	.L19:
 250              	.LBB4:
1722:System/storage/Storage.c ****             }
 251              		.loc 1 1722 33 view .LVU77
 252 0072 0020     		movs	r0, #0
 253 0074 F0E7     		b	.L9
 254              	.L20:
1719:System/storage/Storage.c ****                     break;
 255              		.loc 1 1719 32 view .LVU78
 256 0076 0020     		movs	r0, #0
 257 0078 EEE7     		b	.L9
 258              	.L24:
 259 007a 00BF     		.align	2
 260              	.L23:
 261 007c 00000000 		.word	.LANCHOR0
 262              	.LBE4:
 263              		.cfi_endproc
 264              	.LFE171:
 266              		.section	.text.Storage_Firmware_Format,"ax",%progbits
 267              		.align	1
 268              		.syntax unified
 269              		.thumb
 270              		.thumb_func
 272              	Storage_Firmware_Format:
 273              	.LFB172:
1733:System/storage/Storage.c **** 
1734:System/storage/Storage.c **** /********************************************** External Firmware Storage API Section *************
1735:System/storage/Storage.c **** static bool Storage_Firmware_Format(void)
1736:System/storage/Storage.c **** {
 274              		.loc 1 1736 1 is_stmt 1 view -0
 275              		.cfi_startproc
 276              		@ args = 0, pretend = 0, frame = 0
 277              		@ frame_needed = 0, uses_anonymous_args = 0
 278 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 279              	.LCFI1:
 280              		.cfi_def_cfa_offset 24
 281              		.cfi_offset 4, -24
 282              		.cfi_offset 5, -20
 283              		.cfi_offset 6, -16
 284              		.cfi_offset 7, -12
 285              		.cfi_offset 8, -8
 286              		.cfi_offset 14, -4
1737:System/storage/Storage.c ****     uint32_t format_size = 0;
 287              		.loc 1 1737 5 view .LVU80
 288              	.LVL33:
1738:System/storage/Storage.c ****     uint32_t erase_addr = 0;
 289              		.loc 1 1738 5 view .LVU81
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 37


1739:System/storage/Storage.c ****     StorageDevObj_TypeDef *dev = NULL;
 290              		.loc 1 1739 5 view .LVU82
1740:System/storage/Storage.c **** 
1741:System/storage/Storage.c ****     if (!Storage_Monitor.init_state)
 291              		.loc 1 1741 5 view .LVU83
 292              		.loc 1 1741 25 is_stmt 0 view .LVU84
 293 0004 184B     		ldr	r3, .L34
 294 0006 93F81080 		ldrb	r8, [r3, #16]	@ zero_extendqisi2
 295              		.loc 1 1741 8 view .LVU85
 296 000a B8F1000F 		cmp	r8, #0
 297 000e 21D0     		beq	.L26
1742:System/storage/Storage.c ****         return false;
1743:System/storage/Storage.c **** 
1744:System/storage/Storage.c ****     dev = (StorageDevObj_TypeDef *)(Storage_Monitor.ExtDev_ptr);
 298              		.loc 1 1744 5 is_stmt 1 view .LVU86
 299              		.loc 1 1744 9 is_stmt 0 view .LVU87
 300 0010 9D68     		ldr	r5, [r3, #8]
 301              	.LVL34:
1745:System/storage/Storage.c ****     if (dev == NULL)
 302              		.loc 1 1745 5 is_stmt 1 view .LVU88
 303              		.loc 1 1745 8 is_stmt 0 view .LVU89
 304 0012 15B3     		cbz	r5, .L30
 305              	.LBB5:
1746:System/storage/Storage.c ****         return false;
1747:System/storage/Storage.c **** 
1748:System/storage/Storage.c ****     format_size = App_Firmware_Size;
1749:System/storage/Storage.c ****     erase_addr = App_Firmware_Addr;
1750:System/storage/Storage.c **** 
1751:System/storage/Storage.c ****     if ((format_size % Storage_TabSize) != 0)
1752:System/storage/Storage.c ****         return false;
1753:System/storage/Storage.c **** 
1754:System/storage/Storage.c ****     for (uint16_t i = 0; i < format_size / Storage_TabSize; i++)
 306              		.loc 1 1754 19 view .LVU90
 307 0014 0024     		movs	r4, #0
 308              	.LBE5:
1749:System/storage/Storage.c **** 
 309              		.loc 1 1749 16 view .LVU91
 310 0016 4FF4A017 		mov	r7, #1310720
1748:System/storage/Storage.c ****     erase_addr = App_Firmware_Addr;
 311              		.loc 1 1748 17 view .LVU92
 312 001a 4FF48016 		mov	r6, #1048576
 313 001e 01E0     		b	.L27
 314              	.LVL35:
 315              	.L28:
 316              	.LBB6:
 317              		.loc 1 1754 61 is_stmt 1 discriminator 2 view .LVU93
 318              		.loc 1 1754 62 is_stmt 0 discriminator 2 view .LVU94
 319 0020 0134     		adds	r4, r4, #1
 320              	.LVL36:
 321              		.loc 1 1754 62 discriminator 2 view .LVU95
 322 0022 A4B2     		uxth	r4, r4
 323              	.LVL37:
 324              	.L27:
 325              		.loc 1 1754 26 is_stmt 1 discriminator 1 view .LVU96
 326              		.loc 1 1754 5 is_stmt 0 discriminator 1 view .LVU97
 327 0024 B4EB163F 		cmp	r4, r6, lsr #12
 328 0028 12D2     		bcs	.L33
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 38


1755:System/storage/Storage.c ****     {
1756:System/storage/Storage.c ****         switch (dev->chip_type)
 329              		.loc 1 1756 9 is_stmt 1 view .LVU98
 330              		.loc 1 1756 20 is_stmt 0 view .LVU99
 331 002a 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
 332              		.loc 1 1756 9 view .LVU100
 333 002c 012B     		cmp	r3, #1
 334 002e F7D1     		bne	.L28
1757:System/storage/Storage.c ****         {
1758:System/storage/Storage.c ****             case Storage_ChipType_W25Qxx:
1759:System/storage/Storage.c ****                 if (dev->api && dev->obj)
 335              		.loc 1 1759 17 is_stmt 1 view .LVU101
 336              		.loc 1 1759 24 is_stmt 0 view .LVU102
 337 0030 2B6B     		ldr	r3, [r5, #48]
 338              		.loc 1 1759 20 view .LVU103
 339 0032 002B     		cmp	r3, #0
 340 0034 F4D0     		beq	.L28
 341              		.loc 1 1759 36 discriminator 1 view .LVU104
 342 0036 E86A     		ldr	r0, [r5, #44]
 343              		.loc 1 1759 30 discriminator 1 view .LVU105
 344 0038 0028     		cmp	r0, #0
 345 003a F1D0     		beq	.L28
1760:System/storage/Storage.c ****                 {
1761:System/storage/Storage.c ****                     if (format_size == 0)
 346              		.loc 1 1761 21 is_stmt 1 view .LVU106
 347              		.loc 1 1761 24 is_stmt 0 view .LVU107
 348 003c 56B1     		cbz	r6, .L26
1762:System/storage/Storage.c ****                         return true;
1763:System/storage/Storage.c **** 
1764:System/storage/Storage.c ****                     if (To_DevW25Qxx_API(dev->api)->erase_sector(To_DevW25Qxx_OBJ(dev->obj), erase_
 349              		.loc 1 1764 21 is_stmt 1 view .LVU108
 350              		.loc 1 1764 51 is_stmt 0 view .LVU109
 351 003e DB68     		ldr	r3, [r3, #12]
 352              		.loc 1 1764 25 view .LVU110
 353 0040 3946     		mov	r1, r7
 354 0042 9847     		blx	r3
 355              	.LVL38:
 356              		.loc 1 1764 24 view .LVU111
 357 0044 60B9     		cbnz	r0, .L31
1765:System/storage/Storage.c ****                         return false;
1766:System/storage/Storage.c ****                 
1767:System/storage/Storage.c ****                     erase_addr += Storage_TabSize;
 358              		.loc 1 1767 21 is_stmt 1 view .LVU112
 359              		.loc 1 1767 32 is_stmt 0 view .LVU113
 360 0046 07F58057 		add	r7, r7, #4096
 361              	.LVL39:
1768:System/storage/Storage.c ****                     format_size -= Storage_TabSize;
 362              		.loc 1 1768 21 is_stmt 1 view .LVU114
 363              		.loc 1 1768 33 is_stmt 0 view .LVU115
 364 004a A6F58056 		sub	r6, r6, #4096
 365              	.LVL40:
 366              		.loc 1 1768 33 view .LVU116
 367 004e E7E7     		b	.L28
 368              	.L33:
 369              		.loc 1 1768 33 view .LVU117
 370              	.LBE6:
1769:System/storage/Storage.c ****                 }
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 39


1770:System/storage/Storage.c ****                 break;
1771:System/storage/Storage.c **** 
1772:System/storage/Storage.c ****             default: break;
1773:System/storage/Storage.c ****         }
1774:System/storage/Storage.c ****     }
1775:System/storage/Storage.c **** 
1776:System/storage/Storage.c ****     return false;
 371              		.loc 1 1776 12 view .LVU118
 372 0050 4FF00008 		mov	r8, #0
 373              	.LVL41:
 374              	.L26:
1777:System/storage/Storage.c **** }
 375              		.loc 1 1777 1 view .LVU119
 376 0054 4046     		mov	r0, r8
 377 0056 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 378              	.LVL42:
 379              	.L30:
1746:System/storage/Storage.c **** 
 380              		.loc 1 1746 16 view .LVU120
 381 005a 4FF00008 		mov	r8, #0
 382 005e F9E7     		b	.L26
 383              	.LVL43:
 384              	.L31:
 385              	.LBB7:
1765:System/storage/Storage.c ****                 
 386              		.loc 1 1765 32 view .LVU121
 387 0060 4FF00008 		mov	r8, #0
 388 0064 F6E7     		b	.L26
 389              	.L35:
 390 0066 00BF     		.align	2
 391              	.L34:
 392 0068 00000000 		.word	.LANCHOR0
 393              	.LBE7:
 394              		.cfi_endproc
 395              	.LFE172:
 397              		.section	.text.Storage_ExtFlash_ParaSec_Erase,"ax",%progbits
 398              		.align	1
 399              		.syntax unified
 400              		.thumb
 401              		.thumb_func
 403              	Storage_ExtFlash_ParaSec_Erase:
 404              	.LVL44:
 405              	.LFB177:
1778:System/storage/Storage.c **** 
1779:System/storage/Storage.c **** static bool Storage_Frimware_Read(uint32_t addr_offset, uint8_t *p_data, uint16_t size)
1780:System/storage/Storage.c **** {
1781:System/storage/Storage.c ****     uint32_t read_addr = 0;
1782:System/storage/Storage.c ****     uint32_t section_addr = 0;
1783:System/storage/Storage.c ****     uint32_t read_size = 0;
1784:System/storage/Storage.c ****     StorageDevObj_TypeDef *dev = NULL;
1785:System/storage/Storage.c ****     dev = (StorageDevObj_TypeDef *)(Storage_Monitor.ExtDev_ptr);
1786:System/storage/Storage.c **** 
1787:System/storage/Storage.c ****     if (dev && p_data && size)
1788:System/storage/Storage.c ****     {
1789:System/storage/Storage.c ****         read_addr = addr_offset + App_Firmware_Addr;
1790:System/storage/Storage.c ****         while (true)
1791:System/storage/Storage.c ****         {
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 40


1792:System/storage/Storage.c ****             section_addr = To_DevW25Qxx_API(dev->api)->get_section_start_addr(To_DevW25Qxx_OBJ(dev-
1793:System/storage/Storage.c ****             if (To_DevW25Qxx_API(dev->api)->read(To_DevW25Qxx_OBJ(dev->obj), section_addr, flash_re
1794:System/storage/Storage.c ****                 return false;
1795:System/storage/Storage.c **** 
1796:System/storage/Storage.c ****             if ((read_addr + size) > (section_addr + Storage_TabSize))
1797:System/storage/Storage.c ****             {
1798:System/storage/Storage.c ****                 read_size = Storage_TabSize - (read_addr - section_addr);
1799:System/storage/Storage.c ****                 size -= read_size;
1800:System/storage/Storage.c ****                 p_data += read_size;
1801:System/storage/Storage.c ****             }
1802:System/storage/Storage.c ****             else
1803:System/storage/Storage.c ****             {
1804:System/storage/Storage.c ****                 read_size = size;
1805:System/storage/Storage.c ****                 size = 0;
1806:System/storage/Storage.c ****             }
1807:System/storage/Storage.c **** 
1808:System/storage/Storage.c ****             memcpy(p_data, &flash_read_tmp[read_addr - section_addr], read_size);
1809:System/storage/Storage.c ****             read_addr = section_addr + Storage_TabSize;
1810:System/storage/Storage.c **** 
1811:System/storage/Storage.c ****             if (size == 0)
1812:System/storage/Storage.c ****                 return true;
1813:System/storage/Storage.c ****         }
1814:System/storage/Storage.c ****     }
1815:System/storage/Storage.c **** 
1816:System/storage/Storage.c ****     return false;
1817:System/storage/Storage.c **** }
1818:System/storage/Storage.c **** 
1819:System/storage/Storage.c **** static bool Storage_Firmware_Write(Storage_MediumType_List medium, uint32_t addr_offset, uint8_t *p
1820:System/storage/Storage.c **** {
1821:System/storage/Storage.c ****     uint32_t write_addr = 0;
1822:System/storage/Storage.c ****     uint32_t section_addr = 0;
1823:System/storage/Storage.c ****     uint32_t write_size = 0;
1824:System/storage/Storage.c ****     StorageDevObj_TypeDef *dev = NULL;
1825:System/storage/Storage.c **** 
1826:System/storage/Storage.c ****     if ((p_data == NULL) || (size == 0))
1827:System/storage/Storage.c ****         return false;
1828:System/storage/Storage.c **** 
1829:System/storage/Storage.c ****     if (medium == Internal_Flash)
1830:System/storage/Storage.c ****     {
1831:System/storage/Storage.c ****         write_addr = App_Address_Base + addr_offset;
1832:System/storage/Storage.c ****         return BspFlash.write(write_addr, p_data, size);
1833:System/storage/Storage.c ****     }
1834:System/storage/Storage.c ****     
1835:System/storage/Storage.c ****     if (medium == External_Flash)
1836:System/storage/Storage.c ****     {
1837:System/storage/Storage.c ****         dev = (StorageDevObj_TypeDef *)(Storage_Monitor.ExtDev_ptr);
1838:System/storage/Storage.c ****         if (dev == NULL)
1839:System/storage/Storage.c ****             return false;
1840:System/storage/Storage.c **** 
1841:System/storage/Storage.c ****         switch ((uint8_t)dev->chip_type)
1842:System/storage/Storage.c ****         {
1843:System/storage/Storage.c ****             case Storage_ChipType_W25Qxx:
1844:System/storage/Storage.c ****                 write_addr = App_Firmware_Addr + addr_offset;
1845:System/storage/Storage.c ****                 section_addr = To_DevW25Qxx_API(dev->api)->get_section_start_addr(To_DevW25Qxx_OBJ(
1846:System/storage/Storage.c **** 
1847:System/storage/Storage.c ****                 while (true)
1848:System/storage/Storage.c ****                 {
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 41


1849:System/storage/Storage.c ****                     if (size == 0)
1850:System/storage/Storage.c ****                         return true;
1851:System/storage/Storage.c **** 
1852:System/storage/Storage.c ****                     /* read section first */
1853:System/storage/Storage.c ****                     memset(flash_read_tmp, 0, Storage_TabSize);
1854:System/storage/Storage.c ****                     if (To_DevW25Qxx_API(dev->api)->read(To_DevW25Qxx_OBJ(dev->obj), section_addr, 
1855:System/storage/Storage.c ****                         return false;
1856:System/storage/Storage.c **** 
1857:System/storage/Storage.c ****                     /* erase whole section */
1858:System/storage/Storage.c ****                     if (To_DevW25Qxx_API(dev->api)->erase_sector(To_DevW25Qxx_OBJ(dev->obj), sectio
1859:System/storage/Storage.c ****                         return false;
1860:System/storage/Storage.c **** 
1861:System/storage/Storage.c ****                     if ((write_addr + size) >= (section_addr + Storage_TabSize))
1862:System/storage/Storage.c ****                     {
1863:System/storage/Storage.c ****                         write_size = Storage_TabSize - (write_addr - section_addr);
1864:System/storage/Storage.c ****                         size -= write_size;
1865:System/storage/Storage.c ****                     }
1866:System/storage/Storage.c ****                     else
1867:System/storage/Storage.c ****                     {
1868:System/storage/Storage.c ****                         write_size = size;
1869:System/storage/Storage.c ****                         size = 0;
1870:System/storage/Storage.c ****                     }
1871:System/storage/Storage.c **** 
1872:System/storage/Storage.c ****                     /* update to flash */
1873:System/storage/Storage.c ****                     memcpy(&flash_read_tmp[write_addr - section_addr], p_data, write_size);
1874:System/storage/Storage.c ****                     if (To_DevW25Qxx_API(dev->api)->write(To_DevW25Qxx_OBJ(dev->obj), section_addr,
1875:System/storage/Storage.c ****                         return false;
1876:System/storage/Storage.c **** 
1877:System/storage/Storage.c ****                     /* update section address */
1878:System/storage/Storage.c ****                     p_data += write_size;
1879:System/storage/Storage.c ****                     write_addr += write_size;
1880:System/storage/Storage.c ****                     section_addr = To_DevW25Qxx_API(dev->api)->get_section_start_addr(To_DevW25Qxx_
1881:System/storage/Storage.c ****                 }
1882:System/storage/Storage.c ****                 break;
1883:System/storage/Storage.c **** 
1884:System/storage/Storage.c ****             default: return false;
1885:System/storage/Storage.c ****         }
1886:System/storage/Storage.c ****     }
1887:System/storage/Storage.c **** 
1888:System/storage/Storage.c ****     return false;
1889:System/storage/Storage.c **** }
1890:System/storage/Storage.c **** 
1891:System/storage/Storage.c **** /************************************************** External Flash Parameter IO API Section *******
1892:System/storage/Storage.c **** static bool Storage_ExtFlash_ParaSec_Read(uint32_t addr_offset, uint8_t *p_data, uint32_t len)
1893:System/storage/Storage.c **** {
1894:System/storage/Storage.c ****     uint32_t read_start_addr = 0;
1895:System/storage/Storage.c ****     uint32_t flash_end_addr = 0;
1896:System/storage/Storage.c ****     uint32_t section_start_addr = 0;
1897:System/storage/Storage.c ****     uint32_t next_read_addr = 0;
1898:System/storage/Storage.c ****     uint32_t section_size = 0;
1899:System/storage/Storage.c ****     uint32_t read_offset = 0;
1900:System/storage/Storage.c ****     uint32_t read_len = len;
1901:System/storage/Storage.c ****     StorageDevObj_TypeDef *dev = NULL;
1902:System/storage/Storage.c **** 
1903:System/storage/Storage.c ****     if ((Storage_Monitor.ExtDev_ptr == NULL) || \
1904:System/storage/Storage.c ****         (p_data == 0) || \
1905:System/storage/Storage.c ****         (len == 0))
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 42


1906:System/storage/Storage.c ****         return false;
1907:System/storage/Storage.c ****         
1908:System/storage/Storage.c ****     read_start_addr = Storage_Monitor.external_info.base_addr + addr_offset;       
1909:System/storage/Storage.c ****     dev = (StorageDevObj_TypeDef *)(Storage_Monitor.ExtDev_ptr);
1910:System/storage/Storage.c ****     if ((dev->api == NULL) || (dev->obj == NULL))
1911:System/storage/Storage.c ****         return false;
1912:System/storage/Storage.c **** 
1913:System/storage/Storage.c ****     switch((uint8_t)dev->chip_type)
1914:System/storage/Storage.c ****     {
1915:System/storage/Storage.c ****         case Storage_ChipType_W25Qxx:
1916:System/storage/Storage.c ****             section_size = To_DevW25Qxx_API(dev->api)->info(To_DevW25Qxx_OBJ(dev->obj)).subsector_s
1917:System/storage/Storage.c ****             /* get w25qxx device info */
1918:System/storage/Storage.c ****             /* address check */
1919:System/storage/Storage.c ****             flash_end_addr = To_DevW25Qxx_API(dev->api)->info(To_DevW25Qxx_OBJ(dev->obj)).start_add
1920:System/storage/Storage.c ****             if (flash_end_addr > read_start_addr)
1921:System/storage/Storage.c ****                 return false;
1922:System/storage/Storage.c **** 
1923:System/storage/Storage.c ****             /* range check */
1924:System/storage/Storage.c ****             flash_end_addr += To_DevW25Qxx_API(dev->api)->info(To_DevW25Qxx_OBJ(dev->obj)).flash_si
1925:System/storage/Storage.c ****             if ((len + read_start_addr) > flash_end_addr)
1926:System/storage/Storage.c ****                 return false;
1927:System/storage/Storage.c **** 
1928:System/storage/Storage.c ****             if (section_size == 0)
1929:System/storage/Storage.c ****                 return false;
1930:System/storage/Storage.c ****                 
1931:System/storage/Storage.c ****             section_start_addr = To_DevW25Qxx_API(dev->api)->get_section_start_addr(To_DevW25Qxx_OB
1932:System/storage/Storage.c ****             read_offset = read_start_addr - section_start_addr;
1933:System/storage/Storage.c ****             if (section_size > sizeof(flash_read_tmp))
1934:System/storage/Storage.c ****                 return false;
1935:System/storage/Storage.c **** 
1936:System/storage/Storage.c ****             while(true)
1937:System/storage/Storage.c ****             {
1938:System/storage/Storage.c ****                 /* circumstances 1: store data size less than flash sector size and only none multi
1939:System/storage/Storage.c ****                 /* circumstances 2: store data size less than flash sector length but need to read 
1940:System/storage/Storage.c ****                 /* circumstances 3: store data size large than flash sector length */
1941:System/storage/Storage.c ****                 if (read_offset + read_len > section_size)
1942:System/storage/Storage.c ****                     read_len = section_size - read_offset;
1943:System/storage/Storage.c **** 
1944:System/storage/Storage.c ****                 /* read whole section */
1945:System/storage/Storage.c ****                 if (To_DevW25Qxx_API(dev->api)->read(To_DevW25Qxx_OBJ(dev->obj), section_start_addr
1946:System/storage/Storage.c ****                     return false;
1947:System/storage/Storage.c ****             
1948:System/storage/Storage.c ****                 memcpy(p_data, flash_read_tmp + read_offset, read_len);
1949:System/storage/Storage.c ****                 memset(flash_read_tmp, 0, section_size);
1950:System/storage/Storage.c **** 
1951:System/storage/Storage.c ****                 len -= read_len;
1952:System/storage/Storage.c ****                 if (len == 0)
1953:System/storage/Storage.c ****                     return true;
1954:System/storage/Storage.c ****             
1955:System/storage/Storage.c ****                 read_offset = 0;
1956:System/storage/Storage.c ****                 next_read_addr = To_DevW25Qxx_API(dev->api)->get_section_start_addr(To_DevW25Qxx_OB
1957:System/storage/Storage.c ****                 if (next_read_addr == section_start_addr)
1958:System/storage/Storage.c ****                     read_offset = read_len;
1959:System/storage/Storage.c ****                 
1960:System/storage/Storage.c ****                 p_data += read_len;
1961:System/storage/Storage.c ****                 read_len = len;
1962:System/storage/Storage.c ****                 section_start_addr = next_read_addr;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 43


1963:System/storage/Storage.c ****             }
1964:System/storage/Storage.c ****             break;
1965:System/storage/Storage.c **** 
1966:System/storage/Storage.c ****         default: return false;
1967:System/storage/Storage.c ****     }
1968:System/storage/Storage.c **** 
1969:System/storage/Storage.c ****     return false;
1970:System/storage/Storage.c **** }
1971:System/storage/Storage.c **** 
1972:System/storage/Storage.c **** static bool Storage_ExtFlash_ParaSec_Write(uint32_t addr_offset, uint8_t *p_data, uint32_t len)
1973:System/storage/Storage.c **** {
1974:System/storage/Storage.c ****     uint32_t write_start_addr = 0;
1975:System/storage/Storage.c ****     uint32_t flash_end_addr = 0;
1976:System/storage/Storage.c ****     uint32_t section_start_addr = 0;
1977:System/storage/Storage.c ****     uint32_t next_write_addr = 0;
1978:System/storage/Storage.c ****     uint32_t section_size = 0;
1979:System/storage/Storage.c ****     uint32_t write_offset = 0;
1980:System/storage/Storage.c ****     uint32_t write_len = len;
1981:System/storage/Storage.c ****     StorageDevObj_TypeDef *dev = NULL;
1982:System/storage/Storage.c **** 
1983:System/storage/Storage.c ****     if ((Storage_Monitor.ExtDev_ptr == NULL) || \
1984:System/storage/Storage.c ****         (p_data == NULL) || \
1985:System/storage/Storage.c ****         (len == 0))
1986:System/storage/Storage.c ****         return false;
1987:System/storage/Storage.c ****         
1988:System/storage/Storage.c ****     write_start_addr = Storage_Monitor.external_info.base_addr + addr_offset;
1989:System/storage/Storage.c ****     dev = (StorageDevObj_TypeDef *)(Storage_Monitor.ExtDev_ptr);
1990:System/storage/Storage.c ****     if ((dev->api == NULL) || (dev->obj == NULL))
1991:System/storage/Storage.c ****         return false;
1992:System/storage/Storage.c **** 
1993:System/storage/Storage.c ****     switch((uint8_t)dev->chip_type)
1994:System/storage/Storage.c ****     {
1995:System/storage/Storage.c ****         case Storage_ChipType_W25Qxx:
1996:System/storage/Storage.c ****             section_size = To_DevW25Qxx_API(dev->api)->info(To_DevW25Qxx_OBJ(dev->obj)).subsector_s
1997:System/storage/Storage.c ****             /* get w25qxx device info */
1998:System/storage/Storage.c ****             /* address check */
1999:System/storage/Storage.c ****             flash_end_addr = To_DevW25Qxx_API(dev->api)->info(To_DevW25Qxx_OBJ(dev->obj)).start_add
2000:System/storage/Storage.c ****             if (flash_end_addr > write_start_addr)
2001:System/storage/Storage.c ****                 return false;
2002:System/storage/Storage.c **** 
2003:System/storage/Storage.c ****             /* range check */
2004:System/storage/Storage.c ****             flash_end_addr += To_DevW25Qxx_API(dev->api)->info(To_DevW25Qxx_OBJ(dev->obj)).flash_si
2005:System/storage/Storage.c ****             if ((len + write_start_addr) > flash_end_addr)
2006:System/storage/Storage.c ****                 return false;
2007:System/storage/Storage.c ****             
2008:System/storage/Storage.c ****             if (section_size == 0)
2009:System/storage/Storage.c ****                 return false;
2010:System/storage/Storage.c ****                 
2011:System/storage/Storage.c ****             section_start_addr = To_DevW25Qxx_API(dev->api)->get_section_start_addr(To_DevW25Qxx_OB
2012:System/storage/Storage.c ****             write_offset = write_start_addr - section_start_addr;
2013:System/storage/Storage.c ****             if (section_size > sizeof(flash_write_tmp))
2014:System/storage/Storage.c ****                 return false;
2015:System/storage/Storage.c **** 
2016:System/storage/Storage.c ****             while(true)
2017:System/storage/Storage.c ****             {
2018:System/storage/Storage.c ****                 /* circumstances 1: store data size less than flash sector size and only none multi
2019:System/storage/Storage.c ****                 /* circumstances 2: store data size less than flash sector length but need to write
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 44


2020:System/storage/Storage.c ****                 /* circumstances 3: store data size large than flash sector length */
2021:System/storage/Storage.c ****                 /* read whole section */
2022:System/storage/Storage.c ****                 if (To_DevW25Qxx_API(dev->api)->read(To_DevW25Qxx_OBJ(dev->obj), section_start_addr
2023:System/storage/Storage.c ****                     return false;
2024:System/storage/Storage.c **** 
2025:System/storage/Storage.c ****                 /* erase whole section */
2026:System/storage/Storage.c ****                 if (To_DevW25Qxx_API(dev->api)->erase_sector(To_DevW25Qxx_OBJ(dev->obj), section_st
2027:System/storage/Storage.c ****                     return false;
2028:System/storage/Storage.c **** 
2029:System/storage/Storage.c ****                 /* update whole section */
2030:System/storage/Storage.c ****                 if (write_offset + write_len > section_size)
2031:System/storage/Storage.c ****                     write_len = section_size - write_offset;
2032:System/storage/Storage.c ****                 
2033:System/storage/Storage.c ****                 /* copy data to section data read out */
2034:System/storage/Storage.c ****                 memcpy(flash_write_tmp + write_offset, p_data, write_len);
2035:System/storage/Storage.c **** 
2036:System/storage/Storage.c ****                 DevW25Qxx_Error_List state = To_DevW25Qxx_API(dev->api)->write(To_DevW25Qxx_OBJ(dev
2037:System/storage/Storage.c **** 
2038:System/storage/Storage.c ****                 /* clear cache buff */
2039:System/storage/Storage.c ****                 memset(flash_write_tmp, 0, section_size);
2040:System/storage/Storage.c ****                 
2041:System/storage/Storage.c ****                 len -= write_len;
2042:System/storage/Storage.c ****                 if (state == DevW25Qxx_Ok)
2043:System/storage/Storage.c ****                 {
2044:System/storage/Storage.c ****                     if (len == 0)
2045:System/storage/Storage.c ****                         return true;
2046:System/storage/Storage.c ****                 }
2047:System/storage/Storage.c ****                 else
2048:System/storage/Storage.c ****                     return false;
2049:System/storage/Storage.c **** 
2050:System/storage/Storage.c ****                 write_offset = 0;
2051:System/storage/Storage.c ****                 next_write_addr = To_DevW25Qxx_API(dev->api)->get_section_start_addr(To_DevW25Qxx_O
2052:System/storage/Storage.c ****                 if (next_write_addr == section_start_addr)
2053:System/storage/Storage.c ****                     write_offset = write_len;
2054:System/storage/Storage.c **** 
2055:System/storage/Storage.c ****                 p_data += write_len;
2056:System/storage/Storage.c ****                 write_len = len;
2057:System/storage/Storage.c ****                 section_start_addr = next_write_addr; 
2058:System/storage/Storage.c ****             }
2059:System/storage/Storage.c ****             return false;
2060:System/storage/Storage.c **** 
2061:System/storage/Storage.c ****         default: return false;
2062:System/storage/Storage.c ****     }
2063:System/storage/Storage.c **** 
2064:System/storage/Storage.c ****     return false;
2065:System/storage/Storage.c **** }
2066:System/storage/Storage.c **** 
2067:System/storage/Storage.c **** static bool Storage_ExtFlash_ParaSec_Erase(uint32_t addr_offset, uint32_t len)
2068:System/storage/Storage.c **** {
 406              		.loc 1 2068 1 is_stmt 1 view -0
 407              		.cfi_startproc
 408              		@ args = 0, pretend = 0, frame = 32
 409              		@ frame_needed = 0, uses_anonymous_args = 0
 410              		.loc 1 2068 1 is_stmt 0 view .LVU123
 411 0000 30B5     		push	{r4, r5, lr}
 412              	.LCFI2:
 413              		.cfi_def_cfa_offset 12
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 45


 414              		.cfi_offset 4, -12
 415              		.cfi_offset 5, -8
 416              		.cfi_offset 14, -4
 417 0002 89B0     		sub	sp, sp, #36
 418              	.LCFI3:
 419              		.cfi_def_cfa_offset 48
2069:System/storage/Storage.c ****     uint32_t erase_start_addr = 0;
 420              		.loc 1 2069 5 is_stmt 1 view .LVU124
 421              	.LVL45:
2070:System/storage/Storage.c ****     StorageDevObj_TypeDef *dev = NULL;
 422              		.loc 1 2070 5 view .LVU125
2071:System/storage/Storage.c **** 
2072:System/storage/Storage.c ****     if ((Storage_Monitor.ExtDev_ptr != NULL) && len)
 423              		.loc 1 2072 5 view .LVU126
 424              		.loc 1 2072 25 is_stmt 0 view .LVU127
 425 0004 154B     		ldr	r3, .L46
 426 0006 9C68     		ldr	r4, [r3, #8]
 427              		.loc 1 2072 8 view .LVU128
 428 0008 C4B1     		cbz	r4, .L38
 429              		.loc 1 2072 46 discriminator 1 view .LVU129
 430 000a C9B1     		cbz	r1, .L39
2073:System/storage/Storage.c ****     {
2074:System/storage/Storage.c ****         /* erase external flash sector */
2075:System/storage/Storage.c ****         erase_start_addr = Storage_Monitor.external_info.base_addr + addr_offset;
 431              		.loc 1 2075 9 is_stmt 1 view .LVU130
 432              		.loc 1 2075 57 is_stmt 0 view .LVU131
 433 000c D3F83610 		ldr	r1, [r3, #54]	@ unaligned
 434              	.LVL46:
 435              		.loc 1 2075 26 view .LVU132
 436 0010 0D18     		adds	r5, r1, r0
 437              	.LVL47:
2076:System/storage/Storage.c ****         dev = (StorageDevObj_TypeDef *)(Storage_Monitor.ExtDev_ptr);
 438              		.loc 1 2076 9 is_stmt 1 view .LVU133
2077:System/storage/Storage.c ****     
2078:System/storage/Storage.c ****         switch((uint8_t)dev->chip_type)
 439              		.loc 1 2078 9 view .LVU134
 440              		.loc 1 2078 28 is_stmt 0 view .LVU135
 441 0012 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 442              		.loc 1 2078 9 view .LVU136
 443 0014 012B     		cmp	r3, #1
 444 0016 16D1     		bne	.L40
2079:System/storage/Storage.c ****         {
2080:System/storage/Storage.c ****             case Storage_ChipType_W25Qxx:
2081:System/storage/Storage.c ****                 if (dev->api && dev->obj)
 445              		.loc 1 2081 17 is_stmt 1 view .LVU137
 446              		.loc 1 2081 24 is_stmt 0 view .LVU138
 447 0018 236B     		ldr	r3, [r4, #48]
 448              		.loc 1 2081 20 view .LVU139
 449 001a B3B1     		cbz	r3, .L41
 450              		.loc 1 2081 36 discriminator 1 view .LVU140
 451 001c E16A     		ldr	r1, [r4, #44]
 452              		.loc 1 2081 30 discriminator 1 view .LVU141
 453 001e B1B1     		cbz	r1, .L42
2082:System/storage/Storage.c ****                 {
2083:System/storage/Storage.c ****                     /* get w25qxx device info */
2084:System/storage/Storage.c ****                     /* address check */
2085:System/storage/Storage.c ****                     if (erase_start_addr < To_DevW25Qxx_API(dev->api)->info(To_DevW25Qxx_OBJ(dev->o
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 46


 454              		.loc 1 2085 21 is_stmt 1 view .LVU142
 455              		.loc 1 2085 70 is_stmt 0 view .LVU143
 456 0020 5B69     		ldr	r3, [r3, #20]
 457              		.loc 1 2085 44 view .LVU144
 458 0022 01A8     		add	r0, sp, #4
 459              	.LVL48:
 460              		.loc 1 2085 44 view .LVU145
 461 0024 9847     		blx	r3
 462              	.LVL49:
 463              		.loc 1 2085 104 view .LVU146
 464 0026 029B     		ldr	r3, [sp, #8]
 465              		.loc 1 2085 24 view .LVU147
 466 0028 AB42     		cmp	r3, r5
 467 002a 12D8     		bhi	.L43
2086:System/storage/Storage.c ****                         return false;
2087:System/storage/Storage.c **** 
2088:System/storage/Storage.c ****                     /* W25Qxx device read */
2089:System/storage/Storage.c ****                     if (To_DevW25Qxx_API(dev->api)->erase_sector(To_DevW25Qxx_OBJ(dev->obj), erase_
 468              		.loc 1 2089 21 is_stmt 1 view .LVU148
 469              		.loc 1 2089 25 is_stmt 0 view .LVU149
 470 002c 236B     		ldr	r3, [r4, #48]
 471              		.loc 1 2089 51 view .LVU150
 472 002e DB68     		ldr	r3, [r3, #12]
 473              		.loc 1 2089 25 view .LVU151
 474 0030 2946     		mov	r1, r5
 475 0032 E06A     		ldr	r0, [r4, #44]
 476 0034 9847     		blx	r3
 477              	.LVL50:
 478              		.loc 1 2089 24 view .LVU152
 479 0036 70B1     		cbz	r0, .L44
2090:System/storage/Storage.c ****                         return true;
2091:System/storage/Storage.c ****                 }
2092:System/storage/Storage.c ****                 break;
2093:System/storage/Storage.c **** 
2094:System/storage/Storage.c ****             default:
2095:System/storage/Storage.c ****                 return false;
2096:System/storage/Storage.c ****         }
2097:System/storage/Storage.c ****     }
2098:System/storage/Storage.c ****     
2099:System/storage/Storage.c ****     return false;
 480              		.loc 1 2099 12 view .LVU153
 481 0038 0020     		movs	r0, #0
 482 003a 02E0     		b	.L37
 483              	.LVL51:
 484              	.L38:
 485              		.loc 1 2099 12 view .LVU154
 486 003c 0020     		movs	r0, #0
 487              	.LVL52:
 488              		.loc 1 2099 12 view .LVU155
 489 003e 00E0     		b	.L37
 490              	.LVL53:
 491              	.L39:
 492              		.loc 1 2099 12 view .LVU156
 493 0040 0020     		movs	r0, #0
 494              	.LVL54:
 495              	.L37:
2100:System/storage/Storage.c **** }
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 47


 496              		.loc 1 2100 1 view .LVU157
 497 0042 09B0     		add	sp, sp, #36
 498              	.LCFI4:
 499              		.cfi_remember_state
 500              		.cfi_def_cfa_offset 12
 501              		@ sp needed
 502 0044 30BD     		pop	{r4, r5, pc}
 503              	.LVL55:
 504              	.L40:
 505              	.LCFI5:
 506              		.cfi_restore_state
2095:System/storage/Storage.c ****         }
 507              		.loc 1 2095 24 view .LVU158
 508 0046 0020     		movs	r0, #0
 509              	.LVL56:
2095:System/storage/Storage.c ****         }
 510              		.loc 1 2095 24 view .LVU159
 511 0048 FBE7     		b	.L37
 512              	.LVL57:
 513              	.L41:
2099:System/storage/Storage.c **** }
 514              		.loc 1 2099 12 view .LVU160
 515 004a 0020     		movs	r0, #0
 516              	.LVL58:
2099:System/storage/Storage.c **** }
 517              		.loc 1 2099 12 view .LVU161
 518 004c F9E7     		b	.L37
 519              	.LVL59:
 520              	.L42:
2099:System/storage/Storage.c **** }
 521              		.loc 1 2099 12 view .LVU162
 522 004e 0020     		movs	r0, #0
 523              	.LVL60:
2099:System/storage/Storage.c **** }
 524              		.loc 1 2099 12 view .LVU163
 525 0050 F7E7     		b	.L37
 526              	.L43:
2086:System/storage/Storage.c **** 
 527              		.loc 1 2086 32 view .LVU164
 528 0052 0020     		movs	r0, #0
 529 0054 F5E7     		b	.L37
 530              	.L44:
2090:System/storage/Storage.c ****                 }
 531              		.loc 1 2090 32 view .LVU165
 532 0056 0120     		movs	r0, #1
 533 0058 F3E7     		b	.L37
 534              	.L47:
 535 005a 00BF     		.align	2
 536              	.L46:
 537 005c 00000000 		.word	.LANCHOR0
 538              		.cfi_endproc
 539              	.LFE177:
 541              		.section	.text.Storage_Set_DeviceObj,"ax",%progbits
 542              		.align	1
 543              		.syntax unified
 544              		.thumb
 545              		.thumb_func
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 48


 547              	Storage_Set_DeviceObj:
 548              	.LVL61:
 549              	.LFB179:
2101:System/storage/Storage.c **** 
2102:System/storage/Storage.c **** static bool Storage_ExtFlash_EraseAll(void)
2103:System/storage/Storage.c **** {
2104:System/storage/Storage.c ****     /* still in developping */
2105:System/storage/Storage.c ****     return false;
2106:System/storage/Storage.c **** }
2107:System/storage/Storage.c **** 
2108:System/storage/Storage.c **** static bool Storage_Set_DeviceObj(StorageDevObj_TypeDef *ext_dev)
2109:System/storage/Storage.c **** {
 550              		.loc 1 2109 1 is_stmt 1 view -0
 551              		.cfi_startproc
 552              		@ args = 0, pretend = 0, frame = 224
 553              		@ frame_needed = 0, uses_anonymous_args = 0
2110:System/storage/Storage.c ****     if ((ext_dev == NULL) || \
 554              		.loc 1 2110 5 view .LVU167
 555              		.loc 1 2110 8 is_stmt 0 view .LVU168
 556 0000 0028     		cmp	r0, #0
 557 0002 00F09680 		beq	.L51
2109:System/storage/Storage.c ****     if ((ext_dev == NULL) || \
 558              		.loc 1 2109 1 discriminator 1 view .LVU169
 559 0006 10B5     		push	{r4, lr}
 560              	.LCFI6:
 561              		.cfi_def_cfa_offset 8
 562              		.cfi_offset 4, -8
 563              		.cfi_offset 14, -4
 564 0008 B8B0     		sub	sp, sp, #224
 565              	.LCFI7:
 566              		.cfi_def_cfa_offset 232
 567 000a 0446     		mov	r4, r0
2111:System/storage/Storage.c ****         (ext_dev->api == NULL))
 568              		.loc 1 2111 17 discriminator 1 view .LVU170
 569 000c 036B     		ldr	r3, [r0, #48]
2110:System/storage/Storage.c ****     if ((ext_dev == NULL) || \
 570              		.loc 1 2110 27 discriminator 1 view .LVU171
 571 000e 002B     		cmp	r3, #0
 572 0010 00F09180 		beq	.L52
2112:System/storage/Storage.c ****         return false;
2113:System/storage/Storage.c **** 
2114:System/storage/Storage.c ****     ext_dev->start_addr  = 0;
 573              		.loc 1 2114 5 is_stmt 1 view .LVU172
 574              		.loc 1 2114 26 is_stmt 0 view .LVU173
 575 0014 0023     		movs	r3, #0
 576 0016 4360     		str	r3, [r0, #4]
2115:System/storage/Storage.c ****     ext_dev->sector_num  = 0;
 577              		.loc 1 2115 5 is_stmt 1 view .LVU174
 578              		.loc 1 2115 26 is_stmt 0 view .LVU175
 579 0018 4362     		str	r3, [r0, #36]
2116:System/storage/Storage.c ****     ext_dev->sector_size = 0;
 580              		.loc 1 2116 5 is_stmt 1 view .LVU176
 581              		.loc 1 2116 26 is_stmt 0 view .LVU177
 582 001a 8362     		str	r3, [r0, #40]
2117:System/storage/Storage.c ****     ext_dev->total_size  = 0;
 583              		.loc 1 2117 5 is_stmt 1 view .LVU178
 584              		.loc 1 2117 26 is_stmt 0 view .LVU179
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 49


 585 001c 8360     		str	r3, [r0, #8]
2118:System/storage/Storage.c ****     ext_dev->page_num    = 0;
 586              		.loc 1 2118 5 is_stmt 1 view .LVU180
 587              		.loc 1 2118 26 is_stmt 0 view .LVU181
 588 001e C360     		str	r3, [r0, #12]
2119:System/storage/Storage.c ****     ext_dev->page_size   = 0;
 589              		.loc 1 2119 5 is_stmt 1 view .LVU182
 590              		.loc 1 2119 26 is_stmt 0 view .LVU183
 591 0020 0361     		str	r3, [r0, #16]
2120:System/storage/Storage.c **** 
2121:System/storage/Storage.c ****     if (ext_dev->chip_type == Storage_ChipType_W25Qxx)
 592              		.loc 1 2121 5 is_stmt 1 view .LVU184
 593              		.loc 1 2121 16 is_stmt 0 view .LVU185
 594 0022 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 595              		.loc 1 2121 8 view .LVU186
 596 0024 012B     		cmp	r3, #1
 597 0026 04D0     		beq	.L62
2122:System/storage/Storage.c ****     {
2123:System/storage/Storage.c ****         ext_dev->obj = Storage_Malloc(sizeof(DevW25QxxObj_TypeDef));
2124:System/storage/Storage.c ****         if ((ext_dev->obj == NULL) || \
2125:System/storage/Storage.c ****             (To_DevW25Qxx_API(ext_dev->api)->info == NULL))
2126:System/storage/Storage.c ****             return false;
2127:System/storage/Storage.c **** 
2128:System/storage/Storage.c ****         ext_dev->start_addr  = W25QXX_BASE_ADDRESS;
2129:System/storage/Storage.c ****         ext_dev->sector_num  = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ext_dev->obj))
2130:System/storage/Storage.c ****         ext_dev->sector_size = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ext_dev->obj))
2131:System/storage/Storage.c ****         ext_dev->total_size  = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ext_dev->obj))
2132:System/storage/Storage.c ****         ext_dev->page_num    = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ext_dev->obj))
2133:System/storage/Storage.c ****         ext_dev->page_size   = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ext_dev->obj))
2134:System/storage/Storage.c **** 
2135:System/storage/Storage.c ****         To_DevW25Qxx_OBJ(ext_dev->obj)->systick   = Storage_GetSysTick_Ptr;
2136:System/storage/Storage.c ****         To_DevW25Qxx_OBJ(ext_dev->obj)->cs_ctl    = StoragePort_Api.cs_ctl;
2137:System/storage/Storage.c ****         To_DevW25Qxx_OBJ(ext_dev->obj)->bus_tx    = StoragePort_Api.bus_tx;
2138:System/storage/Storage.c ****         To_DevW25Qxx_OBJ(ext_dev->obj)->bus_rx    = StoragePort_Api.bus_rx;
2139:System/storage/Storage.c ****         To_DevW25Qxx_OBJ(ext_dev->obj)->bus_trans = StoragePort_Api.bus_trans;
2140:System/storage/Storage.c ****         To_DevW25Qxx_OBJ(ext_dev->obj)->delay_ms  = SrvOsCommon.delay_ms;
2141:System/storage/Storage.c **** 
2142:System/storage/Storage.c ****         return true;
2143:System/storage/Storage.c ****     }
2144:System/storage/Storage.c ****     else if (ext_dev->chip_type == Storage_ChipType_W25Nxx)
 598              		.loc 1 2144 10 is_stmt 1 view .LVU187
 599              		.loc 1 2144 13 is_stmt 0 view .LVU188
 600 0028 022B     		cmp	r3, #2
 601 002a 4AD0     		beq	.L63
2145:System/storage/Storage.c ****     {
2146:System/storage/Storage.c ****         ext_dev->obj = Storage_Malloc(sizeof(DevW25NxxObj_TypeDef));
2147:System/storage/Storage.c ****         if ((ext_dev->obj == NULL) || \
2148:System/storage/Storage.c ****             (To_DevW25Nxx_API(ext_dev->api)->info == NULL))
2149:System/storage/Storage.c ****             return false;
2150:System/storage/Storage.c ****         
2151:System/storage/Storage.c ****         ext_dev->start_addr  = W25NXX_BASE_ADDRESS;
2152:System/storage/Storage.c ****         ext_dev->total_size  = To_DevW25Nxx_API(ext_dev->api)->info(To_DevW25Nxx_OBJ(ext_dev->obj))
2153:System/storage/Storage.c ****         ext_dev->page_num    = To_DevW25Nxx_API(ext_dev->api)->info(To_DevW25Nxx_OBJ(ext_dev->obj))
2154:System/storage/Storage.c ****         ext_dev->page_size   = To_DevW25Nxx_API(ext_dev->api)->info(To_DevW25Nxx_OBJ(ext_dev->obj))
2155:System/storage/Storage.c **** 
2156:System/storage/Storage.c ****         To_DevW25Nxx_OBJ(ext_dev->obj)->systick   = Storage_GetSysTick_Ptr;
2157:System/storage/Storage.c ****         To_DevW25Nxx_OBJ(ext_dev->obj)->cs_ctl    = StoragePort_Api.cs_ctl;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 50


2158:System/storage/Storage.c ****         To_DevW25Nxx_OBJ(ext_dev->obj)->bus_tx    = StoragePort_Api.bus_tx;
2159:System/storage/Storage.c ****         To_DevW25Nxx_OBJ(ext_dev->obj)->bus_rx    = StoragePort_Api.bus_rx;
2160:System/storage/Storage.c ****         To_DevW25Nxx_OBJ(ext_dev->obj)->bus_trans = StoragePort_Api.bus_trans;
2161:System/storage/Storage.c ****         To_DevW25Nxx_OBJ(ext_dev->obj)->delay_ms  = SrvOsCommon.delay_ms;
2162:System/storage/Storage.c **** 
2163:System/storage/Storage.c ****         return true;
2164:System/storage/Storage.c ****     }
2165:System/storage/Storage.c ****     
2166:System/storage/Storage.c ****     return false;
 602              		.loc 1 2166 12 view .LVU189
 603 002c 0020     		movs	r0, #0
 604              	.LVL62:
 605              	.L49:
2167:System/storage/Storage.c **** }
 606              		.loc 1 2167 1 view .LVU190
 607 002e 38B0     		add	sp, sp, #224
 608              	.LCFI8:
 609              		.cfi_remember_state
 610              		.cfi_def_cfa_offset 8
 611              		@ sp needed
 612 0030 10BD     		pop	{r4, pc}
 613              	.LVL63:
 614              	.L62:
 615              	.LCFI9:
 616              		.cfi_restore_state
2123:System/storage/Storage.c ****         if ((ext_dev->obj == NULL) || \
 617              		.loc 1 2123 9 is_stmt 1 view .LVU191
2123:System/storage/Storage.c ****         if ((ext_dev->obj == NULL) || \
 618              		.loc 1 2123 24 is_stmt 0 view .LVU192
 619 0032 464B     		ldr	r3, .L64
 620 0034 9B6A     		ldr	r3, [r3, #40]
 621 0036 2020     		movs	r0, #32
 622              	.LVL64:
2123:System/storage/Storage.c ****         if ((ext_dev->obj == NULL) || \
 623              		.loc 1 2123 24 view .LVU193
 624 0038 9847     		blx	r3
 625              	.LVL65:
 626 003a 0146     		mov	r1, r0
2123:System/storage/Storage.c ****         if ((ext_dev->obj == NULL) || \
 627              		.loc 1 2123 22 view .LVU194
 628 003c E062     		str	r0, [r4, #44]
2124:System/storage/Storage.c ****             (To_DevW25Qxx_API(ext_dev->api)->info == NULL))
 629              		.loc 1 2124 9 is_stmt 1 view .LVU195
2124:System/storage/Storage.c ****             (To_DevW25Qxx_API(ext_dev->api)->info == NULL))
 630              		.loc 1 2124 12 is_stmt 0 view .LVU196
 631 003e 0028     		cmp	r0, #0
 632 0040 7BD0     		beq	.L53
2125:System/storage/Storage.c ****             return false;
 633              		.loc 1 2125 14 discriminator 1 view .LVU197
 634 0042 236B     		ldr	r3, [r4, #48]
2125:System/storage/Storage.c ****             return false;
 635              		.loc 1 2125 44 discriminator 1 view .LVU198
 636 0044 5A69     		ldr	r2, [r3, #20]
2124:System/storage/Storage.c ****             (To_DevW25Qxx_API(ext_dev->api)->info == NULL))
 637              		.loc 1 2124 36 discriminator 1 view .LVU199
 638 0046 002A     		cmp	r2, #0
 639 0048 79D0     		beq	.L54
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 51


2128:System/storage/Storage.c ****         ext_dev->sector_num  = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ext_dev->obj))
 640              		.loc 1 2128 9 is_stmt 1 view .LVU200
2128:System/storage/Storage.c ****         ext_dev->sector_num  = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ext_dev->obj))
 641              		.loc 1 2128 30 is_stmt 0 view .LVU201
 642 004a 0022     		movs	r2, #0
 643 004c 6260     		str	r2, [r4, #4]
2129:System/storage/Storage.c ****         ext_dev->sector_size = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ext_dev->obj))
 644              		.loc 1 2129 9 is_stmt 1 view .LVU202
2129:System/storage/Storage.c ****         ext_dev->sector_size = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ext_dev->obj))
 645              		.loc 1 2129 62 is_stmt 0 view .LVU203
 646 004e 5B69     		ldr	r3, [r3, #20]
2129:System/storage/Storage.c ****         ext_dev->sector_size = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ext_dev->obj))
 647              		.loc 1 2129 32 view .LVU204
 648 0050 6846     		mov	r0, sp
 649 0052 9847     		blx	r3
 650              	.LVL66:
2129:System/storage/Storage.c ****         ext_dev->sector_size = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ext_dev->obj))
 651              		.loc 1 2129 100 view .LVU205
 652 0054 BDF81830 		ldrh	r3, [sp, #24]
2129:System/storage/Storage.c ****         ext_dev->sector_size = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ext_dev->obj))
 653              		.loc 1 2129 30 view .LVU206
 654 0058 6362     		str	r3, [r4, #36]
2130:System/storage/Storage.c ****         ext_dev->total_size  = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ext_dev->obj))
 655              		.loc 1 2130 9 is_stmt 1 view .LVU207
2130:System/storage/Storage.c ****         ext_dev->total_size  = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ext_dev->obj))
 656              		.loc 1 2130 32 is_stmt 0 view .LVU208
 657 005a 236B     		ldr	r3, [r4, #48]
2130:System/storage/Storage.c ****         ext_dev->total_size  = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ext_dev->obj))
 658              		.loc 1 2130 62 view .LVU209
 659 005c 5B69     		ldr	r3, [r3, #20]
2130:System/storage/Storage.c ****         ext_dev->total_size  = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ext_dev->obj))
 660              		.loc 1 2130 32 view .LVU210
 661 005e E16A     		ldr	r1, [r4, #44]
 662 0060 07A8     		add	r0, sp, #28
 663 0062 9847     		blx	r3
 664              	.LVL67:
2130:System/storage/Storage.c ****         ext_dev->total_size  = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ext_dev->obj))
 665              		.loc 1 2130 100 view .LVU211
 666 0064 0B9B     		ldr	r3, [sp, #44]
2130:System/storage/Storage.c ****         ext_dev->total_size  = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ext_dev->obj))
 667              		.loc 1 2130 30 view .LVU212
 668 0066 A362     		str	r3, [r4, #40]
2131:System/storage/Storage.c ****         ext_dev->page_num    = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ext_dev->obj))
 669              		.loc 1 2131 9 is_stmt 1 view .LVU213
2131:System/storage/Storage.c ****         ext_dev->page_num    = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ext_dev->obj))
 670              		.loc 1 2131 32 is_stmt 0 view .LVU214
 671 0068 236B     		ldr	r3, [r4, #48]
2131:System/storage/Storage.c ****         ext_dev->page_num    = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ext_dev->obj))
 672              		.loc 1 2131 62 view .LVU215
 673 006a 5B69     		ldr	r3, [r3, #20]
2131:System/storage/Storage.c ****         ext_dev->page_num    = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ext_dev->obj))
 674              		.loc 1 2131 32 view .LVU216
 675 006c E16A     		ldr	r1, [r4, #44]
 676 006e 0EA8     		add	r0, sp, #56
 677 0070 9847     		blx	r3
 678              	.LVL68:
2131:System/storage/Storage.c ****         ext_dev->page_num    = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ext_dev->obj))
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 52


 679              		.loc 1 2131 100 view .LVU217
 680 0072 109B     		ldr	r3, [sp, #64]
2131:System/storage/Storage.c ****         ext_dev->page_num    = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ext_dev->obj))
 681              		.loc 1 2131 30 view .LVU218
 682 0074 A360     		str	r3, [r4, #8]
2132:System/storage/Storage.c ****         ext_dev->page_size   = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ext_dev->obj))
 683              		.loc 1 2132 9 is_stmt 1 view .LVU219
2132:System/storage/Storage.c ****         ext_dev->page_size   = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ext_dev->obj))
 684              		.loc 1 2132 32 is_stmt 0 view .LVU220
 685 0076 236B     		ldr	r3, [r4, #48]
2132:System/storage/Storage.c ****         ext_dev->page_size   = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ext_dev->obj))
 686              		.loc 1 2132 62 view .LVU221
 687 0078 5B69     		ldr	r3, [r3, #20]
2132:System/storage/Storage.c ****         ext_dev->page_size   = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ext_dev->obj))
 688              		.loc 1 2132 32 view .LVU222
 689 007a E16A     		ldr	r1, [r4, #44]
 690 007c 15A8     		add	r0, sp, #84
 691 007e 9847     		blx	r3
 692              	.LVL69:
2132:System/storage/Storage.c ****         ext_dev->page_size   = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ext_dev->obj))
 693              		.loc 1 2132 100 view .LVU223
 694 0080 BDF86E30 		ldrh	r3, [sp, #110]
2132:System/storage/Storage.c ****         ext_dev->page_size   = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ext_dev->obj))
 695              		.loc 1 2132 30 view .LVU224
 696 0084 E360     		str	r3, [r4, #12]
2133:System/storage/Storage.c **** 
 697              		.loc 1 2133 9 is_stmt 1 view .LVU225
2133:System/storage/Storage.c **** 
 698              		.loc 1 2133 32 is_stmt 0 view .LVU226
 699 0086 236B     		ldr	r3, [r4, #48]
2133:System/storage/Storage.c **** 
 700              		.loc 1 2133 62 view .LVU227
 701 0088 5B69     		ldr	r3, [r3, #20]
2133:System/storage/Storage.c **** 
 702              		.loc 1 2133 32 view .LVU228
 703 008a E16A     		ldr	r1, [r4, #44]
 704 008c 1CA8     		add	r0, sp, #112
 705 008e 9847     		blx	r3
 706              	.LVL70:
2133:System/storage/Storage.c **** 
 707              		.loc 1 2133 100 view .LVU229
 708 0090 BDF88430 		ldrh	r3, [sp, #132]
2133:System/storage/Storage.c **** 
 709              		.loc 1 2133 30 view .LVU230
 710 0094 2361     		str	r3, [r4, #16]
2135:System/storage/Storage.c ****         To_DevW25Qxx_OBJ(ext_dev->obj)->cs_ctl    = StoragePort_Api.cs_ctl;
 711              		.loc 1 2135 9 is_stmt 1 view .LVU231
 712 0096 E36A     		ldr	r3, [r4, #44]
2135:System/storage/Storage.c ****         To_DevW25Qxx_OBJ(ext_dev->obj)->cs_ctl    = StoragePort_Api.cs_ctl;
 713              		.loc 1 2135 53 is_stmt 0 view .LVU232
 714 0098 2C4A     		ldr	r2, .L64
 715 009a 1168     		ldr	r1, [r2]
2135:System/storage/Storage.c ****         To_DevW25Qxx_OBJ(ext_dev->obj)->cs_ctl    = StoragePort_Api.cs_ctl;
 716              		.loc 1 2135 51 view .LVU233
 717 009c 9961     		str	r1, [r3, #24]
2136:System/storage/Storage.c ****         To_DevW25Qxx_OBJ(ext_dev->obj)->bus_tx    = StoragePort_Api.bus_tx;
 718              		.loc 1 2136 9 is_stmt 1 view .LVU234
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 53


 719 009e E16A     		ldr	r1, [r4, #44]
2136:System/storage/Storage.c ****         To_DevW25Qxx_OBJ(ext_dev->obj)->bus_tx    = StoragePort_Api.bus_tx;
 720              		.loc 1 2136 68 is_stmt 0 view .LVU235
 721 00a0 2B4B     		ldr	r3, .L64+4
 722 00a2 9868     		ldr	r0, [r3, #8]
2136:System/storage/Storage.c ****         To_DevW25Qxx_OBJ(ext_dev->obj)->bus_tx    = StoragePort_Api.bus_tx;
 723              		.loc 1 2136 51 view .LVU236
 724 00a4 0861     		str	r0, [r1, #16]
2137:System/storage/Storage.c ****         To_DevW25Qxx_OBJ(ext_dev->obj)->bus_rx    = StoragePort_Api.bus_rx;
 725              		.loc 1 2137 9 is_stmt 1 view .LVU237
 726 00a6 E16A     		ldr	r1, [r4, #44]
2137:System/storage/Storage.c ****         To_DevW25Qxx_OBJ(ext_dev->obj)->bus_rx    = StoragePort_Api.bus_rx;
 727              		.loc 1 2137 68 is_stmt 0 view .LVU238
 728 00a8 D868     		ldr	r0, [r3, #12]
2137:System/storage/Storage.c ****         To_DevW25Qxx_OBJ(ext_dev->obj)->bus_rx    = StoragePort_Api.bus_rx;
 729              		.loc 1 2137 51 view .LVU239
 730 00aa 4860     		str	r0, [r1, #4]
2138:System/storage/Storage.c ****         To_DevW25Qxx_OBJ(ext_dev->obj)->bus_trans = StoragePort_Api.bus_trans;
 731              		.loc 1 2138 9 is_stmt 1 view .LVU240
 732 00ac E16A     		ldr	r1, [r4, #44]
2138:System/storage/Storage.c ****         To_DevW25Qxx_OBJ(ext_dev->obj)->bus_trans = StoragePort_Api.bus_trans;
 733              		.loc 1 2138 68 is_stmt 0 view .LVU241
 734 00ae 1869     		ldr	r0, [r3, #16]
2138:System/storage/Storage.c ****         To_DevW25Qxx_OBJ(ext_dev->obj)->bus_trans = StoragePort_Api.bus_trans;
 735              		.loc 1 2138 51 view .LVU242
 736 00b0 8860     		str	r0, [r1, #8]
2139:System/storage/Storage.c ****         To_DevW25Qxx_OBJ(ext_dev->obj)->delay_ms  = SrvOsCommon.delay_ms;
 737              		.loc 1 2139 9 is_stmt 1 view .LVU243
 738 00b2 E16A     		ldr	r1, [r4, #44]
2139:System/storage/Storage.c ****         To_DevW25Qxx_OBJ(ext_dev->obj)->delay_ms  = SrvOsCommon.delay_ms;
 739              		.loc 1 2139 68 is_stmt 0 view .LVU244
 740 00b4 5B69     		ldr	r3, [r3, #20]
2139:System/storage/Storage.c ****         To_DevW25Qxx_OBJ(ext_dev->obj)->delay_ms  = SrvOsCommon.delay_ms;
 741              		.loc 1 2139 51 view .LVU245
 742 00b6 CB60     		str	r3, [r1, #12]
2140:System/storage/Storage.c **** 
 743              		.loc 1 2140 9 is_stmt 1 view .LVU246
 744 00b8 E36A     		ldr	r3, [r4, #44]
2140:System/storage/Storage.c **** 
 745              		.loc 1 2140 64 is_stmt 0 view .LVU247
 746 00ba 5268     		ldr	r2, [r2, #4]
2140:System/storage/Storage.c **** 
 747              		.loc 1 2140 51 view .LVU248
 748 00bc 5A61     		str	r2, [r3, #20]
2142:System/storage/Storage.c ****     }
 749              		.loc 1 2142 9 is_stmt 1 view .LVU249
2142:System/storage/Storage.c ****     }
 750              		.loc 1 2142 16 is_stmt 0 view .LVU250
 751 00be 0120     		movs	r0, #1
 752 00c0 B5E7     		b	.L49
 753              	.LVL71:
 754              	.L63:
2146:System/storage/Storage.c ****         if ((ext_dev->obj == NULL) || \
 755              		.loc 1 2146 9 is_stmt 1 view .LVU251
2146:System/storage/Storage.c ****         if ((ext_dev->obj == NULL) || \
 756              		.loc 1 2146 24 is_stmt 0 view .LVU252
 757 00c2 224B     		ldr	r3, .L64
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 54


 758 00c4 9B6A     		ldr	r3, [r3, #40]
 759 00c6 2820     		movs	r0, #40
 760              	.LVL72:
2146:System/storage/Storage.c ****         if ((ext_dev->obj == NULL) || \
 761              		.loc 1 2146 24 view .LVU253
 762 00c8 9847     		blx	r3
 763              	.LVL73:
 764 00ca 0146     		mov	r1, r0
2146:System/storage/Storage.c ****         if ((ext_dev->obj == NULL) || \
 765              		.loc 1 2146 22 view .LVU254
 766 00cc E062     		str	r0, [r4, #44]
2147:System/storage/Storage.c ****             (To_DevW25Nxx_API(ext_dev->api)->info == NULL))
 767              		.loc 1 2147 9 is_stmt 1 view .LVU255
2147:System/storage/Storage.c ****             (To_DevW25Nxx_API(ext_dev->api)->info == NULL))
 768              		.loc 1 2147 12 is_stmt 0 view .LVU256
 769 00ce 0028     		cmp	r0, #0
 770 00d0 37D0     		beq	.L56
2148:System/storage/Storage.c ****             return false;
 771              		.loc 1 2148 14 discriminator 1 view .LVU257
 772 00d2 236B     		ldr	r3, [r4, #48]
2148:System/storage/Storage.c ****             return false;
 773              		.loc 1 2148 44 discriminator 1 view .LVU258
 774 00d4 5A69     		ldr	r2, [r3, #20]
2147:System/storage/Storage.c ****             (To_DevW25Nxx_API(ext_dev->api)->info == NULL))
 775              		.loc 1 2147 36 discriminator 1 view .LVU259
 776 00d6 002A     		cmp	r2, #0
 777 00d8 35D0     		beq	.L57
2151:System/storage/Storage.c ****         ext_dev->total_size  = To_DevW25Nxx_API(ext_dev->api)->info(To_DevW25Nxx_OBJ(ext_dev->obj))
 778              		.loc 1 2151 9 is_stmt 1 view .LVU260
2151:System/storage/Storage.c ****         ext_dev->total_size  = To_DevW25Nxx_API(ext_dev->api)->info(To_DevW25Nxx_OBJ(ext_dev->obj))
 779              		.loc 1 2151 30 is_stmt 0 view .LVU261
 780 00da 0022     		movs	r2, #0
 781 00dc 6260     		str	r2, [r4, #4]
2152:System/storage/Storage.c ****         ext_dev->page_num    = To_DevW25Nxx_API(ext_dev->api)->info(To_DevW25Nxx_OBJ(ext_dev->obj))
 782              		.loc 1 2152 9 is_stmt 1 view .LVU262
2152:System/storage/Storage.c ****         ext_dev->page_num    = To_DevW25Nxx_API(ext_dev->api)->info(To_DevW25Nxx_OBJ(ext_dev->obj))
 783              		.loc 1 2152 62 is_stmt 0 view .LVU263
 784 00de 5B69     		ldr	r3, [r3, #20]
2152:System/storage/Storage.c ****         ext_dev->page_num    = To_DevW25Nxx_API(ext_dev->api)->info(To_DevW25Nxx_OBJ(ext_dev->obj))
 785              		.loc 1 2152 32 view .LVU264
 786 00e0 23A8     		add	r0, sp, #140
 787 00e2 9847     		blx	r3
 788              	.LVL74:
2152:System/storage/Storage.c ****         ext_dev->page_num    = To_DevW25Nxx_API(ext_dev->api)->info(To_DevW25Nxx_OBJ(ext_dev->obj))
 789              		.loc 1 2152 100 view .LVU265
 790 00e4 259B     		ldr	r3, [sp, #148]
2152:System/storage/Storage.c ****         ext_dev->page_num    = To_DevW25Nxx_API(ext_dev->api)->info(To_DevW25Nxx_OBJ(ext_dev->obj))
 791              		.loc 1 2152 30 view .LVU266
 792 00e6 A360     		str	r3, [r4, #8]
2153:System/storage/Storage.c ****         ext_dev->page_size   = To_DevW25Nxx_API(ext_dev->api)->info(To_DevW25Nxx_OBJ(ext_dev->obj))
 793              		.loc 1 2153 9 is_stmt 1 view .LVU267
2153:System/storage/Storage.c ****         ext_dev->page_size   = To_DevW25Nxx_API(ext_dev->api)->info(To_DevW25Nxx_OBJ(ext_dev->obj))
 794              		.loc 1 2153 32 is_stmt 0 view .LVU268
 795 00e8 236B     		ldr	r3, [r4, #48]
2153:System/storage/Storage.c ****         ext_dev->page_size   = To_DevW25Nxx_API(ext_dev->api)->info(To_DevW25Nxx_OBJ(ext_dev->obj))
 796              		.loc 1 2153 62 view .LVU269
 797 00ea 5B69     		ldr	r3, [r3, #20]
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 55


2153:System/storage/Storage.c ****         ext_dev->page_size   = To_DevW25Nxx_API(ext_dev->api)->info(To_DevW25Nxx_OBJ(ext_dev->obj))
 798              		.loc 1 2153 32 view .LVU270
 799 00ec E16A     		ldr	r1, [r4, #44]
 800 00ee 2AA8     		add	r0, sp, #168
 801 00f0 9847     		blx	r3
 802              	.LVL75:
2153:System/storage/Storage.c ****         ext_dev->page_size   = To_DevW25Nxx_API(ext_dev->api)->info(To_DevW25Nxx_OBJ(ext_dev->obj))
 803              		.loc 1 2153 100 view .LVU271
 804 00f2 2E9B     		ldr	r3, [sp, #184]
2153:System/storage/Storage.c ****         ext_dev->page_size   = To_DevW25Nxx_API(ext_dev->api)->info(To_DevW25Nxx_OBJ(ext_dev->obj))
 805              		.loc 1 2153 30 view .LVU272
 806 00f4 E360     		str	r3, [r4, #12]
2154:System/storage/Storage.c **** 
 807              		.loc 1 2154 9 is_stmt 1 view .LVU273
2154:System/storage/Storage.c **** 
 808              		.loc 1 2154 32 is_stmt 0 view .LVU274
 809 00f6 236B     		ldr	r3, [r4, #48]
2154:System/storage/Storage.c **** 
 810              		.loc 1 2154 62 view .LVU275
 811 00f8 5B69     		ldr	r3, [r3, #20]
2154:System/storage/Storage.c **** 
 812              		.loc 1 2154 32 view .LVU276
 813 00fa E16A     		ldr	r1, [r4, #44]
 814 00fc 31A8     		add	r0, sp, #196
 815 00fe 9847     		blx	r3
 816              	.LVL76:
2154:System/storage/Storage.c **** 
 817              		.loc 1 2154 100 view .LVU277
 818 0100 BDF8D030 		ldrh	r3, [sp, #208]
2154:System/storage/Storage.c **** 
 819              		.loc 1 2154 30 view .LVU278
 820 0104 2361     		str	r3, [r4, #16]
2156:System/storage/Storage.c ****         To_DevW25Nxx_OBJ(ext_dev->obj)->cs_ctl    = StoragePort_Api.cs_ctl;
 821              		.loc 1 2156 9 is_stmt 1 view .LVU279
 822 0106 E36A     		ldr	r3, [r4, #44]
2156:System/storage/Storage.c ****         To_DevW25Nxx_OBJ(ext_dev->obj)->cs_ctl    = StoragePort_Api.cs_ctl;
 823              		.loc 1 2156 53 is_stmt 0 view .LVU280
 824 0108 104A     		ldr	r2, .L64
 825 010a 1168     		ldr	r1, [r2]
2156:System/storage/Storage.c ****         To_DevW25Nxx_OBJ(ext_dev->obj)->cs_ctl    = StoragePort_Api.cs_ctl;
 826              		.loc 1 2156 51 view .LVU281
 827 010c 1962     		str	r1, [r3, #32]
2157:System/storage/Storage.c ****         To_DevW25Nxx_OBJ(ext_dev->obj)->bus_tx    = StoragePort_Api.bus_tx;
 828              		.loc 1 2157 9 is_stmt 1 view .LVU282
 829 010e E16A     		ldr	r1, [r4, #44]
2157:System/storage/Storage.c ****         To_DevW25Nxx_OBJ(ext_dev->obj)->bus_tx    = StoragePort_Api.bus_tx;
 830              		.loc 1 2157 68 is_stmt 0 view .LVU283
 831 0110 0F4B     		ldr	r3, .L64+4
 832 0112 9868     		ldr	r0, [r3, #8]
2157:System/storage/Storage.c ****         To_DevW25Nxx_OBJ(ext_dev->obj)->bus_tx    = StoragePort_Api.bus_tx;
 833              		.loc 1 2157 51 view .LVU284
 834 0114 8861     		str	r0, [r1, #24]
2158:System/storage/Storage.c ****         To_DevW25Nxx_OBJ(ext_dev->obj)->bus_rx    = StoragePort_Api.bus_rx;
 835              		.loc 1 2158 9 is_stmt 1 view .LVU285
 836 0116 E16A     		ldr	r1, [r4, #44]
2158:System/storage/Storage.c ****         To_DevW25Nxx_OBJ(ext_dev->obj)->bus_rx    = StoragePort_Api.bus_rx;
 837              		.loc 1 2158 68 is_stmt 0 view .LVU286
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 56


 838 0118 D868     		ldr	r0, [r3, #12]
2158:System/storage/Storage.c ****         To_DevW25Nxx_OBJ(ext_dev->obj)->bus_rx    = StoragePort_Api.bus_rx;
 839              		.loc 1 2158 51 view .LVU287
 840 011a C860     		str	r0, [r1, #12]
2159:System/storage/Storage.c ****         To_DevW25Nxx_OBJ(ext_dev->obj)->bus_trans = StoragePort_Api.bus_trans;
 841              		.loc 1 2159 9 is_stmt 1 view .LVU288
 842 011c E16A     		ldr	r1, [r4, #44]
2159:System/storage/Storage.c ****         To_DevW25Nxx_OBJ(ext_dev->obj)->bus_trans = StoragePort_Api.bus_trans;
 843              		.loc 1 2159 68 is_stmt 0 view .LVU289
 844 011e 1869     		ldr	r0, [r3, #16]
2159:System/storage/Storage.c ****         To_DevW25Nxx_OBJ(ext_dev->obj)->bus_trans = StoragePort_Api.bus_trans;
 845              		.loc 1 2159 51 view .LVU290
 846 0120 0861     		str	r0, [r1, #16]
2160:System/storage/Storage.c ****         To_DevW25Nxx_OBJ(ext_dev->obj)->delay_ms  = SrvOsCommon.delay_ms;
 847              		.loc 1 2160 9 is_stmt 1 view .LVU291
 848 0122 E16A     		ldr	r1, [r4, #44]
2160:System/storage/Storage.c ****         To_DevW25Nxx_OBJ(ext_dev->obj)->delay_ms  = SrvOsCommon.delay_ms;
 849              		.loc 1 2160 68 is_stmt 0 view .LVU292
 850 0124 5B69     		ldr	r3, [r3, #20]
2160:System/storage/Storage.c ****         To_DevW25Nxx_OBJ(ext_dev->obj)->delay_ms  = SrvOsCommon.delay_ms;
 851              		.loc 1 2160 51 view .LVU293
 852 0126 4B61     		str	r3, [r1, #20]
2161:System/storage/Storage.c **** 
 853              		.loc 1 2161 9 is_stmt 1 view .LVU294
 854 0128 E36A     		ldr	r3, [r4, #44]
2161:System/storage/Storage.c **** 
 855              		.loc 1 2161 64 is_stmt 0 view .LVU295
 856 012a 5268     		ldr	r2, [r2, #4]
2161:System/storage/Storage.c **** 
 857              		.loc 1 2161 51 view .LVU296
 858 012c DA61     		str	r2, [r3, #28]
2163:System/storage/Storage.c ****     }
 859              		.loc 1 2163 9 is_stmt 1 view .LVU297
2163:System/storage/Storage.c ****     }
 860              		.loc 1 2163 16 is_stmt 0 view .LVU298
 861 012e 0120     		movs	r0, #1
 862 0130 7DE7     		b	.L49
 863              	.LVL77:
 864              	.L51:
 865              	.LCFI10:
 866              		.cfi_def_cfa_offset 0
 867              		.cfi_restore 4
 868              		.cfi_restore 14
2112:System/storage/Storage.c **** 
 869              		.loc 1 2112 16 view .LVU299
 870 0132 0020     		movs	r0, #0
 871              	.LVL78:
 872              		.loc 1 2167 1 view .LVU300
 873 0134 7047     		bx	lr
 874              	.LVL79:
 875              	.L52:
 876              	.LCFI11:
 877              		.cfi_def_cfa_offset 232
 878              		.cfi_offset 4, -8
 879              		.cfi_offset 14, -4
2112:System/storage/Storage.c **** 
 880              		.loc 1 2112 16 view .LVU301
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 57


 881 0136 0020     		movs	r0, #0
 882              	.LVL80:
2112:System/storage/Storage.c **** 
 883              		.loc 1 2112 16 view .LVU302
 884 0138 79E7     		b	.L49
 885              	.L53:
2126:System/storage/Storage.c **** 
 886              		.loc 1 2126 20 view .LVU303
 887 013a 0020     		movs	r0, #0
 888 013c 77E7     		b	.L49
 889              	.L54:
 890 013e 0020     		movs	r0, #0
 891 0140 75E7     		b	.L49
 892              	.L56:
2149:System/storage/Storage.c ****         
 893              		.loc 1 2149 20 view .LVU304
 894 0142 0020     		movs	r0, #0
 895 0144 73E7     		b	.L49
 896              	.L57:
 897 0146 0020     		movs	r0, #0
 898 0148 71E7     		b	.L49
 899              	.L65:
 900 014a 00BF     		.align	2
 901              	.L64:
 902 014c 00000000 		.word	SrvOsCommon
 903 0150 00000000 		.word	StoragePort_Api
 904              		.cfi_endproc
 905              	.LFE179:
 907              		.section	.text.Storage_Device_Init,"ax",%progbits
 908              		.align	1
 909              		.syntax unified
 910              		.thumb
 911              		.thumb_func
 913              	Storage_Device_Init:
 914              	.LVL81:
 915              	.LFB180:
2168:System/storage/Storage.c **** 
2169:System/storage/Storage.c **** static bool Storage_Device_Init(StorageDevObj_TypeDef *ext_dev)
2170:System/storage/Storage.c **** {
 916              		.loc 1 2170 1 is_stmt 1 view -0
 917              		.cfi_startproc
 918              		@ args = 0, pretend = 0, frame = 112
 919              		@ frame_needed = 0, uses_anonymous_args = 0
2171:System/storage/Storage.c ****     uint8_t init_state = 0;
 920              		.loc 1 2171 5 view .LVU306
2172:System/storage/Storage.c **** 
2173:System/storage/Storage.c ****     if (ext_dev == NULL)
 921              		.loc 1 2173 5 view .LVU307
 922              		.loc 1 2173 8 is_stmt 0 view .LVU308
 923 0000 0028     		cmp	r0, #0
 924 0002 46D0     		beq	.L69
2170:System/storage/Storage.c ****     uint8_t init_state = 0;
 925              		.loc 1 2170 1 view .LVU309
 926 0004 70B5     		push	{r4, r5, r6, lr}
 927              	.LCFI12:
 928              		.cfi_def_cfa_offset 16
 929              		.cfi_offset 4, -16
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 58


 930              		.cfi_offset 5, -12
 931              		.cfi_offset 6, -8
 932              		.cfi_offset 14, -4
 933 0006 9CB0     		sub	sp, sp, #112
 934              	.LCFI13:
 935              		.cfi_def_cfa_offset 128
 936 0008 0446     		mov	r4, r0
2174:System/storage/Storage.c ****         return false;
2175:System/storage/Storage.c **** 
2176:System/storage/Storage.c ****     if (ext_dev->chip_type == Storage_ChipType_W25Qxx)
 937              		.loc 1 2176 5 is_stmt 1 view .LVU310
 938              		.loc 1 2176 16 is_stmt 0 view .LVU311
 939 000a 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 940              		.loc 1 2176 8 view .LVU312
 941 000c 012B     		cmp	r3, #1
 942 000e 04D0     		beq	.L79
2177:System/storage/Storage.c ****     {
2178:System/storage/Storage.c ****         if ((To_DevW25Qxx_API(ext_dev->api)->init == NULL) || \
2179:System/storage/Storage.c ****             (To_DevW25Qxx_API(ext_dev->api)->info == NULL))
2180:System/storage/Storage.c ****             return false;
2181:System/storage/Storage.c **** 
2182:System/storage/Storage.c ****         init_state = To_DevW25Qxx_API(ext_dev->api)->init(To_DevW25Qxx_OBJ(ext_dev->obj));
2183:System/storage/Storage.c ****         Storage_Monitor.module_prod_type = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ex
2184:System/storage/Storage.c ****         Storage_Monitor.module_prod_code = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ex
2185:System/storage/Storage.c ****     
2186:System/storage/Storage.c ****         return ((DevW25Qxx_Error_List)init_state == DevW25Qxx_Ok) ? true : false;
2187:System/storage/Storage.c ****     }
2188:System/storage/Storage.c ****     else if (ext_dev->chip_type == Storage_ChipType_W25Nxx)
 943              		.loc 1 2188 10 is_stmt 1 view .LVU313
 944              		.loc 1 2188 13 is_stmt 0 view .LVU314
 945 0010 022B     		cmp	r3, #2
 946 0012 21D0     		beq	.L80
2189:System/storage/Storage.c ****     {
2190:System/storage/Storage.c ****         if ((To_DevW25Nxx_API(ext_dev->api)->init == NULL) || \
2191:System/storage/Storage.c ****             (To_DevW25Nxx_API(ext_dev->api)->info == NULL))
2192:System/storage/Storage.c ****             return false;
2193:System/storage/Storage.c **** 
2194:System/storage/Storage.c ****         init_state = To_DevW25Nxx_API(ext_dev->api)->init(To_DevW25Nxx_OBJ(ext_dev->obj));
2195:System/storage/Storage.c ****         Storage_Monitor.module_prod_type = To_DevW25Nxx_API(ext_dev->api)->info(To_DevW25Nxx_OBJ(ex
2196:System/storage/Storage.c ****         Storage_Monitor.module_prod_code = To_DevW25Nxx_API(ext_dev->api)->info(To_DevW25Nxx_OBJ(ex
2197:System/storage/Storage.c **** 
2198:System/storage/Storage.c ****         return ((DevW25Nxx_Error_List)init_state == DevW25Nxx_Ok) ? true : false;
2199:System/storage/Storage.c ****     }
2200:System/storage/Storage.c **** 
2201:System/storage/Storage.c ****     return false;
 947              		.loc 1 2201 12 view .LVU315
 948 0014 0020     		movs	r0, #0
 949              	.LVL82:
 950              	.L67:
2202:System/storage/Storage.c **** }
 951              		.loc 1 2202 1 view .LVU316
 952 0016 1CB0     		add	sp, sp, #112
 953              	.LCFI14:
 954              		.cfi_remember_state
 955              		.cfi_def_cfa_offset 16
 956              		@ sp needed
 957 0018 70BD     		pop	{r4, r5, r6, pc}
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 59


 958              	.LVL83:
 959              	.L79:
 960              	.LCFI15:
 961              		.cfi_restore_state
2178:System/storage/Storage.c ****             (To_DevW25Qxx_API(ext_dev->api)->info == NULL))
 962              		.loc 1 2178 9 is_stmt 1 view .LVU317
2178:System/storage/Storage.c ****             (To_DevW25Qxx_API(ext_dev->api)->info == NULL))
 963              		.loc 1 2178 14 is_stmt 0 view .LVU318
 964 001a 036B     		ldr	r3, [r0, #48]
2178:System/storage/Storage.c ****             (To_DevW25Qxx_API(ext_dev->api)->info == NULL))
 965              		.loc 1 2178 44 view .LVU319
 966 001c 1A68     		ldr	r2, [r3]
2178:System/storage/Storage.c ****             (To_DevW25Qxx_API(ext_dev->api)->info == NULL))
 967              		.loc 1 2178 12 view .LVU320
 968 001e 002A     		cmp	r2, #0
 969 0020 39D0     		beq	.L70
2179:System/storage/Storage.c ****             return false;
 970              		.loc 1 2179 44 discriminator 1 view .LVU321
 971 0022 5B69     		ldr	r3, [r3, #20]
2178:System/storage/Storage.c ****             (To_DevW25Qxx_API(ext_dev->api)->info == NULL))
 972              		.loc 1 2178 60 discriminator 1 view .LVU322
 973 0024 002B     		cmp	r3, #0
 974 0026 38D0     		beq	.L71
2182:System/storage/Storage.c ****         Storage_Monitor.module_prod_type = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ex
 975              		.loc 1 2182 9 is_stmt 1 view .LVU323
2182:System/storage/Storage.c ****         Storage_Monitor.module_prod_type = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ex
 976              		.loc 1 2182 22 is_stmt 0 view .LVU324
 977 0028 C06A     		ldr	r0, [r0, #44]
 978              	.LVL84:
2182:System/storage/Storage.c ****         Storage_Monitor.module_prod_type = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ex
 979              		.loc 1 2182 22 view .LVU325
 980 002a 9047     		blx	r2
 981              	.LVL85:
 982 002c 0546     		mov	r5, r0
 983              	.LVL86:
2183:System/storage/Storage.c ****         Storage_Monitor.module_prod_code = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ex
 984              		.loc 1 2183 9 is_stmt 1 view .LVU326
2183:System/storage/Storage.c ****         Storage_Monitor.module_prod_code = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ex
 985              		.loc 1 2183 44 is_stmt 0 view .LVU327
 986 002e 236B     		ldr	r3, [r4, #48]
2183:System/storage/Storage.c ****         Storage_Monitor.module_prod_code = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ex
 987              		.loc 1 2183 74 view .LVU328
 988 0030 5B69     		ldr	r3, [r3, #20]
2183:System/storage/Storage.c ****         Storage_Monitor.module_prod_code = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ex
 989              		.loc 1 2183 44 view .LVU329
 990 0032 E16A     		ldr	r1, [r4, #44]
 991 0034 6846     		mov	r0, sp
 992 0036 9847     		blx	r3
 993              	.LVL87:
2183:System/storage/Storage.c ****         Storage_Monitor.module_prod_code = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ex
 994              		.loc 1 2183 112 view .LVU330
 995 0038 9DF80030 		ldrb	r3, [sp]	@ zero_extendqisi2
2183:System/storage/Storage.c ****         Storage_Monitor.module_prod_code = To_DevW25Qxx_API(ext_dev->api)->info(To_DevW25Qxx_OBJ(ex
 996              		.loc 1 2183 42 view .LVU331
 997 003c 1A4E     		ldr	r6, .L81
 998 003e 7382     		strh	r3, [r6, #18]	@ movhi
2184:System/storage/Storage.c ****     
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 60


 999              		.loc 1 2184 9 is_stmt 1 view .LVU332
2184:System/storage/Storage.c ****     
 1000              		.loc 1 2184 44 is_stmt 0 view .LVU333
 1001 0040 236B     		ldr	r3, [r4, #48]
2184:System/storage/Storage.c ****     
 1002              		.loc 1 2184 74 view .LVU334
 1003 0042 5B69     		ldr	r3, [r3, #20]
2184:System/storage/Storage.c ****     
 1004              		.loc 1 2184 44 view .LVU335
 1005 0044 E16A     		ldr	r1, [r4, #44]
 1006 0046 07A8     		add	r0, sp, #28
 1007 0048 9847     		blx	r3
 1008              	.LVL88:
2184:System/storage/Storage.c ****     
 1009              		.loc 1 2184 112 view .LVU336
 1010 004a BDF81E30 		ldrh	r3, [sp, #30]
2184:System/storage/Storage.c ****     
 1011              		.loc 1 2184 42 view .LVU337
 1012 004e B382     		strh	r3, [r6, #20]	@ movhi
2186:System/storage/Storage.c ****     }
 1013              		.loc 1 2186 9 is_stmt 1 view .LVU338
2186:System/storage/Storage.c ****     }
 1014              		.loc 1 2186 74 is_stmt 0 view .LVU339
 1015 0050 B5FA85F0 		clz	r0, r5
 1016 0054 4009     		lsrs	r0, r0, #5
 1017 0056 DEE7     		b	.L67
 1018              	.LVL89:
 1019              	.L80:
2190:System/storage/Storage.c ****             (To_DevW25Nxx_API(ext_dev->api)->info == NULL))
 1020              		.loc 1 2190 9 is_stmt 1 view .LVU340
2190:System/storage/Storage.c ****             (To_DevW25Nxx_API(ext_dev->api)->info == NULL))
 1021              		.loc 1 2190 14 is_stmt 0 view .LVU341
 1022 0058 036B     		ldr	r3, [r0, #48]
2190:System/storage/Storage.c ****             (To_DevW25Nxx_API(ext_dev->api)->info == NULL))
 1023              		.loc 1 2190 44 view .LVU342
 1024 005a 1A68     		ldr	r2, [r3]
2190:System/storage/Storage.c ****             (To_DevW25Nxx_API(ext_dev->api)->info == NULL))
 1025              		.loc 1 2190 12 view .LVU343
 1026 005c FAB1     		cbz	r2, .L73
2191:System/storage/Storage.c ****             return false;
 1027              		.loc 1 2191 44 discriminator 1 view .LVU344
 1028 005e 5B69     		ldr	r3, [r3, #20]
2190:System/storage/Storage.c ****             (To_DevW25Nxx_API(ext_dev->api)->info == NULL))
 1029              		.loc 1 2190 60 discriminator 1 view .LVU345
 1030 0060 FBB1     		cbz	r3, .L74
2194:System/storage/Storage.c ****         Storage_Monitor.module_prod_type = To_DevW25Nxx_API(ext_dev->api)->info(To_DevW25Nxx_OBJ(ex
 1031              		.loc 1 2194 9 is_stmt 1 view .LVU346
2194:System/storage/Storage.c ****         Storage_Monitor.module_prod_type = To_DevW25Nxx_API(ext_dev->api)->info(To_DevW25Nxx_OBJ(ex
 1032              		.loc 1 2194 22 is_stmt 0 view .LVU347
 1033 0062 C06A     		ldr	r0, [r0, #44]
 1034              	.LVL90:
2194:System/storage/Storage.c ****         Storage_Monitor.module_prod_type = To_DevW25Nxx_API(ext_dev->api)->info(To_DevW25Nxx_OBJ(ex
 1035              		.loc 1 2194 22 view .LVU348
 1036 0064 9047     		blx	r2
 1037              	.LVL91:
 1038 0066 0546     		mov	r5, r0
 1039              	.LVL92:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 61


2195:System/storage/Storage.c ****         Storage_Monitor.module_prod_code = To_DevW25Nxx_API(ext_dev->api)->info(To_DevW25Nxx_OBJ(ex
 1040              		.loc 1 2195 9 is_stmt 1 view .LVU349
2195:System/storage/Storage.c ****         Storage_Monitor.module_prod_code = To_DevW25Nxx_API(ext_dev->api)->info(To_DevW25Nxx_OBJ(ex
 1041              		.loc 1 2195 44 is_stmt 0 view .LVU350
 1042 0068 236B     		ldr	r3, [r4, #48]
2195:System/storage/Storage.c ****         Storage_Monitor.module_prod_code = To_DevW25Nxx_API(ext_dev->api)->info(To_DevW25Nxx_OBJ(ex
 1043              		.loc 1 2195 74 view .LVU351
 1044 006a 5B69     		ldr	r3, [r3, #20]
2195:System/storage/Storage.c ****         Storage_Monitor.module_prod_code = To_DevW25Nxx_API(ext_dev->api)->info(To_DevW25Nxx_OBJ(ex
 1045              		.loc 1 2195 44 view .LVU352
 1046 006c E16A     		ldr	r1, [r4, #44]
 1047 006e 0EA8     		add	r0, sp, #56
 1048 0070 9847     		blx	r3
 1049              	.LVL93:
2195:System/storage/Storage.c ****         Storage_Monitor.module_prod_code = To_DevW25Nxx_API(ext_dev->api)->info(To_DevW25Nxx_OBJ(ex
 1050              		.loc 1 2195 112 view .LVU353
 1051 0072 9DF83830 		ldrb	r3, [sp, #56]	@ zero_extendqisi2
2195:System/storage/Storage.c ****         Storage_Monitor.module_prod_code = To_DevW25Nxx_API(ext_dev->api)->info(To_DevW25Nxx_OBJ(ex
 1052              		.loc 1 2195 42 view .LVU354
 1053 0076 0C4E     		ldr	r6, .L81
 1054 0078 7382     		strh	r3, [r6, #18]	@ movhi
2196:System/storage/Storage.c **** 
 1055              		.loc 1 2196 9 is_stmt 1 view .LVU355
2196:System/storage/Storage.c **** 
 1056              		.loc 1 2196 44 is_stmt 0 view .LVU356
 1057 007a 236B     		ldr	r3, [r4, #48]
2196:System/storage/Storage.c **** 
 1058              		.loc 1 2196 74 view .LVU357
 1059 007c 5B69     		ldr	r3, [r3, #20]
2196:System/storage/Storage.c **** 
 1060              		.loc 1 2196 44 view .LVU358
 1061 007e E16A     		ldr	r1, [r4, #44]
 1062 0080 15A8     		add	r0, sp, #84
 1063 0082 9847     		blx	r3
 1064              	.LVL94:
2196:System/storage/Storage.c **** 
 1065              		.loc 1 2196 112 view .LVU359
 1066 0084 BDF85630 		ldrh	r3, [sp, #86]
2196:System/storage/Storage.c **** 
 1067              		.loc 1 2196 42 view .LVU360
 1068 0088 B382     		strh	r3, [r6, #20]	@ movhi
2198:System/storage/Storage.c ****     }
 1069              		.loc 1 2198 9 is_stmt 1 view .LVU361
2198:System/storage/Storage.c ****     }
 1070              		.loc 1 2198 74 is_stmt 0 view .LVU362
 1071 008a B5FA85F0 		clz	r0, r5
 1072 008e 4009     		lsrs	r0, r0, #5
 1073 0090 C1E7     		b	.L67
 1074              	.LVL95:
 1075              	.L69:
 1076              	.LCFI16:
 1077              		.cfi_def_cfa_offset 0
 1078              		.cfi_restore 4
 1079              		.cfi_restore 5
 1080              		.cfi_restore 6
 1081              		.cfi_restore 14
2174:System/storage/Storage.c **** 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 62


 1082              		.loc 1 2174 16 view .LVU363
 1083 0092 0020     		movs	r0, #0
 1084              	.LVL96:
 1085              		.loc 1 2202 1 view .LVU364
 1086 0094 7047     		bx	lr
 1087              	.LVL97:
 1088              	.L70:
 1089              	.LCFI17:
 1090              		.cfi_def_cfa_offset 128
 1091              		.cfi_offset 4, -16
 1092              		.cfi_offset 5, -12
 1093              		.cfi_offset 6, -8
 1094              		.cfi_offset 14, -4
2180:System/storage/Storage.c **** 
 1095              		.loc 1 2180 20 view .LVU365
 1096 0096 0020     		movs	r0, #0
 1097              	.LVL98:
2180:System/storage/Storage.c **** 
 1098              		.loc 1 2180 20 view .LVU366
 1099 0098 BDE7     		b	.L67
 1100              	.LVL99:
 1101              	.L71:
2180:System/storage/Storage.c **** 
 1102              		.loc 1 2180 20 view .LVU367
 1103 009a 0020     		movs	r0, #0
 1104              	.LVL100:
2180:System/storage/Storage.c **** 
 1105              		.loc 1 2180 20 view .LVU368
 1106 009c BBE7     		b	.L67
 1107              	.LVL101:
 1108              	.L73:
2192:System/storage/Storage.c **** 
 1109              		.loc 1 2192 20 view .LVU369
 1110 009e 0020     		movs	r0, #0
 1111              	.LVL102:
2192:System/storage/Storage.c **** 
 1112              		.loc 1 2192 20 view .LVU370
 1113 00a0 B9E7     		b	.L67
 1114              	.LVL103:
 1115              	.L74:
2192:System/storage/Storage.c **** 
 1116              		.loc 1 2192 20 view .LVU371
 1117 00a2 0020     		movs	r0, #0
 1118              	.LVL104:
2192:System/storage/Storage.c **** 
 1119              		.loc 1 2192 20 view .LVU372
 1120 00a4 B7E7     		b	.L67
 1121              	.L82:
 1122 00a6 00BF     		.align	2
 1123              	.L81:
 1124 00a8 00000000 		.word	.LANCHOR0
 1125              		.cfi_endproc
 1126              	.LFE180:
 1128              		.section	.rodata.Storage_Error_Print.str1.4,"aMS",%progbits,1
 1129              		.align	2
 1130              	.LC0:
 1131 0000 556E6B6E 		.ascii	"Unknow Error\015\012\000"
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 63


 1131      6F772045 
 1131      72726F72 
 1131      0D0A00
 1132 000f 00       		.align	2
 1133              	.LC1:
 1134 0010 53746F72 		.ascii	"Storage_BusType_Error\000"
 1134      6167655F 
 1134      42757354 
 1134      7970655F 
 1134      4572726F 
 1135 0026 0000     		.align	2
 1136              	.LC2:
 1137 0028 53746F72 		.ascii	"Storage_Param_Error\000"
 1137      6167655F 
 1137      50617261 
 1137      6D5F4572 
 1137      726F7200 
 1138              		.align	2
 1139              	.LC3:
 1140 003c 53746F72 		.ascii	"Storage_ExtDevObj_Error\000"
 1140      6167655F 
 1140      45787444 
 1140      65764F62 
 1140      6A5F4572 
 1141              		.align	2
 1142              	.LC4:
 1143 0054 53746F72 		.ascii	"Storage_ModuleType_Error\000"
 1143      6167655F 
 1143      4D6F6475 
 1143      6C655479 
 1143      70655F45 
 1144 006d 000000   		.align	2
 1145              	.LC5:
 1146 0070 53746F72 		.ascii	"Storage_ModuleInit_Error\000"
 1146      6167655F 
 1146      4D6F6475 
 1146      6C65496E 
 1146      69745F45 
 1147 0089 000000   		.align	2
 1148              	.LC6:
 1149 008c 53746F72 		.ascii	"Storage_BusInit_Error\000"
 1149      6167655F 
 1149      42757349 
 1149      6E69745F 
 1149      4572726F 
 1150 00a2 0000     		.align	2
 1151              	.LC7:
 1152 00a4 53746F72 		.ascii	"Storage_Read_Error\000"
 1152      6167655F 
 1152      52656164 
 1152      5F457272 
 1152      6F7200
 1153 00b7 00       		.align	2
 1154              	.LC8:
 1155 00b8 53746F72 		.ascii	"Storage_Write_Error\000"
 1155      6167655F 
 1155      57726974 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 64


 1155      655F4572 
 1155      726F7200 
 1156              		.align	2
 1157              	.LC9:
 1158 00cc 53746F72 		.ascii	"Storage_Erase_Error\000"
 1158      6167655F 
 1158      45726173 
 1158      655F4572 
 1158      726F7200 
 1159              		.align	2
 1160              	.LC10:
 1161 00e0 53746F72 		.ascii	"Storage_NameMatched\000"
 1161      6167655F 
 1161      4E616D65 
 1161      4D617463 
 1161      68656400 
 1162              		.align	2
 1163              	.LC11:
 1164 00f4 53746F72 		.ascii	"Storage_ModuleAPI_Error\000"
 1164      6167655F 
 1164      4D6F6475 
 1164      6C654150 
 1164      495F4572 
 1165              		.align	2
 1166              	.LC12:
 1167 010c 53746F72 		.ascii	"Storage_SlotHeader_Error\000"
 1167      6167655F 
 1167      536C6F74 
 1167      48656164 
 1167      65725F45 
 1168 0125 000000   		.align	2
 1169              	.LC13:
 1170 0128 53746F72 		.ascii	"Storage_ExternalFlash_NotAvailable\000"
 1170      6167655F 
 1170      45787465 
 1170      726E616C 
 1170      466C6173 
 1171 014b 00       		.align	2
 1172              	.LC14:
 1173 014c 53746F72 		.ascii	"Storage_InternalFlash_NotAvailable\000"
 1173      6167655F 
 1173      496E7465 
 1173      726E616C 
 1173      466C6173 
 1174 016f 00       		.align	2
 1175              	.LC15:
 1176 0170 53746F72 		.ascii	"Storage_Class_Error\000"
 1176      6167655F 
 1176      436C6173 
 1176      735F4572 
 1176      726F7200 
 1177              		.align	2
 1178              	.LC16:
 1179 0184 53746F72 		.ascii	"Storage_RW_Api_Error\000"
 1179      6167655F 
 1179      52575F41 
 1179      70695F45 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 65


 1179      72726F72 
 1180 0199 000000   		.align	2
 1181              	.LC17:
 1182 019c 53746F72 		.ascii	"Storage_DataInfo_Error\000"
 1182      6167655F 
 1182      44617461 
 1182      496E666F 
 1182      5F457272 
 1183 01b3 00       		.align	2
 1184              	.LC18:
 1185 01b4 53746F72 		.ascii	"Storage_DataSize_Overrange\000"
 1185      6167655F 
 1185      44617461 
 1185      53697A65 
 1185      5F4F7665 
 1186 01cf 00       		.align	2
 1187              	.LC19:
 1188 01d0 53746F72 		.ascii	"Storage_BaseInfo_Updata_Error\000"
 1188      6167655F 
 1188      42617365 
 1188      496E666F 
 1188      5F557064 
 1189 01ee 0000     		.align	2
 1190              	.LC20:
 1191 01f0 53746F72 		.ascii	"Storage_FreeSlot_Update_Error\000"
 1191      6167655F 
 1191      46726565 
 1191      536C6F74 
 1191      5F557064 
 1192 020e 0000     		.align	2
 1193              	.LC21:
 1194 0210 53746F72 		.ascii	"Storage_FreeSlot_Get_Error\000"
 1194      6167655F 
 1194      46726565 
 1194      536C6F74 
 1194      5F476574 
 1195 022b 00       		.align	2
 1196              	.LC22:
 1197 022c 53746F72 		.ascii	"Storage_DataAddr_Update_Error\000"
 1197      6167655F 
 1197      44617461 
 1197      41646472 
 1197      5F557064 
 1198 024a 0000     		.align	2
 1199              	.LC23:
 1200 024c 53746F72 		.ascii	"Storage_No_Enough_Space\000"
 1200      6167655F 
 1200      4E6F5F45 
 1200      6E6F7567 
 1200      685F5370 
 1201              		.align	2
 1202              	.LC24:
 1203 0264 53746F72 		.ascii	"Storage_FreeSlot_Addr_Error\000"
 1203      6167655F 
 1203      46726565 
 1203      536C6F74 
 1203      5F416464 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 66


 1204              		.align	2
 1205              	.LC25:
 1206 0280 53746F72 		.ascii	"Storage_FreeSlot_Info_Error\000"
 1206      6167655F 
 1206      46726565 
 1206      536C6F74 
 1206      5F496E66 
 1207              		.align	2
 1208              	.LC26:
 1209 029c 53746F72 		.ascii	"Storage_FreeSlot_Link_Error\000"
 1209      6167655F 
 1209      46726565 
 1209      536C6F74 
 1209      5F4C696E 
 1210              		.align	2
 1211              	.LC27:
 1212 02b8 53746F72 		.ascii	"Storage_ItemInfo_Error\000"
 1212      6167655F 
 1212      4974656D 
 1212      496E666F 
 1212      5F457272 
 1213 02cf 00       		.align	2
 1214              	.LC28:
 1215 02d0 53746F72 		.ascii	"Storage_ItemUpdate_Error\000"
 1215      6167655F 
 1215      4974656D 
 1215      55706461 
 1215      74655F45 
 1216 02e9 000000   		.align	2
 1217              	.LC29:
 1218 02ec 53746F72 		.ascii	"Storage_CRC_Error\000"
 1218      6167655F 
 1218      4352435F 
 1218      4572726F 
 1218      7200
 1219 02fe 0000     		.align	2
 1220              	.LC30:
 1221 0300 53746F72 		.ascii	"Storage_Update_DataSize_Error\000"
 1221      6167655F 
 1221      55706461 
 1221      74655F44 
 1221      61746153 
 1222 031e 0000     		.align	2
 1223              	.LC31:
 1224 0320 53746F72 		.ascii	"Storage_Delete_Error\000"
 1224      6167655F 
 1224      44656C65 
 1224      74655F45 
 1224      72726F72 
 1225 0335 000000   		.align	2
 1226              	.LC32:
 1227 0338 53746F72 		.ascii	"Storage_Error_None\000"
 1227      6167655F 
 1227      4572726F 
 1227      725F4E6F 
 1227      6E6500
 1228              		.section	.text.Storage_Error_Print,"ax",%progbits
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 67


 1229              		.align	1
 1230              		.syntax unified
 1231              		.thumb
 1232              		.thumb_func
 1234              	Storage_Error_Print:
 1235              	.LVL105:
 1236              	.LFB182:
2203:System/storage/Storage.c **** 
2204:System/storage/Storage.c **** #if (STORAGE_DEBUG == 1)
2205:System/storage/Storage.c **** /************************************************** Shell API Section *****************************
2206:System/storage/Storage.c **** static void Storage_SecInfo_Print(Shell *obj, Storage_BaseSecInfo_TypeDef *p_SecInfo)
2207:System/storage/Storage.c **** {
2208:System/storage/Storage.c ****     if (obj == NULL)
2209:System/storage/Storage.c ****         return;
2210:System/storage/Storage.c **** 
2211:System/storage/Storage.c ****     shellPrint(obj, "\t\taddr:            %x\r\n", p_SecInfo->tab_addr);
2212:System/storage/Storage.c ****     shellPrint(obj, "\t\tpage num:        %d\r\n", p_SecInfo->page_num);
2213:System/storage/Storage.c ****     shellPrint(obj, "\t\tsize:            %d\r\n", p_SecInfo->tab_size);
2214:System/storage/Storage.c ****     shellPrint(obj, "\t\tdata sec addr:   %x\r\n", p_SecInfo->data_sec_addr);
2215:System/storage/Storage.c ****     shellPrint(obj, "\t\tdata sec size:   %d\r\n", p_SecInfo->data_sec_size);
2216:System/storage/Storage.c ****     shellPrint(obj, "\t\tfree slot addr:  %x\r\n", p_SecInfo->free_slot_addr);
2217:System/storage/Storage.c ****     shellPrint(obj, "\t\tfree slot size:  %x\r\n", p_SecInfo->free_space_size);
2218:System/storage/Storage.c ****     shellPrint(obj, "\t\tparam num:       %d\r\n", p_SecInfo->para_num);
2219:System/storage/Storage.c ****     shellPrint(obj, "\t\tparam size:      %d\r\n", p_SecInfo->para_size);
2220:System/storage/Storage.c **** }
2221:System/storage/Storage.c **** 
2222:System/storage/Storage.c **** static const char* Storage_Error_Print(Storage_ErrorCode_List code)
2223:System/storage/Storage.c **** {
 1237              		.loc 1 2223 1 is_stmt 1 view -0
 1238              		.cfi_startproc
 1239              		@ args = 0, pretend = 0, frame = 0
 1240              		@ frame_needed = 0, uses_anonymous_args = 0
 1241              		@ link register save eliminated.
2224:System/storage/Storage.c ****     switch((uint8_t) code)
 1242              		.loc 1 2224 5 view .LVU374
 1243 0000 2028     		cmp	r0, #32
 1244 0002 50D8     		bhi	.L84
 1245 0004 DFE800F0 		tbb	[pc, r0]
 1246              	.L86:
 1247 0008 11       		.byte	(.L117-.L86)/2
 1248 0009 13       		.byte	(.L116-.L86)/2
 1249 000a 1B       		.byte	(.L115-.L86)/2
 1250 000b 51       		.byte	(.L118-.L86)/2
 1251 000c 15       		.byte	(.L113-.L86)/2
 1252 000d 17       		.byte	(.L112-.L86)/2
 1253 000e 19       		.byte	(.L111-.L86)/2
 1254 000f 25       		.byte	(.L110-.L86)/2
 1255 0010 1D       		.byte	(.L109-.L86)/2
 1256 0011 1F       		.byte	(.L108-.L86)/2
 1257 0012 21       		.byte	(.L107-.L86)/2
 1258 0013 23       		.byte	(.L106-.L86)/2
 1259 0014 27       		.byte	(.L105-.L86)/2
 1260 0015 29       		.byte	(.L104-.L86)/2
 1261 0016 2B       		.byte	(.L103-.L86)/2
 1262 0017 2D       		.byte	(.L102-.L86)/2
 1263 0018 2F       		.byte	(.L101-.L86)/2
 1264 0019 3D       		.byte	(.L100-.L86)/2
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 68


 1265 001a 31       		.byte	(.L99-.L86)/2
 1266 001b 33       		.byte	(.L98-.L86)/2
 1267 001c 35       		.byte	(.L97-.L86)/2
 1268 001d 3B       		.byte	(.L96-.L86)/2
 1269 001e 37       		.byte	(.L95-.L86)/2
 1270 001f 39       		.byte	(.L94-.L86)/2
 1271 0020 3F       		.byte	(.L93-.L86)/2
 1272 0021 41       		.byte	(.L92-.L86)/2
 1273 0022 43       		.byte	(.L91-.L86)/2
 1274 0023 45       		.byte	(.L90-.L86)/2
 1275 0024 47       		.byte	(.L89-.L86)/2
 1276 0025 4F       		.byte	(.L84-.L86)/2
 1277 0026 49       		.byte	(.L88-.L86)/2
 1278 0027 4B       		.byte	(.L87-.L86)/2
 1279 0028 4D       		.byte	(.L85-.L86)/2
 1280 0029 00       		.p2align 1
 1281              	.L117:
 1282 002a 2148     		ldr	r0, .L119
 1283              	.LVL106:
 1284              		.loc 1 2224 5 is_stmt 0 view .LVU375
 1285 002c 7047     		bx	lr
 1286              	.LVL107:
 1287              	.L116:
2225:System/storage/Storage.c ****     {
2226:System/storage/Storage.c ****         case Storage_Error_None:                    return Storage_ErrorCode_ToStr(Storage_Error_No
2227:System/storage/Storage.c ****         case Storage_BusType_Error:                 return Storage_ErrorCode_ToStr(Storage_BusType_
2228:System/storage/Storage.c ****         case Storage_Param_Error:                   return Storage_ErrorCode_ToStr(Storage_Param_Er
 1288              		.loc 1 2228 53 is_stmt 1 view .LVU376
 1289              		.loc 1 2228 60 is_stmt 0 view .LVU377
 1290 002e 2148     		ldr	r0, .L119+4
 1291              	.LVL108:
 1292              		.loc 1 2228 60 view .LVU378
 1293 0030 7047     		bx	lr
 1294              	.LVL109:
 1295              	.L113:
2229:System/storage/Storage.c ****         case Storage_ExtDevObj_Error:               return Storage_ErrorCode_ToStr(Storage_ExtDevOb
 1296              		.loc 1 2229 53 is_stmt 1 view .LVU379
 1297              		.loc 1 2229 60 is_stmt 0 view .LVU380
 1298 0032 2148     		ldr	r0, .L119+8
 1299              	.LVL110:
 1300              		.loc 1 2229 60 view .LVU381
 1301 0034 7047     		bx	lr
 1302              	.LVL111:
 1303              	.L112:
2230:System/storage/Storage.c ****         case Storage_ModuleType_Error:              return Storage_ErrorCode_ToStr(Storage_ModuleTy
 1304              		.loc 1 2230 53 is_stmt 1 view .LVU382
 1305              		.loc 1 2230 60 is_stmt 0 view .LVU383
 1306 0036 2148     		ldr	r0, .L119+12
 1307              	.LVL112:
 1308              		.loc 1 2230 60 view .LVU384
 1309 0038 7047     		bx	lr
 1310              	.LVL113:
 1311              	.L111:
2231:System/storage/Storage.c ****         case Storage_ModuleInit_Error:              return Storage_ErrorCode_ToStr(Storage_ModuleIn
 1312              		.loc 1 2231 53 is_stmt 1 view .LVU385
 1313              		.loc 1 2231 60 is_stmt 0 view .LVU386
 1314 003a 2148     		ldr	r0, .L119+16
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 69


 1315              	.LVL114:
 1316              		.loc 1 2231 60 view .LVU387
 1317 003c 7047     		bx	lr
 1318              	.LVL115:
 1319              	.L115:
2232:System/storage/Storage.c ****         case Storage_BusInit_Error:                 return Storage_ErrorCode_ToStr(Storage_BusInit_
 1320              		.loc 1 2232 53 is_stmt 1 view .LVU388
 1321              		.loc 1 2232 60 is_stmt 0 view .LVU389
 1322 003e 2148     		ldr	r0, .L119+20
 1323              	.LVL116:
 1324              		.loc 1 2232 60 view .LVU390
 1325 0040 7047     		bx	lr
 1326              	.LVL117:
 1327              	.L109:
2233:System/storage/Storage.c ****         case Storage_Read_Error:                    return Storage_ErrorCode_ToStr(Storage_Read_Err
 1328              		.loc 1 2233 53 is_stmt 1 view .LVU391
 1329              		.loc 1 2233 60 is_stmt 0 view .LVU392
 1330 0042 2148     		ldr	r0, .L119+24
 1331              	.LVL118:
 1332              		.loc 1 2233 60 view .LVU393
 1333 0044 7047     		bx	lr
 1334              	.LVL119:
 1335              	.L108:
2234:System/storage/Storage.c ****         case Storage_Write_Error:                   return Storage_ErrorCode_ToStr(Storage_Write_Er
 1336              		.loc 1 2234 53 is_stmt 1 view .LVU394
 1337              		.loc 1 2234 60 is_stmt 0 view .LVU395
 1338 0046 2148     		ldr	r0, .L119+28
 1339              	.LVL120:
 1340              		.loc 1 2234 60 view .LVU396
 1341 0048 7047     		bx	lr
 1342              	.LVL121:
 1343              	.L107:
2235:System/storage/Storage.c ****         case Storage_Erase_Error:                   return Storage_ErrorCode_ToStr(Storage_Erase_Er
 1344              		.loc 1 2235 53 is_stmt 1 view .LVU397
 1345              		.loc 1 2235 60 is_stmt 0 view .LVU398
 1346 004a 2148     		ldr	r0, .L119+32
 1347              	.LVL122:
 1348              		.loc 1 2235 60 view .LVU399
 1349 004c 7047     		bx	lr
 1350              	.LVL123:
 1351              	.L106:
2236:System/storage/Storage.c ****         case Storage_NameMatched:                   return Storage_ErrorCode_ToStr(Storage_NameMatc
 1352              		.loc 1 2236 53 is_stmt 1 view .LVU400
 1353              		.loc 1 2236 60 is_stmt 0 view .LVU401
 1354 004e 2148     		ldr	r0, .L119+36
 1355              	.LVL124:
 1356              		.loc 1 2236 60 view .LVU402
 1357 0050 7047     		bx	lr
 1358              	.LVL125:
 1359              	.L110:
2237:System/storage/Storage.c ****         case Storage_ModuleAPI_Error:               return Storage_ErrorCode_ToStr(Storage_ModuleAP
 1360              		.loc 1 2237 53 is_stmt 1 view .LVU403
 1361              		.loc 1 2237 60 is_stmt 0 view .LVU404
 1362 0052 2148     		ldr	r0, .L119+40
 1363              	.LVL126:
 1364              		.loc 1 2237 60 view .LVU405
 1365 0054 7047     		bx	lr
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 70


 1366              	.LVL127:
 1367              	.L105:
2238:System/storage/Storage.c ****         case Storage_SlotHeader_Error:              return Storage_ErrorCode_ToStr(Storage_SlotHead
 1368              		.loc 1 2238 53 is_stmt 1 view .LVU406
 1369              		.loc 1 2238 60 is_stmt 0 view .LVU407
 1370 0056 2148     		ldr	r0, .L119+44
 1371              	.LVL128:
 1372              		.loc 1 2238 60 view .LVU408
 1373 0058 7047     		bx	lr
 1374              	.LVL129:
 1375              	.L104:
2239:System/storage/Storage.c ****         case Storage_ExternalFlash_NotAvailable:    return Storage_ErrorCode_ToStr(Storage_External
 1376              		.loc 1 2239 53 is_stmt 1 view .LVU409
 1377              		.loc 1 2239 60 is_stmt 0 view .LVU410
 1378 005a 2148     		ldr	r0, .L119+48
 1379              	.LVL130:
 1380              		.loc 1 2239 60 view .LVU411
 1381 005c 7047     		bx	lr
 1382              	.LVL131:
 1383              	.L103:
2240:System/storage/Storage.c ****         case Storage_InternalFlash_NotAvailable:    return Storage_ErrorCode_ToStr(Storage_Internal
 1384              		.loc 1 2240 53 is_stmt 1 view .LVU412
 1385              		.loc 1 2240 60 is_stmt 0 view .LVU413
 1386 005e 2148     		ldr	r0, .L119+52
 1387              	.LVL132:
 1388              		.loc 1 2240 60 view .LVU414
 1389 0060 7047     		bx	lr
 1390              	.LVL133:
 1391              	.L102:
2241:System/storage/Storage.c ****         case Storage_Class_Error:                   return Storage_ErrorCode_ToStr(Storage_Class_Er
 1392              		.loc 1 2241 53 is_stmt 1 view .LVU415
 1393              		.loc 1 2241 60 is_stmt 0 view .LVU416
 1394 0062 2148     		ldr	r0, .L119+56
 1395              	.LVL134:
 1396              		.loc 1 2241 60 view .LVU417
 1397 0064 7047     		bx	lr
 1398              	.LVL135:
 1399              	.L101:
2242:System/storage/Storage.c ****         case Storage_RW_Api_Error:                  return Storage_ErrorCode_ToStr(Storage_RW_Api_E
 1400              		.loc 1 2242 53 is_stmt 1 view .LVU418
 1401              		.loc 1 2242 60 is_stmt 0 view .LVU419
 1402 0066 2148     		ldr	r0, .L119+60
 1403              	.LVL136:
 1404              		.loc 1 2242 60 view .LVU420
 1405 0068 7047     		bx	lr
 1406              	.LVL137:
 1407              	.L99:
2243:System/storage/Storage.c ****         case Storage_DataInfo_Error:                return Storage_ErrorCode_ToStr(Storage_DataInfo
 1408              		.loc 1 2243 53 is_stmt 1 view .LVU421
 1409              		.loc 1 2243 60 is_stmt 0 view .LVU422
 1410 006a 2148     		ldr	r0, .L119+64
 1411              	.LVL138:
 1412              		.loc 1 2243 60 view .LVU423
 1413 006c 7047     		bx	lr
 1414              	.LVL139:
 1415              	.L98:
2244:System/storage/Storage.c ****         case Storage_DataSize_Overrange:            return Storage_ErrorCode_ToStr(Storage_DataSize
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 71


 1416              		.loc 1 2244 53 is_stmt 1 view .LVU424
 1417              		.loc 1 2244 60 is_stmt 0 view .LVU425
 1418 006e 2148     		ldr	r0, .L119+68
 1419              	.LVL140:
 1420              		.loc 1 2244 60 view .LVU426
 1421 0070 7047     		bx	lr
 1422              	.LVL141:
 1423              	.L97:
2245:System/storage/Storage.c ****         case Storage_BaseInfo_Updata_Error:         return Storage_ErrorCode_ToStr(Storage_BaseInfo
 1424              		.loc 1 2245 53 is_stmt 1 view .LVU427
 1425              		.loc 1 2245 60 is_stmt 0 view .LVU428
 1426 0072 2148     		ldr	r0, .L119+72
 1427              	.LVL142:
 1428              		.loc 1 2245 60 view .LVU429
 1429 0074 7047     		bx	lr
 1430              	.LVL143:
 1431              	.L95:
2246:System/storage/Storage.c ****         case Storage_FreeSlot_Update_Error:         return Storage_ErrorCode_ToStr(Storage_FreeSlot
 1432              		.loc 1 2246 53 is_stmt 1 view .LVU430
 1433              		.loc 1 2246 60 is_stmt 0 view .LVU431
 1434 0076 2148     		ldr	r0, .L119+76
 1435              	.LVL144:
 1436              		.loc 1 2246 60 view .LVU432
 1437 0078 7047     		bx	lr
 1438              	.LVL145:
 1439              	.L94:
2247:System/storage/Storage.c ****         case Storage_FreeSlot_Get_Error:            return Storage_ErrorCode_ToStr(Storage_FreeSlot
 1440              		.loc 1 2247 53 is_stmt 1 view .LVU433
 1441              		.loc 1 2247 60 is_stmt 0 view .LVU434
 1442 007a 2148     		ldr	r0, .L119+80
 1443              	.LVL146:
 1444              		.loc 1 2247 60 view .LVU435
 1445 007c 7047     		bx	lr
 1446              	.LVL147:
 1447              	.L96:
2248:System/storage/Storage.c ****         case Storage_DataAddr_Update_Error:         return Storage_ErrorCode_ToStr(Storage_DataAddr
 1448              		.loc 1 2248 53 is_stmt 1 view .LVU436
 1449              		.loc 1 2248 60 is_stmt 0 view .LVU437
 1450 007e 2148     		ldr	r0, .L119+84
 1451              	.LVL148:
 1452              		.loc 1 2248 60 view .LVU438
 1453 0080 7047     		bx	lr
 1454              	.LVL149:
 1455              	.L100:
2249:System/storage/Storage.c ****         case Storage_No_Enough_Space:               return Storage_ErrorCode_ToStr(Storage_No_Enoug
 1456              		.loc 1 2249 53 is_stmt 1 view .LVU439
 1457              		.loc 1 2249 60 is_stmt 0 view .LVU440
 1458 0082 2148     		ldr	r0, .L119+88
 1459              	.LVL150:
 1460              		.loc 1 2249 60 view .LVU441
 1461 0084 7047     		bx	lr
 1462              	.LVL151:
 1463              	.L93:
2250:System/storage/Storage.c ****         case Storage_FreeSlot_Addr_Error:           return Storage_ErrorCode_ToStr(Storage_FreeSlot
 1464              		.loc 1 2250 53 is_stmt 1 view .LVU442
 1465              		.loc 1 2250 60 is_stmt 0 view .LVU443
 1466 0086 2148     		ldr	r0, .L119+92
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 72


 1467              	.LVL152:
 1468              		.loc 1 2250 60 view .LVU444
 1469 0088 7047     		bx	lr
 1470              	.LVL153:
 1471              	.L92:
2251:System/storage/Storage.c ****         case Storage_FreeSlot_Info_Error:           return Storage_ErrorCode_ToStr(Storage_FreeSlot
 1472              		.loc 1 2251 53 is_stmt 1 view .LVU445
 1473              		.loc 1 2251 60 is_stmt 0 view .LVU446
 1474 008a 2148     		ldr	r0, .L119+96
 1475              	.LVL154:
 1476              		.loc 1 2251 60 view .LVU447
 1477 008c 7047     		bx	lr
 1478              	.LVL155:
 1479              	.L91:
2252:System/storage/Storage.c ****         case Storage_FreeSlot_Link_Error:           return Storage_ErrorCode_ToStr(Storage_FreeSlot
 1480              		.loc 1 2252 53 is_stmt 1 view .LVU448
 1481              		.loc 1 2252 60 is_stmt 0 view .LVU449
 1482 008e 2148     		ldr	r0, .L119+100
 1483              	.LVL156:
 1484              		.loc 1 2252 60 view .LVU450
 1485 0090 7047     		bx	lr
 1486              	.LVL157:
 1487              	.L90:
2253:System/storage/Storage.c ****         case Storage_ItemInfo_Error:                return Storage_ErrorCode_ToStr(Storage_ItemInfo
 1488              		.loc 1 2253 53 is_stmt 1 view .LVU451
 1489              		.loc 1 2253 60 is_stmt 0 view .LVU452
 1490 0092 2148     		ldr	r0, .L119+104
 1491              	.LVL158:
 1492              		.loc 1 2253 60 view .LVU453
 1493 0094 7047     		bx	lr
 1494              	.LVL159:
 1495              	.L89:
2254:System/storage/Storage.c ****         case Storage_ItemUpdate_Error:              return Storage_ErrorCode_ToStr(Storage_ItemUpda
 1496              		.loc 1 2254 53 is_stmt 1 view .LVU454
 1497              		.loc 1 2254 60 is_stmt 0 view .LVU455
 1498 0096 2148     		ldr	r0, .L119+108
 1499              	.LVL160:
 1500              		.loc 1 2254 60 view .LVU456
 1501 0098 7047     		bx	lr
 1502              	.LVL161:
 1503              	.L88:
2255:System/storage/Storage.c ****         case Storage_CRC_Error:                     return Storage_ErrorCode_ToStr(Storage_CRC_Erro
 1504              		.loc 1 2255 53 is_stmt 1 view .LVU457
 1505              		.loc 1 2255 60 is_stmt 0 view .LVU458
 1506 009a 2148     		ldr	r0, .L119+112
 1507              	.LVL162:
 1508              		.loc 1 2255 60 view .LVU459
 1509 009c 7047     		bx	lr
 1510              	.LVL163:
 1511              	.L87:
2256:System/storage/Storage.c ****         case Storage_Update_DataSize_Error:         return Storage_ErrorCode_ToStr(Storage_Update_D
 1512              		.loc 1 2256 53 is_stmt 1 view .LVU460
 1513              		.loc 1 2256 60 is_stmt 0 view .LVU461
 1514 009e 2148     		ldr	r0, .L119+116
 1515              	.LVL164:
 1516              		.loc 1 2256 60 view .LVU462
 1517 00a0 7047     		bx	lr
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 73


 1518              	.LVL165:
 1519              	.L85:
2257:System/storage/Storage.c ****         case Storage_Delete_Error:                  return Storage_ErrorCode_ToStr(Storage_Delete_E
 1520              		.loc 1 2257 53 is_stmt 1 view .LVU463
 1521              		.loc 1 2257 60 is_stmt 0 view .LVU464
 1522 00a2 2148     		ldr	r0, .L119+120
 1523              	.LVL166:
 1524              		.loc 1 2257 60 view .LVU465
 1525 00a4 7047     		bx	lr
 1526              	.LVL167:
 1527              	.L84:
2258:System/storage/Storage.c ****         default:return "Unknow Error\r\n";
 1528              		.loc 1 2258 17 is_stmt 1 view .LVU466
 1529              		.loc 1 2258 24 is_stmt 0 view .LVU467
 1530 00a6 2148     		ldr	r0, .L119+124
 1531              	.LVL168:
 1532              		.loc 1 2258 24 view .LVU468
 1533 00a8 7047     		bx	lr
 1534              	.LVL169:
 1535              	.L118:
2227:System/storage/Storage.c ****         case Storage_Param_Error:                   return Storage_ErrorCode_ToStr(Storage_Param_Er
 1536              		.loc 1 2227 60 view .LVU469
 1537 00aa 2148     		ldr	r0, .L119+128
 1538              	.LVL170:
2259:System/storage/Storage.c ****     }
2260:System/storage/Storage.c **** }
 1539              		.loc 1 2260 1 view .LVU470
 1540 00ac 7047     		bx	lr
 1541              	.L120:
 1542 00ae 00BF     		.align	2
 1543              	.L119:
 1544 00b0 38030000 		.word	.LC32
 1545 00b4 28000000 		.word	.LC2
 1546 00b8 3C000000 		.word	.LC3
 1547 00bc 54000000 		.word	.LC4
 1548 00c0 70000000 		.word	.LC5
 1549 00c4 8C000000 		.word	.LC6
 1550 00c8 A4000000 		.word	.LC7
 1551 00cc B8000000 		.word	.LC8
 1552 00d0 CC000000 		.word	.LC9
 1553 00d4 E0000000 		.word	.LC10
 1554 00d8 F4000000 		.word	.LC11
 1555 00dc 0C010000 		.word	.LC12
 1556 00e0 28010000 		.word	.LC13
 1557 00e4 4C010000 		.word	.LC14
 1558 00e8 70010000 		.word	.LC15
 1559 00ec 84010000 		.word	.LC16
 1560 00f0 9C010000 		.word	.LC17
 1561 00f4 B4010000 		.word	.LC18
 1562 00f8 D0010000 		.word	.LC19
 1563 00fc F0010000 		.word	.LC20
 1564 0100 10020000 		.word	.LC21
 1565 0104 2C020000 		.word	.LC22
 1566 0108 4C020000 		.word	.LC23
 1567 010c 64020000 		.word	.LC24
 1568 0110 80020000 		.word	.LC25
 1569 0114 9C020000 		.word	.LC26
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 74


 1570 0118 B8020000 		.word	.LC27
 1571 011c D0020000 		.word	.LC28
 1572 0120 EC020000 		.word	.LC29
 1573 0124 00030000 		.word	.LC30
 1574 0128 20030000 		.word	.LC31
 1575 012c 00000000 		.word	.LC0
 1576 0130 10000000 		.word	.LC1
 1577              		.cfi_endproc
 1578              	.LFE182:
 1580              		.section	.text.Storage_Firmware_Write,"ax",%progbits
 1581              		.align	1
 1582              		.syntax unified
 1583              		.thumb
 1584              		.thumb_func
 1586              	Storage_Firmware_Write:
 1587              	.LVL171:
 1588              	.LFB174:
1820:System/storage/Storage.c ****     uint32_t write_addr = 0;
 1589              		.loc 1 1820 1 is_stmt 1 view -0
 1590              		.cfi_startproc
 1591              		@ args = 0, pretend = 0, frame = 0
 1592              		@ frame_needed = 0, uses_anonymous_args = 0
1821:System/storage/Storage.c ****     uint32_t section_addr = 0;
 1593              		.loc 1 1821 5 view .LVU472
1822:System/storage/Storage.c ****     uint32_t write_size = 0;
 1594              		.loc 1 1822 5 view .LVU473
1823:System/storage/Storage.c ****     StorageDevObj_TypeDef *dev = NULL;
 1595              		.loc 1 1823 5 view .LVU474
1824:System/storage/Storage.c **** 
 1596              		.loc 1 1824 5 view .LVU475
1826:System/storage/Storage.c ****         return false;
 1597              		.loc 1 1826 5 view .LVU476
1826:System/storage/Storage.c ****         return false;
 1598              		.loc 1 1826 8 is_stmt 0 view .LVU477
 1599 0000 002A     		cmp	r2, #0
 1600 0002 65D0     		beq	.L126
1820:System/storage/Storage.c ****     uint32_t write_addr = 0;
 1601              		.loc 1 1820 1 discriminator 1 view .LVU478
 1602 0004 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1603              	.LCFI18:
 1604              		.cfi_def_cfa_offset 40
 1605              		.cfi_offset 3, -40
 1606              		.cfi_offset 4, -36
 1607              		.cfi_offset 5, -32
 1608              		.cfi_offset 6, -28
 1609              		.cfi_offset 7, -24
 1610              		.cfi_offset 8, -20
 1611              		.cfi_offset 9, -16
 1612              		.cfi_offset 10, -12
 1613              		.cfi_offset 11, -8
 1614              		.cfi_offset 14, -4
 1615 0008 0D46     		mov	r5, r1
 1616 000a 1C46     		mov	r4, r3
 1617 000c 9046     		mov	r8, r2
1826:System/storage/Storage.c ****         return false;
 1618              		.loc 1 1826 26 discriminator 1 view .LVU479
 1619 000e 002B     		cmp	r3, #0
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 75


 1620 0010 60D0     		beq	.L127
1829:System/storage/Storage.c ****     {
 1621              		.loc 1 1829 5 is_stmt 1 view .LVU480
1829:System/storage/Storage.c ****     {
 1622              		.loc 1 1829 8 is_stmt 0 view .LVU481
 1623 0012 18B1     		cbz	r0, .L140
1835:System/storage/Storage.c ****     {
 1624              		.loc 1 1835 5 is_stmt 1 view .LVU482
1835:System/storage/Storage.c ****     {
 1625              		.loc 1 1835 8 is_stmt 0 view .LVU483
 1626 0014 0128     		cmp	r0, #1
 1627 0016 09D0     		beq	.L141
1888:System/storage/Storage.c **** }
 1628              		.loc 1 1888 12 view .LVU484
 1629 0018 0020     		movs	r0, #0
 1630              	.LVL172:
1888:System/storage/Storage.c **** }
 1631              		.loc 1 1888 12 view .LVU485
 1632 001a 5CE0     		b	.L122
 1633              	.LVL173:
 1634              	.L140:
1831:System/storage/Storage.c ****         return BspFlash.write(write_addr, p_data, size);
 1635              		.loc 1 1831 9 is_stmt 1 view .LVU486
1832:System/storage/Storage.c ****     }
 1636              		.loc 1 1832 9 view .LVU487
1832:System/storage/Storage.c ****     }
 1637              		.loc 1 1832 24 is_stmt 0 view .LVU488
 1638 001c 354B     		ldr	r3, .L142
 1639              	.LVL174:
1832:System/storage/Storage.c ****     }
 1640              		.loc 1 1832 24 view .LVU489
 1641 001e 5B69     		ldr	r3, [r3, #20]
1832:System/storage/Storage.c ****     }
 1642              		.loc 1 1832 16 view .LVU490
 1643 0020 2246     		mov	r2, r4
 1644              	.LVL175:
1832:System/storage/Storage.c ****     }
 1645              		.loc 1 1832 16 view .LVU491
 1646 0022 4146     		mov	r1, r8
 1647              	.LVL176:
1832:System/storage/Storage.c ****     }
 1648              		.loc 1 1832 16 view .LVU492
 1649 0024 3448     		ldr	r0, .L142+4
 1650              	.LVL177:
1832:System/storage/Storage.c ****     }
 1651              		.loc 1 1832 16 view .LVU493
 1652 0026 2844     		add	r0, r0, r5
 1653              	.LVL178:
1832:System/storage/Storage.c ****     }
 1654              		.loc 1 1832 16 view .LVU494
 1655 0028 9847     		blx	r3
 1656              	.LVL179:
1832:System/storage/Storage.c ****     }
 1657              		.loc 1 1832 16 view .LVU495
 1658 002a 54E0     		b	.L122
 1659              	.LVL180:
 1660              	.L141:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 76


1837:System/storage/Storage.c ****         if (dev == NULL)
 1661              		.loc 1 1837 9 is_stmt 1 view .LVU496
1837:System/storage/Storage.c ****         if (dev == NULL)
 1662              		.loc 1 1837 13 is_stmt 0 view .LVU497
 1663 002c 334B     		ldr	r3, .L142+8
 1664              	.LVL181:
1837:System/storage/Storage.c ****         if (dev == NULL)
 1665              		.loc 1 1837 13 view .LVU498
 1666 002e 9F68     		ldr	r7, [r3, #8]
 1667              	.LVL182:
1838:System/storage/Storage.c ****             return false;
 1668              		.loc 1 1838 9 is_stmt 1 view .LVU499
1838:System/storage/Storage.c ****             return false;
 1669              		.loc 1 1838 12 is_stmt 0 view .LVU500
 1670 0030 002F     		cmp	r7, #0
 1671 0032 52D0     		beq	.L129
1841:System/storage/Storage.c ****         {
 1672              		.loc 1 1841 9 is_stmt 1 view .LVU501
1841:System/storage/Storage.c ****         {
 1673              		.loc 1 1841 29 is_stmt 0 view .LVU502
 1674 0034 7B78     		ldrb	r3, [r7, #1]	@ zero_extendqisi2
1841:System/storage/Storage.c ****         {
 1675              		.loc 1 1841 9 view .LVU503
 1676 0036 012B     		cmp	r3, #1
 1677 0038 51D1     		bne	.L130
1844:System/storage/Storage.c ****                 section_addr = To_DevW25Qxx_API(dev->api)->get_section_start_addr(To_DevW25Qxx_OBJ(
 1678              		.loc 1 1844 17 is_stmt 1 view .LVU504
1844:System/storage/Storage.c ****                 section_addr = To_DevW25Qxx_API(dev->api)->get_section_start_addr(To_DevW25Qxx_OBJ(
 1679              		.loc 1 1844 28 is_stmt 0 view .LVU505
 1680 003a 01F5A015 		add	r5, r1, #1310720
 1681              	.LVL183:
1845:System/storage/Storage.c **** 
 1682              		.loc 1 1845 17 is_stmt 1 view .LVU506
1845:System/storage/Storage.c **** 
 1683              		.loc 1 1845 32 is_stmt 0 view .LVU507
 1684 003e 3B6B     		ldr	r3, [r7, #48]
1845:System/storage/Storage.c **** 
 1685              		.loc 1 1845 58 view .LVU508
 1686 0040 9B69     		ldr	r3, [r3, #24]
1845:System/storage/Storage.c **** 
 1687              		.loc 1 1845 32 view .LVU509
 1688 0042 2946     		mov	r1, r5
 1689              	.LVL184:
1845:System/storage/Storage.c **** 
 1690              		.loc 1 1845 32 view .LVU510
 1691 0044 F86A     		ldr	r0, [r7, #44]
 1692              	.LVL185:
1845:System/storage/Storage.c **** 
 1693              		.loc 1 1845 32 view .LVU511
 1694 0046 9847     		blx	r3
 1695              	.LVL186:
1845:System/storage/Storage.c **** 
 1696              		.loc 1 1845 32 view .LVU512
 1697 0048 0646     		mov	r6, r0
 1698              	.LVL187:
1845:System/storage/Storage.c **** 
 1699              		.loc 1 1845 32 view .LVU513
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 77


 1700 004a 1BE0     		b	.L125
 1701              	.LVL188:
 1702              	.L134:
1869:System/storage/Storage.c ****                     }
 1703              		.loc 1 1869 30 view .LVU514
 1704 004c 0024     		movs	r4, #0
 1705              	.LVL189:
 1706              	.L124:
1873:System/storage/Storage.c ****                     if (To_DevW25Qxx_API(dev->api)->write(To_DevW25Qxx_OBJ(dev->obj), section_addr,
 1707              		.loc 1 1873 21 is_stmt 1 view .LVU515
1873:System/storage/Storage.c ****                     if (To_DevW25Qxx_API(dev->api)->write(To_DevW25Qxx_OBJ(dev->obj), section_addr,
 1708              		.loc 1 1873 55 is_stmt 0 view .LVU516
 1709 004e A81B     		subs	r0, r5, r6
1873:System/storage/Storage.c ****                     if (To_DevW25Qxx_API(dev->api)->write(To_DevW25Qxx_OBJ(dev->obj), section_addr,
 1710              		.loc 1 1873 28 view .LVU517
 1711 0050 DFF8ACA0 		ldr	r10, .L142+12
1873:System/storage/Storage.c ****                     if (To_DevW25Qxx_API(dev->api)->write(To_DevW25Qxx_OBJ(dev->obj), section_addr,
 1712              		.loc 1 1873 21 view .LVU518
 1713 0054 4A46     		mov	r2, r9
 1714 0056 4146     		mov	r1, r8
 1715 0058 5044     		add	r0, r0, r10
 1716 005a FFF7FEFF 		bl	memcpy
 1717              	.LVL190:
1874:System/storage/Storage.c ****                         return false;
 1718              		.loc 1 1874 21 is_stmt 1 view .LVU519
1874:System/storage/Storage.c ****                         return false;
 1719              		.loc 1 1874 25 is_stmt 0 view .LVU520
 1720 005e 3B6B     		ldr	r3, [r7, #48]
1874:System/storage/Storage.c ****                         return false;
 1721              		.loc 1 1874 51 view .LVU521
 1722 0060 D3F804B0 		ldr	fp, [r3, #4]
1874:System/storage/Storage.c ****                         return false;
 1723              		.loc 1 1874 25 view .LVU522
 1724 0064 4FF48053 		mov	r3, #4096
 1725 0068 5246     		mov	r2, r10
 1726 006a 3146     		mov	r1, r6
 1727 006c F86A     		ldr	r0, [r7, #44]
 1728 006e D847     		blx	fp
 1729              	.LVL191:
1874:System/storage/Storage.c ****                         return false;
 1730              		.loc 1 1874 24 view .LVU523
 1731 0070 0028     		cmp	r0, #0
 1732 0072 3CD1     		bne	.L135
1878:System/storage/Storage.c ****                     write_addr += write_size;
 1733              		.loc 1 1878 21 is_stmt 1 view .LVU524
1878:System/storage/Storage.c ****                     write_addr += write_size;
 1734              		.loc 1 1878 28 is_stmt 0 view .LVU525
 1735 0074 C844     		add	r8, r8, r9
 1736              	.LVL192:
1879:System/storage/Storage.c ****                     section_addr = To_DevW25Qxx_API(dev->api)->get_section_start_addr(To_DevW25Qxx_
 1737              		.loc 1 1879 21 is_stmt 1 view .LVU526
1879:System/storage/Storage.c ****                     section_addr = To_DevW25Qxx_API(dev->api)->get_section_start_addr(To_DevW25Qxx_
 1738              		.loc 1 1879 32 is_stmt 0 view .LVU527
 1739 0076 4D44     		add	r5, r5, r9
 1740              	.LVL193:
1880:System/storage/Storage.c ****                 }
 1741              		.loc 1 1880 21 is_stmt 1 view .LVU528
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 78


1880:System/storage/Storage.c ****                 }
 1742              		.loc 1 1880 36 is_stmt 0 view .LVU529
 1743 0078 3B6B     		ldr	r3, [r7, #48]
1880:System/storage/Storage.c ****                 }
 1744              		.loc 1 1880 62 view .LVU530
 1745 007a 9B69     		ldr	r3, [r3, #24]
1880:System/storage/Storage.c ****                 }
 1746              		.loc 1 1880 36 view .LVU531
 1747 007c 2946     		mov	r1, r5
 1748 007e F86A     		ldr	r0, [r7, #44]
 1749 0080 9847     		blx	r3
 1750              	.LVL194:
 1751 0082 0646     		mov	r6, r0
 1752              	.LVL195:
1847:System/storage/Storage.c ****                 {
 1753              		.loc 1 1847 23 is_stmt 1 view .LVU532
 1754              	.L125:
1847:System/storage/Storage.c ****                 {
 1755              		.loc 1 1847 17 view .LVU533
1849:System/storage/Storage.c ****                         return true;
 1756              		.loc 1 1849 21 view .LVU534
1849:System/storage/Storage.c ****                         return true;
 1757              		.loc 1 1849 24 is_stmt 0 view .LVU535
 1758 0084 6CB3     		cbz	r4, .L131
1853:System/storage/Storage.c ****                     if (To_DevW25Qxx_API(dev->api)->read(To_DevW25Qxx_OBJ(dev->obj), section_addr, 
 1759              		.loc 1 1853 21 is_stmt 1 view .LVU536
 1760 0086 DFF87890 		ldr	r9, .L142+12
 1761 008a 4FF4805A 		mov	r10, #4096
 1762 008e 5246     		mov	r2, r10
 1763 0090 0021     		movs	r1, #0
 1764 0092 4846     		mov	r0, r9
 1765              	.LVL196:
1853:System/storage/Storage.c ****                     if (To_DevW25Qxx_API(dev->api)->read(To_DevW25Qxx_OBJ(dev->obj), section_addr, 
 1766              		.loc 1 1853 21 is_stmt 0 view .LVU537
 1767 0094 FFF7FEFF 		bl	memset
 1768              	.LVL197:
1854:System/storage/Storage.c ****                         return false;
 1769              		.loc 1 1854 21 is_stmt 1 view .LVU538
1854:System/storage/Storage.c ****                         return false;
 1770              		.loc 1 1854 25 is_stmt 0 view .LVU539
 1771 0098 3B6B     		ldr	r3, [r7, #48]
1854:System/storage/Storage.c ****                         return false;
 1772              		.loc 1 1854 51 view .LVU540
 1773 009a D3F808B0 		ldr	fp, [r3, #8]
1854:System/storage/Storage.c ****                         return false;
 1774              		.loc 1 1854 25 view .LVU541
 1775 009e 5346     		mov	r3, r10
 1776 00a0 4A46     		mov	r2, r9
 1777 00a2 3146     		mov	r1, r6
 1778 00a4 F86A     		ldr	r0, [r7, #44]
 1779 00a6 D847     		blx	fp
 1780              	.LVL198:
1854:System/storage/Storage.c ****                         return false;
 1781              		.loc 1 1854 24 view .LVU542
 1782 00a8 E8B9     		cbnz	r0, .L132
1858:System/storage/Storage.c ****                         return false;
 1783              		.loc 1 1858 21 is_stmt 1 view .LVU543
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 79


1858:System/storage/Storage.c ****                         return false;
 1784              		.loc 1 1858 25 is_stmt 0 view .LVU544
 1785 00aa 3B6B     		ldr	r3, [r7, #48]
1858:System/storage/Storage.c ****                         return false;
 1786              		.loc 1 1858 51 view .LVU545
 1787 00ac DB68     		ldr	r3, [r3, #12]
1858:System/storage/Storage.c ****                         return false;
 1788              		.loc 1 1858 25 view .LVU546
 1789 00ae 3146     		mov	r1, r6
 1790 00b0 F86A     		ldr	r0, [r7, #44]
 1791 00b2 9847     		blx	r3
 1792              	.LVL199:
1858:System/storage/Storage.c ****                         return false;
 1793              		.loc 1 1858 24 view .LVU547
 1794 00b4 C8B9     		cbnz	r0, .L133
1861:System/storage/Storage.c ****                     {
 1795              		.loc 1 1861 21 is_stmt 1 view .LVU548
1861:System/storage/Storage.c ****                     {
 1796              		.loc 1 1861 37 is_stmt 0 view .LVU549
 1797 00b6 A146     		mov	r9, r4
 1798 00b8 6319     		adds	r3, r4, r5
1861:System/storage/Storage.c ****                     {
 1799              		.loc 1 1861 62 view .LVU550
 1800 00ba 06EB0A02 		add	r2, r6, r10
1861:System/storage/Storage.c ****                     {
 1801              		.loc 1 1861 24 view .LVU551
 1802 00be 9342     		cmp	r3, r2
 1803 00c0 C4D3     		bcc	.L134
1863:System/storage/Storage.c ****                         size -= write_size;
 1804              		.loc 1 1863 25 is_stmt 1 view .LVU552
1863:System/storage/Storage.c ****                         size -= write_size;
 1805              		.loc 1 1863 68 is_stmt 0 view .LVU553
 1806 00c2 A6EB0509 		sub	r9, r6, r5
1863:System/storage/Storage.c ****                         size -= write_size;
 1807              		.loc 1 1863 36 view .LVU554
 1808 00c6 D144     		add	r9, r9, r10
 1809              	.LVL200:
1864:System/storage/Storage.c ****                     }
 1810              		.loc 1 1864 25 is_stmt 1 view .LVU555
1864:System/storage/Storage.c ****                     }
 1811              		.loc 1 1864 30 is_stmt 0 view .LVU556
 1812 00c8 A4EB0904 		sub	r4, r4, r9
 1813              	.LVL201:
1864:System/storage/Storage.c ****                     }
 1814              		.loc 1 1864 30 view .LVU557
 1815 00cc A4B2     		uxth	r4, r4
 1816              	.LVL202:
1864:System/storage/Storage.c ****                     }
 1817              		.loc 1 1864 30 view .LVU558
 1818 00ce BEE7     		b	.L124
 1819              	.LVL203:
 1820              	.L126:
 1821              	.LCFI19:
 1822              		.cfi_def_cfa_offset 0
 1823              		.cfi_restore 3
 1824              		.cfi_restore 4
 1825              		.cfi_restore 5
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 80


 1826              		.cfi_restore 6
 1827              		.cfi_restore 7
 1828              		.cfi_restore 8
 1829              		.cfi_restore 9
 1830              		.cfi_restore 10
 1831              		.cfi_restore 11
 1832              		.cfi_restore 14
1827:System/storage/Storage.c **** 
 1833              		.loc 1 1827 16 view .LVU559
 1834 00d0 0020     		movs	r0, #0
 1835              	.LVL204:
1889:System/storage/Storage.c **** 
 1836              		.loc 1 1889 1 view .LVU560
 1837 00d2 7047     		bx	lr
 1838              	.LVL205:
 1839              	.L127:
 1840              	.LCFI20:
 1841              		.cfi_def_cfa_offset 40
 1842              		.cfi_offset 3, -40
 1843              		.cfi_offset 4, -36
 1844              		.cfi_offset 5, -32
 1845              		.cfi_offset 6, -28
 1846              		.cfi_offset 7, -24
 1847              		.cfi_offset 8, -20
 1848              		.cfi_offset 9, -16
 1849              		.cfi_offset 10, -12
 1850              		.cfi_offset 11, -8
 1851              		.cfi_offset 14, -4
1827:System/storage/Storage.c **** 
 1852              		.loc 1 1827 16 view .LVU561
 1853 00d4 0020     		movs	r0, #0
 1854              	.LVL206:
 1855              	.L122:
1889:System/storage/Storage.c **** 
 1856              		.loc 1 1889 1 view .LVU562
 1857 00d6 BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 1858              	.LVL207:
 1859              	.L129:
1839:System/storage/Storage.c **** 
 1860              		.loc 1 1839 20 view .LVU563
 1861 00da 0020     		movs	r0, #0
 1862              	.LVL208:
1839:System/storage/Storage.c **** 
 1863              		.loc 1 1839 20 view .LVU564
 1864 00dc FBE7     		b	.L122
 1865              	.LVL209:
 1866              	.L130:
1884:System/storage/Storage.c ****         }
 1867              		.loc 1 1884 29 view .LVU565
 1868 00de 0020     		movs	r0, #0
 1869              	.LVL210:
1884:System/storage/Storage.c ****         }
 1870              		.loc 1 1884 29 view .LVU566
 1871 00e0 F9E7     		b	.L122
 1872              	.LVL211:
 1873              	.L131:
1850:System/storage/Storage.c **** 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 81


 1874              		.loc 1 1850 32 view .LVU567
 1875 00e2 0120     		movs	r0, #1
 1876              	.LVL212:
1850:System/storage/Storage.c **** 
 1877              		.loc 1 1850 32 view .LVU568
 1878 00e4 F7E7     		b	.L122
 1879              	.L132:
1855:System/storage/Storage.c **** 
 1880              		.loc 1 1855 32 view .LVU569
 1881 00e6 0020     		movs	r0, #0
 1882 00e8 F5E7     		b	.L122
 1883              	.L133:
1859:System/storage/Storage.c **** 
 1884              		.loc 1 1859 32 view .LVU570
 1885 00ea 0020     		movs	r0, #0
 1886 00ec F3E7     		b	.L122
 1887              	.LVL213:
 1888              	.L135:
1875:System/storage/Storage.c **** 
 1889              		.loc 1 1875 32 view .LVU571
 1890 00ee 0020     		movs	r0, #0
 1891 00f0 F1E7     		b	.L122
 1892              	.L143:
 1893 00f2 00BF     		.align	2
 1894              	.L142:
 1895 00f4 00000000 		.word	BspFlash
 1896 00f8 00000000 		.word	__boot_e
 1897 00fc 00000000 		.word	.LANCHOR0
 1898 0100 00000000 		.word	flash_read_tmp
 1899              		.cfi_endproc
 1900              	.LFE174:
 1902              		.section	.text.Storage_Frimware_Read,"ax",%progbits
 1903              		.align	1
 1904              		.syntax unified
 1905              		.thumb
 1906              		.thumb_func
 1908              	Storage_Frimware_Read:
 1909              	.LVL214:
 1910              	.LFB173:
1780:System/storage/Storage.c ****     uint32_t read_addr = 0;
 1911              		.loc 1 1780 1 is_stmt 1 view -0
 1912              		.cfi_startproc
 1913              		@ args = 0, pretend = 0, frame = 0
 1914              		@ frame_needed = 0, uses_anonymous_args = 0
1780:System/storage/Storage.c ****     uint32_t read_addr = 0;
 1915              		.loc 1 1780 1 is_stmt 0 view .LVU573
 1916 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 1917              	.LCFI21:
 1918              		.cfi_def_cfa_offset 32
 1919              		.cfi_offset 3, -32
 1920              		.cfi_offset 4, -28
 1921              		.cfi_offset 5, -24
 1922              		.cfi_offset 6, -20
 1923              		.cfi_offset 7, -16
 1924              		.cfi_offset 8, -12
 1925              		.cfi_offset 9, -8
 1926              		.cfi_offset 14, -4
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 82


1781:System/storage/Storage.c ****     uint32_t section_addr = 0;
 1927              		.loc 1 1781 5 is_stmt 1 view .LVU574
 1928              	.LVL215:
1782:System/storage/Storage.c ****     uint32_t read_size = 0;
 1929              		.loc 1 1782 5 view .LVU575
1783:System/storage/Storage.c ****     StorageDevObj_TypeDef *dev = NULL;
 1930              		.loc 1 1783 5 view .LVU576
1784:System/storage/Storage.c ****     dev = (StorageDevObj_TypeDef *)(Storage_Monitor.ExtDev_ptr);
 1931              		.loc 1 1784 5 view .LVU577
1785:System/storage/Storage.c **** 
 1932              		.loc 1 1785 5 view .LVU578
1785:System/storage/Storage.c **** 
 1933              		.loc 1 1785 9 is_stmt 0 view .LVU579
 1934 0004 1D4B     		ldr	r3, .L156
 1935 0006 9F68     		ldr	r7, [r3, #8]
 1936              	.LVL216:
1787:System/storage/Storage.c ****     {
 1937              		.loc 1 1787 5 is_stmt 1 view .LVU580
1787:System/storage/Storage.c ****     {
 1938              		.loc 1 1787 8 is_stmt 0 view .LVU581
 1939 0008 77B3     		cbz	r7, .L148
 1940 000a 8846     		mov	r8, r1
 1941 000c 1546     		mov	r5, r2
1787:System/storage/Storage.c ****     {
 1942              		.loc 1 1787 13 discriminator 1 view .LVU582
 1943 000e 71B3     		cbz	r1, .L149
1787:System/storage/Storage.c ****     {
 1944              		.loc 1 1787 23 discriminator 2 view .LVU583
 1945 0010 7AB3     		cbz	r2, .L150
1789:System/storage/Storage.c ****         while (true)
 1946              		.loc 1 1789 9 is_stmt 1 view .LVU584
1789:System/storage/Storage.c ****         while (true)
 1947              		.loc 1 1789 19 is_stmt 0 view .LVU585
 1948 0012 00F5A016 		add	r6, r0, #1310720
 1949              	.LVL217:
1789:System/storage/Storage.c ****         while (true)
 1950              		.loc 1 1789 19 view .LVU586
 1951 0016 08E0     		b	.L147
 1952              	.LVL218:
 1953              	.L152:
1805:System/storage/Storage.c ****             }
 1954              		.loc 1 1805 22 view .LVU587
 1955 0018 0025     		movs	r5, #0
 1956              	.LVL219:
 1957              	.L146:
1808:System/storage/Storage.c ****             read_addr = section_addr + Storage_TabSize;
 1958              		.loc 1 1808 13 is_stmt 1 view .LVU588
1808:System/storage/Storage.c ****             read_addr = section_addr + Storage_TabSize;
 1959              		.loc 1 1808 54 is_stmt 0 view .LVU589
 1960 001a 341B     		subs	r4, r6, r4
 1961              	.LVL220:
1808:System/storage/Storage.c ****             read_addr = section_addr + Storage_TabSize;
 1962              		.loc 1 1808 13 view .LVU590
 1963 001c 1849     		ldr	r1, .L156+4
 1964 001e 2144     		add	r1, r1, r4
 1965 0020 4046     		mov	r0, r8
 1966 0022 FFF7FEFF 		bl	memcpy
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 83


 1967              	.LVL221:
1809:System/storage/Storage.c **** 
 1968              		.loc 1 1809 13 is_stmt 1 view .LVU591
1811:System/storage/Storage.c ****                 return true;
 1969              		.loc 1 1811 13 view .LVU592
1811:System/storage/Storage.c ****                 return true;
 1970              		.loc 1 1811 16 is_stmt 0 view .LVU593
 1971 0026 EDB1     		cbz	r5, .L155
1809:System/storage/Storage.c **** 
 1972              		.loc 1 1809 23 view .LVU594
 1973 0028 4E46     		mov	r6, r9
 1974              	.LVL222:
 1975              	.L147:
1790:System/storage/Storage.c ****         {
 1976              		.loc 1 1790 9 is_stmt 1 view .LVU595
1792:System/storage/Storage.c ****             if (To_DevW25Qxx_API(dev->api)->read(To_DevW25Qxx_OBJ(dev->obj), section_addr, flash_re
 1977              		.loc 1 1792 13 view .LVU596
1792:System/storage/Storage.c ****             if (To_DevW25Qxx_API(dev->api)->read(To_DevW25Qxx_OBJ(dev->obj), section_addr, flash_re
 1978              		.loc 1 1792 28 is_stmt 0 view .LVU597
 1979 002a 3B6B     		ldr	r3, [r7, #48]
1792:System/storage/Storage.c ****             if (To_DevW25Qxx_API(dev->api)->read(To_DevW25Qxx_OBJ(dev->obj), section_addr, flash_re
 1980              		.loc 1 1792 54 view .LVU598
 1981 002c 9B69     		ldr	r3, [r3, #24]
1792:System/storage/Storage.c ****             if (To_DevW25Qxx_API(dev->api)->read(To_DevW25Qxx_OBJ(dev->obj), section_addr, flash_re
 1982              		.loc 1 1792 28 view .LVU599
 1983 002e 3146     		mov	r1, r6
 1984 0030 F86A     		ldr	r0, [r7, #44]
 1985 0032 9847     		blx	r3
 1986              	.LVL223:
 1987 0034 0446     		mov	r4, r0
 1988              	.LVL224:
1793:System/storage/Storage.c ****                 return false;
 1989              		.loc 1 1793 13 is_stmt 1 view .LVU600
1793:System/storage/Storage.c ****                 return false;
 1990              		.loc 1 1793 17 is_stmt 0 view .LVU601
 1991 0036 3B6B     		ldr	r3, [r7, #48]
1793:System/storage/Storage.c ****                 return false;
 1992              		.loc 1 1793 43 view .LVU602
 1993 0038 D3F80890 		ldr	r9, [r3, #8]
1793:System/storage/Storage.c ****                 return false;
 1994              		.loc 1 1793 17 view .LVU603
 1995 003c 4FF48053 		mov	r3, #4096
 1996 0040 0F4A     		ldr	r2, .L156+4
 1997 0042 0146     		mov	r1, r0
 1998 0044 F86A     		ldr	r0, [r7, #44]
 1999              	.LVL225:
1793:System/storage/Storage.c ****                 return false;
 2000              		.loc 1 1793 17 view .LVU604
 2001 0046 C847     		blx	r9
 2002              	.LVL226:
1793:System/storage/Storage.c ****                 return false;
 2003              		.loc 1 1793 16 view .LVU605
 2004 0048 A8B9     		cbnz	r0, .L151
1796:System/storage/Storage.c ****             {
 2005              		.loc 1 1796 13 is_stmt 1 view .LVU606
1796:System/storage/Storage.c ****             {
 2006              		.loc 1 1796 28 is_stmt 0 view .LVU607
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 84


 2007 004a 2A46     		mov	r2, r5
 2008 004c AB19     		adds	r3, r5, r6
1796:System/storage/Storage.c ****             {
 2009              		.loc 1 1796 52 view .LVU608
 2010 004e 04F58059 		add	r9, r4, #4096
1796:System/storage/Storage.c ****             {
 2011              		.loc 1 1796 16 view .LVU609
 2012 0052 4B45     		cmp	r3, r9
 2013 0054 E0D9     		bls	.L152
1798:System/storage/Storage.c ****                 size -= read_size;
 2014              		.loc 1 1798 17 is_stmt 1 view .LVU610
1798:System/storage/Storage.c ****                 size -= read_size;
 2015              		.loc 1 1798 58 is_stmt 0 view .LVU611
 2016 0056 A21B     		subs	r2, r4, r6
1798:System/storage/Storage.c ****                 size -= read_size;
 2017              		.loc 1 1798 27 view .LVU612
 2018 0058 02F58052 		add	r2, r2, #4096
 2019              	.LVL227:
1799:System/storage/Storage.c ****                 p_data += read_size;
 2020              		.loc 1 1799 17 is_stmt 1 view .LVU613
1799:System/storage/Storage.c ****                 p_data += read_size;
 2021              		.loc 1 1799 22 is_stmt 0 view .LVU614
 2022 005c AD1A     		subs	r5, r5, r2
 2023              	.LVL228:
1799:System/storage/Storage.c ****                 p_data += read_size;
 2024              		.loc 1 1799 22 view .LVU615
 2025 005e ADB2     		uxth	r5, r5
 2026              	.LVL229:
1800:System/storage/Storage.c ****             }
 2027              		.loc 1 1800 17 is_stmt 1 view .LVU616
1800:System/storage/Storage.c ****             }
 2028              		.loc 1 1800 24 is_stmt 0 view .LVU617
 2029 0060 9044     		add	r8, r8, r2
 2030              	.LVL230:
1800:System/storage/Storage.c ****             }
 2031              		.loc 1 1800 24 view .LVU618
 2032 0062 DAE7     		b	.L146
 2033              	.LVL231:
 2034              	.L155:
1812:System/storage/Storage.c ****         }
 2035              		.loc 1 1812 24 view .LVU619
 2036 0064 0120     		movs	r0, #1
 2037 0066 00E0     		b	.L145
 2038              	.LVL232:
 2039              	.L148:
1816:System/storage/Storage.c **** }
 2040              		.loc 1 1816 12 view .LVU620
 2041 0068 0020     		movs	r0, #0
 2042              	.LVL233:
 2043              	.L145:
1817:System/storage/Storage.c **** 
 2044              		.loc 1 1817 1 view .LVU621
 2045 006a BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 2046              	.LVL234:
 2047              	.L149:
1816:System/storage/Storage.c **** }
 2048              		.loc 1 1816 12 view .LVU622
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 85


 2049 006e 0020     		movs	r0, #0
 2050              	.LVL235:
1816:System/storage/Storage.c **** }
 2051              		.loc 1 1816 12 view .LVU623
 2052 0070 FBE7     		b	.L145
 2053              	.LVL236:
 2054              	.L150:
1816:System/storage/Storage.c **** }
 2055              		.loc 1 1816 12 view .LVU624
 2056 0072 0020     		movs	r0, #0
 2057              	.LVL237:
1816:System/storage/Storage.c **** }
 2058              		.loc 1 1816 12 view .LVU625
 2059 0074 F9E7     		b	.L145
 2060              	.LVL238:
 2061              	.L151:
1794:System/storage/Storage.c **** 
 2062              		.loc 1 1794 24 view .LVU626
 2063 0076 0020     		movs	r0, #0
 2064 0078 F7E7     		b	.L145
 2065              	.L157:
 2066 007a 00BF     		.align	2
 2067              	.L156:
 2068 007c 00000000 		.word	.LANCHOR0
 2069 0080 00000000 		.word	flash_read_tmp
 2070              		.cfi_endproc
 2071              	.LFE173:
 2073              		.section	.text.Storage_Get_DevInfo,"ax",%progbits
 2074              		.align	1
 2075              		.syntax unified
 2076              		.thumb
 2077              		.thumb_func
 2079              	Storage_Get_DevInfo:
 2080              	.LVL239:
 2081              	.LFB149:
 197:System/storage/Storage.c ****     StorageDevObj_TypeDef *p_dev = NULL;
 2082              		.loc 1 197 1 is_stmt 1 view -0
 2083              		.cfi_startproc
 2084              		@ args = 0, pretend = 0, frame = 0
 2085              		@ frame_needed = 0, uses_anonymous_args = 0
 198:System/storage/Storage.c **** 
 2086              		.loc 1 198 5 view .LVU628
 200:System/storage/Storage.c ****     {
 2087              		.loc 1 200 5 view .LVU629
 200:System/storage/Storage.c ****     {
 2088              		.loc 1 200 8 is_stmt 0 view .LVU630
 2089 0000 10B3     		cbz	r0, .L161
 197:System/storage/Storage.c ****     StorageDevObj_TypeDef *p_dev = NULL;
 2090              		.loc 1 197 1 view .LVU631
 2091 0002 10B5     		push	{r4, lr}
 2092              	.LCFI22:
 2093              		.cfi_def_cfa_offset 8
 2094              		.cfi_offset 4, -8
 2095              		.cfi_offset 14, -4
 2096 0004 0446     		mov	r4, r0
 202:System/storage/Storage.c ****         if (Storage_Monitor.init_state && Storage_Monitor.ExtDev_ptr)
 2097              		.loc 1 202 9 is_stmt 1 view .LVU632
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 86


 2098 0006 3422     		movs	r2, #52
 2099 0008 0021     		movs	r1, #0
 2100 000a FFF7FEFF 		bl	memset
 2101              	.LVL240:
 203:System/storage/Storage.c ****         {
 2102              		.loc 1 203 9 view .LVU633
 203:System/storage/Storage.c ****         {
 2103              		.loc 1 203 28 is_stmt 0 view .LVU634
 2104 000e 114B     		ldr	r3, .L168
 2105 0010 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 203:System/storage/Storage.c ****         {
 2106              		.loc 1 203 12 view .LVU635
 2107 0012 DBB1     		cbz	r3, .L162
 203:System/storage/Storage.c ****         {
 2108              		.loc 1 203 58 discriminator 1 view .LVU636
 2109 0014 0F4B     		ldr	r3, .L168
 2110 0016 9A68     		ldr	r2, [r3, #8]
 203:System/storage/Storage.c ****         {
 2111              		.loc 1 203 40 discriminator 1 view .LVU637
 2112 0018 D2B1     		cbz	r2, .L163
 205:System/storage/Storage.c ****             memcpy(info, p_dev, sizeof(StorageDevObj_TypeDef));
 2113              		.loc 1 205 13 is_stmt 1 view .LVU638
 2114              	.LVL241:
 206:System/storage/Storage.c ****             return Storage_Error_None;
 2115              		.loc 1 206 13 view .LVU639
 2116 001a 1346     		mov	r3, r2
 2117 001c 2046     		mov	r0, r4
 2118 001e 3032     		adds	r2, r2, #48
 2119              	.LVL242:
 2120              	.L160:
 206:System/storage/Storage.c ****             return Storage_Error_None;
 2121              		.loc 1 206 13 is_stmt 0 view .LVU640
 2122 0020 D3F800E0 		ldr	lr, [r3]	@ unaligned
 2123 0024 D3F804C0 		ldr	ip, [r3, #4]	@ unaligned
 2124 0028 9C68     		ldr	r4, [r3, #8]	@ unaligned
 2125 002a D968     		ldr	r1, [r3, #12]	@ unaligned
 2126 002c C0F800E0 		str	lr, [r0]	@ unaligned
 2127 0030 C0F804C0 		str	ip, [r0, #4]	@ unaligned
 2128 0034 8460     		str	r4, [r0, #8]	@ unaligned
 2129 0036 C160     		str	r1, [r0, #12]	@ unaligned
 2130 0038 1033     		adds	r3, r3, #16
 2131 003a 1030     		adds	r0, r0, #16
 2132 003c 9342     		cmp	r3, r2
 2133 003e EFD1     		bne	.L160
 2134 0040 1B68     		ldr	r3, [r3]	@ unaligned
 2135 0042 0360     		str	r3, [r0]	@ unaligned
 207:System/storage/Storage.c ****         }
 2136              		.loc 1 207 13 is_stmt 1 view .LVU641
 207:System/storage/Storage.c ****         }
 2137              		.loc 1 207 20 is_stmt 0 view .LVU642
 2138 0044 0020     		movs	r0, #0
 2139              	.LVL243:
 2140              	.L159:
 214:System/storage/Storage.c **** 
 2141              		.loc 1 214 1 view .LVU643
 2142 0046 10BD     		pop	{r4, pc}
 2143              	.LVL244:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 87


 2144              	.L161:
 2145              	.LCFI23:
 2146              		.cfi_def_cfa_offset 0
 2147              		.cfi_restore 4
 2148              		.cfi_restore 14
 213:System/storage/Storage.c **** }
 2149              		.loc 1 213 12 view .LVU644
 2150 0048 0420     		movs	r0, #4
 2151              	.LVL245:
 214:System/storage/Storage.c **** 
 2152              		.loc 1 214 1 view .LVU645
 2153 004a 7047     		bx	lr
 2154              	.LVL246:
 2155              	.L162:
 2156              	.LCFI24:
 2157              		.cfi_def_cfa_offset 8
 2158              		.cfi_offset 4, -8
 2159              		.cfi_offset 14, -4
 210:System/storage/Storage.c ****     }
 2160              		.loc 1 210 16 view .LVU646
 2161 004c 0620     		movs	r0, #6
 2162 004e FAE7     		b	.L159
 2163              	.L163:
 2164 0050 0620     		movs	r0, #6
 2165 0052 F8E7     		b	.L159
 2166              	.L169:
 2167              		.align	2
 2168              	.L168:
 2169 0054 00000000 		.word	.LANCHOR0
 2170              		.cfi_endproc
 2171              	.LFE149:
 2173              		.section	.text.Storage_ExtFlash_ParaSec_Read,"ax",%progbits
 2174              		.align	1
 2175              		.syntax unified
 2176              		.thumb
 2177              		.thumb_func
 2179              	Storage_ExtFlash_ParaSec_Read:
 2180              	.LVL247:
 2181              	.LFB175:
1893:System/storage/Storage.c ****     uint32_t read_start_addr = 0;
 2182              		.loc 1 1893 1 is_stmt 1 view -0
 2183              		.cfi_startproc
 2184              		@ args = 0, pretend = 0, frame = 88
 2185              		@ frame_needed = 0, uses_anonymous_args = 0
1893:System/storage/Storage.c ****     uint32_t read_start_addr = 0;
 2186              		.loc 1 1893 1 is_stmt 0 view .LVU648
 2187 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2188              	.LCFI25:
 2189              		.cfi_def_cfa_offset 36
 2190              		.cfi_offset 4, -36
 2191              		.cfi_offset 5, -32
 2192              		.cfi_offset 6, -28
 2193              		.cfi_offset 7, -24
 2194              		.cfi_offset 8, -20
 2195              		.cfi_offset 9, -16
 2196              		.cfi_offset 10, -12
 2197              		.cfi_offset 11, -8
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 88


 2198              		.cfi_offset 14, -4
 2199 0004 97B0     		sub	sp, sp, #92
 2200              	.LCFI26:
 2201              		.cfi_def_cfa_offset 128
1894:System/storage/Storage.c ****     uint32_t flash_end_addr = 0;
 2202              		.loc 1 1894 5 is_stmt 1 view .LVU649
 2203              	.LVL248:
1895:System/storage/Storage.c ****     uint32_t section_start_addr = 0;
 2204              		.loc 1 1895 5 view .LVU650
1896:System/storage/Storage.c ****     uint32_t next_read_addr = 0;
 2205              		.loc 1 1896 5 view .LVU651
1897:System/storage/Storage.c ****     uint32_t section_size = 0;
 2206              		.loc 1 1897 5 view .LVU652
1898:System/storage/Storage.c ****     uint32_t read_offset = 0;
 2207              		.loc 1 1898 5 view .LVU653
1899:System/storage/Storage.c ****     uint32_t read_len = len;
 2208              		.loc 1 1899 5 view .LVU654
1900:System/storage/Storage.c ****     StorageDevObj_TypeDef *dev = NULL;
 2209              		.loc 1 1900 5 view .LVU655
1901:System/storage/Storage.c **** 
 2210              		.loc 1 1901 5 view .LVU656
1903:System/storage/Storage.c ****         (p_data == 0) || \
 2211              		.loc 1 1903 5 view .LVU657
1903:System/storage/Storage.c ****         (p_data == 0) || \
 2212              		.loc 1 1903 25 is_stmt 0 view .LVU658
 2213 0006 434B     		ldr	r3, .L191
 2214 0008 9D68     		ldr	r5, [r3, #8]
1903:System/storage/Storage.c ****         (p_data == 0) || \
 2215              		.loc 1 1903 8 view .LVU659
 2216 000a 002D     		cmp	r5, #0
 2217 000c 6BD0     		beq	.L175
 2218 000e 0E46     		mov	r6, r1
 2219 0010 1446     		mov	r4, r2
1903:System/storage/Storage.c ****         (p_data == 0) || \
 2220              		.loc 1 1903 46 discriminator 1 view .LVU660
 2221 0012 0029     		cmp	r1, #0
 2222 0014 69D0     		beq	.L176
1904:System/storage/Storage.c ****         (len == 0))
 2223              		.loc 1 1904 23 view .LVU661
 2224 0016 002A     		cmp	r2, #0
 2225 0018 69D0     		beq	.L177
1908:System/storage/Storage.c ****     dev = (StorageDevObj_TypeDef *)(Storage_Monitor.ExtDev_ptr);
 2226              		.loc 1 1908 5 is_stmt 1 view .LVU662
1908:System/storage/Storage.c ****     dev = (StorageDevObj_TypeDef *)(Storage_Monitor.ExtDev_ptr);
 2227              		.loc 1 1908 52 is_stmt 0 view .LVU663
 2228 001a D3F83610 		ldr	r1, [r3, #54]	@ unaligned
 2229              	.LVL249:
1908:System/storage/Storage.c ****     dev = (StorageDevObj_TypeDef *)(Storage_Monitor.ExtDev_ptr);
 2230              		.loc 1 1908 21 view .LVU664
 2231 001e 01EB000A 		add	r10, r1, r0
 2232              	.LVL250:
1909:System/storage/Storage.c ****     if ((dev->api == NULL) || (dev->obj == NULL))
 2233              		.loc 1 1909 5 is_stmt 1 view .LVU665
1910:System/storage/Storage.c ****         return false;
 2234              		.loc 1 1910 5 view .LVU666
1910:System/storage/Storage.c ****         return false;
 2235              		.loc 1 1910 13 is_stmt 0 view .LVU667
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 89


 2236 0022 2B6B     		ldr	r3, [r5, #48]
1910:System/storage/Storage.c ****         return false;
 2237              		.loc 1 1910 8 view .LVU668
 2238 0024 002B     		cmp	r3, #0
 2239 0026 66D0     		beq	.L178
1910:System/storage/Storage.c ****         return false;
 2240              		.loc 1 1910 35 discriminator 1 view .LVU669
 2241 0028 E96A     		ldr	r1, [r5, #44]
1910:System/storage/Storage.c ****         return false;
 2242              		.loc 1 1910 28 discriminator 1 view .LVU670
 2243 002a 0029     		cmp	r1, #0
 2244 002c 65D0     		beq	.L179
1913:System/storage/Storage.c ****     {
 2245              		.loc 1 1913 5 is_stmt 1 view .LVU671
1913:System/storage/Storage.c ****     {
 2246              		.loc 1 1913 24 is_stmt 0 view .LVU672
 2247 002e 6A78     		ldrb	r2, [r5, #1]	@ zero_extendqisi2
 2248              	.LVL251:
1913:System/storage/Storage.c ****     {
 2249              		.loc 1 1913 5 view .LVU673
 2250 0030 012A     		cmp	r2, #1
 2251 0032 01D0     		beq	.L190
1966:System/storage/Storage.c ****     }
 2252              		.loc 1 1966 25 view .LVU674
 2253 0034 0020     		movs	r0, #0
 2254              	.LVL252:
1966:System/storage/Storage.c ****     }
 2255              		.loc 1 1966 25 view .LVU675
 2256 0036 5BE0     		b	.L171
 2257              	.LVL253:
 2258              	.L190:
1916:System/storage/Storage.c ****             /* get w25qxx device info */
 2259              		.loc 1 1916 13 is_stmt 1 view .LVU676
1916:System/storage/Storage.c ****             /* get w25qxx device info */
 2260              		.loc 1 1916 54 is_stmt 0 view .LVU677
 2261 0038 5B69     		ldr	r3, [r3, #20]
1916:System/storage/Storage.c ****             /* get w25qxx device info */
 2262              		.loc 1 1916 28 view .LVU678
 2263 003a 01A8     		add	r0, sp, #4
 2264              	.LVL254:
1916:System/storage/Storage.c ****             /* get w25qxx device info */
 2265              		.loc 1 1916 28 view .LVU679
 2266 003c 9847     		blx	r3
 2267              	.LVL255:
1916:System/storage/Storage.c ****             /* get w25qxx device info */
 2268              		.loc 1 1916 26 view .LVU680
 2269 003e DDF81480 		ldr	r8, [sp, #20]
 2270              	.LVL256:
1919:System/storage/Storage.c ****             if (flash_end_addr > read_start_addr)
 2271              		.loc 1 1919 13 is_stmt 1 view .LVU681
1919:System/storage/Storage.c ****             if (flash_end_addr > read_start_addr)
 2272              		.loc 1 1919 30 is_stmt 0 view .LVU682
 2273 0042 2B6B     		ldr	r3, [r5, #48]
1919:System/storage/Storage.c ****             if (flash_end_addr > read_start_addr)
 2274              		.loc 1 1919 56 view .LVU683
 2275 0044 5B69     		ldr	r3, [r3, #20]
1919:System/storage/Storage.c ****             if (flash_end_addr > read_start_addr)
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 90


 2276              		.loc 1 1919 30 view .LVU684
 2277 0046 E96A     		ldr	r1, [r5, #44]
 2278 0048 08A8     		add	r0, sp, #32
 2279 004a 9847     		blx	r3
 2280              	.LVL257:
1919:System/storage/Storage.c ****             if (flash_end_addr > read_start_addr)
 2281              		.loc 1 1919 28 view .LVU685
 2282 004c 099F     		ldr	r7, [sp, #36]
 2283              	.LVL258:
1920:System/storage/Storage.c ****                 return false;
 2284              		.loc 1 1920 13 is_stmt 1 view .LVU686
1920:System/storage/Storage.c ****                 return false;
 2285              		.loc 1 1920 16 is_stmt 0 view .LVU687
 2286 004e BA45     		cmp	r10, r7
 2287 0050 55D3     		bcc	.L181
1924:System/storage/Storage.c ****             if ((len + read_start_addr) > flash_end_addr)
 2288              		.loc 1 1924 13 is_stmt 1 view .LVU688
1924:System/storage/Storage.c ****             if ((len + read_start_addr) > flash_end_addr)
 2289              		.loc 1 1924 31 is_stmt 0 view .LVU689
 2290 0052 2B6B     		ldr	r3, [r5, #48]
1924:System/storage/Storage.c ****             if ((len + read_start_addr) > flash_end_addr)
 2291              		.loc 1 1924 57 view .LVU690
 2292 0054 5B69     		ldr	r3, [r3, #20]
1924:System/storage/Storage.c ****             if ((len + read_start_addr) > flash_end_addr)
 2293              		.loc 1 1924 31 view .LVU691
 2294 0056 E96A     		ldr	r1, [r5, #44]
 2295 0058 0FA8     		add	r0, sp, #60
 2296 005a 9847     		blx	r3
 2297              	.LVL259:
1924:System/storage/Storage.c ****             if ((len + read_start_addr) > flash_end_addr)
 2298              		.loc 1 1924 91 view .LVU692
 2299 005c 119B     		ldr	r3, [sp, #68]
1924:System/storage/Storage.c ****             if ((len + read_start_addr) > flash_end_addr)
 2300              		.loc 1 1924 28 view .LVU693
 2301 005e 07EB0309 		add	r9, r7, r3
 2302              	.LVL260:
1925:System/storage/Storage.c ****                 return false;
 2303              		.loc 1 1925 13 is_stmt 1 view .LVU694
1925:System/storage/Storage.c ****                 return false;
 2304              		.loc 1 1925 22 is_stmt 0 view .LVU695
 2305 0062 04EB0A03 		add	r3, r4, r10
1925:System/storage/Storage.c ****                 return false;
 2306              		.loc 1 1925 16 view .LVU696
 2307 0066 4B45     		cmp	r3, r9
 2308 0068 4BD8     		bhi	.L182
1928:System/storage/Storage.c ****                 return false;
 2309              		.loc 1 1928 13 is_stmt 1 view .LVU697
1928:System/storage/Storage.c ****                 return false;
 2310              		.loc 1 1928 16 is_stmt 0 view .LVU698
 2311 006a B8F1000F 		cmp	r8, #0
 2312 006e 4AD0     		beq	.L183
1931:System/storage/Storage.c ****             read_offset = read_start_addr - section_start_addr;
 2313              		.loc 1 1931 13 is_stmt 1 view .LVU699
1931:System/storage/Storage.c ****             read_offset = read_start_addr - section_start_addr;
 2314              		.loc 1 1931 34 is_stmt 0 view .LVU700
 2315 0070 2B6B     		ldr	r3, [r5, #48]
1931:System/storage/Storage.c ****             read_offset = read_start_addr - section_start_addr;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 91


 2316              		.loc 1 1931 60 view .LVU701
 2317 0072 9B69     		ldr	r3, [r3, #24]
1931:System/storage/Storage.c ****             read_offset = read_start_addr - section_start_addr;
 2318              		.loc 1 1931 34 view .LVU702
 2319 0074 5146     		mov	r1, r10
 2320 0076 E86A     		ldr	r0, [r5, #44]
 2321 0078 9847     		blx	r3
 2322              	.LVL261:
 2323 007a 8146     		mov	r9, r0
 2324              	.LVL262:
1932:System/storage/Storage.c ****             if (section_size > sizeof(flash_read_tmp))
 2325              		.loc 1 1932 13 is_stmt 1 view .LVU703
1932:System/storage/Storage.c ****             if (section_size > sizeof(flash_read_tmp))
 2326              		.loc 1 1932 25 is_stmt 0 view .LVU704
 2327 007c AAEB000A 		sub	r10, r10, r0
 2328              	.LVL263:
1933:System/storage/Storage.c ****                 return false;
 2329              		.loc 1 1933 13 is_stmt 1 view .LVU705
1933:System/storage/Storage.c ****                 return false;
 2330              		.loc 1 1933 16 is_stmt 0 view .LVU706
 2331 0080 B8F5005F 		cmp	r8, #8192
 2332 0084 26D9     		bls	.L174
1934:System/storage/Storage.c **** 
 2333              		.loc 1 1934 24 view .LVU707
 2334 0086 0020     		movs	r0, #0
 2335              	.LVL264:
1934:System/storage/Storage.c **** 
 2336              		.loc 1 1934 24 view .LVU708
 2337 0088 32E0     		b	.L171
 2338              	.LVL265:
 2339              	.L185:
1934:System/storage/Storage.c **** 
 2340              		.loc 1 1934 24 view .LVU709
 2341 008a 2746     		mov	r7, r4
 2342              	.LVL266:
 2343              	.L172:
1945:System/storage/Storage.c ****                     return false;
 2344              		.loc 1 1945 17 is_stmt 1 view .LVU710
1945:System/storage/Storage.c ****                     return false;
 2345              		.loc 1 1945 21 is_stmt 0 view .LVU711
 2346 008c 2B6B     		ldr	r3, [r5, #48]
1945:System/storage/Storage.c ****                     return false;
 2347              		.loc 1 1945 47 view .LVU712
 2348 008e D3F808B0 		ldr	fp, [r3, #8]
1945:System/storage/Storage.c ****                     return false;
 2349              		.loc 1 1945 21 view .LVU713
 2350 0092 4346     		mov	r3, r8
 2351 0094 204A     		ldr	r2, .L191+4
 2352 0096 4946     		mov	r1, r9
 2353 0098 E86A     		ldr	r0, [r5, #44]
 2354              	.LVL267:
1945:System/storage/Storage.c ****                     return false;
 2355              		.loc 1 1945 21 view .LVU714
 2356 009a D847     		blx	fp
 2357              	.LVL268:
1945:System/storage/Storage.c ****                     return false;
 2358              		.loc 1 1945 20 view .LVU715
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 92


 2359 009c A8BB     		cbnz	r0, .L186
1948:System/storage/Storage.c ****                 memset(flash_read_tmp, 0, section_size);
 2360              		.loc 1 1948 17 is_stmt 1 view .LVU716
 2361 009e DFF878B0 		ldr	fp, .L191+4
 2362 00a2 3A46     		mov	r2, r7
 2363 00a4 0BEB0A01 		add	r1, fp, r10
 2364 00a8 3046     		mov	r0, r6
 2365 00aa FFF7FEFF 		bl	memcpy
 2366              	.LVL269:
1949:System/storage/Storage.c **** 
 2367              		.loc 1 1949 17 view .LVU717
 2368 00ae 4246     		mov	r2, r8
 2369 00b0 0021     		movs	r1, #0
 2370 00b2 5846     		mov	r0, fp
 2371 00b4 FFF7FEFF 		bl	memset
 2372              	.LVL270:
1951:System/storage/Storage.c ****                 if (len == 0)
 2373              		.loc 1 1951 17 view .LVU718
1952:System/storage/Storage.c ****                     return true;
 2374              		.loc 1 1952 17 view .LVU719
1952:System/storage/Storage.c ****                     return true;
 2375              		.loc 1 1952 20 is_stmt 0 view .LVU720
 2376 00b8 E41B     		subs	r4, r4, r7
 2377              	.LVL271:
1952:System/storage/Storage.c ****                     return true;
 2378              		.loc 1 1952 20 view .LVU721
 2379 00ba 28D0     		beq	.L187
1955:System/storage/Storage.c ****                 next_read_addr = To_DevW25Qxx_API(dev->api)->get_section_start_addr(To_DevW25Qxx_OB
 2380              		.loc 1 1955 17 is_stmt 1 view .LVU722
 2381              	.LVL272:
1956:System/storage/Storage.c ****                 if (next_read_addr == section_start_addr)
 2382              		.loc 1 1956 17 view .LVU723
1956:System/storage/Storage.c ****                 if (next_read_addr == section_start_addr)
 2383              		.loc 1 1956 34 is_stmt 0 view .LVU724
 2384 00bc 2B6B     		ldr	r3, [r5, #48]
1956:System/storage/Storage.c ****                 if (next_read_addr == section_start_addr)
 2385              		.loc 1 1956 60 view .LVU725
 2386 00be 9B69     		ldr	r3, [r3, #24]
1956:System/storage/Storage.c ****                 if (next_read_addr == section_start_addr)
 2387              		.loc 1 1956 34 view .LVU726
 2388 00c0 09EB0701 		add	r1, r9, r7
 2389 00c4 E86A     		ldr	r0, [r5, #44]
 2390 00c6 9847     		blx	r3
 2391              	.LVL273:
1957:System/storage/Storage.c ****                     read_offset = read_len;
 2392              		.loc 1 1957 17 is_stmt 1 view .LVU727
1957:System/storage/Storage.c ****                     read_offset = read_len;
 2393              		.loc 1 1957 20 is_stmt 0 view .LVU728
 2394 00c8 8145     		cmp	r9, r0
 2395 00ca 0AD0     		beq	.L188
1955:System/storage/Storage.c ****                 next_read_addr = To_DevW25Qxx_API(dev->api)->get_section_start_addr(To_DevW25Qxx_OB
 2396              		.loc 1 1955 29 view .LVU729
 2397 00cc 4FF0000A 		mov	r10, #0
 2398              	.L173:
 2399              	.LVL274:
1960:System/storage/Storage.c ****                 read_len = len;
 2400              		.loc 1 1960 17 is_stmt 1 view .LVU730
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 93


1960:System/storage/Storage.c ****                 read_len = len;
 2401              		.loc 1 1960 24 is_stmt 0 view .LVU731
 2402 00d0 3E44     		add	r6, r6, r7
 2403              	.LVL275:
1961:System/storage/Storage.c ****                 section_start_addr = next_read_addr;
 2404              		.loc 1 1961 17 is_stmt 1 view .LVU732
1962:System/storage/Storage.c ****             }
 2405              		.loc 1 1962 17 view .LVU733
1936:System/storage/Storage.c ****             {
 2406              		.loc 1 1936 18 view .LVU734
1962:System/storage/Storage.c ****             }
 2407              		.loc 1 1962 36 is_stmt 0 view .LVU735
 2408 00d2 8146     		mov	r9, r0
 2409              	.LVL276:
 2410              	.L174:
1936:System/storage/Storage.c ****             {
 2411              		.loc 1 1936 13 is_stmt 1 view .LVU736
1941:System/storage/Storage.c ****                     read_len = section_size - read_offset;
 2412              		.loc 1 1941 17 view .LVU737
1941:System/storage/Storage.c ****                     read_len = section_size - read_offset;
 2413              		.loc 1 1941 33 is_stmt 0 view .LVU738
 2414 00d4 04EB0A03 		add	r3, r4, r10
1941:System/storage/Storage.c ****                     read_len = section_size - read_offset;
 2415              		.loc 1 1941 20 view .LVU739
 2416 00d8 4345     		cmp	r3, r8
 2417 00da D6D9     		bls	.L185
1942:System/storage/Storage.c **** 
 2418              		.loc 1 1942 21 is_stmt 1 view .LVU740
1942:System/storage/Storage.c **** 
 2419              		.loc 1 1942 30 is_stmt 0 view .LVU741
 2420 00dc A8EB0A07 		sub	r7, r8, r10
 2421              	.LVL277:
1942:System/storage/Storage.c **** 
 2422              		.loc 1 1942 30 view .LVU742
 2423 00e0 D4E7     		b	.L172
 2424              	.LVL278:
 2425              	.L188:
1958:System/storage/Storage.c ****                 
 2426              		.loc 1 1958 33 view .LVU743
 2427 00e2 BA46     		mov	r10, r7
 2428 00e4 F4E7     		b	.L173
 2429              	.LVL279:
 2430              	.L175:
1906:System/storage/Storage.c ****         
 2431              		.loc 1 1906 16 view .LVU744
 2432 00e6 0020     		movs	r0, #0
 2433              	.LVL280:
1906:System/storage/Storage.c ****         
 2434              		.loc 1 1906 16 view .LVU745
 2435 00e8 02E0     		b	.L171
 2436              	.LVL281:
 2437              	.L176:
1906:System/storage/Storage.c ****         
 2438              		.loc 1 1906 16 view .LVU746
 2439 00ea 0020     		movs	r0, #0
 2440              	.LVL282:
1906:System/storage/Storage.c ****         
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 94


 2441              		.loc 1 1906 16 view .LVU747
 2442 00ec 00E0     		b	.L171
 2443              	.LVL283:
 2444              	.L177:
1906:System/storage/Storage.c ****         
 2445              		.loc 1 1906 16 view .LVU748
 2446 00ee 0020     		movs	r0, #0
 2447              	.LVL284:
 2448              	.L171:
1970:System/storage/Storage.c **** 
 2449              		.loc 1 1970 1 view .LVU749
 2450 00f0 17B0     		add	sp, sp, #92
 2451              	.LCFI27:
 2452              		.cfi_remember_state
 2453              		.cfi_def_cfa_offset 36
 2454              		@ sp needed
 2455 00f2 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2456              	.LVL285:
 2457              	.L178:
 2458              	.LCFI28:
 2459              		.cfi_restore_state
1911:System/storage/Storage.c **** 
 2460              		.loc 1 1911 16 view .LVU750
 2461 00f6 0020     		movs	r0, #0
 2462              	.LVL286:
1911:System/storage/Storage.c **** 
 2463              		.loc 1 1911 16 view .LVU751
 2464 00f8 FAE7     		b	.L171
 2465              	.LVL287:
 2466              	.L179:
1911:System/storage/Storage.c **** 
 2467              		.loc 1 1911 16 view .LVU752
 2468 00fa 0020     		movs	r0, #0
 2469              	.LVL288:
1911:System/storage/Storage.c **** 
 2470              		.loc 1 1911 16 view .LVU753
 2471 00fc F8E7     		b	.L171
 2472              	.LVL289:
 2473              	.L181:
1921:System/storage/Storage.c **** 
 2474              		.loc 1 1921 24 view .LVU754
 2475 00fe 0020     		movs	r0, #0
 2476 0100 F6E7     		b	.L171
 2477              	.LVL290:
 2478              	.L182:
1926:System/storage/Storage.c **** 
 2479              		.loc 1 1926 24 view .LVU755
 2480 0102 0020     		movs	r0, #0
 2481 0104 F4E7     		b	.L171
 2482              	.L183:
1929:System/storage/Storage.c ****                 
 2483              		.loc 1 1929 24 view .LVU756
 2484 0106 0020     		movs	r0, #0
 2485 0108 F2E7     		b	.L171
 2486              	.LVL291:
 2487              	.L186:
1946:System/storage/Storage.c ****             
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 95


 2488              		.loc 1 1946 28 view .LVU757
 2489 010a 0020     		movs	r0, #0
 2490 010c F0E7     		b	.L171
 2491              	.L187:
1953:System/storage/Storage.c ****             
 2492              		.loc 1 1953 28 view .LVU758
 2493 010e 0120     		movs	r0, #1
 2494 0110 EEE7     		b	.L171
 2495              	.L192:
 2496 0112 00BF     		.align	2
 2497              	.L191:
 2498 0114 00000000 		.word	.LANCHOR0
 2499 0118 00000000 		.word	flash_read_tmp
 2500              		.cfi_endproc
 2501              	.LFE175:
 2503              		.section	.text.Storage_Format,"ax",%progbits
 2504              		.align	1
 2505              		.syntax unified
 2506              		.thumb
 2507              		.thumb_func
 2509              	Storage_Format:
 2510              	.LFB150:
 217:System/storage/Storage.c ****     uint32_t size = 0;
 2511              		.loc 1 217 1 is_stmt 1 view -0
 2512              		.cfi_startproc
 2513              		@ args = 0, pretend = 0, frame = 0
 2514              		@ frame_needed = 0, uses_anonymous_args = 0
 2515 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2516              	.LCFI29:
 2517              		.cfi_def_cfa_offset 24
 2518              		.cfi_offset 3, -24
 2519              		.cfi_offset 4, -20
 2520              		.cfi_offset 5, -16
 2521              		.cfi_offset 6, -12
 2522              		.cfi_offset 7, -8
 2523              		.cfi_offset 14, -4
 218:System/storage/Storage.c ****     uint8_t default_data = 0;
 2524              		.loc 1 218 5 view .LVU760
 2525              	.LVL292:
 219:System/storage/Storage.c ****     uint32_t read_time = 0;
 2526              		.loc 1 219 5 view .LVU761
 220:System/storage/Storage.c ****     uint32_t remain_size = 0;
 2527              		.loc 1 220 5 view .LVU762
 221:System/storage/Storage.c ****     uint32_t addr_offset = From_Start_Address;
 2528              		.loc 1 221 5 view .LVU763
 222:System/storage/Storage.c ****         
 2529              		.loc 1 222 5 view .LVU764
 224:System/storage/Storage.c ****     default_data = ExtFlash_Storage_DefaultData;
 2530              		.loc 1 224 5 view .LVU765
 225:System/storage/Storage.c ****     remain_size = ExtFlash_Storage_TotalSize;
 2531              		.loc 1 225 5 view .LVU766
 226:System/storage/Storage.c ****     read_time = ExtFlash_Storage_TotalSize / Storage_TabSize;
 2532              		.loc 1 226 5 view .LVU767
 227:System/storage/Storage.c ****     if (ExtFlash_Storage_TotalSize % Storage_TabSize)
 2533              		.loc 1 227 5 view .LVU768
 228:System/storage/Storage.c ****         read_time ++;
 2534              		.loc 1 228 5 view .LVU769
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 96


 231:System/storage/Storage.c ****     {
 2535              		.loc 1 231 5 view .LVU770
 2536              	.LBB8:
 231:System/storage/Storage.c ****     {
 2537              		.loc 1 231 9 view .LVU771
 231:System/storage/Storage.c ****     {
 2538              		.loc 1 231 18 is_stmt 0 view .LVU772
 2539 0002 0025     		movs	r5, #0
 2540              	.LBE8:
 222:System/storage/Storage.c ****         
 2541              		.loc 1 222 14 view .LVU773
 2542 0004 2F46     		mov	r7, r5
 226:System/storage/Storage.c ****     read_time = ExtFlash_Storage_TotalSize / Storage_TabSize;
 2543              		.loc 1 226 17 view .LVU774
 2544 0006 4FF40026 		mov	r6, #524288
 224:System/storage/Storage.c ****     default_data = ExtFlash_Storage_DefaultData;
 2545              		.loc 1 224 10 view .LVU775
 2546 000a 4FF48054 		mov	r4, #4096
 2547              	.LVL293:
 2548              	.L194:
 2549              	.LBB11:
 231:System/storage/Storage.c ****     {
 2550              		.loc 1 231 25 is_stmt 1 discriminator 1 view .LVU776
 231:System/storage/Storage.c ****     {
 2551              		.loc 1 231 5 is_stmt 0 discriminator 1 view .LVU777
 2552 000e 7F2D     		cmp	r5, #127
 2553 0010 1ED8     		bhi	.L204
 233:System/storage/Storage.c ****             size = remain_size;
 2554              		.loc 1 233 9 is_stmt 1 view .LVU778
 233:System/storage/Storage.c ****             size = remain_size;
 2555              		.loc 1 233 12 is_stmt 0 view .LVU779
 2556 0012 16B1     		cbz	r6, .L195
 233:System/storage/Storage.c ****             size = remain_size;
 2557              		.loc 1 233 32 discriminator 1 view .LVU780
 2558 0014 B442     		cmp	r4, r6
 2559 0016 00D9     		bls	.L195
 234:System/storage/Storage.c **** 
 2560              		.loc 1 234 18 view .LVU781
 2561 0018 3446     		mov	r4, r6
 2562              	.LVL294:
 2563              	.L195:
 236:System/storage/Storage.c ****             return false;
 2564              		.loc 1 236 9 is_stmt 1 view .LVU782
 236:System/storage/Storage.c ****             return false;
 2565              		.loc 1 236 14 is_stmt 0 view .LVU783
 2566 001a 2146     		mov	r1, r4
 2567 001c 3846     		mov	r0, r7
 2568 001e FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Erase
 2569              	.LVL295:
 236:System/storage/Storage.c ****             return false;
 2570              		.loc 1 236 12 view .LVU784
 2571 0022 0146     		mov	r1, r0
 2572 0024 B8B1     		cbz	r0, .L196
 239:System/storage/Storage.c ****             return false;
 2573              		.loc 1 239 9 is_stmt 1 view .LVU785
 239:System/storage/Storage.c ****             return false;
 2574              		.loc 1 239 14 is_stmt 0 view .LVU786
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 97


 2575 0026 2246     		mov	r2, r4
 2576 0028 0C49     		ldr	r1, .L206
 2577 002a 3846     		mov	r0, r7
 2578 002c FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Read
 2579              	.LVL296:
 239:System/storage/Storage.c ****             return false;
 2580              		.loc 1 239 12 view .LVU787
 2581 0030 0146     		mov	r1, r0
 2582 0032 80B1     		cbz	r0, .L196
 2583              	.LBB9:
 242:System/storage/Storage.c ****         {
 2584              		.loc 1 242 22 view .LVU788
 2585 0034 0023     		movs	r3, #0
 2586              	.L197:
 2587              	.LVL297:
 242:System/storage/Storage.c ****         {
 2588              		.loc 1 242 29 is_stmt 1 discriminator 1 view .LVU789
 242:System/storage/Storage.c ****         {
 2589              		.loc 1 242 9 is_stmt 0 discriminator 1 view .LVU790
 2590 0036 9C42     		cmp	r4, r3
 2591 0038 05D9     		bls	.L205
 244:System/storage/Storage.c ****                 return false;
 2592              		.loc 1 244 13 is_stmt 1 view .LVU791
 244:System/storage/Storage.c ****                 return false;
 2593              		.loc 1 244 30 is_stmt 0 view .LVU792
 2594 003a 084A     		ldr	r2, .L206
 2595 003c 525D     		ldrb	r2, [r2, r5]	@ zero_extendqisi2
 244:System/storage/Storage.c ****                 return false;
 2596              		.loc 1 244 16 view .LVU793
 2597 003e FF2A     		cmp	r2, #255
 2598 0040 08D1     		bne	.L202
 242:System/storage/Storage.c ****         {
 2599              		.loc 1 242 39 is_stmt 1 discriminator 2 view .LVU794
 242:System/storage/Storage.c ****         {
 2600              		.loc 1 242 40 is_stmt 0 discriminator 2 view .LVU795
 2601 0042 0133     		adds	r3, r3, #1
 2602              	.LVL298:
 242:System/storage/Storage.c ****         {
 2603              		.loc 1 242 40 discriminator 2 view .LVU796
 2604 0044 F7E7     		b	.L197
 2605              	.L205:
 242:System/storage/Storage.c ****         {
 2606              		.loc 1 242 40 discriminator 2 view .LVU797
 2607              	.LBE9:
 248:System/storage/Storage.c ****         remain_size -= size;
 2608              		.loc 1 248 9 is_stmt 1 view .LVU798
 248:System/storage/Storage.c ****         remain_size -= size;
 2609              		.loc 1 248 21 is_stmt 0 view .LVU799
 2610 0046 2744     		add	r7, r7, r4
 2611              	.LVL299:
 249:System/storage/Storage.c **** 
 2612              		.loc 1 249 9 is_stmt 1 view .LVU800
 251:System/storage/Storage.c ****             return true;
 2613              		.loc 1 251 9 view .LVU801
 251:System/storage/Storage.c ****             return true;
 2614              		.loc 1 251 12 is_stmt 0 view .LVU802
 2615 0048 361B     		subs	r6, r6, r4
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 98


 2616              	.LVL300:
 251:System/storage/Storage.c ****             return true;
 2617              		.loc 1 251 12 view .LVU803
 2618 004a 04D0     		beq	.L196
 231:System/storage/Storage.c ****     {
 2619              		.loc 1 231 40 is_stmt 1 discriminator 2 view .LVU804
 231:System/storage/Storage.c ****     {
 2620              		.loc 1 231 41 is_stmt 0 discriminator 2 view .LVU805
 2621 004c 0135     		adds	r5, r5, #1
 2622              	.LVL301:
 231:System/storage/Storage.c ****     {
 2623              		.loc 1 231 41 discriminator 2 view .LVU806
 2624 004e DEE7     		b	.L194
 2625              	.LVL302:
 2626              	.L204:
 231:System/storage/Storage.c ****     {
 2627              		.loc 1 231 41 discriminator 2 view .LVU807
 2628              	.LBE11:
 255:System/storage/Storage.c **** }
 2629              		.loc 1 255 12 view .LVU808
 2630 0050 0021     		movs	r1, #0
 2631              	.LBB12:
 2632 0052 00E0     		b	.L196
 2633              	.LVL303:
 2634              	.L202:
 2635              	.LBB10:
 245:System/storage/Storage.c ****         }
 2636              		.loc 1 245 24 view .LVU809
 2637 0054 0021     		movs	r1, #0
 2638              	.LVL304:
 2639              	.L196:
 245:System/storage/Storage.c ****         }
 2640              		.loc 1 245 24 view .LVU810
 2641              	.LBE10:
 2642              	.LBE12:
 256:System/storage/Storage.c **** 
 2643              		.loc 1 256 1 view .LVU811
 2644 0056 0846     		mov	r0, r1
 2645 0058 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2646              	.LVL305:
 2647              	.L207:
 256:System/storage/Storage.c **** 
 2648              		.loc 1 256 1 view .LVU812
 2649 005a 00BF     		.align	2
 2650              	.L206:
 2651 005c 00000000 		.word	page_data_tmp
 2652              		.cfi_endproc
 2653              	.LFE150:
 2655              		.section	.text.Storage_ExtFlash_ParaSec_Write,"ax",%progbits
 2656              		.align	1
 2657              		.syntax unified
 2658              		.thumb
 2659              		.thumb_func
 2661              	Storage_ExtFlash_ParaSec_Write:
 2662              	.LVL306:
 2663              	.LFB176:
1973:System/storage/Storage.c ****     uint32_t write_start_addr = 0;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 99


 2664              		.loc 1 1973 1 is_stmt 1 view -0
 2665              		.cfi_startproc
 2666              		@ args = 0, pretend = 0, frame = 88
 2667              		@ frame_needed = 0, uses_anonymous_args = 0
1973:System/storage/Storage.c ****     uint32_t write_start_addr = 0;
 2668              		.loc 1 1973 1 is_stmt 0 view .LVU814
 2669 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2670              	.LCFI30:
 2671              		.cfi_def_cfa_offset 36
 2672              		.cfi_offset 4, -36
 2673              		.cfi_offset 5, -32
 2674              		.cfi_offset 6, -28
 2675              		.cfi_offset 7, -24
 2676              		.cfi_offset 8, -20
 2677              		.cfi_offset 9, -16
 2678              		.cfi_offset 10, -12
 2679              		.cfi_offset 11, -8
 2680              		.cfi_offset 14, -4
 2681 0004 97B0     		sub	sp, sp, #92
 2682              	.LCFI31:
 2683              		.cfi_def_cfa_offset 128
1974:System/storage/Storage.c ****     uint32_t flash_end_addr = 0;
 2684              		.loc 1 1974 5 is_stmt 1 view .LVU815
 2685              	.LVL307:
1975:System/storage/Storage.c ****     uint32_t section_start_addr = 0;
 2686              		.loc 1 1975 5 view .LVU816
1976:System/storage/Storage.c ****     uint32_t next_write_addr = 0;
 2687              		.loc 1 1976 5 view .LVU817
1977:System/storage/Storage.c ****     uint32_t section_size = 0;
 2688              		.loc 1 1977 5 view .LVU818
1978:System/storage/Storage.c ****     uint32_t write_offset = 0;
 2689              		.loc 1 1978 5 view .LVU819
1979:System/storage/Storage.c ****     uint32_t write_len = len;
 2690              		.loc 1 1979 5 view .LVU820
1980:System/storage/Storage.c ****     StorageDevObj_TypeDef *dev = NULL;
 2691              		.loc 1 1980 5 view .LVU821
1981:System/storage/Storage.c **** 
 2692              		.loc 1 1981 5 view .LVU822
1983:System/storage/Storage.c ****         (p_data == NULL) || \
 2693              		.loc 1 1983 5 view .LVU823
1983:System/storage/Storage.c ****         (p_data == NULL) || \
 2694              		.loc 1 1983 25 is_stmt 0 view .LVU824
 2695 0006 4B4B     		ldr	r3, .L232
 2696 0008 9C68     		ldr	r4, [r3, #8]
1983:System/storage/Storage.c ****         (p_data == NULL) || \
 2697              		.loc 1 1983 8 view .LVU825
 2698 000a 002C     		cmp	r4, #0
 2699 000c 77D0     		beq	.L213
 2700 000e 0E46     		mov	r6, r1
 2701 0010 1546     		mov	r5, r2
1983:System/storage/Storage.c ****         (p_data == NULL) || \
 2702              		.loc 1 1983 46 discriminator 1 view .LVU826
 2703 0012 0029     		cmp	r1, #0
 2704 0014 75D0     		beq	.L214
1984:System/storage/Storage.c ****         (len == 0))
 2705              		.loc 1 1984 26 view .LVU827
 2706 0016 002A     		cmp	r2, #0
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 100


 2707 0018 75D0     		beq	.L215
1988:System/storage/Storage.c ****     dev = (StorageDevObj_TypeDef *)(Storage_Monitor.ExtDev_ptr);
 2708              		.loc 1 1988 5 is_stmt 1 view .LVU828
1988:System/storage/Storage.c ****     dev = (StorageDevObj_TypeDef *)(Storage_Monitor.ExtDev_ptr);
 2709              		.loc 1 1988 53 is_stmt 0 view .LVU829
 2710 001a D3F83610 		ldr	r1, [r3, #54]	@ unaligned
 2711              	.LVL308:
1988:System/storage/Storage.c ****     dev = (StorageDevObj_TypeDef *)(Storage_Monitor.ExtDev_ptr);
 2712              		.loc 1 1988 22 view .LVU830
 2713 001e 0F18     		adds	r7, r1, r0
 2714              	.LVL309:
1989:System/storage/Storage.c ****     if ((dev->api == NULL) || (dev->obj == NULL))
 2715              		.loc 1 1989 5 is_stmt 1 view .LVU831
1990:System/storage/Storage.c ****         return false;
 2716              		.loc 1 1990 5 view .LVU832
1990:System/storage/Storage.c ****         return false;
 2717              		.loc 1 1990 13 is_stmt 0 view .LVU833
 2718 0020 236B     		ldr	r3, [r4, #48]
1990:System/storage/Storage.c ****         return false;
 2719              		.loc 1 1990 8 view .LVU834
 2720 0022 002B     		cmp	r3, #0
 2721 0024 73D0     		beq	.L216
1990:System/storage/Storage.c ****         return false;
 2722              		.loc 1 1990 35 discriminator 1 view .LVU835
 2723 0026 E16A     		ldr	r1, [r4, #44]
1990:System/storage/Storage.c ****         return false;
 2724              		.loc 1 1990 28 discriminator 1 view .LVU836
 2725 0028 0029     		cmp	r1, #0
 2726 002a 72D0     		beq	.L217
1993:System/storage/Storage.c ****     {
 2727              		.loc 1 1993 5 is_stmt 1 view .LVU837
1993:System/storage/Storage.c ****     {
 2728              		.loc 1 1993 24 is_stmt 0 view .LVU838
 2729 002c 6278     		ldrb	r2, [r4, #1]	@ zero_extendqisi2
 2730              	.LVL310:
1993:System/storage/Storage.c ****     {
 2731              		.loc 1 1993 5 view .LVU839
 2732 002e 012A     		cmp	r2, #1
 2733 0030 01D0     		beq	.L230
2061:System/storage/Storage.c ****     }
 2734              		.loc 1 2061 25 view .LVU840
 2735 0032 0020     		movs	r0, #0
 2736              	.LVL311:
2061:System/storage/Storage.c ****     }
 2737              		.loc 1 2061 25 view .LVU841
 2738 0034 68E0     		b	.L209
 2739              	.LVL312:
 2740              	.L230:
1996:System/storage/Storage.c ****             /* get w25qxx device info */
 2741              		.loc 1 1996 13 is_stmt 1 view .LVU842
1996:System/storage/Storage.c ****             /* get w25qxx device info */
 2742              		.loc 1 1996 54 is_stmt 0 view .LVU843
 2743 0036 5B69     		ldr	r3, [r3, #20]
1996:System/storage/Storage.c ****             /* get w25qxx device info */
 2744              		.loc 1 1996 28 view .LVU844
 2745 0038 01A8     		add	r0, sp, #4
 2746              	.LVL313:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 101


1996:System/storage/Storage.c ****             /* get w25qxx device info */
 2747              		.loc 1 1996 28 view .LVU845
 2748 003a 9847     		blx	r3
 2749              	.LVL314:
1996:System/storage/Storage.c ****             /* get w25qxx device info */
 2750              		.loc 1 1996 26 view .LVU846
 2751 003c DDF81490 		ldr	r9, [sp, #20]
 2752              	.LVL315:
1999:System/storage/Storage.c ****             if (flash_end_addr > write_start_addr)
 2753              		.loc 1 1999 13 is_stmt 1 view .LVU847
1999:System/storage/Storage.c ****             if (flash_end_addr > write_start_addr)
 2754              		.loc 1 1999 30 is_stmt 0 view .LVU848
 2755 0040 236B     		ldr	r3, [r4, #48]
1999:System/storage/Storage.c ****             if (flash_end_addr > write_start_addr)
 2756              		.loc 1 1999 56 view .LVU849
 2757 0042 5B69     		ldr	r3, [r3, #20]
1999:System/storage/Storage.c ****             if (flash_end_addr > write_start_addr)
 2758              		.loc 1 1999 30 view .LVU850
 2759 0044 E16A     		ldr	r1, [r4, #44]
 2760 0046 08A8     		add	r0, sp, #32
 2761 0048 9847     		blx	r3
 2762              	.LVL316:
1999:System/storage/Storage.c ****             if (flash_end_addr > write_start_addr)
 2763              		.loc 1 1999 28 view .LVU851
 2764 004a DDF82480 		ldr	r8, [sp, #36]
 2765              	.LVL317:
2000:System/storage/Storage.c ****                 return false;
 2766              		.loc 1 2000 13 is_stmt 1 view .LVU852
2000:System/storage/Storage.c ****                 return false;
 2767              		.loc 1 2000 16 is_stmt 0 view .LVU853
 2768 004e 4745     		cmp	r7, r8
 2769 0050 61D3     		bcc	.L219
2004:System/storage/Storage.c ****             if ((len + write_start_addr) > flash_end_addr)
 2770              		.loc 1 2004 13 is_stmt 1 view .LVU854
2004:System/storage/Storage.c ****             if ((len + write_start_addr) > flash_end_addr)
 2771              		.loc 1 2004 31 is_stmt 0 view .LVU855
 2772 0052 236B     		ldr	r3, [r4, #48]
2004:System/storage/Storage.c ****             if ((len + write_start_addr) > flash_end_addr)
 2773              		.loc 1 2004 57 view .LVU856
 2774 0054 5B69     		ldr	r3, [r3, #20]
2004:System/storage/Storage.c ****             if ((len + write_start_addr) > flash_end_addr)
 2775              		.loc 1 2004 31 view .LVU857
 2776 0056 E16A     		ldr	r1, [r4, #44]
 2777 0058 0FA8     		add	r0, sp, #60
 2778 005a 9847     		blx	r3
 2779              	.LVL318:
2004:System/storage/Storage.c ****             if ((len + write_start_addr) > flash_end_addr)
 2780              		.loc 1 2004 91 view .LVU858
 2781 005c 119B     		ldr	r3, [sp, #68]
2004:System/storage/Storage.c ****             if ((len + write_start_addr) > flash_end_addr)
 2782              		.loc 1 2004 28 view .LVU859
 2783 005e 9844     		add	r8, r8, r3
 2784              	.LVL319:
2005:System/storage/Storage.c ****                 return false;
 2785              		.loc 1 2005 13 is_stmt 1 view .LVU860
2005:System/storage/Storage.c ****                 return false;
 2786              		.loc 1 2005 22 is_stmt 0 view .LVU861
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 102


 2787 0060 EB19     		adds	r3, r5, r7
2005:System/storage/Storage.c ****                 return false;
 2788              		.loc 1 2005 16 view .LVU862
 2789 0062 4345     		cmp	r3, r8
 2790 0064 59D8     		bhi	.L220
2008:System/storage/Storage.c ****                 return false;
 2791              		.loc 1 2008 13 is_stmt 1 view .LVU863
2008:System/storage/Storage.c ****                 return false;
 2792              		.loc 1 2008 16 is_stmt 0 view .LVU864
 2793 0066 B9F1000F 		cmp	r9, #0
 2794 006a 58D0     		beq	.L221
2011:System/storage/Storage.c ****             write_offset = write_start_addr - section_start_addr;
 2795              		.loc 1 2011 13 is_stmt 1 view .LVU865
2011:System/storage/Storage.c ****             write_offset = write_start_addr - section_start_addr;
 2796              		.loc 1 2011 34 is_stmt 0 view .LVU866
 2797 006c 236B     		ldr	r3, [r4, #48]
2011:System/storage/Storage.c ****             write_offset = write_start_addr - section_start_addr;
 2798              		.loc 1 2011 60 view .LVU867
 2799 006e 9B69     		ldr	r3, [r3, #24]
2011:System/storage/Storage.c ****             write_offset = write_start_addr - section_start_addr;
 2800              		.loc 1 2011 34 view .LVU868
 2801 0070 3946     		mov	r1, r7
 2802 0072 E06A     		ldr	r0, [r4, #44]
 2803 0074 9847     		blx	r3
 2804              	.LVL320:
 2805 0076 8046     		mov	r8, r0
 2806              	.LVL321:
2012:System/storage/Storage.c ****             if (section_size > sizeof(flash_write_tmp))
 2807              		.loc 1 2012 13 is_stmt 1 view .LVU869
2012:System/storage/Storage.c ****             if (section_size > sizeof(flash_write_tmp))
 2808              		.loc 1 2012 26 is_stmt 0 view .LVU870
 2809 0078 3F1A     		subs	r7, r7, r0
 2810              	.LVL322:
2013:System/storage/Storage.c ****                 return false;
 2811              		.loc 1 2013 13 is_stmt 1 view .LVU871
2013:System/storage/Storage.c ****                 return false;
 2812              		.loc 1 2013 16 is_stmt 0 view .LVU872
 2813 007a B9F5005F 		cmp	r9, #8192
 2814 007e 27D9     		bls	.L212
2014:System/storage/Storage.c **** 
 2815              		.loc 1 2014 24 view .LVU873
 2816 0080 0020     		movs	r0, #0
 2817              	.LVL323:
2014:System/storage/Storage.c **** 
 2818              		.loc 1 2014 24 view .LVU874
 2819 0082 41E0     		b	.L209
 2820              	.LVL324:
 2821              	.L225:
 2822              	.LBB13:
2014:System/storage/Storage.c **** 
 2823              		.loc 1 2014 24 view .LVU875
 2824 0084 AA46     		mov	r10, r5
 2825              	.LVL325:
 2826              	.L210:
2034:System/storage/Storage.c **** 
 2827              		.loc 1 2034 17 is_stmt 1 view .LVU876
 2828 0086 DFF8B0B0 		ldr	fp, .L232+4
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 103


 2829 008a 5246     		mov	r2, r10
 2830 008c 3146     		mov	r1, r6
 2831 008e 0BEB0700 		add	r0, fp, r7
 2832 0092 FFF7FEFF 		bl	memcpy
 2833              	.LVL326:
2036:System/storage/Storage.c **** 
 2834              		.loc 1 2036 17 view .LVU877
2036:System/storage/Storage.c **** 
 2835              		.loc 1 2036 46 is_stmt 0 view .LVU878
 2836 0096 236B     		ldr	r3, [r4, #48]
2036:System/storage/Storage.c **** 
 2837              		.loc 1 2036 72 view .LVU879
 2838 0098 5F68     		ldr	r7, [r3, #4]
 2839              	.LVL327:
2036:System/storage/Storage.c **** 
 2840              		.loc 1 2036 46 view .LVU880
 2841 009a 4B46     		mov	r3, r9
 2842 009c 5A46     		mov	r2, fp
 2843 009e 4146     		mov	r1, r8
 2844 00a0 E06A     		ldr	r0, [r4, #44]
 2845 00a2 B847     		blx	r7
 2846              	.LVL328:
 2847 00a4 0746     		mov	r7, r0
 2848              	.LVL329:
2039:System/storage/Storage.c ****                 
 2849              		.loc 1 2039 17 is_stmt 1 view .LVU881
 2850 00a6 4A46     		mov	r2, r9
 2851 00a8 0021     		movs	r1, #0
 2852 00aa 5846     		mov	r0, fp
 2853 00ac FFF7FEFF 		bl	memset
 2854              	.LVL330:
2041:System/storage/Storage.c ****                 if (state == DevW25Qxx_Ok)
 2855              		.loc 1 2041 17 view .LVU882
2041:System/storage/Storage.c ****                 if (state == DevW25Qxx_Ok)
 2856              		.loc 1 2041 21 is_stmt 0 view .LVU883
 2857 00b0 A5EB0A05 		sub	r5, r5, r10
 2858              	.LVL331:
2042:System/storage/Storage.c ****                 {
 2859              		.loc 1 2042 17 is_stmt 1 view .LVU884
2042:System/storage/Storage.c ****                 {
 2860              		.loc 1 2042 20 is_stmt 0 view .LVU885
 2861 00b4 002F     		cmp	r7, #0
 2862 00b6 38D1     		bne	.L226
2044:System/storage/Storage.c ****                         return true;
 2863              		.loc 1 2044 21 is_stmt 1 view .LVU886
2044:System/storage/Storage.c ****                         return true;
 2864              		.loc 1 2044 24 is_stmt 0 view .LVU887
 2865 00b8 002D     		cmp	r5, #0
 2866 00ba 38D0     		beq	.L227
2050:System/storage/Storage.c ****                 next_write_addr = To_DevW25Qxx_API(dev->api)->get_section_start_addr(To_DevW25Qxx_O
 2867              		.loc 1 2050 17 is_stmt 1 view .LVU888
 2868              	.LVL332:
2051:System/storage/Storage.c ****                 if (next_write_addr == section_start_addr)
 2869              		.loc 1 2051 17 view .LVU889
2051:System/storage/Storage.c ****                 if (next_write_addr == section_start_addr)
 2870              		.loc 1 2051 35 is_stmt 0 view .LVU890
 2871 00bc 236B     		ldr	r3, [r4, #48]
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 104


2051:System/storage/Storage.c ****                 if (next_write_addr == section_start_addr)
 2872              		.loc 1 2051 61 view .LVU891
 2873 00be 9B69     		ldr	r3, [r3, #24]
2051:System/storage/Storage.c ****                 if (next_write_addr == section_start_addr)
 2874              		.loc 1 2051 35 view .LVU892
 2875 00c0 08EB0A01 		add	r1, r8, r10
 2876 00c4 E06A     		ldr	r0, [r4, #44]
 2877 00c6 9847     		blx	r3
 2878              	.LVL333:
2052:System/storage/Storage.c ****                     write_offset = write_len;
 2879              		.loc 1 2052 17 is_stmt 1 view .LVU893
2052:System/storage/Storage.c ****                     write_offset = write_len;
 2880              		.loc 1 2052 20 is_stmt 0 view .LVU894
 2881 00c8 8045     		cmp	r8, r0
 2882 00ca 16D0     		beq	.L231
 2883              	.LVL334:
 2884              	.L211:
2055:System/storage/Storage.c ****                 write_len = len;
 2885              		.loc 1 2055 17 is_stmt 1 view .LVU895
2055:System/storage/Storage.c ****                 write_len = len;
 2886              		.loc 1 2055 24 is_stmt 0 view .LVU896
 2887 00cc 5644     		add	r6, r6, r10
 2888              	.LVL335:
2056:System/storage/Storage.c ****                 section_start_addr = next_write_addr; 
 2889              		.loc 1 2056 17 is_stmt 1 view .LVU897
2057:System/storage/Storage.c ****             }
 2890              		.loc 1 2057 17 view .LVU898
2057:System/storage/Storage.c ****             }
 2891              		.loc 1 2057 17 is_stmt 0 view .LVU899
 2892              	.LBE13:
2016:System/storage/Storage.c ****             {
 2893              		.loc 1 2016 18 is_stmt 1 view .LVU900
 2894              	.LBB14:
2057:System/storage/Storage.c ****             }
 2895              		.loc 1 2057 36 is_stmt 0 view .LVU901
 2896 00ce 8046     		mov	r8, r0
 2897              	.LVL336:
 2898              	.L212:
2057:System/storage/Storage.c ****             }
 2899              		.loc 1 2057 36 view .LVU902
 2900              	.LBE14:
2016:System/storage/Storage.c ****             {
 2901              		.loc 1 2016 13 is_stmt 1 view .LVU903
 2902              	.LBB15:
2022:System/storage/Storage.c ****                     return false;
 2903              		.loc 1 2022 17 view .LVU904
2022:System/storage/Storage.c ****                     return false;
 2904              		.loc 1 2022 21 is_stmt 0 view .LVU905
 2905 00d0 236B     		ldr	r3, [r4, #48]
2022:System/storage/Storage.c ****                     return false;
 2906              		.loc 1 2022 47 view .LVU906
 2907 00d2 D3F808A0 		ldr	r10, [r3, #8]
2022:System/storage/Storage.c ****                     return false;
 2908              		.loc 1 2022 21 view .LVU907
 2909 00d6 4B46     		mov	r3, r9
 2910 00d8 174A     		ldr	r2, .L232+4
 2911 00da 4146     		mov	r1, r8
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 105


 2912 00dc E06A     		ldr	r0, [r4, #44]
 2913              	.LVL337:
2022:System/storage/Storage.c ****                     return false;
 2914              		.loc 1 2022 21 view .LVU908
 2915 00de D047     		blx	r10
 2916              	.LVL338:
2022:System/storage/Storage.c ****                     return false;
 2917              		.loc 1 2022 20 view .LVU909
 2918 00e0 F8B9     		cbnz	r0, .L223
2026:System/storage/Storage.c ****                     return false;
 2919              		.loc 1 2026 17 is_stmt 1 view .LVU910
2026:System/storage/Storage.c ****                     return false;
 2920              		.loc 1 2026 21 is_stmt 0 view .LVU911
 2921 00e2 236B     		ldr	r3, [r4, #48]
2026:System/storage/Storage.c ****                     return false;
 2922              		.loc 1 2026 47 view .LVU912
 2923 00e4 DB68     		ldr	r3, [r3, #12]
2026:System/storage/Storage.c ****                     return false;
 2924              		.loc 1 2026 21 view .LVU913
 2925 00e6 4146     		mov	r1, r8
 2926 00e8 E06A     		ldr	r0, [r4, #44]
 2927 00ea 9847     		blx	r3
 2928              	.LVL339:
2026:System/storage/Storage.c ****                     return false;
 2929              		.loc 1 2026 20 view .LVU914
 2930 00ec D8B9     		cbnz	r0, .L224
2030:System/storage/Storage.c ****                     write_len = section_size - write_offset;
 2931              		.loc 1 2030 17 is_stmt 1 view .LVU915
2030:System/storage/Storage.c ****                     write_len = section_size - write_offset;
 2932              		.loc 1 2030 34 is_stmt 0 view .LVU916
 2933 00ee EB19     		adds	r3, r5, r7
2030:System/storage/Storage.c ****                     write_len = section_size - write_offset;
 2934              		.loc 1 2030 20 view .LVU917
 2935 00f0 4B45     		cmp	r3, r9
 2936 00f2 C7D9     		bls	.L225
2031:System/storage/Storage.c ****                 
 2937              		.loc 1 2031 21 is_stmt 1 view .LVU918
2031:System/storage/Storage.c ****                 
 2938              		.loc 1 2031 31 is_stmt 0 view .LVU919
 2939 00f4 A9EB070A 		sub	r10, r9, r7
 2940              	.LVL340:
2031:System/storage/Storage.c ****                 
 2941              		.loc 1 2031 31 view .LVU920
 2942 00f8 C5E7     		b	.L210
 2943              	.LVL341:
 2944              	.L231:
2053:System/storage/Storage.c **** 
 2945              		.loc 1 2053 34 view .LVU921
 2946 00fa 5746     		mov	r7, r10
 2947              	.LVL342:
2053:System/storage/Storage.c **** 
 2948              		.loc 1 2053 34 view .LVU922
 2949 00fc E6E7     		b	.L211
 2950              	.LVL343:
 2951              	.L213:
2053:System/storage/Storage.c **** 
 2952              		.loc 1 2053 34 view .LVU923
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 106


 2953              	.LBE15:
1986:System/storage/Storage.c ****         
 2954              		.loc 1 1986 16 view .LVU924
 2955 00fe 0020     		movs	r0, #0
 2956              	.LVL344:
1986:System/storage/Storage.c ****         
 2957              		.loc 1 1986 16 view .LVU925
 2958 0100 02E0     		b	.L209
 2959              	.LVL345:
 2960              	.L214:
1986:System/storage/Storage.c ****         
 2961              		.loc 1 1986 16 view .LVU926
 2962 0102 0020     		movs	r0, #0
 2963              	.LVL346:
1986:System/storage/Storage.c ****         
 2964              		.loc 1 1986 16 view .LVU927
 2965 0104 00E0     		b	.L209
 2966              	.LVL347:
 2967              	.L215:
1986:System/storage/Storage.c ****         
 2968              		.loc 1 1986 16 view .LVU928
 2969 0106 0020     		movs	r0, #0
 2970              	.LVL348:
 2971              	.L209:
2065:System/storage/Storage.c **** 
 2972              		.loc 1 2065 1 view .LVU929
 2973 0108 17B0     		add	sp, sp, #92
 2974              	.LCFI32:
 2975              		.cfi_remember_state
 2976              		.cfi_def_cfa_offset 36
 2977              		@ sp needed
 2978 010a BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2979              	.LVL349:
 2980              	.L216:
 2981              	.LCFI33:
 2982              		.cfi_restore_state
1991:System/storage/Storage.c **** 
 2983              		.loc 1 1991 16 view .LVU930
 2984 010e 0020     		movs	r0, #0
 2985              	.LVL350:
1991:System/storage/Storage.c **** 
 2986              		.loc 1 1991 16 view .LVU931
 2987 0110 FAE7     		b	.L209
 2988              	.LVL351:
 2989              	.L217:
1991:System/storage/Storage.c **** 
 2990              		.loc 1 1991 16 view .LVU932
 2991 0112 0020     		movs	r0, #0
 2992              	.LVL352:
1991:System/storage/Storage.c **** 
 2993              		.loc 1 1991 16 view .LVU933
 2994 0114 F8E7     		b	.L209
 2995              	.LVL353:
 2996              	.L219:
2001:System/storage/Storage.c **** 
 2997              		.loc 1 2001 24 view .LVU934
 2998 0116 0020     		movs	r0, #0
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 107


 2999 0118 F6E7     		b	.L209
 3000              	.L220:
2006:System/storage/Storage.c ****             
 3001              		.loc 1 2006 24 view .LVU935
 3002 011a 0020     		movs	r0, #0
 3003 011c F4E7     		b	.L209
 3004              	.L221:
2009:System/storage/Storage.c ****                 
 3005              		.loc 1 2009 24 view .LVU936
 3006 011e 0020     		movs	r0, #0
 3007 0120 F2E7     		b	.L209
 3008              	.LVL354:
 3009              	.L223:
 3010              	.LBB16:
2023:System/storage/Storage.c **** 
 3011              		.loc 1 2023 28 view .LVU937
 3012 0122 0020     		movs	r0, #0
 3013 0124 F0E7     		b	.L209
 3014              	.L224:
2027:System/storage/Storage.c **** 
 3015              		.loc 1 2027 28 view .LVU938
 3016 0126 0020     		movs	r0, #0
 3017 0128 EEE7     		b	.L209
 3018              	.LVL355:
 3019              	.L226:
2048:System/storage/Storage.c **** 
 3020              		.loc 1 2048 28 view .LVU939
 3021 012a 0020     		movs	r0, #0
 3022 012c ECE7     		b	.L209
 3023              	.L227:
2045:System/storage/Storage.c ****                 }
 3024              		.loc 1 2045 32 view .LVU940
 3025 012e 0120     		movs	r0, #1
 3026 0130 EAE7     		b	.L209
 3027              	.L233:
 3028 0132 00BF     		.align	2
 3029              	.L232:
 3030 0134 00000000 		.word	.LANCHOR0
 3031 0138 00200000 		.word	flash_write_tmp
 3032              	.LBE16:
 3033              		.cfi_endproc
 3034              	.LFE176:
 3036              		.section	.text.Storage_Clear_Tab,"ax",%progbits
 3037              		.align	1
 3038              		.syntax unified
 3039              		.thumb
 3040              		.thumb_func
 3042              	Storage_Clear_Tab:
 3043              	.LVL356:
 3044              	.LFB153:
 414:System/storage/Storage.c ****     uint32_t addr_tmp = 0;
 3045              		.loc 1 414 1 is_stmt 1 view -0
 3046              		.cfi_startproc
 3047              		@ args = 0, pretend = 0, frame = 0
 3048              		@ frame_needed = 0, uses_anonymous_args = 0
 415:System/storage/Storage.c **** 
 3049              		.loc 1 415 5 view .LVU942
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 108


 417:System/storage/Storage.c ****         (tab_num == 0))
 3050              		.loc 1 417 5 view .LVU943
 417:System/storage/Storage.c ****         (tab_num == 0))
 3051              		.loc 1 417 8 is_stmt 0 view .LVU944
 3052 0000 F0B1     		cbz	r0, .L238
 414:System/storage/Storage.c ****     uint32_t addr_tmp = 0;
 3053              		.loc 1 414 1 discriminator 1 view .LVU945
 3054 0002 70B5     		push	{r4, r5, r6, lr}
 3055              	.LCFI34:
 3056              		.cfi_def_cfa_offset 16
 3057              		.cfi_offset 4, -16
 3058              		.cfi_offset 5, -12
 3059              		.cfi_offset 6, -8
 3060              		.cfi_offset 14, -4
 3061 0004 0E46     		mov	r6, r1
 3062 0006 0446     		mov	r4, r0
 417:System/storage/Storage.c ****         (tab_num == 0))
 3063              		.loc 1 417 21 discriminator 1 view .LVU946
 3064 0008 11B9     		cbnz	r1, .L244
 419:System/storage/Storage.c **** 
 3065              		.loc 1 419 16 view .LVU947
 3066 000a 0023     		movs	r3, #0
 3067              	.LVL357:
 3068              	.L235:
 433:System/storage/Storage.c **** 
 3069              		.loc 1 433 1 view .LVU948
 3070 000c 1846     		mov	r0, r3
 3071 000e 70BD     		pop	{r4, r5, r6, pc}
 3072              	.LVL358:
 3073              	.L244:
 421:System/storage/Storage.c ****     addr_tmp = addr;
 3074              		.loc 1 421 5 is_stmt 1 view .LVU949
 3075 0010 4FF48052 		mov	r2, #4096
 3076 0014 0021     		movs	r1, #0
 3077              	.LVL359:
 421:System/storage/Storage.c ****     addr_tmp = addr;
 3078              		.loc 1 421 5 is_stmt 0 view .LVU950
 3079 0016 0C48     		ldr	r0, .L246
 3080              	.LVL360:
 421:System/storage/Storage.c ****     addr_tmp = addr;
 3081              		.loc 1 421 5 view .LVU951
 3082 0018 FFF7FEFF 		bl	memset
 3083              	.LVL361:
 422:System/storage/Storage.c ****     
 3084              		.loc 1 422 5 is_stmt 1 view .LVU952
 424:System/storage/Storage.c ****     {
 3085              		.loc 1 424 5 view .LVU953
 3086              	.LBB17:
 424:System/storage/Storage.c ****     {
 3087              		.loc 1 424 9 view .LVU954
 424:System/storage/Storage.c ****     {
 3088              		.loc 1 424 18 is_stmt 0 view .LVU955
 3089 001c 0025     		movs	r5, #0
 3090              	.LVL362:
 3091              	.L236:
 424:System/storage/Storage.c ****     {
 3092              		.loc 1 424 25 is_stmt 1 discriminator 1 view .LVU956
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 109


 424:System/storage/Storage.c ****     {
 3093              		.loc 1 424 5 is_stmt 0 discriminator 1 view .LVU957
 3094 001e B542     		cmp	r5, r6
 3095 0020 0CD2     		bcs	.L245
 426:System/storage/Storage.c ****             return false;
 3096              		.loc 1 426 9 is_stmt 1 view .LVU958
 426:System/storage/Storage.c ****             return false;
 3097              		.loc 1 426 14 is_stmt 0 view .LVU959
 3098 0022 4FF48052 		mov	r2, #4096
 3099 0026 0849     		ldr	r1, .L246
 3100 0028 2046     		mov	r0, r4
 3101 002a FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Write
 3102              	.LVL363:
 426:System/storage/Storage.c ****             return false;
 3103              		.loc 1 426 12 view .LVU960
 3104 002e 0346     		mov	r3, r0
 3105 0030 0028     		cmp	r0, #0
 3106 0032 EBD0     		beq	.L235
 429:System/storage/Storage.c ****     }
 3107              		.loc 1 429 9 is_stmt 1 discriminator 2 view .LVU961
 429:System/storage/Storage.c ****     }
 3108              		.loc 1 429 18 is_stmt 0 discriminator 2 view .LVU962
 3109 0034 04F58054 		add	r4, r4, #4096
 3110              	.LVL364:
 424:System/storage/Storage.c ****     {
 3111              		.loc 1 424 38 is_stmt 1 discriminator 2 view .LVU963
 424:System/storage/Storage.c ****     {
 3112              		.loc 1 424 39 is_stmt 0 discriminator 2 view .LVU964
 3113 0038 0135     		adds	r5, r5, #1
 3114              	.LVL365:
 424:System/storage/Storage.c ****     {
 3115              		.loc 1 424 39 discriminator 2 view .LVU965
 3116 003a F0E7     		b	.L236
 3117              	.L245:
 424:System/storage/Storage.c ****     {
 3118              		.loc 1 424 39 discriminator 2 view .LVU966
 3119              	.LBE17:
 432:System/storage/Storage.c **** }
 3120              		.loc 1 432 12 view .LVU967
 3121 003c 0123     		movs	r3, #1
 3122              	.LBB18:
 3123 003e E5E7     		b	.L235
 3124              	.LVL366:
 3125              	.L238:
 3126              	.LCFI35:
 3127              		.cfi_def_cfa_offset 0
 3128              		.cfi_restore 4
 3129              		.cfi_restore 5
 3130              		.cfi_restore 6
 3131              		.cfi_restore 14
 432:System/storage/Storage.c **** }
 3132              		.loc 1 432 12 view .LVU968
 3133              	.LBE18:
 419:System/storage/Storage.c **** 
 3134              		.loc 1 419 16 view .LVU969
 3135 0040 0023     		movs	r3, #0
 433:System/storage/Storage.c **** 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 110


 3136              		.loc 1 433 1 view .LVU970
 3137 0042 1846     		mov	r0, r3
 3138              	.LVL367:
 433:System/storage/Storage.c **** 
 3139              		.loc 1 433 1 view .LVU971
 3140 0044 7047     		bx	lr
 3141              	.L247:
 3142 0046 00BF     		.align	2
 3143              	.L246:
 3144 0048 00000000 		.word	page_data_tmp
 3145              		.cfi_endproc
 3146              	.LFE153:
 3148              		.section	.text.Storage_Link_FreeSlot,"ax",%progbits
 3149              		.align	1
 3150              		.syntax unified
 3151              		.thumb
 3152              		.thumb_func
 3154              	Storage_Link_FreeSlot:
 3155              	.LVL368:
 3156              	.LFB158:
 748:System/storage/Storage.c ****     Storage_FreeSlot_TypeDef front_slot;
 3157              		.loc 1 748 1 is_stmt 1 view -0
 3158              		.cfi_startproc
 3159              		@ args = 0, pretend = 0, frame = 32
 3160              		@ frame_needed = 0, uses_anonymous_args = 0
 749:System/storage/Storage.c ****     Storage_FreeSlot_TypeDef behind_slot;
 3161              		.loc 1 749 5 view .LVU973
 750:System/storage/Storage.c **** 
 3162              		.loc 1 750 5 view .LVU974
 752:System/storage/Storage.c ****         (front_free_addr == 0) || \
 3163              		.loc 1 752 5 view .LVU975
 752:System/storage/Storage.c ****         (front_free_addr == 0) || \
 3164              		.loc 1 752 8 is_stmt 0 view .LVU976
 3165 0000 52B3     		cbz	r2, .L250
 748:System/storage/Storage.c ****     Storage_FreeSlot_TypeDef front_slot;
 3166              		.loc 1 748 1 discriminator 1 view .LVU977
 3167 0002 F0B5     		push	{r4, r5, r6, r7, lr}
 3168              	.LCFI36:
 3169              		.cfi_def_cfa_offset 20
 3170              		.cfi_offset 4, -20
 3171              		.cfi_offset 5, -16
 3172              		.cfi_offset 6, -12
 3173              		.cfi_offset 7, -8
 3174              		.cfi_offset 14, -4
 3175 0004 89B0     		sub	sp, sp, #36
 3176              	.LCFI37:
 3177              		.cfi_def_cfa_offset 56
 3178 0006 0446     		mov	r4, r0
 3179 0008 0E46     		mov	r6, r1
 3180 000a 1D46     		mov	r5, r3
 3181 000c 1746     		mov	r7, r2
 752:System/storage/Storage.c ****         (front_free_addr == 0) || \
 3182              		.loc 1 752 30 discriminator 1 view .LVU978
 3183 000e 28B3     		cbz	r0, .L251
 753:System/storage/Storage.c ****         (behind_free_addr == 0) || \
 3184              		.loc 1 753 32 view .LVU979
 3185 0010 39B3     		cbz	r1, .L252
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 111


 754:System/storage/Storage.c ****         (front_free_addr >= new_free_addr) || \
 3186              		.loc 1 754 33 view .LVU980
 3187 0012 8242     		cmp	r2, r0
 3188 0014 27D9     		bls	.L253
 755:System/storage/Storage.c ****         (behind_free_addr <= new_free_addr) || \
 3189              		.loc 1 755 44 view .LVU981
 3190 0016 8A42     		cmp	r2, r1
 3191 0018 27D2     		bcs	.L254
 756:System/storage/Storage.c ****         (new_free_slot == NULL))
 3192              		.loc 1 756 45 view .LVU982
 3193 001a 43B3     		cbz	r3, .L255
 760:System/storage/Storage.c ****     memset(&behind_slot, 0, sizeof(Storage_FreeSlot_TypeDef));
 3194              		.loc 1 760 5 is_stmt 1 view .LVU983
 3195 001c 0023     		movs	r3, #0
 3196              	.LVL369:
 760:System/storage/Storage.c ****     memset(&behind_slot, 0, sizeof(Storage_FreeSlot_TypeDef));
 3197              		.loc 1 760 5 is_stmt 0 view .LVU984
 3198 001e 0493     		str	r3, [sp, #16]
 3199 0020 0593     		str	r3, [sp, #20]
 3200 0022 0693     		str	r3, [sp, #24]
 3201 0024 0793     		str	r3, [sp, #28]
 761:System/storage/Storage.c **** 
 3202              		.loc 1 761 5 is_stmt 1 view .LVU985
 3203 0026 0093     		str	r3, [sp]
 3204 0028 0193     		str	r3, [sp, #4]
 3205 002a 0293     		str	r3, [sp, #8]
 3206 002c 0393     		str	r3, [sp, #12]
 774:System/storage/Storage.c ****         return false;
 3207              		.loc 1 774 5 view .LVU986
 774:System/storage/Storage.c ****         return false;
 3208              		.loc 1 774 10 is_stmt 0 view .LVU987
 3209 002e 1022     		movs	r2, #16
 3210              	.LVL370:
 774:System/storage/Storage.c ****         return false;
 3211              		.loc 1 774 10 view .LVU988
 3212 0030 0DEB0201 		add	r1, sp, r2
 3213              	.LVL371:
 774:System/storage/Storage.c ****         return false;
 3214              		.loc 1 774 10 view .LVU989
 3215 0034 FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Read
 3216              	.LVL372:
 774:System/storage/Storage.c ****         return false;
 3217              		.loc 1 774 8 view .LVU990
 3218 0038 88B1     		cbz	r0, .L249
 778:System/storage/Storage.c ****     new_free_slot->nxt_addr = behind_free_addr;
 3219              		.loc 1 778 5 is_stmt 1 view .LVU991
 778:System/storage/Storage.c ****     new_free_slot->nxt_addr = behind_free_addr;
 3220              		.loc 1 778 25 is_stmt 0 view .LVU992
 3221 003a 0697     		str	r7, [sp, #24]
 779:System/storage/Storage.c **** 
 3222              		.loc 1 779 5 is_stmt 1 view .LVU993
 779:System/storage/Storage.c **** 
 3223              		.loc 1 779 29 is_stmt 0 view .LVU994
 3224 003c AE60     		str	r6, [r5, #8]	@ unaligned
 781:System/storage/Storage.c ****         return false;
 3225              		.loc 1 781 5 is_stmt 1 view .LVU995
 781:System/storage/Storage.c ****         return false;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 112


 3226              		.loc 1 781 10 is_stmt 0 view .LVU996
 3227 003e 1022     		movs	r2, #16
 3228 0040 0DEB0201 		add	r1, sp, r2
 3229 0044 2046     		mov	r0, r4
 3230 0046 FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Write
 3231              	.LVL373:
 781:System/storage/Storage.c ****         return false;
 3232              		.loc 1 781 8 view .LVU997
 3233 004a 40B1     		cbz	r0, .L249
 784:System/storage/Storage.c ****         return false;
 3234              		.loc 1 784 5 is_stmt 1 view .LVU998
 784:System/storage/Storage.c ****         return false;
 3235              		.loc 1 784 10 is_stmt 0 view .LVU999
 3236 004c 1022     		movs	r2, #16
 3237 004e 2946     		mov	r1, r5
 3238 0050 3846     		mov	r0, r7
 3239 0052 FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Write
 3240              	.LVL374:
 3241 0056 02E0     		b	.L249
 3242              	.LVL375:
 3243              	.L250:
 3244              	.LCFI38:
 3245              		.cfi_def_cfa_offset 0
 3246              		.cfi_restore 4
 3247              		.cfi_restore 5
 3248              		.cfi_restore 6
 3249              		.cfi_restore 7
 3250              		.cfi_restore 14
 758:System/storage/Storage.c **** 
 3251              		.loc 1 758 16 view .LVU1000
 3252 0058 0020     		movs	r0, #0
 3253              	.LVL376:
 788:System/storage/Storage.c **** 
 3254              		.loc 1 788 1 view .LVU1001
 3255 005a 7047     		bx	lr
 3256              	.LVL377:
 3257              	.L251:
 3258              	.LCFI39:
 3259              		.cfi_def_cfa_offset 56
 3260              		.cfi_offset 4, -20
 3261              		.cfi_offset 5, -16
 3262              		.cfi_offset 6, -12
 3263              		.cfi_offset 7, -8
 3264              		.cfi_offset 14, -4
 758:System/storage/Storage.c **** 
 3265              		.loc 1 758 16 view .LVU1002
 3266 005c 0020     		movs	r0, #0
 3267              	.LVL378:
 3268              	.L249:
 788:System/storage/Storage.c **** 
 3269              		.loc 1 788 1 view .LVU1003
 3270 005e 09B0     		add	sp, sp, #36
 3271              	.LCFI40:
 3272              		.cfi_remember_state
 3273              		.cfi_def_cfa_offset 20
 3274              		@ sp needed
 3275 0060 F0BD     		pop	{r4, r5, r6, r7, pc}
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 113


 3276              	.LVL379:
 3277              	.L252:
 3278              	.LCFI41:
 3279              		.cfi_restore_state
 758:System/storage/Storage.c **** 
 3280              		.loc 1 758 16 view .LVU1004
 3281 0062 0020     		movs	r0, #0
 3282              	.LVL380:
 758:System/storage/Storage.c **** 
 3283              		.loc 1 758 16 view .LVU1005
 3284 0064 FBE7     		b	.L249
 3285              	.LVL381:
 3286              	.L253:
 758:System/storage/Storage.c **** 
 3287              		.loc 1 758 16 view .LVU1006
 3288 0066 0020     		movs	r0, #0
 3289              	.LVL382:
 758:System/storage/Storage.c **** 
 3290              		.loc 1 758 16 view .LVU1007
 3291 0068 F9E7     		b	.L249
 3292              	.LVL383:
 3293              	.L254:
 758:System/storage/Storage.c **** 
 3294              		.loc 1 758 16 view .LVU1008
 3295 006a 0020     		movs	r0, #0
 3296              	.LVL384:
 758:System/storage/Storage.c **** 
 3297              		.loc 1 758 16 view .LVU1009
 3298 006c F7E7     		b	.L249
 3299              	.LVL385:
 3300              	.L255:
 758:System/storage/Storage.c **** 
 3301              		.loc 1 758 16 view .LVU1010
 3302 006e 0020     		movs	r0, #0
 3303              	.LVL386:
 758:System/storage/Storage.c **** 
 3304              		.loc 1 758 16 view .LVU1011
 3305 0070 F5E7     		b	.L249
 3306              		.cfi_endproc
 3307              	.LFE158:
 3309              		.section	.text.Storage_FreeSlot_CheckMerge,"ax",%progbits
 3310              		.align	1
 3311              		.syntax unified
 3312              		.thumb
 3313              		.thumb_func
 3315              	Storage_FreeSlot_CheckMerge:
 3316              	.LVL387:
 3317              	.LFB159:
 792:System/storage/Storage.c ****     Storage_FreeSlot_TypeDef FreeSlot_Info;
 3318              		.loc 1 792 1 is_stmt 1 view -0
 3319              		.cfi_startproc
 3320              		@ args = 0, pretend = 0, frame = 16
 3321              		@ frame_needed = 0, uses_anonymous_args = 0
 793:System/storage/Storage.c ****     uint32_t front_freeslot_addr = 0;
 3322              		.loc 1 793 5 view .LVU1013
 794:System/storage/Storage.c ****     uint32_t behind_freeslot_addr = 0;
 3323              		.loc 1 794 5 view .LVU1014
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 114


 795:System/storage/Storage.c ****     uint32_t ori_freespace_size = 0;
 3324              		.loc 1 795 5 view .LVU1015
 796:System/storage/Storage.c **** 
 3325              		.loc 1 796 5 view .LVU1016
 798:System/storage/Storage.c ****         (slot_info == NULL) || \
 3326              		.loc 1 798 5 view .LVU1017
 798:System/storage/Storage.c ****         (slot_info == NULL) || \
 3327              		.loc 1 798 8 is_stmt 0 view .LVU1018
 3328 0000 002A     		cmp	r2, #0
 3329 0002 00F09D80 		beq	.L269
 792:System/storage/Storage.c ****     Storage_FreeSlot_TypeDef FreeSlot_Info;
 3330              		.loc 1 792 1 discriminator 1 view .LVU1019
 3331 0006 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 3332              	.LCFI42:
 3333              		.cfi_def_cfa_offset 28
 3334              		.cfi_offset 4, -28
 3335              		.cfi_offset 5, -24
 3336              		.cfi_offset 6, -20
 3337              		.cfi_offset 7, -16
 3338              		.cfi_offset 8, -12
 3339              		.cfi_offset 9, -8
 3340              		.cfi_offset 14, -4
 3341 000a 85B0     		sub	sp, sp, #20
 3342              	.LCFI43:
 3343              		.cfi_def_cfa_offset 48
 3344 000c 0546     		mov	r5, r0
 3345 000e 0C46     		mov	r4, r1
 3346 0010 1646     		mov	r6, r2
 798:System/storage/Storage.c ****         (slot_info == NULL) || \
 3347              		.loc 1 798 25 discriminator 1 view .LVU1020
 3348 0012 0029     		cmp	r1, #0
 3349 0014 00F09680 		beq	.L270
 800:System/storage/Storage.c ****         (slot_addr > (p_Sec->data_sec_addr + p_Sec->data_sec_size)))
 3350              		.loc 1 800 27 view .LVU1021
 3351 0018 5368     		ldr	r3, [r2, #4]	@ unaligned
 799:System/storage/Storage.c ****         (slot_addr < p_Sec->data_sec_addr) || \
 3352              		.loc 1 799 29 view .LVU1022
 3353 001a 8342     		cmp	r3, r0
 3354 001c 00F29480 		bhi	.L271
 801:System/storage/Storage.c ****         return Storage_Param_Error;
 3355              		.loc 1 801 51 view .LVU1023
 3356 0020 9268     		ldr	r2, [r2, #8]	@ unaligned
 3357              	.LVL388:
 801:System/storage/Storage.c ****         return Storage_Param_Error;
 3358              		.loc 1 801 44 view .LVU1024
 3359 0022 1344     		add	r3, r3, r2
 800:System/storage/Storage.c ****         (slot_addr > (p_Sec->data_sec_addr + p_Sec->data_sec_size)))
 3360              		.loc 1 800 44 view .LVU1025
 3361 0024 8342     		cmp	r3, r0
 3362 0026 01D2     		bcs	.L286
 802:System/storage/Storage.c **** 
 3363              		.loc 1 802 16 view .LVU1026
 3364 0028 0120     		movs	r0, #1
 3365              	.LVL389:
 802:System/storage/Storage.c **** 
 3366              		.loc 1 802 16 view .LVU1027
 3367 002a 8EE0     		b	.L261
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 115


 3368              	.LVL390:
 3369              	.L286:
 804:System/storage/Storage.c **** 
 3370              		.loc 1 804 5 is_stmt 1 view .LVU1028
 3371 002c 0023     		movs	r3, #0
 3372 002e 0093     		str	r3, [sp]
 3373 0030 0193     		str	r3, [sp, #4]
 3374 0032 0293     		str	r3, [sp, #8]
 3375 0034 0393     		str	r3, [sp, #12]
 806:System/storage/Storage.c ****         (slot_info->end_tag != STORAGE_SLOT_END_TAG) || \
 3376              		.loc 1 806 5 view .LVU1029
 806:System/storage/Storage.c ****         (slot_info->end_tag != STORAGE_SLOT_END_TAG) || \
 3377              		.loc 1 806 19 is_stmt 0 view .LVU1030
 3378 0036 0A68     		ldr	r2, [r1]	@ unaligned
 806:System/storage/Storage.c ****         (slot_info->end_tag != STORAGE_SLOT_END_TAG) || \
 3379              		.loc 1 806 8 view .LVU1031
 3380 0038 4D4B     		ldr	r3, .L292
 3381 003a 9A42     		cmp	r2, r3
 3382 003c 40F08880 		bne	.L273
 807:System/storage/Storage.c ****         (slot_info->cur_slot_size > p_Sec->free_space_size))
 3383              		.loc 1 807 19 discriminator 1 view .LVU1032
 3384 0040 CA68     		ldr	r2, [r1, #12]	@ unaligned
 806:System/storage/Storage.c ****         (slot_info->end_tag != STORAGE_SLOT_END_TAG) || \
 3385              		.loc 1 806 56 discriminator 1 view .LVU1033
 3386 0042 4C4B     		ldr	r3, .L292+4
 3387 0044 9A42     		cmp	r2, r3
 3388 0046 40F08580 		bne	.L274
 808:System/storage/Storage.c ****         return Storage_FreeSlot_Info_Error;
 3389              		.loc 1 808 19 view .LVU1034
 3390 004a 4B68     		ldr	r3, [r1, #4]	@ unaligned
 808:System/storage/Storage.c ****         return Storage_FreeSlot_Info_Error;
 3391              		.loc 1 808 42 view .LVU1035
 3392 004c D6F81890 		ldr	r9, [r6, #24]	@ unaligned
 807:System/storage/Storage.c ****         (slot_info->cur_slot_size > p_Sec->free_space_size))
 3393              		.loc 1 807 54 view .LVU1036
 3394 0050 4B45     		cmp	r3, r9
 3395 0052 00F28180 		bhi	.L275
 811:System/storage/Storage.c ****     front_freeslot_addr = p_Sec->free_slot_addr;
 3396              		.loc 1 811 5 is_stmt 1 view .LVU1037
 3397              	.LVL391:
 812:System/storage/Storage.c ****     while (true)
 3398              		.loc 1 812 5 view .LVU1038
 812:System/storage/Storage.c ****     while (true)
 3399              		.loc 1 812 25 is_stmt 0 view .LVU1039
 3400 0056 7769     		ldr	r7, [r6, #20]	@ unaligned
 3401              	.LVL392:
 812:System/storage/Storage.c ****     while (true)
 3402              		.loc 1 812 25 view .LVU1040
 3403 0058 20E0     		b	.L268
 3404              	.LVL393:
 3405              	.L290:
 829:System/storage/Storage.c ****             slot_info->cur_slot_size += FreeSlot_Info.cur_slot_size + sizeof(Storage_FreeSlot_TypeD
 3406              		.loc 1 829 13 is_stmt 1 view .LVU1041
 829:System/storage/Storage.c ****             slot_info->cur_slot_size += FreeSlot_Info.cur_slot_size + sizeof(Storage_FreeSlot_TypeD
 3407              		.loc 1 829 33 is_stmt 0 view .LVU1042
 3408 005a C4F80880 		str	r8, [r4, #8]	@ unaligned
 830:System/storage/Storage.c **** 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 116


 3409              		.loc 1 830 13 is_stmt 1 view .LVU1043
 830:System/storage/Storage.c **** 
 3410              		.loc 1 830 54 is_stmt 0 view .LVU1044
 3411 005e 019A     		ldr	r2, [sp, #4]
 830:System/storage/Storage.c **** 
 3412              		.loc 1 830 38 view .LVU1045
 3413 0060 1344     		add	r3, r3, r2
 3414 0062 1033     		adds	r3, r3, #16
 3415 0064 6360     		str	r3, [r4, #4]	@ unaligned
 832:System/storage/Storage.c **** 
 3416              		.loc 1 832 13 is_stmt 1 view .LVU1046
 3417 0066 0023     		movs	r3, #0
 3418 0068 0093     		str	r3, [sp]
 3419 006a 0193     		str	r3, [sp, #4]
 3420 006c 0293     		str	r3, [sp, #8]
 3421 006e 0393     		str	r3, [sp, #12]
 835:System/storage/Storage.c ****             {
 3422              		.loc 1 835 13 view .LVU1047
 835:System/storage/Storage.c ****             {
 3423              		.loc 1 835 18 is_stmt 0 view .LVU1048
 3424 0070 1022     		movs	r2, #16
 3425 0072 6946     		mov	r1, sp
 3426 0074 3846     		mov	r0, r7
 3427 0076 FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Write
 3428              	.LVL394:
 835:System/storage/Storage.c ****             {
 3429              		.loc 1 835 16 view .LVU1049
 3430 007a 0028     		cmp	r0, #0
 3431 007c 3BD0     		beq	.L287
 842:System/storage/Storage.c ****             {
 3432              		.loc 1 842 13 is_stmt 1 view .LVU1050
 842:System/storage/Storage.c ****             {
 3433              		.loc 1 842 18 is_stmt 0 view .LVU1051
 3434 007e 1022     		movs	r2, #16
 3435 0080 2146     		mov	r1, r4
 3436 0082 2846     		mov	r0, r5
 3437 0084 FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Write
 3438              	.LVL395:
 842:System/storage/Storage.c ****             {
 3439              		.loc 1 842 16 view .LVU1052
 3440 0088 0028     		cmp	r0, #0
 3441 008a 38D0     		beq	.L288
 848:System/storage/Storage.c ****             p_Sec->free_space_size += sizeof(Storage_FreeSlot_TypeDef);
 3442              		.loc 1 848 13 is_stmt 1 view .LVU1053
 848:System/storage/Storage.c ****             p_Sec->free_space_size += sizeof(Storage_FreeSlot_TypeDef);
 3443              		.loc 1 848 35 is_stmt 0 view .LVU1054
 3444 008c 7561     		str	r5, [r6, #20]	@ unaligned
 849:System/storage/Storage.c ****         }
 3445              		.loc 1 849 13 is_stmt 1 view .LVU1055
 849:System/storage/Storage.c ****         }
 3446              		.loc 1 849 36 is_stmt 0 view .LVU1056
 3447 008e B369     		ldr	r3, [r6, #24]	@ unaligned
 3448 0090 1033     		adds	r3, r3, #16
 3449 0092 B361     		str	r3, [r6, #24]	@ unaligned
 3450              	.L265:
 880:System/storage/Storage.c ****             return Storage_Error_None;
 3451              		.loc 1 880 9 is_stmt 1 view .LVU1057
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 117


 880:System/storage/Storage.c ****             return Storage_Error_None;
 3452              		.loc 1 880 26 is_stmt 0 view .LVU1058
 3453 0094 029B     		ldr	r3, [sp, #8]
 880:System/storage/Storage.c ****             return Storage_Error_None;
 3454              		.loc 1 880 12 view .LVU1059
 3455 0096 002B     		cmp	r3, #0
 3456 0098 50D0     		beq	.L289
 884:System/storage/Storage.c ****     }
 3457              		.loc 1 884 29 view .LVU1060
 3458 009a 4746     		mov	r7, r8
 3459              	.LVL396:
 3460              	.L268:
 813:System/storage/Storage.c ****     {
 3461              		.loc 1 813 5 is_stmt 1 view .LVU1061
 816:System/storage/Storage.c ****             return Storage_Read_Error;
 3462              		.loc 1 816 9 view .LVU1062
 816:System/storage/Storage.c ****             return Storage_Read_Error;
 3463              		.loc 1 816 14 is_stmt 0 view .LVU1063
 3464 009c 1022     		movs	r2, #16
 3465 009e 6946     		mov	r1, sp
 3466 00a0 3846     		mov	r0, r7
 3467 00a2 FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Read
 3468              	.LVL397:
 816:System/storage/Storage.c ****             return Storage_Read_Error;
 3469              		.loc 1 816 12 view .LVU1064
 3470 00a6 0028     		cmp	r0, #0
 3471 00a8 58D0     		beq	.L276
 819:System/storage/Storage.c ****             (FreeSlot_Info.end_tag != STORAGE_SLOT_END_TAG))
 3472              		.loc 1 819 9 is_stmt 1 view .LVU1065
 819:System/storage/Storage.c ****             (FreeSlot_Info.end_tag != STORAGE_SLOT_END_TAG))
 3473              		.loc 1 819 12 is_stmt 0 view .LVU1066
 3474 00aa 009A     		ldr	r2, [sp]
 3475 00ac 304B     		ldr	r3, .L292
 3476 00ae 9A42     		cmp	r2, r3
 3477 00b0 56D1     		bne	.L277
 819:System/storage/Storage.c ****             (FreeSlot_Info.end_tag != STORAGE_SLOT_END_TAG))
 3478              		.loc 1 819 63 discriminator 1 view .LVU1067
 3479 00b2 039A     		ldr	r2, [sp, #12]
 3480 00b4 2F4B     		ldr	r3, .L292+4
 3481 00b6 9A42     		cmp	r2, r3
 3482 00b8 54D1     		bne	.L278
 823:System/storage/Storage.c ****         p_Sec->free_space_size += slot_info->cur_slot_size;
 3483              		.loc 1 823 9 is_stmt 1 view .LVU1068
 823:System/storage/Storage.c ****         p_Sec->free_space_size += slot_info->cur_slot_size;
 3484              		.loc 1 823 30 is_stmt 0 view .LVU1069
 3485 00ba DDF80880 		ldr	r8, [sp, #8]
 3486              	.LVL398:
 824:System/storage/Storage.c **** 
 3487              		.loc 1 824 9 is_stmt 1 view .LVU1070
 824:System/storage/Storage.c **** 
 3488              		.loc 1 824 44 is_stmt 0 view .LVU1071
 3489 00be 6268     		ldr	r2, [r4, #4]	@ unaligned
 824:System/storage/Storage.c **** 
 3490              		.loc 1 824 32 view .LVU1072
 3491 00c0 B369     		ldr	r3, [r6, #24]	@ unaligned
 3492 00c2 1344     		add	r3, r3, r2
 3493 00c4 B361     		str	r3, [r6, #24]	@ unaligned
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 118


 827:System/storage/Storage.c ****         {
 3494              		.loc 1 827 9 is_stmt 1 view .LVU1073
 827:System/storage/Storage.c ****         {
 3495              		.loc 1 827 34 is_stmt 0 view .LVU1074
 3496 00c6 6368     		ldr	r3, [r4, #4]	@ unaligned
 827:System/storage/Storage.c ****         {
 3497              		.loc 1 827 23 view .LVU1075
 3498 00c8 5919     		adds	r1, r3, r5
 827:System/storage/Storage.c ****         {
 3499              		.loc 1 827 12 view .LVU1076
 3500 00ca B942     		cmp	r1, r7
 3501 00cc C5D0     		beq	.L290
 852:System/storage/Storage.c ****         {
 3502              		.loc 1 852 14 is_stmt 1 view .LVU1077
 852:System/storage/Storage.c ****         {
 3503              		.loc 1 852 53 is_stmt 0 view .LVU1078
 3504 00ce 0198     		ldr	r0, [sp, #4]
 852:System/storage/Storage.c ****         {
 3505              		.loc 1 852 38 view .LVU1079
 3506 00d0 C219     		adds	r2, r0, r7
 852:System/storage/Storage.c ****         {
 3507              		.loc 1 852 17 view .LVU1080
 3508 00d2 AA42     		cmp	r2, r5
 3509 00d4 17D0     		beq	.L291
 870:System/storage/Storage.c ****                  (behind_freeslot_addr > (slot_addr + slot_info->cur_slot_size + sizeof(Storage_Fre
 3510              		.loc 1 870 14 is_stmt 1 view .LVU1081
 870:System/storage/Storage.c ****                  (behind_freeslot_addr > (slot_addr + slot_info->cur_slot_size + sizeof(Storage_Fre
 3511              		.loc 1 870 70 is_stmt 0 view .LVU1082
 3512 00d6 1032     		adds	r2, r2, #16
 870:System/storage/Storage.c ****                  (behind_freeslot_addr > (slot_addr + slot_info->cur_slot_size + sizeof(Storage_Fre
 3513              		.loc 1 870 17 view .LVU1083
 3514 00d8 AA42     		cmp	r2, r5
 3515 00da DBD2     		bcs	.L265
 871:System/storage/Storage.c ****         {
 3516              		.loc 1 871 80 discriminator 1 view .LVU1084
 3517 00dc 1031     		adds	r1, r1, #16
 870:System/storage/Storage.c ****                  (behind_freeslot_addr > (slot_addr + slot_info->cur_slot_size + sizeof(Storage_Fre
 3518              		.loc 1 870 119 discriminator 1 view .LVU1085
 3519 00de 4145     		cmp	r1, r8
 3520 00e0 D8D2     		bcs	.L265
 874:System/storage/Storage.c ****                 return Storage_Error_None;
 3521              		.loc 1 874 13 is_stmt 1 view .LVU1086
 874:System/storage/Storage.c ****                 return Storage_Error_None;
 3522              		.loc 1 874 17 is_stmt 0 view .LVU1087
 3523 00e2 2346     		mov	r3, r4
 3524 00e4 2A46     		mov	r2, r5
 3525 00e6 4146     		mov	r1, r8
 3526 00e8 3846     		mov	r0, r7
 3527 00ea FFF7FEFF 		bl	Storage_Link_FreeSlot
 3528              	.LVL399:
 874:System/storage/Storage.c ****                 return Storage_Error_None;
 3529              		.loc 1 874 16 view .LVU1088
 3530 00ee 0028     		cmp	r0, #0
 3531 00f0 3CD0     		beq	.L280
 875:System/storage/Storage.c **** 
 3532              		.loc 1 875 24 view .LVU1089
 3533 00f2 0020     		movs	r0, #0
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 119


 3534 00f4 29E0     		b	.L261
 3535              	.L287:
 837:System/storage/Storage.c ****                 return Storage_Write_Error;
 3536              		.loc 1 837 17 is_stmt 1 view .LVU1090
 837:System/storage/Storage.c ****                 return Storage_Write_Error;
 3537              		.loc 1 837 40 is_stmt 0 view .LVU1091
 3538 00f6 C6F81890 		str	r9, [r6, #24]	@ unaligned
 838:System/storage/Storage.c ****             }
 3539              		.loc 1 838 17 is_stmt 1 view .LVU1092
 838:System/storage/Storage.c ****             }
 3540              		.loc 1 838 24 is_stmt 0 view .LVU1093
 3541 00fa 0920     		movs	r0, #9
 3542 00fc 25E0     		b	.L261
 3543              	.L288:
 844:System/storage/Storage.c ****                 return Storage_Write_Error;
 3544              		.loc 1 844 17 is_stmt 1 view .LVU1094
 844:System/storage/Storage.c ****                 return Storage_Write_Error;
 3545              		.loc 1 844 40 is_stmt 0 view .LVU1095
 3546 00fe C6F81890 		str	r9, [r6, #24]	@ unaligned
 845:System/storage/Storage.c ****             }
 3547              		.loc 1 845 17 is_stmt 1 view .LVU1096
 845:System/storage/Storage.c ****             }
 3548              		.loc 1 845 24 is_stmt 0 view .LVU1097
 3549 0102 0920     		movs	r0, #9
 3550 0104 21E0     		b	.L261
 3551              	.L291:
 855:System/storage/Storage.c ****             Storage_Assert(slot_info->nxt_addr < FreeSlot_Info.nxt_addr);
 3552              		.loc 1 855 13 is_stmt 1 view .LVU1098
 855:System/storage/Storage.c ****             Storage_Assert(slot_info->nxt_addr < FreeSlot_Info.nxt_addr);
 3553              		.loc 1 855 41 is_stmt 0 view .LVU1099
 3554 0106 0344     		add	r3, r3, r0
 3555 0108 1033     		adds	r3, r3, #16
 3556 010a 0193     		str	r3, [sp, #4]
 856:System/storage/Storage.c ****             FreeSlot_Info.nxt_addr = slot_info->nxt_addr;
 3557              		.loc 1 856 13 is_stmt 1 view .LVU1100
 3558              	.L267:
 856:System/storage/Storage.c ****             FreeSlot_Info.nxt_addr = slot_info->nxt_addr;
 3559              		.loc 1 856 73 discriminator 1 view .LVU1101
 856:System/storage/Storage.c ****             FreeSlot_Info.nxt_addr = slot_info->nxt_addr;
 3560              		.loc 1 856 13 discriminator 1 view .LVU1102
 3561 010c A368     		ldr	r3, [r4, #8]	@ unaligned
 3562 010e 4345     		cmp	r3, r8
 3563 0110 FCD3     		bcc	.L267
 857:System/storage/Storage.c **** 
 3564              		.loc 1 857 13 view .LVU1103
 857:System/storage/Storage.c **** 
 3565              		.loc 1 857 36 is_stmt 0 view .LVU1104
 3566 0112 0293     		str	r3, [sp, #8]
 859:System/storage/Storage.c **** 
 3567              		.loc 1 859 13 is_stmt 1 view .LVU1105
 3568 0114 0023     		movs	r3, #0
 3569 0116 2360     		str	r3, [r4]	@ unaligned
 3570 0118 6360     		str	r3, [r4, #4]	@ unaligned
 3571 011a A360     		str	r3, [r4, #8]	@ unaligned
 3572 011c E360     		str	r3, [r4, #12]	@ unaligned
 862:System/storage/Storage.c ****                 return Storage_Write_Error;
 3573              		.loc 1 862 13 view .LVU1106
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 120


 862:System/storage/Storage.c ****                 return Storage_Write_Error;
 3574              		.loc 1 862 18 is_stmt 0 view .LVU1107
 3575 011e 1022     		movs	r2, #16
 3576 0120 2146     		mov	r1, r4
 3577 0122 2846     		mov	r0, r5
 3578 0124 FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Write
 3579              	.LVL400:
 862:System/storage/Storage.c ****                 return Storage_Write_Error;
 3580              		.loc 1 862 16 view .LVU1108
 3581 0128 F0B1     		cbz	r0, .L279
 866:System/storage/Storage.c ****                 return Storage_Write_Error;
 3582              		.loc 1 866 13 is_stmt 1 view .LVU1109
 866:System/storage/Storage.c ****                 return Storage_Write_Error;
 3583              		.loc 1 866 18 is_stmt 0 view .LVU1110
 3584 012a 1022     		movs	r2, #16
 3585 012c 6946     		mov	r1, sp
 3586 012e 3846     		mov	r0, r7
 3587 0130 FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Write
 3588              	.LVL401:
 866:System/storage/Storage.c ****                 return Storage_Write_Error;
 3589              		.loc 1 866 16 view .LVU1111
 3590 0134 0028     		cmp	r0, #0
 3591 0136 ADD1     		bne	.L265
 867:System/storage/Storage.c ****         }
 3592              		.loc 1 867 24 view .LVU1112
 3593 0138 0920     		movs	r0, #9
 3594 013a 06E0     		b	.L261
 3595              	.L289:
 881:System/storage/Storage.c **** 
 3596              		.loc 1 881 20 view .LVU1113
 3597 013c 0020     		movs	r0, #0
 3598 013e 04E0     		b	.L261
 3599              	.LVL402:
 3600              	.L269:
 3601              	.LCFI44:
 3602              		.cfi_def_cfa_offset 0
 3603              		.cfi_restore 4
 3604              		.cfi_restore 5
 3605              		.cfi_restore 6
 3606              		.cfi_restore 7
 3607              		.cfi_restore 8
 3608              		.cfi_restore 9
 3609              		.cfi_restore 14
 802:System/storage/Storage.c **** 
 3610              		.loc 1 802 16 view .LVU1114
 3611 0140 0120     		movs	r0, #1
 3612              	.LVL403:
 888:System/storage/Storage.c **** 
 3613              		.loc 1 888 1 view .LVU1115
 3614 0142 7047     		bx	lr
 3615              	.LVL404:
 3616              	.L270:
 3617              	.LCFI45:
 3618              		.cfi_def_cfa_offset 48
 3619              		.cfi_offset 4, -28
 3620              		.cfi_offset 5, -24
 3621              		.cfi_offset 6, -20
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 121


 3622              		.cfi_offset 7, -16
 3623              		.cfi_offset 8, -12
 3624              		.cfi_offset 9, -8
 3625              		.cfi_offset 14, -4
 802:System/storage/Storage.c **** 
 3626              		.loc 1 802 16 view .LVU1116
 3627 0144 0120     		movs	r0, #1
 3628              	.LVL405:
 802:System/storage/Storage.c **** 
 3629              		.loc 1 802 16 view .LVU1117
 3630 0146 00E0     		b	.L261
 3631              	.LVL406:
 3632              	.L271:
 802:System/storage/Storage.c **** 
 3633              		.loc 1 802 16 view .LVU1118
 3634 0148 0120     		movs	r0, #1
 3635              	.LVL407:
 3636              	.L261:
 888:System/storage/Storage.c **** 
 3637              		.loc 1 888 1 view .LVU1119
 3638 014a 05B0     		add	sp, sp, #20
 3639              	.LCFI46:
 3640              		.cfi_remember_state
 3641              		.cfi_def_cfa_offset 28
 3642              		@ sp needed
 3643 014c BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 3644              	.LVL408:
 3645              	.L273:
 3646              	.LCFI47:
 3647              		.cfi_restore_state
 809:System/storage/Storage.c **** 
 3648              		.loc 1 809 16 view .LVU1120
 3649 0150 1920     		movs	r0, #25
 3650              	.LVL409:
 809:System/storage/Storage.c **** 
 3651              		.loc 1 809 16 view .LVU1121
 3652 0152 FAE7     		b	.L261
 3653              	.LVL410:
 3654              	.L274:
 809:System/storage/Storage.c **** 
 3655              		.loc 1 809 16 view .LVU1122
 3656 0154 1920     		movs	r0, #25
 3657              	.LVL411:
 809:System/storage/Storage.c **** 
 3658              		.loc 1 809 16 view .LVU1123
 3659 0156 F8E7     		b	.L261
 3660              	.LVL412:
 3661              	.L275:
 809:System/storage/Storage.c **** 
 3662              		.loc 1 809 16 view .LVU1124
 3663 0158 1920     		movs	r0, #25
 3664              	.LVL413:
 809:System/storage/Storage.c **** 
 3665              		.loc 1 809 16 view .LVU1125
 3666 015a F6E7     		b	.L261
 3667              	.LVL414:
 3668              	.L276:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 122


 817:System/storage/Storage.c **** 
 3669              		.loc 1 817 20 view .LVU1126
 3670 015c 0820     		movs	r0, #8
 3671 015e F4E7     		b	.L261
 3672              	.L277:
 821:System/storage/Storage.c **** 
 3673              		.loc 1 821 20 view .LVU1127
 3674 0160 1920     		movs	r0, #25
 3675 0162 F2E7     		b	.L261
 3676              	.L278:
 3677 0164 1920     		movs	r0, #25
 3678 0166 F0E7     		b	.L261
 3679              	.LVL415:
 3680              	.L279:
 863:System/storage/Storage.c **** 
 3681              		.loc 1 863 24 view .LVU1128
 3682 0168 0920     		movs	r0, #9
 3683 016a EEE7     		b	.L261
 3684              	.L280:
 877:System/storage/Storage.c ****         }
 3685              		.loc 1 877 20 view .LVU1129
 3686 016c 1A20     		movs	r0, #26
 3687 016e ECE7     		b	.L261
 3688              	.L293:
 3689              		.align	2
 3690              	.L292:
 3691 0170 EF1001EF 		.word	-285142801
 3692 0174 FE0110FE 		.word	-32505346
 3693              		.cfi_endproc
 3694              	.LFE159:
 3696              		.section	.text.Storage_DeleteSingleDataSlot,"ax",%progbits
 3697              		.align	1
 3698              		.syntax unified
 3699              		.thumb
 3700              		.thumb_func
 3702              	Storage_DeleteSingleDataSlot:
 3703              	.LVL416:
 3704              	.LFB160:
 892:System/storage/Storage.c ****     uint32_t cur_slot_size = 0;
 3705              		.loc 1 892 1 is_stmt 1 view -0
 3706              		.cfi_startproc
 3707              		@ args = 0, pretend = 0, frame = 0
 3708              		@ frame_needed = 0, uses_anonymous_args = 0
 892:System/storage/Storage.c ****     uint32_t cur_slot_size = 0;
 3709              		.loc 1 892 1 is_stmt 0 view .LVU1131
 3710 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 3711              	.LCFI48:
 3712              		.cfi_def_cfa_offset 32
 3713              		.cfi_offset 4, -32
 3714              		.cfi_offset 5, -28
 3715              		.cfi_offset 6, -24
 3716              		.cfi_offset 7, -20
 3717              		.cfi_offset 8, -16
 3718              		.cfi_offset 9, -12
 3719              		.cfi_offset 10, -8
 3720              		.cfi_offset 14, -4
 893:System/storage/Storage.c ****     uint32_t inc_free_space = sizeof(Storage_DataSlot_TypeDef);
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 123


 3721              		.loc 1 893 5 is_stmt 1 view .LVU1132
 3722              	.LVL417:
 894:System/storage/Storage.c ****     uint8_t *p_freeslot_start = NULL;
 3723              		.loc 1 894 5 view .LVU1133
 895:System/storage/Storage.c ****     uint8_t *data_w = NULL;
 3724              		.loc 1 895 5 view .LVU1134
 896:System/storage/Storage.c **** 
 3725              		.loc 1 896 5 view .LVU1135
 898:System/storage/Storage.c ****         (p_Sec == NULL) || \
 3726              		.loc 1 898 5 view .LVU1136
 898:System/storage/Storage.c ****         (p_Sec == NULL) || \
 3727              		.loc 1 898 8 is_stmt 0 view .LVU1137
 3728 0004 0028     		cmp	r0, #0
 3729 0006 4ED0     		beq	.L296
 3730 0008 0D46     		mov	r5, r1
 3731 000a 1446     		mov	r4, r2
 3732 000c 0646     		mov	r6, r0
 898:System/storage/Storage.c ****         (p_Sec == NULL) || \
 3733              		.loc 1 898 26 discriminator 1 view .LVU1138
 3734 000e 002A     		cmp	r2, #0
 3735 0010 4DD0     		beq	.L297
 899:System/storage/Storage.c ****         (p_data == NULL) || \
 3736              		.loc 1 899 25 view .LVU1139
 3737 0012 0029     		cmp	r1, #0
 3738 0014 4DD0     		beq	.L298
 901:System/storage/Storage.c ****         (slot_addr > (p_Sec->data_sec_addr + p_Sec->data_sec_size)))
 3739              		.loc 1 901 27 view .LVU1140
 3740 0016 5368     		ldr	r3, [r2, #4]	@ unaligned
 900:System/storage/Storage.c ****         (slot_addr < p_Sec->data_sec_addr) || \
 3741              		.loc 1 900 26 view .LVU1141
 3742 0018 8342     		cmp	r3, r0
 3743 001a 4CD8     		bhi	.L299
 902:System/storage/Storage.c ****         return false;
 3744              		.loc 1 902 51 view .LVU1142
 3745 001c 9268     		ldr	r2, [r2, #8]	@ unaligned
 3746              	.LVL418:
 902:System/storage/Storage.c ****         return false;
 3747              		.loc 1 902 44 view .LVU1143
 3748 001e 1344     		add	r3, r3, r2
 901:System/storage/Storage.c ****         (slot_addr > (p_Sec->data_sec_addr + p_Sec->data_sec_size)))
 3749              		.loc 1 901 44 view .LVU1144
 3750 0020 8342     		cmp	r3, r0
 3751 0022 4AD3     		bcc	.L300
 906:System/storage/Storage.c ****         return false;
 3752              		.loc 1 906 5 is_stmt 1 view .LVU1145
 906:System/storage/Storage.c ****         return false;
 3753              		.loc 1 906 9 is_stmt 0 view .LVU1146
 3754 0024 0A68     		ldr	r2, [r1]
 906:System/storage/Storage.c ****         return false;
 3755              		.loc 1 906 8 view .LVU1147
 3756 0026 264B     		ldr	r3, .L306
 3757 0028 9A42     		cmp	r2, r3
 3758 002a 01D0     		beq	.L304
 907:System/storage/Storage.c **** 
 3759              		.loc 1 907 16 view .LVU1148
 3760 002c 0025     		movs	r5, #0
 3761 002e 3BE0     		b	.L295
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 124


 3762              	.L304:
 909:System/storage/Storage.c ****     data_w = p_freeslot_start;
 3763              		.loc 1 909 5 is_stmt 1 view .LVU1149
 3764              	.LVL419:
 910:System/storage/Storage.c ****     p_data += sizeof(uint32_t);
 3765              		.loc 1 910 5 view .LVU1150
 911:System/storage/Storage.c **** 
 3766              		.loc 1 911 5 view .LVU1151
 914:System/storage/Storage.c ****     p_data += STORAGE_NAME_LEN;
 3767              		.loc 1 914 5 view .LVU1152
 3768 0030 2922     		movs	r2, #41
 3769 0032 0021     		movs	r1, #0
 3770              	.LVL420:
 914:System/storage/Storage.c ****     p_data += STORAGE_NAME_LEN;
 3771              		.loc 1 914 5 is_stmt 0 view .LVU1153
 3772 0034 281D     		adds	r0, r5, #4
 3773              	.LVL421:
 914:System/storage/Storage.c ****     p_data += STORAGE_NAME_LEN;
 3774              		.loc 1 914 5 view .LVU1154
 3775 0036 FFF7FEFF 		bl	memset
 3776              	.LVL422:
 915:System/storage/Storage.c **** 
 3777              		.loc 1 915 5 is_stmt 1 view .LVU1155
 918:System/storage/Storage.c ****     p_data += sizeof(uint32_t);
 3778              		.loc 1 918 5 view .LVU1156
 918:System/storage/Storage.c ****     p_data += sizeof(uint32_t);
 3779              		.loc 1 918 27 is_stmt 0 view .LVU1157
 3780 003a 0027     		movs	r7, #0
 3781 003c C5F82D70 		str	r7, [r5, #45]
 919:System/storage/Storage.c **** 
 3782              		.loc 1 919 5 is_stmt 1 view .LVU1158
 3783              	.LVL423:
 922:System/storage/Storage.c ****     inc_free_space += cur_slot_size;
 3784              		.loc 1 922 5 view .LVU1159
 922:System/storage/Storage.c ****     inc_free_space += cur_slot_size;
 3785              		.loc 1 922 19 is_stmt 0 view .LVU1160
 3786 0040 D5F83190 		ldr	r9, [r5, #49]
 3787              	.LVL424:
 923:System/storage/Storage.c ****     
 3788              		.loc 1 923 5 is_stmt 1 view .LVU1161
 923:System/storage/Storage.c ****     
 3789              		.loc 1 923 20 is_stmt 0 view .LVU1162
 3790 0044 09F1400A 		add	r10, r9, #64
 3791              	.LVL425:
 926:System/storage/Storage.c ****     p_data += sizeof(uint32_t);
 3792              		.loc 1 926 5 is_stmt 1 view .LVU1163
 926:System/storage/Storage.c ****     p_data += sizeof(uint32_t);
 3793              		.loc 1 926 27 is_stmt 0 view .LVU1164
 3794 0048 C5F83170 		str	r7, [r5, #49]
 927:System/storage/Storage.c **** 
 3795              		.loc 1 927 5 is_stmt 1 view .LVU1165
 3796              	.LVL426:
 930:System/storage/Storage.c ****     p_data += sizeof(uint32_t);
 3797              		.loc 1 930 5 view .LVU1166
 930:System/storage/Storage.c ****     p_data += sizeof(uint32_t);
 3798              		.loc 1 930 27 is_stmt 0 view .LVU1167
 3799 004c C5F83570 		str	r7, [r5, #53]
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 125


 931:System/storage/Storage.c **** 
 3800              		.loc 1 931 5 is_stmt 1 view .LVU1168
 3801              	.LVL427:
 934:System/storage/Storage.c ****     p_data += sizeof(uint8_t);
 3802              		.loc 1 934 5 view .LVU1169
 934:System/storage/Storage.c ****     p_data += sizeof(uint8_t);
 3803              		.loc 1 934 26 is_stmt 0 view .LVU1170
 3804 0050 85F83970 		strb	r7, [r5, #57]
 935:System/storage/Storage.c **** 
 3805              		.loc 1 935 5 is_stmt 1 view .LVU1171
 935:System/storage/Storage.c **** 
 3806              		.loc 1 935 12 is_stmt 0 view .LVU1172
 3807 0054 05F13A08 		add	r8, r5, #58
 3808              	.LVL428:
 938:System/storage/Storage.c ****     p_data += cur_slot_size;
 3809              		.loc 1 938 5 is_stmt 1 view .LVU1173
 3810 0058 4A46     		mov	r2, r9
 3811 005a 3946     		mov	r1, r7
 3812 005c 4046     		mov	r0, r8
 3813 005e FFF7FEFF 		bl	memset
 3814              	.LVL429:
 939:System/storage/Storage.c **** 
 3815              		.loc 1 939 5 view .LVU1174
 939:System/storage/Storage.c **** 
 3816              		.loc 1 939 12 is_stmt 0 view .LVU1175
 3817 0062 08EB0903 		add	r3, r8, r9
 3818              	.LVL430:
 942:System/storage/Storage.c ****     p_data += sizeof(uint16_t);
 3819              		.loc 1 942 5 is_stmt 1 view .LVU1176
 942:System/storage/Storage.c ****     p_data += sizeof(uint16_t);
 3820              		.loc 1 942 27 is_stmt 0 view .LVU1177
 3821 0066 28F80970 		strh	r7, [r8, r9]	@ movhi
 943:System/storage/Storage.c **** 
 3822              		.loc 1 943 5 is_stmt 1 view .LVU1178
 3823              	.LVL431:
 946:System/storage/Storage.c **** 
 3824              		.loc 1 946 5 view .LVU1179
 946:System/storage/Storage.c **** 
 3825              		.loc 1 946 27 is_stmt 0 view .LVU1180
 3826 006a C3F80270 		str	r7, [r3, #2]
 949:System/storage/Storage.c ****     {
 3827              		.loc 1 949 5 is_stmt 1 view .LVU1181
 949:System/storage/Storage.c ****     {
 3828              		.loc 1 949 9 is_stmt 0 view .LVU1182
 3829 006e 2A68     		ldr	r2, [r5]
 949:System/storage/Storage.c ****     {
 3830              		.loc 1 949 8 view .LVU1183
 3831 0070 134B     		ldr	r3, .L306
 3832              	.LVL432:
 949:System/storage/Storage.c ****     {
 3833              		.loc 1 949 8 view .LVU1184
 3834 0072 9A42     		cmp	r2, r3
 3835 0074 01D0     		beq	.L305
 969:System/storage/Storage.c **** 
 3836              		.loc 1 969 16 view .LVU1185
 3837 0076 0025     		movs	r5, #0
 3838              	.LVL433:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 126


 969:System/storage/Storage.c **** 
 3839              		.loc 1 969 16 view .LVU1186
 3840 0078 16E0     		b	.L295
 3841              	.L305:
 951:System/storage/Storage.c **** 
 3842              		.loc 1 951 9 is_stmt 1 view .LVU1187
 3843              	.LVL434:
 954:System/storage/Storage.c ****         p_freeslot_start += sizeof(uint32_t);
 3844              		.loc 1 954 9 view .LVU1188
 954:System/storage/Storage.c ****         p_freeslot_start += sizeof(uint32_t);
 3845              		.loc 1 954 39 is_stmt 0 view .LVU1189
 3846 007a C5F80490 		str	r9, [r5, #4]
 955:System/storage/Storage.c **** 
 3847              		.loc 1 955 9 is_stmt 1 view .LVU1190
 3848              	.LVL435:
 962:System/storage/Storage.c ****         p_freeslot_start += sizeof(uint32_t);
 3849              		.loc 1 962 9 view .LVU1191
 962:System/storage/Storage.c ****         p_freeslot_start += sizeof(uint32_t);
 3850              		.loc 1 962 39 is_stmt 0 view .LVU1192
 3851 007e AF60     		str	r7, [r5, #8]
 963:System/storage/Storage.c **** 
 3852              		.loc 1 963 9 is_stmt 1 view .LVU1193
 963:System/storage/Storage.c **** 
 3853              		.loc 1 963 26 is_stmt 0 view .LVU1194
 3854 0080 05F10C07 		add	r7, r5, #12
 3855              	.LVL436:
 966:System/storage/Storage.c ****     }
 3856              		.loc 1 966 9 is_stmt 1 view .LVU1195
 966:System/storage/Storage.c ****     }
 3857              		.loc 1 966 39 is_stmt 0 view .LVU1196
 3858 0084 0F4B     		ldr	r3, .L306+4
 3859 0086 EB60     		str	r3, [r5, #12]
 972:System/storage/Storage.c ****     {
 3860              		.loc 1 972 5 is_stmt 1 view .LVU1197
 972:System/storage/Storage.c ****     {
 3861              		.loc 1 972 9 is_stmt 0 view .LVU1198
 3862 0088 5246     		mov	r2, r10
 3863 008a 2946     		mov	r1, r5
 3864 008c 3046     		mov	r0, r6
 3865 008e FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Write
 3866              	.LVL437:
 972:System/storage/Storage.c ****     {
 3867              		.loc 1 972 8 view .LVU1199
 3868 0092 0546     		mov	r5, r0
 3869 0094 40B1     		cbz	r0, .L295
 975:System/storage/Storage.c ****             return true;
 3870              		.loc 1 975 9 is_stmt 1 view .LVU1200
 975:System/storage/Storage.c ****             return true;
 3871              		.loc 1 975 13 is_stmt 0 view .LVU1201
 3872 0096 2246     		mov	r2, r4
 3873 0098 3946     		mov	r1, r7
 3874 009a 3046     		mov	r0, r6
 3875 009c FFF7FEFF 		bl	Storage_FreeSlot_CheckMerge
 3876              	.LVL438:
 975:System/storage/Storage.c ****             return true;
 3877              		.loc 1 975 12 view .LVU1202
 3878 00a0 10B1     		cbz	r0, .L295
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 127


 979:System/storage/Storage.c **** }
 3879              		.loc 1 979 12 view .LVU1203
 3880 00a2 0025     		movs	r5, #0
 3881 00a4 00E0     		b	.L295
 3882              	.LVL439:
 3883              	.L296:
 903:System/storage/Storage.c ****     
 3884              		.loc 1 903 16 view .LVU1204
 3885 00a6 0025     		movs	r5, #0
 3886              	.LVL440:
 3887              	.L295:
 980:System/storage/Storage.c **** 
 3888              		.loc 1 980 1 view .LVU1205
 3889 00a8 2846     		mov	r0, r5
 3890 00aa BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 3891              	.LVL441:
 3892              	.L297:
 903:System/storage/Storage.c ****     
 3893              		.loc 1 903 16 view .LVU1206
 3894 00ae 0025     		movs	r5, #0
 3895 00b0 FAE7     		b	.L295
 3896              	.L298:
 903:System/storage/Storage.c ****     
 3897              		.loc 1 903 16 view .LVU1207
 3898 00b2 0025     		movs	r5, #0
 3899 00b4 F8E7     		b	.L295
 3900              	.L299:
 903:System/storage/Storage.c ****     
 3901              		.loc 1 903 16 view .LVU1208
 3902 00b6 0025     		movs	r5, #0
 3903 00b8 F6E7     		b	.L295
 3904              	.LVL442:
 3905              	.L300:
 903:System/storage/Storage.c ****     
 3906              		.loc 1 903 16 view .LVU1209
 3907 00ba 0025     		movs	r5, #0
 3908 00bc F4E7     		b	.L295
 3909              	.L307:
 3910 00be 00BF     		.align	2
 3911              	.L306:
 3912 00c0 EF1001EF 		.word	-285142801
 3913 00c4 FE0110FE 		.word	-32505346
 3914              		.cfi_endproc
 3915              	.LFE160:
 3917              		.section	.rodata.Storage_Read_Section.str1.4,"aMS",%progbits,1
 3918              		.align	2
 3919              	.LC33:
 3920 0000 73656374 		.ascii	"section read failed\015\012\000"
 3920      696F6E20 
 3920      72656164 
 3920      20666169 
 3920      6C65640D 
 3921 0016 0000     		.align	2
 3922              	.LC34:
 3923 0018 5B205354 		.ascii	"[ STORAGE INFO ] \000"
 3923      4F524147 
 3923      4520494E 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 128


 3923      464F205D 
 3923      2000
 3924              		.section	.text.Storage_Read_Section,"ax",%progbits
 3925              		.align	1
 3926              		.syntax unified
 3927              		.thumb
 3928              		.thumb_func
 3930              	Storage_Read_Section:
 3931              	.LVL443:
 3932              	.LFB170:
1655:System/storage/Storage.c ****     uint32_t read_cnt = 0;
 3933              		.loc 1 1655 1 is_stmt 1 view -0
 3934              		.cfi_startproc
 3935              		@ args = 0, pretend = 0, frame = 0
 3936              		@ frame_needed = 0, uses_anonymous_args = 0
1655:System/storage/Storage.c ****     uint32_t read_cnt = 0;
 3937              		.loc 1 1655 1 is_stmt 0 view .LVU1211
 3938 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 3939              	.LCFI49:
 3940              		.cfi_def_cfa_offset 32
 3941              		.cfi_offset 4, -32
 3942              		.cfi_offset 5, -28
 3943              		.cfi_offset 6, -24
 3944              		.cfi_offset 7, -20
 3945              		.cfi_offset 8, -16
 3946              		.cfi_offset 9, -12
 3947              		.cfi_offset 10, -8
 3948              		.cfi_offset 14, -4
1656:System/storage/Storage.c ****     uint32_t addr_tmp = 0;
 3949              		.loc 1 1656 5 is_stmt 1 view .LVU1212
 3950              	.LVL444:
1657:System/storage/Storage.c ****     StorageDevObj_TypeDef *p_dev = NULL;
 3951              		.loc 1 1657 5 view .LVU1213
1658:System/storage/Storage.c **** 
 3952              		.loc 1 1658 5 view .LVU1214
1660:System/storage/Storage.c ****     if (addr && p_data && len && p_dev && p_dev->api && p_dev->obj)
 3953              		.loc 1 1660 5 view .LVU1215
1660:System/storage/Storage.c ****     if (addr && p_data && len && p_dev && p_dev->api && p_dev->obj)
 3954              		.loc 1 1660 11 is_stmt 0 view .LVU1216
 3955 0004 2C4C     		ldr	r4, .L325
 3956 0006 A468     		ldr	r4, [r4, #8]
 3957              	.LVL445:
1661:System/storage/Storage.c ****     {
 3958              		.loc 1 1661 5 is_stmt 1 view .LVU1217
1661:System/storage/Storage.c ****     {
 3959              		.loc 1 1661 8 is_stmt 0 view .LVU1218
 3960 0008 0028     		cmp	r0, #0
 3961 000a 41D0     		beq	.L313
 3962 000c 0E46     		mov	r6, r1
 3963 000e 1546     		mov	r5, r2
 3964 0010 0746     		mov	r7, r0
1661:System/storage/Storage.c ****     {
 3965              		.loc 1 1661 14 discriminator 1 view .LVU1219
 3966 0012 0029     		cmp	r1, #0
 3967 0014 3FD0     		beq	.L314
1661:System/storage/Storage.c ****     {
 3968              		.loc 1 1661 24 discriminator 2 view .LVU1220
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 129


 3969 0016 002A     		cmp	r2, #0
 3970 0018 3FD0     		beq	.L315
1661:System/storage/Storage.c ****     {
 3971              		.loc 1 1661 31 discriminator 3 view .LVU1221
 3972 001a 002C     		cmp	r4, #0
 3973 001c 3FD0     		beq	.L316
1661:System/storage/Storage.c ****     {
 3974              		.loc 1 1661 48 discriminator 4 view .LVU1222
 3975 001e 236B     		ldr	r3, [r4, #48]
1661:System/storage/Storage.c ****     {
 3976              		.loc 1 1661 40 discriminator 4 view .LVU1223
 3977 0020 002B     		cmp	r3, #0
 3978 0022 3ED0     		beq	.L317
1661:System/storage/Storage.c ****     {
 3979              		.loc 1 1661 62 discriminator 5 view .LVU1224
 3980 0024 E36A     		ldr	r3, [r4, #44]
1661:System/storage/Storage.c ****     {
 3981              		.loc 1 1661 54 discriminator 5 view .LVU1225
 3982 0026 002B     		cmp	r3, #0
 3983 0028 3DD0     		beq	.L318
1663:System/storage/Storage.c ****             (len % p_dev->sector_size))
 3984              		.loc 1 1663 9 is_stmt 1 view .LVU1226
1663:System/storage/Storage.c ****             (len % p_dev->sector_size))
 3985              		.loc 1 1663 26 is_stmt 0 view .LVU1227
 3986 002a A36A     		ldr	r3, [r4, #40]
1663:System/storage/Storage.c ****             (len % p_dev->sector_size))
 3987              		.loc 1 1663 19 view .LVU1228
 3988 002c B0FBF3F2 		udiv	r2, r0, r3
 3989              	.LVL446:
1663:System/storage/Storage.c ****             (len % p_dev->sector_size))
 3990              		.loc 1 1663 19 view .LVU1229
 3991 0030 03FB1202 		mls	r2, r3, r2, r0
1663:System/storage/Storage.c ****             (len % p_dev->sector_size))
 3992              		.loc 1 1663 12 view .LVU1230
 3993 0034 002A     		cmp	r2, #0
 3994 0036 38D1     		bne	.L319
1664:System/storage/Storage.c ****             return false;
 3995              		.loc 1 1664 18 discriminator 1 view .LVU1231
 3996 0038 B5FBF3F2 		udiv	r2, r5, r3
 3997 003c 03FB1252 		mls	r2, r3, r2, r5
1663:System/storage/Storage.c ****             (len % p_dev->sector_size))
 3998              		.loc 1 1663 41 discriminator 1 view .LVU1232
 3999 0040 AABB     		cbnz	r2, .L320
1667:System/storage/Storage.c ****         addr_tmp = addr;
 4000              		.loc 1 1667 9 is_stmt 1 view .LVU1233
1667:System/storage/Storage.c ****         addr_tmp = addr;
 4001              		.loc 1 1667 18 is_stmt 0 view .LVU1234
 4002 0042 B5FBF3F9 		udiv	r9, r5, r3
 4003              	.LVL447:
1668:System/storage/Storage.c **** 
 4004              		.loc 1 1668 9 is_stmt 1 view .LVU1235
1670:System/storage/Storage.c ****         {
 4005              		.loc 1 1670 9 view .LVU1236
 4006              	.LBB19:
1670:System/storage/Storage.c ****         {
 4007              		.loc 1 1670 14 view .LVU1237
1670:System/storage/Storage.c ****         {
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 130


 4008              		.loc 1 1670 22 is_stmt 0 view .LVU1238
 4009 0046 4FF00008 		mov	r8, #0
 4010              	.LVL448:
 4011              	.L310:
1670:System/storage/Storage.c ****         {
 4012              		.loc 1 1670 29 is_stmt 1 discriminator 1 view .LVU1239
1670:System/storage/Storage.c ****         {
 4013              		.loc 1 1670 9 is_stmt 0 discriminator 1 view .LVU1240
 4014 004a C845     		cmp	r8, r9
 4015 004c 1ED2     		bcs	.L323
1672:System/storage/Storage.c ****             {
 4016              		.loc 1 1672 13 is_stmt 1 view .LVU1241
1672:System/storage/Storage.c ****             {
 4017              		.loc 1 1672 34 is_stmt 0 view .LVU1242
 4018 004e 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
1672:System/storage/Storage.c ****             {
 4019              		.loc 1 1672 13 view .LVU1243
 4020 0050 012B     		cmp	r3, #1
 4021 0052 2ED1     		bne	.L321
1676:System/storage/Storage.c ****                     {
 4022              		.loc 1 1676 21 is_stmt 1 view .LVU1244
1676:System/storage/Storage.c ****                     {
 4023              		.loc 1 1676 25 is_stmt 0 view .LVU1245
 4024 0054 236B     		ldr	r3, [r4, #48]
1676:System/storage/Storage.c ****                     {
 4025              		.loc 1 1676 53 view .LVU1246
 4026 0056 D3F808A0 		ldr	r10, [r3, #8]
1676:System/storage/Storage.c ****                     {
 4027              		.loc 1 1676 25 view .LVU1247
 4028 005a 2B46     		mov	r3, r5
 4029 005c 3246     		mov	r2, r6
 4030 005e 3946     		mov	r1, r7
 4031 0060 E06A     		ldr	r0, [r4, #44]
 4032 0062 D047     		blx	r10
 4033              	.LVL449:
1676:System/storage/Storage.c ****                     {
 4034              		.loc 1 1676 24 view .LVU1248
 4035 0064 30B9     		cbnz	r0, .L324
1682:System/storage/Storage.c **** 
 4036              		.loc 1 1682 21 is_stmt 1 discriminator 2 view .LVU1249
1687:System/storage/Storage.c ****         }
 4037              		.loc 1 1687 13 discriminator 2 view .LVU1250
1687:System/storage/Storage.c ****         }
 4038              		.loc 1 1687 30 is_stmt 0 discriminator 2 view .LVU1251
 4039 0066 A36A     		ldr	r3, [r4, #40]
1687:System/storage/Storage.c ****         }
 4040              		.loc 1 1687 22 discriminator 2 view .LVU1252
 4041 0068 1F44     		add	r7, r7, r3
 4042              	.LVL450:
1670:System/storage/Storage.c ****         {
 4043              		.loc 1 1670 43 is_stmt 1 discriminator 2 view .LVU1253
1670:System/storage/Storage.c ****         {
 4044              		.loc 1 1670 44 is_stmt 0 discriminator 2 view .LVU1254
 4045 006a 08F10108 		add	r8, r8, #1
 4046              	.LVL451:
1670:System/storage/Storage.c ****         {
 4047              		.loc 1 1670 44 discriminator 2 view .LVU1255
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 131


 4048 006e 5FFA88F8 		uxtb	r8, r8
 4049              	.LVL452:
1670:System/storage/Storage.c ****         {
 4050              		.loc 1 1670 44 discriminator 2 view .LVU1256
 4051 0072 EAE7     		b	.L310
 4052              	.L324:
1678:System/storage/Storage.c ****                         memset(p_data, 0, len);
 4053              		.loc 1 1678 25 is_stmt 1 view .LVU1257
 4054 0074 114A     		ldr	r2, .L325+4
 4055 0076 1249     		ldr	r1, .L325+8
 4056 0078 1248     		ldr	r0, .L325+12
 4057 007a FFF7FEFF 		bl	Debug_Print
 4058              	.LVL453:
1679:System/storage/Storage.c ****                         return false;
 4059              		.loc 1 1679 25 view .LVU1258
 4060 007e 2A46     		mov	r2, r5
 4061 0080 0021     		movs	r1, #0
 4062 0082 3046     		mov	r0, r6
 4063 0084 FFF7FEFF 		bl	memset
 4064              	.LVL454:
1680:System/storage/Storage.c ****                     }
 4065              		.loc 1 1680 25 view .LVU1259
1680:System/storage/Storage.c ****                     }
 4066              		.loc 1 1680 32 is_stmt 0 view .LVU1260
 4067 0088 0020     		movs	r0, #0
 4068 008a 02E0     		b	.L309
 4069              	.L323:
1680:System/storage/Storage.c ****                     }
 4070              		.loc 1 1680 32 view .LVU1261
 4071              	.LBE19:
1690:System/storage/Storage.c ****     }
 4072              		.loc 1 1690 16 view .LVU1262
 4073 008c 0120     		movs	r0, #1
 4074              	.LBB20:
 4075 008e 00E0     		b	.L309
 4076              	.LVL455:
 4077              	.L313:
1690:System/storage/Storage.c ****     }
 4078              		.loc 1 1690 16 view .LVU1263
 4079              	.LBE20:
1693:System/storage/Storage.c **** }
 4080              		.loc 1 1693 12 view .LVU1264
 4081 0090 0020     		movs	r0, #0
 4082              	.LVL456:
 4083              	.L309:
1694:System/storage/Storage.c **** 
 4084              		.loc 1 1694 1 view .LVU1265
 4085 0092 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 4086              	.LVL457:
 4087              	.L314:
1693:System/storage/Storage.c **** }
 4088              		.loc 1 1693 12 view .LVU1266
 4089 0096 0020     		movs	r0, #0
 4090              	.LVL458:
1693:System/storage/Storage.c **** }
 4091              		.loc 1 1693 12 view .LVU1267
 4092 0098 FBE7     		b	.L309
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 132


 4093              	.LVL459:
 4094              	.L315:
1693:System/storage/Storage.c **** }
 4095              		.loc 1 1693 12 view .LVU1268
 4096 009a 0020     		movs	r0, #0
 4097              	.LVL460:
1693:System/storage/Storage.c **** }
 4098              		.loc 1 1693 12 view .LVU1269
 4099 009c F9E7     		b	.L309
 4100              	.LVL461:
 4101              	.L316:
1693:System/storage/Storage.c **** }
 4102              		.loc 1 1693 12 view .LVU1270
 4103 009e 0020     		movs	r0, #0
 4104              	.LVL462:
1693:System/storage/Storage.c **** }
 4105              		.loc 1 1693 12 view .LVU1271
 4106 00a0 F7E7     		b	.L309
 4107              	.LVL463:
 4108              	.L317:
1693:System/storage/Storage.c **** }
 4109              		.loc 1 1693 12 view .LVU1272
 4110 00a2 0020     		movs	r0, #0
 4111              	.LVL464:
1693:System/storage/Storage.c **** }
 4112              		.loc 1 1693 12 view .LVU1273
 4113 00a4 F5E7     		b	.L309
 4114              	.LVL465:
 4115              	.L318:
1693:System/storage/Storage.c **** }
 4116              		.loc 1 1693 12 view .LVU1274
 4117 00a6 0020     		movs	r0, #0
 4118              	.LVL466:
1693:System/storage/Storage.c **** }
 4119              		.loc 1 1693 12 view .LVU1275
 4120 00a8 F3E7     		b	.L309
 4121              	.LVL467:
 4122              	.L319:
1665:System/storage/Storage.c ****     
 4123              		.loc 1 1665 20 view .LVU1276
 4124 00aa 0020     		movs	r0, #0
 4125              	.LVL468:
1665:System/storage/Storage.c ****     
 4126              		.loc 1 1665 20 view .LVU1277
 4127 00ac F1E7     		b	.L309
 4128              	.LVL469:
 4129              	.L320:
1665:System/storage/Storage.c ****     
 4130              		.loc 1 1665 20 view .LVU1278
 4131 00ae 0020     		movs	r0, #0
 4132              	.LVL470:
1665:System/storage/Storage.c ****     
 4133              		.loc 1 1665 20 view .LVU1279
 4134 00b0 EFE7     		b	.L309
 4135              	.LVL471:
 4136              	.L321:
 4137              	.LBB21:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 133


1684:System/storage/Storage.c ****             }
 4138              		.loc 1 1684 33 view .LVU1280
 4139 00b2 0020     		movs	r0, #0
 4140 00b4 EDE7     		b	.L309
 4141              	.L326:
 4142 00b6 00BF     		.align	2
 4143              	.L325:
 4144 00b8 00000000 		.word	.LANCHOR0
 4145 00bc 00000000 		.word	.LC33
 4146 00c0 18000000 		.word	.LC34
 4147 00c4 00000000 		.word	DebugPort
 4148              	.LBE21:
 4149              		.cfi_endproc
 4150              	.LFE170:
 4152              		.section	.rodata.Storage_Write_Section.str1.4,"aMS",%progbits,1
 4153              		.align	2
 4154              	.LC35:
 4155 0000 73656374 		.ascii	"section erase failed\015\012\000"
 4155      696F6E20 
 4155      65726173 
 4155      65206661 
 4155      696C6564 
 4156 0017 00       		.align	2
 4157              	.LC36:
 4158 0018 73656374 		.ascii	"section write failed\015\012\000"
 4158      696F6E20 
 4158      77726974 
 4158      65206661 
 4158      696C6564 
 4159              		.section	.text.Storage_Write_Section,"ax",%progbits
 4160              		.align	1
 4161              		.syntax unified
 4162              		.thumb
 4163              		.thumb_func
 4165              	Storage_Write_Section:
 4166              	.LVL472:
 4167              	.LFB169:
1607:System/storage/Storage.c ****     uint32_t write_cnt = 0;
 4168              		.loc 1 1607 1 is_stmt 1 view -0
 4169              		.cfi_startproc
 4170              		@ args = 0, pretend = 0, frame = 0
 4171              		@ frame_needed = 0, uses_anonymous_args = 0
1607:System/storage/Storage.c ****     uint32_t write_cnt = 0;
 4172              		.loc 1 1607 1 is_stmt 0 view .LVU1282
 4173 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 4174              	.LCFI50:
 4175              		.cfi_def_cfa_offset 32
 4176              		.cfi_offset 3, -32
 4177              		.cfi_offset 4, -28
 4178              		.cfi_offset 5, -24
 4179              		.cfi_offset 6, -20
 4180              		.cfi_offset 7, -16
 4181              		.cfi_offset 8, -12
 4182              		.cfi_offset 9, -8
 4183              		.cfi_offset 14, -4
1608:System/storage/Storage.c ****     uint32_t addr_tmp = 0;
 4184              		.loc 1 1608 5 is_stmt 1 view .LVU1283
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 134


 4185              	.LVL473:
1609:System/storage/Storage.c ****     StorageDevObj_TypeDef *p_dev = NULL;
 4186              		.loc 1 1609 5 view .LVU1284
1610:System/storage/Storage.c **** 
 4187              		.loc 1 1610 5 view .LVU1285
1612:System/storage/Storage.c ****     if (addr && p_data && len && p_dev && p_dev->api && p_dev->obj)
 4188              		.loc 1 1612 5 view .LVU1286
1612:System/storage/Storage.c ****     if (addr && p_data && len && p_dev && p_dev->api && p_dev->obj)
 4189              		.loc 1 1612 11 is_stmt 0 view .LVU1287
 4190 0004 304B     		ldr	r3, .L346
 4191 0006 9D68     		ldr	r5, [r3, #8]
 4192              	.LVL474:
1613:System/storage/Storage.c ****     {
 4193              		.loc 1 1613 5 is_stmt 1 view .LVU1288
1613:System/storage/Storage.c ****     {
 4194              		.loc 1 1613 8 is_stmt 0 view .LVU1289
 4195 0008 0028     		cmp	r0, #0
 4196 000a 49D0     		beq	.L333
 4197 000c 0F46     		mov	r7, r1
 4198 000e 0646     		mov	r6, r0
1613:System/storage/Storage.c ****     {
 4199              		.loc 1 1613 14 discriminator 1 view .LVU1290
 4200 0010 0029     		cmp	r1, #0
 4201 0012 48D0     		beq	.L334
1613:System/storage/Storage.c ****     {
 4202              		.loc 1 1613 24 discriminator 2 view .LVU1291
 4203 0014 002A     		cmp	r2, #0
 4204 0016 48D0     		beq	.L335
1613:System/storage/Storage.c ****     {
 4205              		.loc 1 1613 31 discriminator 3 view .LVU1292
 4206 0018 002D     		cmp	r5, #0
 4207 001a 48D0     		beq	.L336
1613:System/storage/Storage.c ****     {
 4208              		.loc 1 1613 48 discriminator 4 view .LVU1293
 4209 001c 2B6B     		ldr	r3, [r5, #48]
1613:System/storage/Storage.c ****     {
 4210              		.loc 1 1613 40 discriminator 4 view .LVU1294
 4211 001e 002B     		cmp	r3, #0
 4212 0020 47D0     		beq	.L337
1613:System/storage/Storage.c ****     {
 4213              		.loc 1 1613 62 discriminator 5 view .LVU1295
 4214 0022 EB6A     		ldr	r3, [r5, #44]
1613:System/storage/Storage.c ****     {
 4215              		.loc 1 1613 54 discriminator 5 view .LVU1296
 4216 0024 002B     		cmp	r3, #0
 4217 0026 46D0     		beq	.L338
1615:System/storage/Storage.c ****             (len % p_dev->sector_size))
 4218              		.loc 1 1615 9 is_stmt 1 view .LVU1297
1615:System/storage/Storage.c ****             (len % p_dev->sector_size))
 4219              		.loc 1 1615 26 is_stmt 0 view .LVU1298
 4220 0028 AC6A     		ldr	r4, [r5, #40]
1615:System/storage/Storage.c ****             (len % p_dev->sector_size))
 4221              		.loc 1 1615 19 view .LVU1299
 4222 002a B0FBF4F3 		udiv	r3, r0, r4
 4223 002e 04FB1303 		mls	r3, r4, r3, r0
1615:System/storage/Storage.c ****             (len % p_dev->sector_size))
 4224              		.loc 1 1615 12 view .LVU1300
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 135


 4225 0032 002B     		cmp	r3, #0
 4226 0034 41D1     		bne	.L339
1616:System/storage/Storage.c ****             return false;
 4227              		.loc 1 1616 18 discriminator 1 view .LVU1301
 4228 0036 B2FBF4F3 		udiv	r3, r2, r4
 4229 003a 04FB1323 		mls	r3, r4, r3, r2
1615:System/storage/Storage.c ****             (len % p_dev->sector_size))
 4230              		.loc 1 1615 41 discriminator 1 view .LVU1302
 4231 003e 002B     		cmp	r3, #0
 4232 0040 3DD1     		bne	.L340
1619:System/storage/Storage.c ****         addr_tmp = addr;
 4233              		.loc 1 1619 9 is_stmt 1 view .LVU1303
1619:System/storage/Storage.c ****         addr_tmp = addr;
 4234              		.loc 1 1619 19 is_stmt 0 view .LVU1304
 4235 0042 B2FBF4F4 		udiv	r4, r2, r4
 4236              	.LVL475:
1620:System/storage/Storage.c **** 
 4237              		.loc 1 1620 9 is_stmt 1 view .LVU1305
1622:System/storage/Storage.c ****         {
 4238              		.loc 1 1622 9 view .LVU1306
 4239              	.LBB22:
1622:System/storage/Storage.c ****         {
 4240              		.loc 1 1622 14 view .LVU1307
1622:System/storage/Storage.c ****         {
 4241              		.loc 1 1622 22 is_stmt 0 view .LVU1308
 4242 0046 4FF00008 		mov	r8, #0
 4243              	.LVL476:
 4244              	.L329:
1622:System/storage/Storage.c ****         {
 4245              		.loc 1 1622 29 is_stmt 1 discriminator 1 view .LVU1309
1622:System/storage/Storage.c ****         {
 4246              		.loc 1 1622 9 is_stmt 0 discriminator 1 view .LVU1310
 4247 004a A045     		cmp	r8, r4
 4248 004c 26D2     		bcs	.L343
1624:System/storage/Storage.c ****             {
 4249              		.loc 1 1624 13 is_stmt 1 view .LVU1311
1624:System/storage/Storage.c ****             {
 4250              		.loc 1 1624 34 is_stmt 0 view .LVU1312
 4251 004e 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
1624:System/storage/Storage.c ****             {
 4252              		.loc 1 1624 13 view .LVU1313
 4253 0050 012B     		cmp	r3, #1
 4254 0052 36D1     		bne	.L341
1628:System/storage/Storage.c ****                     {
 4255              		.loc 1 1628 21 is_stmt 1 view .LVU1314
1628:System/storage/Storage.c ****                     {
 4256              		.loc 1 1628 25 is_stmt 0 view .LVU1315
 4257 0054 2B6B     		ldr	r3, [r5, #48]
1628:System/storage/Storage.c ****                     {
 4258              		.loc 1 1628 53 view .LVU1316
 4259 0056 DB68     		ldr	r3, [r3, #12]
1628:System/storage/Storage.c ****                     {
 4260              		.loc 1 1628 25 view .LVU1317
 4261 0058 3146     		mov	r1, r6
 4262 005a E86A     		ldr	r0, [r5, #44]
 4263 005c 9847     		blx	r3
 4264              	.LVL477:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 136


1628:System/storage/Storage.c ****                     {
 4265              		.loc 1 1628 24 view .LVU1318
 4266 005e 78B9     		cbnz	r0, .L344
1635:System/storage/Storage.c ****                     {
 4267              		.loc 1 1635 21 is_stmt 1 view .LVU1319
1635:System/storage/Storage.c ****                     {
 4268              		.loc 1 1635 25 is_stmt 0 view .LVU1320
 4269 0060 2B6B     		ldr	r3, [r5, #48]
1635:System/storage/Storage.c ****                     {
 4270              		.loc 1 1635 53 view .LVU1321
 4271 0062 D3F80490 		ldr	r9, [r3, #4]
1635:System/storage/Storage.c ****                     {
 4272              		.loc 1 1635 25 view .LVU1322
 4273 0066 AB6A     		ldr	r3, [r5, #40]
 4274 0068 3A46     		mov	r2, r7
 4275 006a 3146     		mov	r1, r6
 4276 006c E86A     		ldr	r0, [r5, #44]
 4277 006e C847     		blx	r9
 4278              	.LVL478:
1635:System/storage/Storage.c ****                     {
 4279              		.loc 1 1635 24 view .LVU1323
 4280 0070 68B9     		cbnz	r0, .L345
1640:System/storage/Storage.c **** 
 4281              		.loc 1 1640 21 is_stmt 1 discriminator 2 view .LVU1324
1645:System/storage/Storage.c ****         }
 4282              		.loc 1 1645 13 discriminator 2 view .LVU1325
1645:System/storage/Storage.c ****         }
 4283              		.loc 1 1645 30 is_stmt 0 discriminator 2 view .LVU1326
 4284 0072 AB6A     		ldr	r3, [r5, #40]
1645:System/storage/Storage.c ****         }
 4285              		.loc 1 1645 22 discriminator 2 view .LVU1327
 4286 0074 1E44     		add	r6, r6, r3
 4287              	.LVL479:
1622:System/storage/Storage.c ****         {
 4288              		.loc 1 1622 44 is_stmt 1 discriminator 2 view .LVU1328
1622:System/storage/Storage.c ****         {
 4289              		.loc 1 1622 46 is_stmt 0 discriminator 2 view .LVU1329
 4290 0076 08F10108 		add	r8, r8, #1
 4291              	.LVL480:
1622:System/storage/Storage.c ****         {
 4292              		.loc 1 1622 46 discriminator 2 view .LVU1330
 4293 007a 5FFA88F8 		uxtb	r8, r8
 4294              	.LVL481:
1622:System/storage/Storage.c ****         {
 4295              		.loc 1 1622 46 discriminator 2 view .LVU1331
 4296 007e E4E7     		b	.L329
 4297              	.L344:
1630:System/storage/Storage.c ****                         return false;
 4298              		.loc 1 1630 25 is_stmt 1 view .LVU1332
 4299 0080 124A     		ldr	r2, .L346+4
 4300 0082 1349     		ldr	r1, .L346+8
 4301 0084 1348     		ldr	r0, .L346+12
 4302 0086 FFF7FEFF 		bl	Debug_Print
 4303              	.LVL482:
1631:System/storage/Storage.c ****                     }
 4304              		.loc 1 1631 25 view .LVU1333
1631:System/storage/Storage.c ****                     }
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 137


 4305              		.loc 1 1631 32 is_stmt 0 view .LVU1334
 4306 008a 0020     		movs	r0, #0
 4307 008c 09E0     		b	.L328
 4308              	.L345:
1637:System/storage/Storage.c ****                         return false;
 4309              		.loc 1 1637 25 is_stmt 1 view .LVU1335
 4310 008e 124A     		ldr	r2, .L346+16
 4311 0090 0F49     		ldr	r1, .L346+8
 4312 0092 1048     		ldr	r0, .L346+12
 4313 0094 FFF7FEFF 		bl	Debug_Print
 4314              	.LVL483:
1638:System/storage/Storage.c ****                     }
 4315              		.loc 1 1638 25 view .LVU1336
1638:System/storage/Storage.c ****                     }
 4316              		.loc 1 1638 32 is_stmt 0 view .LVU1337
 4317 0098 0020     		movs	r0, #0
 4318 009a 02E0     		b	.L328
 4319              	.L343:
1638:System/storage/Storage.c ****                     }
 4320              		.loc 1 1638 32 view .LVU1338
 4321              	.LBE22:
1648:System/storage/Storage.c ****     }
 4322              		.loc 1 1648 16 view .LVU1339
 4323 009c 0120     		movs	r0, #1
 4324              	.LBB23:
 4325 009e 00E0     		b	.L328
 4326              	.LVL484:
 4327              	.L333:
1648:System/storage/Storage.c ****     }
 4328              		.loc 1 1648 16 view .LVU1340
 4329              	.LBE23:
1651:System/storage/Storage.c **** }
 4330              		.loc 1 1651 12 view .LVU1341
 4331 00a0 0020     		movs	r0, #0
 4332              	.LVL485:
 4333              	.L328:
1652:System/storage/Storage.c **** 
 4334              		.loc 1 1652 1 view .LVU1342
 4335 00a2 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 4336              	.LVL486:
 4337              	.L334:
1651:System/storage/Storage.c **** }
 4338              		.loc 1 1651 12 view .LVU1343
 4339 00a6 0020     		movs	r0, #0
 4340              	.LVL487:
1651:System/storage/Storage.c **** }
 4341              		.loc 1 1651 12 view .LVU1344
 4342 00a8 FBE7     		b	.L328
 4343              	.LVL488:
 4344              	.L335:
1651:System/storage/Storage.c **** }
 4345              		.loc 1 1651 12 view .LVU1345
 4346 00aa 0020     		movs	r0, #0
 4347              	.LVL489:
1651:System/storage/Storage.c **** }
 4348              		.loc 1 1651 12 view .LVU1346
 4349 00ac F9E7     		b	.L328
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 138


 4350              	.LVL490:
 4351              	.L336:
1651:System/storage/Storage.c **** }
 4352              		.loc 1 1651 12 view .LVU1347
 4353 00ae 0020     		movs	r0, #0
 4354              	.LVL491:
1651:System/storage/Storage.c **** }
 4355              		.loc 1 1651 12 view .LVU1348
 4356 00b0 F7E7     		b	.L328
 4357              	.LVL492:
 4358              	.L337:
1651:System/storage/Storage.c **** }
 4359              		.loc 1 1651 12 view .LVU1349
 4360 00b2 0020     		movs	r0, #0
 4361              	.LVL493:
1651:System/storage/Storage.c **** }
 4362              		.loc 1 1651 12 view .LVU1350
 4363 00b4 F5E7     		b	.L328
 4364              	.LVL494:
 4365              	.L338:
1651:System/storage/Storage.c **** }
 4366              		.loc 1 1651 12 view .LVU1351
 4367 00b6 0020     		movs	r0, #0
 4368              	.LVL495:
1651:System/storage/Storage.c **** }
 4369              		.loc 1 1651 12 view .LVU1352
 4370 00b8 F3E7     		b	.L328
 4371              	.LVL496:
 4372              	.L339:
1617:System/storage/Storage.c **** 
 4373              		.loc 1 1617 20 view .LVU1353
 4374 00ba 0020     		movs	r0, #0
 4375              	.LVL497:
1617:System/storage/Storage.c **** 
 4376              		.loc 1 1617 20 view .LVU1354
 4377 00bc F1E7     		b	.L328
 4378              	.LVL498:
 4379              	.L340:
1617:System/storage/Storage.c **** 
 4380              		.loc 1 1617 20 view .LVU1355
 4381 00be 0020     		movs	r0, #0
 4382              	.LVL499:
1617:System/storage/Storage.c **** 
 4383              		.loc 1 1617 20 view .LVU1356
 4384 00c0 EFE7     		b	.L328
 4385              	.LVL500:
 4386              	.L341:
 4387              	.LBB24:
1642:System/storage/Storage.c ****             }
 4388              		.loc 1 1642 33 view .LVU1357
 4389 00c2 0020     		movs	r0, #0
 4390 00c4 EDE7     		b	.L328
 4391              	.L347:
 4392 00c6 00BF     		.align	2
 4393              	.L346:
 4394 00c8 00000000 		.word	.LANCHOR0
 4395 00cc 00000000 		.word	.LC35
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 139


 4396 00d0 18000000 		.word	.LC34
 4397 00d4 00000000 		.word	DebugPort
 4398 00d8 18000000 		.word	.LC36
 4399              	.LBE24:
 4400              		.cfi_endproc
 4401              	.LFE169:
 4403              		.section	.text.Storage_Get_Data,"ax",%progbits
 4404              		.align	1
 4405              		.syntax unified
 4406              		.thumb
 4407              		.thumb_func
 4409              	Storage_Get_Data:
 4410              	.LVL501:
 4411              	.LFB156:
 522:System/storage/Storage.c ****     uint32_t data_len = 0;
 4412              		.loc 1 522 1 is_stmt 1 view -0
 4413              		.cfi_startproc
 4414              		@ args = 76, pretend = 16, frame = 64
 4415              		@ frame_needed = 0, uses_anonymous_args = 0
 522:System/storage/Storage.c ****     uint32_t data_len = 0;
 4416              		.loc 1 522 1 is_stmt 0 view .LVU1359
 4417 0000 84B0     		sub	sp, sp, #16
 4418              	.LCFI51:
 4419              		.cfi_def_cfa_offset 16
 4420 0002 70B5     		push	{r4, r5, r6, lr}
 4421              	.LCFI52:
 4422              		.cfi_def_cfa_offset 32
 4423              		.cfi_offset 4, -32
 4424              		.cfi_offset 5, -28
 4425              		.cfi_offset 6, -24
 4426              		.cfi_offset 14, -20
 4427 0004 90B0     		sub	sp, sp, #64
 4428              	.LCFI53:
 4429              		.cfi_def_cfa_offset 96
 4430 0006 15A8     		add	r0, sp, #84
 4431 0008 80E80E00 		stm	r0, {r1, r2, r3}
 4432 000c 259E     		ldr	r6, [sp, #148]
 4433 000e BDF89840 		ldrh	r4, [sp, #152]
 523:System/storage/Storage.c ****     uint32_t data_addr = 0;
 4434              		.loc 1 523 5 is_stmt 1 view .LVU1360
 4435              	.LVL502:
 524:System/storage/Storage.c ****     uint8_t *p_read_out = NULL;
 4436              		.loc 1 524 5 view .LVU1361
 525:System/storage/Storage.c ****     uint8_t *crc_buf = NULL;
 4437              		.loc 1 525 5 view .LVU1362
 526:System/storage/Storage.c ****     uint16_t crc_len = 0;
 4438              		.loc 1 526 5 view .LVU1363
 527:System/storage/Storage.c ****     uint16_t crc = 0;
 4439              		.loc 1 527 5 view .LVU1364
 528:System/storage/Storage.c ****     Storage_DataSlot_TypeDef DataSlot;
 4440              		.loc 1 528 5 view .LVU1365
 529:System/storage/Storage.c ****     uint8_t *p_data_start = NULL;
 4441              		.loc 1 529 5 view .LVU1366
 530:System/storage/Storage.c **** 
 4442              		.loc 1 530 5 view .LVU1367
 532:System/storage/Storage.c ****     if (item.data_addr && p_data && size)
 4443              		.loc 1 532 5 view .LVU1368
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 140


 4444 0012 4022     		movs	r2, #64
 4445 0014 0021     		movs	r1, #0
 4446 0016 6846     		mov	r0, sp
 4447 0018 FFF7FEFF 		bl	memset
 4448              	.LVL503:
 533:System/storage/Storage.c ****     {
 4449              		.loc 1 533 5 view .LVU1369
 533:System/storage/Storage.c ****     {
 4450              		.loc 1 533 13 is_stmt 0 view .LVU1370
 4451 001c DDF87F00 		ldr	r0, [sp, #127]	@ unaligned
 533:System/storage/Storage.c ****     {
 4452              		.loc 1 533 8 view .LVU1371
 4453 0020 0028     		cmp	r0, #0
 4454 0022 66D0     		beq	.L354
 533:System/storage/Storage.c ****     {
 4455              		.loc 1 533 24 discriminator 1 view .LVU1372
 4456 0024 002E     		cmp	r6, #0
 4457 0026 6AD0     		beq	.L355
 533:System/storage/Storage.c ****     {
 4458              		.loc 1 533 34 discriminator 2 view .LVU1373
 4459 0028 002C     		cmp	r4, #0
 4460 002a 6AD0     		beq	.L356
 535:System/storage/Storage.c ****         data_addr = item.data_addr;
 4461              		.loc 1 535 9 is_stmt 1 view .LVU1374
 535:System/storage/Storage.c ****         data_addr = item.data_addr;
 4462              		.loc 1 535 24 is_stmt 0 view .LVU1375
 4463 002c BDF88350 		ldrh	r5, [sp, #131]	@ unaligned
 4464              	.LVL504:
 536:System/storage/Storage.c **** 
 4465              		.loc 1 536 9 is_stmt 1 view .LVU1376
 538:System/storage/Storage.c ****         {
 4466              		.loc 1 538 9 view .LVU1377
 4467              	.L350:
 538:System/storage/Storage.c ****         {
 4468              		.loc 1 538 14 view .LVU1378
 4469 0030 002D     		cmp	r5, #0
 4470 0032 5AD0     		beq	.L352
 540:System/storage/Storage.c ****                 return Storage_GetData_Error;
 4471              		.loc 1 540 13 view .LVU1379
 540:System/storage/Storage.c ****                 return Storage_GetData_Error;
 4472              		.loc 1 540 18 is_stmt 0 view .LVU1380
 4473 0034 05F14002 		add	r2, r5, #64
 4474 0038 3949     		ldr	r1, .L365
 4475 003a FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Read
 4476              	.LVL505:
 540:System/storage/Storage.c ****                 return Storage_GetData_Error;
 4477              		.loc 1 540 16 view .LVU1381
 4478 003e 0028     		cmp	r0, #0
 4479 0040 61D0     		beq	.L357
 543:System/storage/Storage.c ****             memcpy(&DataSlot.head_tag, p_read_out, sizeof(DataSlot.head_tag));
 4480              		.loc 1 543 13 is_stmt 1 view .LVU1382
 4481              	.LVL506:
 544:System/storage/Storage.c ****             p_read_out += sizeof(DataSlot.head_tag);
 4482              		.loc 1 544 13 view .LVU1383
 4483 0042 374B     		ldr	r3, .L365
 4484 0044 1B68     		ldr	r3, [r3]
 4485 0046 0093     		str	r3, [sp]
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 141


 545:System/storage/Storage.c ****             if (DataSlot.head_tag != STORAGE_SLOT_HEAD_TAG)
 4486              		.loc 1 545 13 view .LVU1384
 4487              	.LVL507:
 546:System/storage/Storage.c ****                 return Storage_GetData_Error;
 4488              		.loc 1 546 13 view .LVU1385
 546:System/storage/Storage.c ****                 return Storage_GetData_Error;
 4489              		.loc 1 546 16 is_stmt 0 view .LVU1386
 4490 0048 364A     		ldr	r2, .L365+4
 4491 004a 9342     		cmp	r3, r2
 4492 004c 5DD1     		bne	.L358
 549:System/storage/Storage.c ****             p_read_out += STORAGE_NAME_LEN;
 4493              		.loc 1 549 13 is_stmt 1 view .LVU1387
 4494 004e 344C     		ldr	r4, .L365
 4495 0050 0DF1040C 		add	ip, sp, #4
 4496 0054 04F1040E 		add	lr, r4, #4
 4497 0058 BEE80F00 		ldmia	lr!, {r0, r1, r2, r3}
 4498 005c ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 4499 0060 BEE80F00 		ldmia	lr!, {r0, r1, r2, r3}
 4500 0064 ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 4501 0068 9EE80700 		ldm	lr, {r0, r1, r2}
 4502 006c ACE80300 		stmia	ip!, {r0, r1}
 4503 0070 8CF80020 		strb	r2, [ip]
 550:System/storage/Storage.c **** 
 4504              		.loc 1 550 13 view .LVU1388
 4505              	.LVL508:
 552:System/storage/Storage.c ****             p_read_out += sizeof(DataSlot.total_data_size);
 4506              		.loc 1 552 13 view .LVU1389
 4507 0074 D4F82D30 		ldr	r3, [r4, #45]	@ unaligned
 4508 0078 CDF82D30 		str	r3, [sp, #45]	@ unaligned
 553:System/storage/Storage.c ****             if (DataSlot.total_data_size == 0)
 4509              		.loc 1 553 13 view .LVU1390
 4510              	.LVL509:
 554:System/storage/Storage.c ****                 return Storage_GetData_Error;
 4511              		.loc 1 554 13 view .LVU1391
 554:System/storage/Storage.c ****                 return Storage_GetData_Error;
 4512              		.loc 1 554 16 is_stmt 0 view .LVU1392
 4513 007c 002B     		cmp	r3, #0
 4514 007e 46D0     		beq	.L359
 557:System/storage/Storage.c ****             p_read_out += sizeof(DataSlot.cur_slot_size);
 4515              		.loc 1 557 13 is_stmt 1 view .LVU1393
 4516 0080 D4F83110 		ldr	r1, [r4, #49]	@ unaligned
 4517 0084 CDF83110 		str	r1, [sp, #49]	@ unaligned
 558:System/storage/Storage.c ****             if (DataSlot.cur_slot_size == 0)
 4518              		.loc 1 558 13 view .LVU1394
 4519              	.LVL510:
 559:System/storage/Storage.c ****                 return Storage_GetData_Error;
 4520              		.loc 1 559 13 view .LVU1395
 559:System/storage/Storage.c ****                 return Storage_GetData_Error;
 4521              		.loc 1 559 16 is_stmt 0 view .LVU1396
 4522 0088 0029     		cmp	r1, #0
 4523 008a 42D0     		beq	.L360
 562:System/storage/Storage.c ****             p_read_out += sizeof(DataSlot.nxt_addr);
 4524              		.loc 1 562 13 is_stmt 1 view .LVU1397
 4525 008c D4F83530 		ldr	r3, [r4, #53]	@ unaligned
 4526 0090 CDF83530 		str	r3, [sp, #53]	@ unaligned
 563:System/storage/Storage.c **** 
 4527              		.loc 1 563 13 view .LVU1398
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 142


 4528              	.LVL511:
 565:System/storage/Storage.c ****             p_read_out += sizeof(DataSlot.align_size);
 4529              		.loc 1 565 13 view .LVU1399
 4530 0094 94F83930 		ldrb	r3, [r4, #57]	@ zero_extendqisi2
 4531 0098 8DF83930 		strb	r3, [sp, #57]
 566:System/storage/Storage.c ****             p_data_start = p_read_out;
 4532              		.loc 1 566 13 view .LVU1400
 4533              	.LVL512:
 567:System/storage/Storage.c **** 
 4534              		.loc 1 567 13 view .LVU1401
 569:System/storage/Storage.c ****             crc_len = DataSlot.cur_slot_size;
 4535              		.loc 1 569 13 view .LVU1402
 570:System/storage/Storage.c ****             crc = Common_CRC16(crc_buf, crc_len);
 4536              		.loc 1 570 13 view .LVU1403
 571:System/storage/Storage.c **** 
 4537              		.loc 1 571 13 view .LVU1404
 571:System/storage/Storage.c **** 
 4538              		.loc 1 571 19 is_stmt 0 view .LVU1405
 4539 009c 3A34     		adds	r4, r4, #58
 4540 009e 89B2     		uxth	r1, r1
 571:System/storage/Storage.c **** 
 4541              		.loc 1 571 19 view .LVU1406
 4542 00a0 2046     		mov	r0, r4
 4543 00a2 FFF7FEFF 		bl	Common_CRC16
 4544              	.LVL513:
 571:System/storage/Storage.c **** 
 4545              		.loc 1 571 17 view .LVU1407
 4546 00a6 80B2     		uxth	r0, r0
 4547              	.LVL514:
 573:System/storage/Storage.c ****             memcpy(&DataSlot.slot_crc, p_read_out, sizeof(DataSlot.slot_crc));
 4548              		.loc 1 573 13 is_stmt 1 view .LVU1408
 573:System/storage/Storage.c ****             memcpy(&DataSlot.slot_crc, p_read_out, sizeof(DataSlot.slot_crc));
 4549              		.loc 1 573 35 is_stmt 0 view .LVU1409
 4550 00a8 DDF83130 		ldr	r3, [sp, #49]	@ unaligned
 573:System/storage/Storage.c ****             memcpy(&DataSlot.slot_crc, p_read_out, sizeof(DataSlot.slot_crc));
 4551              		.loc 1 573 24 view .LVU1410
 4552 00ac 1919     		adds	r1, r3, r4
 4553              	.LVL515:
 574:System/storage/Storage.c ****             p_read_out += sizeof(DataSlot.slot_crc);
 4554              		.loc 1 574 13 is_stmt 1 view .LVU1411
 4555 00ae E25A     		ldrh	r2, [r4, r3]	@ unaligned
 4556 00b0 ADF83A20 		strh	r2, [sp, #58]	@ movhi
 575:System/storage/Storage.c ****             if (crc != DataSlot.slot_crc)
 4557              		.loc 1 575 13 view .LVU1412
 4558              	.LVL516:
 576:System/storage/Storage.c ****                 return Storage_GetData_Error;
 4559              		.loc 1 576 13 view .LVU1413
 576:System/storage/Storage.c ****                 return Storage_GetData_Error;
 4560              		.loc 1 576 16 is_stmt 0 view .LVU1414
 4561 00b4 9042     		cmp	r0, r2
 4562 00b6 2ED1     		bne	.L361
 579:System/storage/Storage.c ****             if (DataSlot.end_tag != STORAGE_SLOT_END_TAG)
 4563              		.loc 1 579 13 is_stmt 1 view .LVU1415
 4564 00b8 D1F80220 		ldr	r2, [r1, #2]	@ unaligned
 4565 00bc 0F92     		str	r2, [sp, #60]
 580:System/storage/Storage.c ****                 return Storage_GetData_Error;
 4566              		.loc 1 580 13 view .LVU1416
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 143


 580:System/storage/Storage.c ****                 return Storage_GetData_Error;
 4567              		.loc 1 580 16 is_stmt 0 view .LVU1417
 4568 00be 1A49     		ldr	r1, .L365+8
 4569              	.LVL517:
 580:System/storage/Storage.c ****                 return Storage_GetData_Error;
 4570              		.loc 1 580 16 view .LVU1418
 4571 00c0 8A42     		cmp	r2, r1
 4572 00c2 2AD1     		bne	.L362
 583:System/storage/Storage.c ****             data_len -= DataSlot.cur_slot_size;
 4573              		.loc 1 583 13 is_stmt 1 view .LVU1419
 583:System/storage/Storage.c ****             data_len -= DataSlot.cur_slot_size;
 4574              		.loc 1 583 75 is_stmt 0 view .LVU1420
 4575 00c4 9DF83920 		ldrb	r2, [sp, #57]	@ zero_extendqisi2
 583:System/storage/Storage.c ****             data_len -= DataSlot.cur_slot_size;
 4576              		.loc 1 583 13 view .LVU1421
 4577 00c8 9A1A     		subs	r2, r3, r2
 4578 00ca 2146     		mov	r1, r4
 4579 00cc 3046     		mov	r0, r6
 4580              	.LVL518:
 583:System/storage/Storage.c ****             data_len -= DataSlot.cur_slot_size;
 4581              		.loc 1 583 13 view .LVU1422
 4582 00ce FFF7FEFF 		bl	memcpy
 4583              	.LVL519:
 584:System/storage/Storage.c **** 
 4584              		.loc 1 584 13 is_stmt 1 view .LVU1423
 584:System/storage/Storage.c **** 
 4585              		.loc 1 584 33 is_stmt 0 view .LVU1424
 4586 00d2 DDF83130 		ldr	r3, [sp, #49]	@ unaligned
 584:System/storage/Storage.c **** 
 4587              		.loc 1 584 22 view .LVU1425
 4588 00d6 ED1A     		subs	r5, r5, r3
 4589              	.LVL520:
 586:System/storage/Storage.c ****             {
 4590              		.loc 1 586 13 is_stmt 1 view .LVU1426
 586:System/storage/Storage.c ****             {
 4591              		.loc 1 586 25 is_stmt 0 view .LVU1427
 4592 00d8 DDF83500 		ldr	r0, [sp, #53]	@ unaligned
 586:System/storage/Storage.c ****             {
 4593              		.loc 1 586 16 view .LVU1428
 4594 00dc 20B1     		cbz	r0, .L351
 588:System/storage/Storage.c ****                 data_addr = DataSlot.nxt_addr;
 4595              		.loc 1 588 17 is_stmt 1 view .LVU1429
 588:System/storage/Storage.c ****                 data_addr = DataSlot.nxt_addr;
 4596              		.loc 1 588 60 is_stmt 0 view .LVU1430
 4597 00de 9DF83920 		ldrb	r2, [sp, #57]	@ zero_extendqisi2
 588:System/storage/Storage.c ****                 data_addr = DataSlot.nxt_addr;
 4598              		.loc 1 588 50 view .LVU1431
 4599 00e2 9B1A     		subs	r3, r3, r2
 588:System/storage/Storage.c ****                 data_addr = DataSlot.nxt_addr;
 4600              		.loc 1 588 24 view .LVU1432
 4601 00e4 1E44     		add	r6, r6, r3
 4602              	.LVL521:
 589:System/storage/Storage.c ****             }
 4603              		.loc 1 589 17 is_stmt 1 view .LVU1433
 589:System/storage/Storage.c ****             }
 4604              		.loc 1 589 17 is_stmt 0 view .LVU1434
 4605 00e6 A3E7     		b	.L350
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 144


 4606              	.LVL522:
 4607              	.L351:
 593:System/storage/Storage.c ****                     break;
 4608              		.loc 1 593 17 is_stmt 1 view .LVU1435
 593:System/storage/Storage.c ****                     break;
 4609              		.loc 1 593 20 is_stmt 0 view .LVU1436
 4610 00e8 0DB9     		cbnz	r5, .L364
 4611              	.LVL523:
 4612              	.L352:
 600:System/storage/Storage.c ****     }
 4613              		.loc 1 600 9 is_stmt 1 view .LVU1437
 600:System/storage/Storage.c ****     }
 4614              		.loc 1 600 16 is_stmt 0 view .LVU1438
 4615 00ea 0020     		movs	r0, #0
 4616 00ec 02E0     		b	.L349
 4617              	.LVL524:
 4618              	.L364:
 596:System/storage/Storage.c ****             }
 4619              		.loc 1 596 24 view .LVU1439
 4620 00ee 1D20     		movs	r0, #29
 4621 00f0 00E0     		b	.L349
 4622              	.LVL525:
 4623              	.L354:
 603:System/storage/Storage.c **** }
 4624              		.loc 1 603 12 view .LVU1440
 4625 00f2 1D20     		movs	r0, #29
 4626              	.LVL526:
 4627              	.L349:
 604:System/storage/Storage.c **** 
 4628              		.loc 1 604 1 view .LVU1441
 4629 00f4 10B0     		add	sp, sp, #64
 4630              	.LCFI54:
 4631              		.cfi_remember_state
 4632              		.cfi_def_cfa_offset 32
 4633              		@ sp needed
 4634 00f6 BDE87040 		pop	{r4, r5, r6, lr}
 4635              	.LCFI55:
 4636              		.cfi_restore 14
 4637              		.cfi_restore 6
 4638              		.cfi_restore 5
 4639              		.cfi_restore 4
 4640              		.cfi_def_cfa_offset 16
 4641 00fa 04B0     		add	sp, sp, #16
 4642              	.LCFI56:
 4643              		.cfi_def_cfa_offset 0
 4644 00fc 7047     		bx	lr
 4645              	.LVL527:
 4646              	.L355:
 4647              	.LCFI57:
 4648              		.cfi_restore_state
 603:System/storage/Storage.c **** }
 4649              		.loc 1 603 12 view .LVU1442
 4650 00fe 1D20     		movs	r0, #29
 4651 0100 F8E7     		b	.L349
 4652              	.L356:
 4653 0102 1D20     		movs	r0, #29
 4654 0104 F6E7     		b	.L349
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 145


 4655              	.LVL528:
 4656              	.L357:
 541:System/storage/Storage.c **** 
 4657              		.loc 1 541 24 view .LVU1443
 4658 0106 1D20     		movs	r0, #29
 4659 0108 F4E7     		b	.L349
 4660              	.LVL529:
 4661              	.L358:
 547:System/storage/Storage.c **** 
 4662              		.loc 1 547 24 view .LVU1444
 4663 010a 1D20     		movs	r0, #29
 4664 010c F2E7     		b	.L349
 4665              	.LVL530:
 4666              	.L359:
 555:System/storage/Storage.c **** 
 4667              		.loc 1 555 24 view .LVU1445
 4668 010e 1D20     		movs	r0, #29
 4669 0110 F0E7     		b	.L349
 4670              	.LVL531:
 4671              	.L360:
 560:System/storage/Storage.c **** 
 4672              		.loc 1 560 24 view .LVU1446
 4673 0112 1D20     		movs	r0, #29
 4674 0114 EEE7     		b	.L349
 4675              	.LVL532:
 4676              	.L361:
 577:System/storage/Storage.c **** 
 4677              		.loc 1 577 24 view .LVU1447
 4678 0116 1D20     		movs	r0, #29
 4679              	.LVL533:
 577:System/storage/Storage.c **** 
 4680              		.loc 1 577 24 view .LVU1448
 4681 0118 ECE7     		b	.L349
 4682              	.LVL534:
 4683              	.L362:
 581:System/storage/Storage.c **** 
 4684              		.loc 1 581 24 view .LVU1449
 4685 011a 1D20     		movs	r0, #29
 4686              	.LVL535:
 581:System/storage/Storage.c **** 
 4687              		.loc 1 581 24 view .LVU1450
 4688 011c EAE7     		b	.L349
 4689              	.L366:
 4690 011e 00BF     		.align	2
 4691              	.L365:
 4692 0120 00000000 		.word	page_data_tmp
 4693 0124 EF1001EF 		.word	-285142801
 4694 0128 FE0110FE 		.word	-32505346
 4695              		.cfi_endproc
 4696              	.LFE156:
 4698              		.section	.text.Storage_SlotData_Update,"ax",%progbits
 4699              		.align	1
 4700              		.syntax unified
 4701              		.thumb
 4702              		.thumb_func
 4704              	Storage_SlotData_Update:
 4705              	.LVL536:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 146


 4706              	.LFB157:
 607:System/storage/Storage.c ****     Storage_BaseSecInfo_TypeDef *p_Sec = NULL;
 4707              		.loc 1 607 1 is_stmt 1 view -0
 4708              		.cfi_startproc
 4709              		@ args = 0, pretend = 0, frame = 8
 4710              		@ frame_needed = 0, uses_anonymous_args = 0
 607:System/storage/Storage.c ****     Storage_BaseSecInfo_TypeDef *p_Sec = NULL;
 4711              		.loc 1 607 1 is_stmt 0 view .LVU1452
 4712 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 4713              	.LCFI58:
 4714              		.cfi_def_cfa_offset 36
 4715              		.cfi_offset 4, -36
 4716              		.cfi_offset 5, -32
 4717              		.cfi_offset 6, -28
 4718              		.cfi_offset 7, -24
 4719              		.cfi_offset 8, -20
 4720              		.cfi_offset 9, -16
 4721              		.cfi_offset 10, -12
 4722              		.cfi_offset 11, -8
 4723              		.cfi_offset 14, -4
 4724 0004 83B0     		sub	sp, sp, #12
 4725              	.LCFI59:
 4726              		.cfi_def_cfa_offset 48
 4727 0006 1E46     		mov	r6, r3
 608:System/storage/Storage.c ****     Storage_DataSlot_TypeDef *p_slotdata = NULL;
 4728              		.loc 1 608 5 is_stmt 1 view .LVU1453
 4729              	.LVL537:
 609:System/storage/Storage.c ****     uint8_t *p_read_tmp = page_data_tmp;
 4730              		.loc 1 609 5 view .LVU1454
 610:System/storage/Storage.c ****     uint8_t *crc_buf = NULL;
 4731              		.loc 1 610 5 view .LVU1455
 611:System/storage/Storage.c ****     uint16_t crc = 0;
 4732              		.loc 1 611 5 view .LVU1456
 612:System/storage/Storage.c ****     uint32_t read_addr = 0;
 4733              		.loc 1 612 5 view .LVU1457
 613:System/storage/Storage.c ****     uint32_t read_size = 0;
 4734              		.loc 1 613 5 view .LVU1458
 614:System/storage/Storage.c ****     uint32_t valid_data_size = 0;
 4735              		.loc 1 614 5 view .LVU1459
 615:System/storage/Storage.c ****     uint8_t align_byte = 0;
 4736              		.loc 1 615 5 view .LVU1460
 616:System/storage/Storage.c **** 
 4737              		.loc 1 616 5 view .LVU1461
 618:System/storage/Storage.c ****         (_class > Para_User) || \
 4738              		.loc 1 618 5 view .LVU1462
 618:System/storage/Storage.c ****         (_class > Para_User) || \
 4739              		.loc 1 618 25 is_stmt 0 view .LVU1463
 4740 0008 814B     		ldr	r3, .L407
 4741              	.LVL538:
 618:System/storage/Storage.c ****         (_class > Para_User) || \
 4742              		.loc 1 618 25 view .LVU1464
 4743 000a 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 618:System/storage/Storage.c ****         (_class > Para_User) || \
 4744              		.loc 1 618 8 view .LVU1465
 4745 000c 002B     		cmp	r3, #0
 4746 000e 00F0D280 		beq	.L374
 4747 0012 0C46     		mov	r4, r1
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 147


 4748 0014 1546     		mov	r5, r2
 618:System/storage/Storage.c ****         (_class > Para_User) || \
 4749              		.loc 1 618 37 discriminator 1 view .LVU1466
 4750 0016 0228     		cmp	r0, #2
 4751 0018 00F2D180 		bhi	.L375
 619:System/storage/Storage.c ****         (data_slot_hdl == 0) || \
 4752              		.loc 1 619 30 view .LVU1467
 4753 001c 0029     		cmp	r1, #0
 4754 001e 00F0D080 		beq	.L376
 620:System/storage/Storage.c ****         (p_data == NULL) || \
 4755              		.loc 1 620 30 view .LVU1468
 4756 0022 002A     		cmp	r2, #0
 4757 0024 00F0CF80 		beq	.L377
 621:System/storage/Storage.c ****         (size == 0))
 4758              		.loc 1 621 26 view .LVU1469
 4759 0028 002E     		cmp	r6, #0
 4760 002a 00F0CE80 		beq	.L378
 625:System/storage/Storage.c ****     
 4761              		.loc 1 625 5 is_stmt 1 view .LVU1470
 625:System/storage/Storage.c ****     
 4762              		.loc 1 625 13 is_stmt 0 view .LVU1471
 4763 002e 0146     		mov	r1, r0
 4764              	.LVL539:
 625:System/storage/Storage.c ****     
 4765              		.loc 1 625 13 view .LVU1472
 4766 0030 7848     		ldr	r0, .L407+4
 4767              	.LVL540:
 625:System/storage/Storage.c ****     
 4768              		.loc 1 625 13 view .LVU1473
 4769 0032 FFF7FEFF 		bl	Storage_Get_SecInfo
 4770              	.LVL541:
 627:System/storage/Storage.c ****         (p_Sec->data_sec_addr > data_slot_hdl) || \
 4771              		.loc 1 627 5 is_stmt 1 view .LVU1474
 627:System/storage/Storage.c ****         (p_Sec->data_sec_addr > data_slot_hdl) || \
 4772              		.loc 1 627 8 is_stmt 0 view .LVU1475
 4773 0036 0746     		mov	r7, r0
 4774 0038 0028     		cmp	r0, #0
 4775 003a 00F0C880 		beq	.L379
 628:System/storage/Storage.c ****         (data_slot_hdl > (p_Sec->data_sec_addr + p_Sec->data_sec_size)))
 4776              		.loc 1 628 15 discriminator 1 view .LVU1476
 4777 003e 4368     		ldr	r3, [r0, #4]	@ unaligned
 627:System/storage/Storage.c ****         (p_Sec->data_sec_addr > data_slot_hdl) || \
 4778              		.loc 1 627 25 discriminator 1 view .LVU1477
 4779 0040 A342     		cmp	r3, r4
 4780 0042 00F2C680 		bhi	.L380
 629:System/storage/Storage.c ****         return Storage_Param_Error;
 4781              		.loc 1 629 55 view .LVU1478
 4782 0046 8268     		ldr	r2, [r0, #8]	@ unaligned
 629:System/storage/Storage.c ****         return Storage_Param_Error;
 4783              		.loc 1 629 48 view .LVU1479
 4784 0048 1344     		add	r3, r3, r2
 628:System/storage/Storage.c ****         (data_slot_hdl > (p_Sec->data_sec_addr + p_Sec->data_sec_size)))
 4785              		.loc 1 628 48 view .LVU1480
 4786 004a A342     		cmp	r3, r4
 4787 004c 01D2     		bcs	.L402
 630:System/storage/Storage.c **** 
 4788              		.loc 1 630 16 view .LVU1481
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 148


 4789 004e 0120     		movs	r0, #1
 4790              	.LVL542:
 630:System/storage/Storage.c **** 
 4791              		.loc 1 630 16 view .LVU1482
 4792 0050 B2E0     		b	.L368
 4793              	.LVL543:
 4794              	.L402:
 632:System/storage/Storage.c ****     memset(page_data_tmp, 0, sizeof(Storage_DataSlot_TypeDef));
 4795              		.loc 1 632 5 is_stmt 1 view .LVU1483
 633:System/storage/Storage.c ****     if (size % STORAGE_DATA_ALIGN)
 4796              		.loc 1 633 5 view .LVU1484
 4797 0052 4022     		movs	r2, #64
 4798 0054 0021     		movs	r1, #0
 4799 0056 7048     		ldr	r0, .L407+8
 4800              	.LVL544:
 633:System/storage/Storage.c ****     if (size % STORAGE_DATA_ALIGN)
 4801              		.loc 1 633 5 is_stmt 0 view .LVU1485
 4802 0058 FFF7FEFF 		bl	memset
 4803              	.LVL545:
 634:System/storage/Storage.c ****     {
 4804              		.loc 1 634 5 is_stmt 1 view .LVU1486
 634:System/storage/Storage.c ****     {
 4805              		.loc 1 634 8 is_stmt 0 view .LVU1487
 4806 005c 16F0030F 		tst	r6, #3
 4807 0060 22D0     		beq	.L382
 636:System/storage/Storage.c ****     }
 4808              		.loc 1 636 9 is_stmt 1 view .LVU1488
 636:System/storage/Storage.c ****     }
 4809              		.loc 1 636 48 is_stmt 0 view .LVU1489
 4810 0062 06F00308 		and	r8, r6, #3
 636:System/storage/Storage.c ****     }
 4811              		.loc 1 636 20 view .LVU1490
 4812 0066 C8F10408 		rsb	r8, r8, #4
 4813 006a 5FFA88F8 		uxtb	r8, r8
 4814              	.LVL546:
 4815              	.L369:
 642:System/storage/Storage.c ****         return Storage_Read_Error;
 4816              		.loc 1 642 5 is_stmt 1 view .LVU1491
 642:System/storage/Storage.c ****         return Storage_Read_Error;
 4817              		.loc 1 642 10 is_stmt 0 view .LVU1492
 4818 006e 4022     		movs	r2, #64
 4819 0070 6949     		ldr	r1, .L407+8
 4820 0072 2046     		mov	r0, r4
 4821 0074 FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Read
 4822              	.LVL547:
 642:System/storage/Storage.c ****         return Storage_Read_Error;
 4823              		.loc 1 642 8 view .LVU1493
 4824 0078 0028     		cmp	r0, #0
 4825 007a 00F0AC80 		beq	.L383
 646:System/storage/Storage.c ****     if ((p_slotdata->head_tag != STORAGE_SLOT_HEAD_TAG) || \
 4826              		.loc 1 646 5 is_stmt 1 view .LVU1494
 4827              	.LVL548:
 647:System/storage/Storage.c ****         (p_slotdata->total_data_size == 0) || \
 4828              		.loc 1 647 5 view .LVU1495
 647:System/storage/Storage.c ****         (p_slotdata->total_data_size == 0) || \
 4829              		.loc 1 647 20 is_stmt 0 view .LVU1496
 4830 007e 664B     		ldr	r3, .L407+8
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 149


 4831 0080 1A68     		ldr	r2, [r3]
 647:System/storage/Storage.c ****         (p_slotdata->total_data_size == 0) || \
 4832              		.loc 1 647 8 view .LVU1497
 4833 0082 664B     		ldr	r3, .L407+12
 4834 0084 9A42     		cmp	r2, r3
 4835 0086 40F0A880 		bne	.L384
 648:System/storage/Storage.c ****         (p_slotdata->total_data_size > p_Sec->data_sec_size))
 4836              		.loc 1 648 20 discriminator 1 view .LVU1498
 4837 008a 634B     		ldr	r3, .L407+8
 4838 008c D3F82D30 		ldr	r3, [r3, #45]	@ unaligned
 647:System/storage/Storage.c ****         (p_slotdata->total_data_size == 0) || \
 4839              		.loc 1 647 57 discriminator 1 view .LVU1499
 4840 0090 002B     		cmp	r3, #0
 4841 0092 00F0A480 		beq	.L385
 649:System/storage/Storage.c ****         return Storage_DataInfo_Error;
 4842              		.loc 1 649 45 view .LVU1500
 4843 0096 BA68     		ldr	r2, [r7, #8]	@ unaligned
 648:System/storage/Storage.c ****         (p_slotdata->total_data_size > p_Sec->data_sec_size))
 4844              		.loc 1 648 44 view .LVU1501
 4845 0098 9342     		cmp	r3, r2
 4846 009a 00F2A280 		bhi	.L386
 652:System/storage/Storage.c ****         return Storage_Update_DataSize_Error;
 4847              		.loc 1 652 5 is_stmt 1 view .LVU1502
 652:System/storage/Storage.c ****         return Storage_Update_DataSize_Error;
 4848              		.loc 1 652 46 is_stmt 0 view .LVU1503
 4849 009e B044     		add	r8, r8, r6
 4850              	.LVL549:
 652:System/storage/Storage.c ****         return Storage_Update_DataSize_Error;
 4851              		.loc 1 652 8 view .LVU1504
 4852 00a0 4345     		cmp	r3, r8
 4853 00a2 04D0     		beq	.L403
 653:System/storage/Storage.c **** 
 4854              		.loc 1 653 16 view .LVU1505
 4855 00a4 1F20     		movs	r0, #31
 4856 00a6 87E0     		b	.L368
 4857              	.LVL550:
 4858              	.L382:
 639:System/storage/Storage.c **** 
 4859              		.loc 1 639 20 view .LVU1506
 4860 00a8 4FF00008 		mov	r8, #0
 4861 00ac DFE7     		b	.L369
 4862              	.LVL551:
 4863              	.L403:
 655:System/storage/Storage.c ****     p_read_tmp = page_data_tmp;
 4864              		.loc 1 655 5 is_stmt 1 view .LVU1507
 655:System/storage/Storage.c ****     p_read_tmp = page_data_tmp;
 4865              		.loc 1 655 15 is_stmt 0 view .LVU1508
 4866 00ae 4033     		adds	r3, r3, #64
 4867 00b0 0193     		str	r3, [sp, #4]
 4868              	.LVL552:
 656:System/storage/Storage.c ****     memset(p_read_tmp, 0, sizeof(Storage_DataSlot_TypeDef));
 4869              		.loc 1 656 5 is_stmt 1 view .LVU1509
 657:System/storage/Storage.c ****     p_slotdata = NULL;
 4870              		.loc 1 657 5 view .LVU1510
 4871 00b2 4022     		movs	r2, #64
 4872 00b4 0021     		movs	r1, #0
 4873 00b6 5848     		ldr	r0, .L407+8
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 150


 4874 00b8 FFF7FEFF 		bl	memset
 4875              	.LVL553:
 658:System/storage/Storage.c ****     while(true)
 4876              		.loc 1 658 5 view .LVU1511
 615:System/storage/Storage.c ****     uint8_t align_byte = 0;
 4877              		.loc 1 615 14 is_stmt 0 view .LVU1512
 4878 00bc 4FF0000A 		mov	r10, #0
 4879 00c0 00E0     		b	.L373
 4880              	.LVL554:
 4881              	.L398:
 615:System/storage/Storage.c ****     uint8_t align_byte = 0;
 4882              		.loc 1 615 14 view .LVU1513
 4883 00c2 1C46     		mov	r4, r3
 4884              	.LVL555:
 4885              	.L373:
 659:System/storage/Storage.c ****     {
 4886              		.loc 1 659 5 is_stmt 1 view .LVU1514
 661:System/storage/Storage.c ****         p_slotdata = (Storage_DataSlot_TypeDef *)p_read_tmp;
 4887              		.loc 1 661 9 view .LVU1515
 662:System/storage/Storage.c **** 
 4888              		.loc 1 662 9 view .LVU1516
 665:System/storage/Storage.c ****             return Storage_Read_Error;
 4889              		.loc 1 665 9 view .LVU1517
 665:System/storage/Storage.c ****             return Storage_Read_Error;
 4890              		.loc 1 665 14 is_stmt 0 view .LVU1518
 4891 00c4 019A     		ldr	r2, [sp, #4]
 4892 00c6 5449     		ldr	r1, .L407+8
 4893 00c8 2046     		mov	r0, r4
 4894 00ca FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Read
 4895              	.LVL556:
 665:System/storage/Storage.c ****             return Storage_Read_Error;
 4896              		.loc 1 665 12 view .LVU1519
 4897 00ce 0028     		cmp	r0, #0
 4898 00d0 00F08980 		beq	.L388
 668:System/storage/Storage.c ****         p_read_tmp += sizeof(p_slotdata->head_tag);
 4899              		.loc 1 668 9 is_stmt 1 view .LVU1520
 668:System/storage/Storage.c ****         p_read_tmp += sizeof(p_slotdata->head_tag);
 4900              		.loc 1 668 32 is_stmt 0 view .LVU1521
 4901 00d4 504B     		ldr	r3, .L407+8
 4902 00d6 1A68     		ldr	r2, [r3]
 669:System/storage/Storage.c ****         if (p_slotdata->head_tag != STORAGE_SLOT_HEAD_TAG)
 4903              		.loc 1 669 9 is_stmt 1 view .LVU1522
 4904              	.LVL557:
 670:System/storage/Storage.c ****             return Storage_DataInfo_Error;
 4905              		.loc 1 670 9 view .LVU1523
 670:System/storage/Storage.c ****             return Storage_DataInfo_Error;
 4906              		.loc 1 670 12 is_stmt 0 view .LVU1524
 4907 00d8 504B     		ldr	r3, .L407+12
 4908 00da 9A42     		cmp	r2, r3
 4909 00dc 40F08580 		bne	.L389
 673:System/storage/Storage.c ****         p_read_tmp += STORAGE_NAME_LEN;
 4910              		.loc 1 673 9 is_stmt 1 view .LVU1525
 674:System/storage/Storage.c **** 
 4911              		.loc 1 674 9 view .LVU1526
 4912              	.LVL558:
 676:System/storage/Storage.c ****         p_read_tmp += sizeof(p_slotdata->total_data_size);
 4913              		.loc 1 676 9 view .LVU1527
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 151


 676:System/storage/Storage.c ****         p_read_tmp += sizeof(p_slotdata->total_data_size);
 4914              		.loc 1 676 39 is_stmt 0 view .LVU1528
 4915 00e0 4D4B     		ldr	r3, .L407+8
 4916 00e2 D3F82D30 		ldr	r3, [r3, #45]	@ unaligned
 677:System/storage/Storage.c ****         if ((p_slotdata->total_data_size == 0) || \
 4917              		.loc 1 677 9 is_stmt 1 view .LVU1529
 4918              	.LVL559:
 678:System/storage/Storage.c ****             (p_slotdata->total_data_size > p_Sec->data_sec_size))
 4919              		.loc 1 678 9 view .LVU1530
 678:System/storage/Storage.c ****             (p_slotdata->total_data_size > p_Sec->data_sec_size))
 4920              		.loc 1 678 12 is_stmt 0 view .LVU1531
 4921 00e6 002B     		cmp	r3, #0
 4922 00e8 00F08180 		beq	.L390
 679:System/storage/Storage.c ****             return Storage_DataInfo_Error;
 4923              		.loc 1 679 49 discriminator 1 view .LVU1532
 4924 00ec BA68     		ldr	r2, [r7, #8]	@ unaligned
 678:System/storage/Storage.c ****             (p_slotdata->total_data_size > p_Sec->data_sec_size))
 4925              		.loc 1 678 48 discriminator 1 view .LVU1533
 4926 00ee 9342     		cmp	r3, r2
 4927 00f0 7FD8     		bhi	.L391
 682:System/storage/Storage.c ****         p_read_tmp += sizeof(p_slotdata->cur_slot_size);
 4928              		.loc 1 682 9 is_stmt 1 view .LVU1534
 682:System/storage/Storage.c ****         p_read_tmp += sizeof(p_slotdata->cur_slot_size);
 4929              		.loc 1 682 37 is_stmt 0 view .LVU1535
 4930 00f2 4949     		ldr	r1, .L407+8
 4931 00f4 D1F83180 		ldr	r8, [r1, #49]	@ unaligned
 683:System/storage/Storage.c ****         if (p_slotdata->cur_slot_size > p_slotdata->total_data_size)
 4932              		.loc 1 683 9 is_stmt 1 view .LVU1536
 4933              	.LVL560:
 684:System/storage/Storage.c ****             return Storage_DataInfo_Error;
 4934              		.loc 1 684 9 view .LVU1537
 684:System/storage/Storage.c ****             return Storage_DataInfo_Error;
 4935              		.loc 1 684 12 is_stmt 0 view .LVU1538
 4936 00f8 4345     		cmp	r3, r8
 4937 00fa 7CD3     		bcc	.L392
 687:System/storage/Storage.c ****         p_read_tmp += sizeof(p_slotdata->nxt_addr);
 4938              		.loc 1 687 9 is_stmt 1 view .LVU1539
 687:System/storage/Storage.c ****         p_read_tmp += sizeof(p_slotdata->nxt_addr);
 4939              		.loc 1 687 32 is_stmt 0 view .LVU1540
 4940 00fc D1F83530 		ldr	r3, [r1, #53]	@ unaligned
 688:System/storage/Storage.c ****         if (p_slotdata->nxt_addr)
 4941              		.loc 1 688 9 is_stmt 1 view .LVU1541
 4942              	.LVL561:
 689:System/storage/Storage.c ****         {
 4943              		.loc 1 689 9 view .LVU1542
 689:System/storage/Storage.c ****         {
 4944              		.loc 1 689 12 is_stmt 0 view .LVU1543
 4945 0100 2BB1     		cbz	r3, .L370
 691:System/storage/Storage.c ****                 (p_slotdata->nxt_addr > p_Sec->data_sec_addr + p_Sec->data_sec_size))
 4946              		.loc 1 691 13 is_stmt 1 view .LVU1544
 691:System/storage/Storage.c ****                 (p_slotdata->nxt_addr > p_Sec->data_sec_addr + p_Sec->data_sec_size))
 4947              		.loc 1 691 46 is_stmt 0 view .LVU1545
 4948 0102 7968     		ldr	r1, [r7, #4]	@ unaligned
 691:System/storage/Storage.c ****                 (p_slotdata->nxt_addr > p_Sec->data_sec_addr + p_Sec->data_sec_size))
 4949              		.loc 1 691 16 view .LVU1546
 4950 0104 8B42     		cmp	r3, r1
 4951 0106 78D3     		bcc	.L393
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 152


 692:System/storage/Storage.c ****                 return Storage_DataInfo_Error;
 4952              		.loc 1 692 62 discriminator 1 view .LVU1547
 4953 0108 0A44     		add	r2, r2, r1
 691:System/storage/Storage.c ****                 (p_slotdata->nxt_addr > p_Sec->data_sec_addr + p_Sec->data_sec_size))
 4954              		.loc 1 691 63 discriminator 1 view .LVU1548
 4955 010a 9342     		cmp	r3, r2
 4956 010c 77D8     		bhi	.L394
 4957              	.L370:
 696:System/storage/Storage.c ****         p_read_tmp += sizeof(p_slotdata->align_size);
 4958              		.loc 1 696 9 is_stmt 1 view .LVU1549
 696:System/storage/Storage.c ****         p_read_tmp += sizeof(p_slotdata->align_size);
 4959              		.loc 1 696 34 is_stmt 0 view .LVU1550
 4960 010e 424B     		ldr	r3, .L407+8
 4961 0110 93F83990 		ldrb	r9, [r3, #57]	@ zero_extendqisi2
 697:System/storage/Storage.c ****         if (p_slotdata->align_size >= STORAGE_DATA_ALIGN)
 4962              		.loc 1 697 9 is_stmt 1 view .LVU1551
 4963              	.LVL562:
 698:System/storage/Storage.c ****             return Storage_DataInfo_Error;
 4964              		.loc 1 698 9 view .LVU1552
 698:System/storage/Storage.c ****             return Storage_DataInfo_Error;
 4965              		.loc 1 698 12 is_stmt 0 view .LVU1553
 4966 0114 B9F1030F 		cmp	r9, #3
 4967 0118 73D8     		bhi	.L395
 701:System/storage/Storage.c ****         memcpy(p_read_tmp, p_data, (p_slotdata->cur_slot_size - p_slotdata->align_size));
 4968              		.loc 1 701 9 is_stmt 1 view .LVU1554
 4969              	.LVL563:
 702:System/storage/Storage.c ****         p_read_tmp += p_slotdata->cur_slot_size - p_slotdata->align_size;
 4970              		.loc 1 702 9 view .LVU1555
 702:System/storage/Storage.c ****         p_read_tmp += p_slotdata->cur_slot_size - p_slotdata->align_size;
 4971              		.loc 1 702 63 is_stmt 0 view .LVU1556
 4972 011a A8EB0908 		sub	r8, r8, r9
 702:System/storage/Storage.c ****         p_read_tmp += p_slotdata->cur_slot_size - p_slotdata->align_size;
 4973              		.loc 1 702 9 view .LVU1557
 4974 011e 03F13A0B 		add	fp, r3, #58
 4975 0122 4246     		mov	r2, r8
 4976 0124 2946     		mov	r1, r5
 4977 0126 5846     		mov	r0, fp
 4978 0128 FFF7FEFF 		bl	memcpy
 4979              	.LVL564:
 703:System/storage/Storage.c **** 
 4980              		.loc 1 703 9 is_stmt 1 view .LVU1558
 703:System/storage/Storage.c **** 
 4981              		.loc 1 703 20 is_stmt 0 view .LVU1559
 4982 012c D844     		add	r8, r8, fp
 4983              	.LVL565:
 705:System/storage/Storage.c ****             /* set align byte */
 4984              		.loc 1 705 9 is_stmt 1 view .LVU1560
 705:System/storage/Storage.c ****             /* set align byte */
 4985              		.loc 1 705 12 is_stmt 0 view .LVU1561
 4986 012e B9F1000F 		cmp	r9, #0
 4987 0132 30D1     		bne	.L404
 4988              	.L371:
 709:System/storage/Storage.c ****         /* update crc */
 4989              		.loc 1 709 9 is_stmt 1 view .LVU1562
 709:System/storage/Storage.c ****         /* update crc */
 4990              		.loc 1 709 33 is_stmt 0 view .LVU1563
 4991 0134 DFF8E090 		ldr	r9, .L407+8
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 153


 4992 0138 99F839B0 		ldrb	fp, [r9, #57]	@ zero_extendqisi2
 709:System/storage/Storage.c ****         /* update crc */
 4993              		.loc 1 709 20 view .LVU1564
 4994 013c 08EB0B03 		add	r3, r8, fp
 4995 0140 0093     		str	r3, [sp]
 4996              	.LVL566:
 711:System/storage/Storage.c ****         
 4997              		.loc 1 711 9 is_stmt 1 view .LVU1565
 711:System/storage/Storage.c ****         
 4998              		.loc 1 711 15 is_stmt 0 view .LVU1566
 4999 0142 D9F83110 		ldr	r1, [r9, #49]	@ unaligned
 5000 0146 09F13A00 		add	r0, r9, #58
 5001 014a FFF7FEFF 		bl	Common_CRC16
 5002              	.LVL567:
 711:System/storage/Storage.c ****         
 5003              		.loc 1 711 15 view .LVU1567
 5004 014e 80B2     		uxth	r0, r0
 5005              	.LVL568:
 713:System/storage/Storage.c ****         if (p_slotdata->nxt_addr == 0)
 5006              		.loc 1 713 9 is_stmt 1 view .LVU1568
 713:System/storage/Storage.c ****         if (p_slotdata->nxt_addr == 0)
 5007              		.loc 1 713 38 is_stmt 0 view .LVU1569
 5008 0150 D9F83130 		ldr	r3, [r9, #49]	@ unaligned
 713:System/storage/Storage.c ****         if (p_slotdata->nxt_addr == 0)
 5009              		.loc 1 713 66 view .LVU1570
 5010 0154 99F83920 		ldrb	r2, [r9, #57]	@ zero_extendqisi2
 713:System/storage/Storage.c ****         if (p_slotdata->nxt_addr == 0)
 5011              		.loc 1 713 54 view .LVU1571
 5012 0158 9B1A     		subs	r3, r3, r2
 713:System/storage/Storage.c ****         if (p_slotdata->nxt_addr == 0)
 5013              		.loc 1 713 25 view .LVU1572
 5014 015a 9A44     		add	r10, r10, r3
 5015              	.LVL569:
 714:System/storage/Storage.c ****         {
 5016              		.loc 1 714 9 is_stmt 1 view .LVU1573
 714:System/storage/Storage.c ****         {
 5017              		.loc 1 714 23 is_stmt 0 view .LVU1574
 5018 015c D9F83530 		ldr	r3, [r9, #53]	@ unaligned
 714:System/storage/Storage.c ****         {
 5019              		.loc 1 714 12 view .LVU1575
 5020 0160 0BB9     		cbnz	r3, .L372
 718:System/storage/Storage.c ****                 return Storage_Update_DataSize_Error;
 5021              		.loc 1 718 13 is_stmt 1 view .LVU1576
 718:System/storage/Storage.c ****                 return Storage_Update_DataSize_Error;
 5022              		.loc 1 718 16 is_stmt 0 view .LVU1577
 5023 0162 5645     		cmp	r6, r10
 5024 0164 4FD1     		bne	.L396
 5025              	.L372:
 722:System/storage/Storage.c ****         
 5026              		.loc 1 722 9 is_stmt 1 view .LVU1578
 5027 0166 28F80B00 		strh	r0, [r8, fp]	@ unaligned
 724:System/storage/Storage.c ****         p_read_tmp += sizeof(p_slotdata->slot_crc);
 5028              		.loc 1 724 9 view .LVU1579
 724:System/storage/Storage.c ****         p_read_tmp += sizeof(p_slotdata->slot_crc);
 5029              		.loc 1 724 29 is_stmt 0 view .LVU1580
 5030 016a 2B4B     		ldr	r3, .L407+8
 5031 016c D3F83120 		ldr	r2, [r3, #49]	@ unaligned
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 154


 724:System/storage/Storage.c ****         p_read_tmp += sizeof(p_slotdata->slot_crc);
 5032              		.loc 1 724 57 view .LVU1581
 5033 0170 93F83930 		ldrb	r3, [r3, #57]	@ zero_extendqisi2
 724:System/storage/Storage.c ****         p_read_tmp += sizeof(p_slotdata->slot_crc);
 5034              		.loc 1 724 45 view .LVU1582
 5035 0174 D31A     		subs	r3, r2, r3
 724:System/storage/Storage.c ****         p_read_tmp += sizeof(p_slotdata->slot_crc);
 5036              		.loc 1 724 16 view .LVU1583
 5037 0176 1D44     		add	r5, r5, r3
 5038              	.LVL570:
 725:System/storage/Storage.c **** 
 5039              		.loc 1 725 9 is_stmt 1 view .LVU1584
 727:System/storage/Storage.c ****             return Storage_DataInfo_Error;
 5040              		.loc 1 727 9 view .LVU1585
 727:System/storage/Storage.c ****             return Storage_DataInfo_Error;
 5041              		.loc 1 727 13 is_stmt 0 view .LVU1586
 5042 0178 009B     		ldr	r3, [sp]
 5043 017a D3F80210 		ldr	r1, [r3, #2]
 727:System/storage/Storage.c ****             return Storage_DataInfo_Error;
 5044              		.loc 1 727 12 view .LVU1587
 5045 017e 284B     		ldr	r3, .L407+16
 5046 0180 9942     		cmp	r1, r3
 5047 0182 42D1     		bne	.L397
 730:System/storage/Storage.c ****             (size == valid_data_size))
 5048              		.loc 1 730 9 is_stmt 1 view .LVU1588
 730:System/storage/Storage.c ****             (size == valid_data_size))
 5049              		.loc 1 730 24 is_stmt 0 view .LVU1589
 5050 0184 244B     		ldr	r3, .L407+8
 5051 0186 D3F83530 		ldr	r3, [r3, #53]	@ unaligned
 730:System/storage/Storage.c ****             (size == valid_data_size))
 5052              		.loc 1 730 12 view .LVU1590
 5053 018a 002B     		cmp	r3, #0
 5054 018c 99D1     		bne	.L398
 730:System/storage/Storage.c ****             (size == valid_data_size))
 5055              		.loc 1 730 41 discriminator 1 view .LVU1591
 5056 018e 5645     		cmp	r6, r10
 5057 0190 07D0     		beq	.L405
 5058 0192 1C46     		mov	r4, r3
 5059              	.LVL571:
 730:System/storage/Storage.c ****             (size == valid_data_size))
 5060              		.loc 1 730 41 discriminator 1 view .LVU1592
 5061 0194 96E7     		b	.L373
 5062              	.LVL572:
 5063              	.L404:
 707:System/storage/Storage.c ****         
 5064              		.loc 1 707 13 is_stmt 1 view .LVU1593
 5065 0196 4A46     		mov	r2, r9
 5066 0198 0021     		movs	r1, #0
 5067 019a 4046     		mov	r0, r8
 5068 019c FFF7FEFF 		bl	memset
 5069              	.LVL573:
 5070 01a0 C8E7     		b	.L371
 5071              	.LVL574:
 5072              	.L405:
 734:System/storage/Storage.c ****                 return Storage_Write_Error;
 5073              		.loc 1 734 13 view .LVU1594
 734:System/storage/Storage.c ****                 return Storage_Write_Error;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 155


 5074              		.loc 1 734 18 is_stmt 0 view .LVU1595
 5075 01a2 4032     		adds	r2, r2, #64
 5076 01a4 1C49     		ldr	r1, .L407+8
 5077 01a6 2046     		mov	r0, r4
 5078              	.LVL575:
 734:System/storage/Storage.c ****                 return Storage_Write_Error;
 5079              		.loc 1 734 18 view .LVU1596
 5080 01a8 FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Write
 5081              	.LVL576:
 734:System/storage/Storage.c ****                 return Storage_Write_Error;
 5082              		.loc 1 734 16 view .LVU1597
 5083 01ac 08B1     		cbz	r0, .L406
 738:System/storage/Storage.c ****         }
 5084              		.loc 1 738 20 view .LVU1598
 5085 01ae 0020     		movs	r0, #0
 5086 01b0 02E0     		b	.L368
 5087              	.L406:
 735:System/storage/Storage.c **** 
 5088              		.loc 1 735 24 view .LVU1599
 5089 01b2 0920     		movs	r0, #9
 5090 01b4 00E0     		b	.L368
 5091              	.LVL577:
 5092              	.L374:
 623:System/storage/Storage.c **** 
 5093              		.loc 1 623 16 view .LVU1600
 5094 01b6 0120     		movs	r0, #1
 5095              	.LVL578:
 5096              	.L368:
 745:System/storage/Storage.c **** 
 5097              		.loc 1 745 1 view .LVU1601
 5098 01b8 03B0     		add	sp, sp, #12
 5099              	.LCFI60:
 5100              		.cfi_remember_state
 5101              		.cfi_def_cfa_offset 36
 5102              		@ sp needed
 5103 01ba BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 5104              	.LVL579:
 5105              	.L375:
 5106              	.LCFI61:
 5107              		.cfi_restore_state
 623:System/storage/Storage.c **** 
 5108              		.loc 1 623 16 view .LVU1602
 5109 01be 0120     		movs	r0, #1
 5110              	.LVL580:
 623:System/storage/Storage.c **** 
 5111              		.loc 1 623 16 view .LVU1603
 5112 01c0 FAE7     		b	.L368
 5113              	.LVL581:
 5114              	.L376:
 623:System/storage/Storage.c **** 
 5115              		.loc 1 623 16 view .LVU1604
 5116 01c2 0120     		movs	r0, #1
 5117              	.LVL582:
 623:System/storage/Storage.c **** 
 5118              		.loc 1 623 16 view .LVU1605
 5119 01c4 F8E7     		b	.L368
 5120              	.LVL583:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 156


 5121              	.L377:
 623:System/storage/Storage.c **** 
 5122              		.loc 1 623 16 view .LVU1606
 5123 01c6 0120     		movs	r0, #1
 5124              	.LVL584:
 623:System/storage/Storage.c **** 
 5125              		.loc 1 623 16 view .LVU1607
 5126 01c8 F6E7     		b	.L368
 5127              	.LVL585:
 5128              	.L378:
 623:System/storage/Storage.c **** 
 5129              		.loc 1 623 16 view .LVU1608
 5130 01ca 0120     		movs	r0, #1
 5131              	.LVL586:
 623:System/storage/Storage.c **** 
 5132              		.loc 1 623 16 view .LVU1609
 5133 01cc F4E7     		b	.L368
 5134              	.LVL587:
 5135              	.L379:
 630:System/storage/Storage.c **** 
 5136              		.loc 1 630 16 view .LVU1610
 5137 01ce 0120     		movs	r0, #1
 5138              	.LVL588:
 630:System/storage/Storage.c **** 
 5139              		.loc 1 630 16 view .LVU1611
 5140 01d0 F2E7     		b	.L368
 5141              	.LVL589:
 5142              	.L380:
 630:System/storage/Storage.c **** 
 5143              		.loc 1 630 16 view .LVU1612
 5144 01d2 0120     		movs	r0, #1
 5145              	.LVL590:
 630:System/storage/Storage.c **** 
 5146              		.loc 1 630 16 view .LVU1613
 5147 01d4 F0E7     		b	.L368
 5148              	.LVL591:
 5149              	.L383:
 643:System/storage/Storage.c ****     
 5150              		.loc 1 643 16 view .LVU1614
 5151 01d6 0820     		movs	r0, #8
 5152 01d8 EEE7     		b	.L368
 5153              	.LVL592:
 5154              	.L384:
 650:System/storage/Storage.c **** 
 5155              		.loc 1 650 16 view .LVU1615
 5156 01da 1220     		movs	r0, #18
 5157 01dc ECE7     		b	.L368
 5158              	.L385:
 5159 01de 1220     		movs	r0, #18
 5160 01e0 EAE7     		b	.L368
 5161              	.L386:
 650:System/storage/Storage.c **** 
 5162              		.loc 1 650 16 view .LVU1616
 5163 01e2 1220     		movs	r0, #18
 5164 01e4 E8E7     		b	.L368
 5165              	.LVL593:
 5166              	.L388:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 157


 666:System/storage/Storage.c **** 
 5167              		.loc 1 666 20 view .LVU1617
 5168 01e6 0820     		movs	r0, #8
 5169 01e8 E6E7     		b	.L368
 5170              	.LVL594:
 5171              	.L389:
 671:System/storage/Storage.c **** 
 5172              		.loc 1 671 20 view .LVU1618
 5173 01ea 1220     		movs	r0, #18
 5174 01ec E4E7     		b	.L368
 5175              	.LVL595:
 5176              	.L390:
 680:System/storage/Storage.c **** 
 5177              		.loc 1 680 20 view .LVU1619
 5178 01ee 1220     		movs	r0, #18
 5179 01f0 E2E7     		b	.L368
 5180              	.L391:
 680:System/storage/Storage.c **** 
 5181              		.loc 1 680 20 view .LVU1620
 5182 01f2 1220     		movs	r0, #18
 5183 01f4 E0E7     		b	.L368
 5184              	.LVL596:
 5185              	.L392:
 685:System/storage/Storage.c **** 
 5186              		.loc 1 685 20 view .LVU1621
 5187 01f6 1220     		movs	r0, #18
 5188 01f8 DEE7     		b	.L368
 5189              	.LVL597:
 5190              	.L393:
 693:System/storage/Storage.c ****         }
 5191              		.loc 1 693 24 view .LVU1622
 5192 01fa 1220     		movs	r0, #18
 5193 01fc DCE7     		b	.L368
 5194              	.L394:
 5195 01fe 1220     		movs	r0, #18
 5196 0200 DAE7     		b	.L368
 5197              	.LVL598:
 5198              	.L395:
 699:System/storage/Storage.c **** 
 5199              		.loc 1 699 20 view .LVU1623
 5200 0202 1220     		movs	r0, #18
 5201 0204 D8E7     		b	.L368
 5202              	.LVL599:
 5203              	.L396:
 719:System/storage/Storage.c ****         }
 5204              		.loc 1 719 24 view .LVU1624
 5205 0206 1F20     		movs	r0, #31
 5206              	.LVL600:
 719:System/storage/Storage.c ****         }
 5207              		.loc 1 719 24 view .LVU1625
 5208 0208 D6E7     		b	.L368
 5209              	.LVL601:
 5210              	.L397:
 728:System/storage/Storage.c **** 
 5211              		.loc 1 728 20 view .LVU1626
 5212 020a 1220     		movs	r0, #18
 5213              	.LVL602:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 158


 728:System/storage/Storage.c **** 
 5214              		.loc 1 728 20 view .LVU1627
 5215 020c D4E7     		b	.L368
 5216              	.L408:
 5217 020e 00BF     		.align	2
 5218              	.L407:
 5219 0210 00000000 		.word	.LANCHOR0
 5220 0214 16000000 		.word	.LANCHOR0+22
 5221 0218 00000000 		.word	page_data_tmp
 5222 021c EF1001EF 		.word	-285142801
 5223 0220 FE0110FE 		.word	-32505346
 5224              		.cfi_endproc
 5225              	.LFE157:
 5227              		.section	.text.Storage_Comput_ItemSlot_CRC,"ax",%progbits
 5228              		.align	1
 5229              		.syntax unified
 5230              		.thumb
 5231              		.thumb_func
 5233              	Storage_Comput_ItemSlot_CRC:
 5234              	.LVL603:
 5235              	.LFB167:
1571:System/storage/Storage.c ****     uint8_t *crc_buf = NULL;
 5236              		.loc 1 1571 1 is_stmt 1 view -0
 5237              		.cfi_startproc
 5238              		@ args = 0, pretend = 0, frame = 0
 5239              		@ frame_needed = 0, uses_anonymous_args = 0
1572:System/storage/Storage.c ****     uint16_t crc_len = sizeof(Storage_Item_TypeDef);
 5240              		.loc 1 1572 5 view .LVU1629
1573:System/storage/Storage.c ****     
 5241              		.loc 1 1573 5 view .LVU1630
1575:System/storage/Storage.c ****     {
 5242              		.loc 1 1575 5 view .LVU1631
1575:System/storage/Storage.c ****     {
 5243              		.loc 1 1575 8 is_stmt 0 view .LVU1632
 5244 0000 08B9     		cbnz	r0, .L416
1586:System/storage/Storage.c **** }
 5245              		.loc 1 1586 12 view .LVU1633
 5246 0002 0020     		movs	r0, #0
 5247              	.LVL604:
1587:System/storage/Storage.c **** 
 5248              		.loc 1 1587 1 view .LVU1634
 5249 0004 7047     		bx	lr
 5250              	.LVL605:
 5251              	.L416:
1571:System/storage/Storage.c ****     uint8_t *crc_buf = NULL;
 5252              		.loc 1 1571 1 view .LVU1635
 5253 0006 10B5     		push	{r4, lr}
 5254              	.LCFI62:
 5255              		.cfi_def_cfa_offset 8
 5256              		.cfi_offset 4, -8
 5257              		.cfi_offset 14, -4
 5258 0008 0446     		mov	r4, r0
1577:System/storage/Storage.c ****         crc_len -= sizeof(p_item->head_tag);
 5259              		.loc 1 1577 9 is_stmt 1 view .LVU1636
 5260              	.LVL606:
1578:System/storage/Storage.c ****         crc_len -= sizeof(p_item->end_tag);
 5261              		.loc 1 1578 9 view .LVU1637
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 159


1579:System/storage/Storage.c ****         crc_len -= sizeof(p_item->crc16);
 5262              		.loc 1 1579 9 view .LVU1638
1580:System/storage/Storage.c ****         p_item->crc16 = Common_CRC16(crc_buf, crc_len);
 5263              		.loc 1 1580 9 view .LVU1639
1581:System/storage/Storage.c **** 
 5264              		.loc 1 1581 9 view .LVU1640
1581:System/storage/Storage.c **** 
 5265              		.loc 1 1581 25 is_stmt 0 view .LVU1641
 5266 000a 3C21     		movs	r1, #60
 5267 000c 0130     		adds	r0, r0, #1
 5268              	.LVL607:
1581:System/storage/Storage.c **** 
 5269              		.loc 1 1581 25 view .LVU1642
 5270 000e FFF7FEFF 		bl	Common_CRC16
 5271              	.LVL608:
1581:System/storage/Storage.c **** 
 5272              		.loc 1 1581 23 view .LVU1643
 5273 0012 A4F83D00 		strh	r0, [r4, #61]	@ unaligned
1583:System/storage/Storage.c ****     }
 5274              		.loc 1 1583 9 is_stmt 1 view .LVU1644
1583:System/storage/Storage.c ****     }
 5275              		.loc 1 1583 16 is_stmt 0 view .LVU1645
 5276 0016 0120     		movs	r0, #1
1587:System/storage/Storage.c **** 
 5277              		.loc 1 1587 1 view .LVU1646
 5278 0018 10BD     		pop	{r4, pc}
1587:System/storage/Storage.c **** 
 5279              		.loc 1 1587 1 view .LVU1647
 5280              		.cfi_endproc
 5281              	.LFE167:
 5283              		.section	.text.Storage_Compare_ItemSlot_CRC,"ax",%progbits
 5284              		.align	1
 5285              		.syntax unified
 5286              		.thumb
 5287              		.thumb_func
 5289              	Storage_Compare_ItemSlot_CRC:
 5290              	.LFB166:
1553:System/storage/Storage.c ****     uint8_t *crc_buf = (uint8_t *)&item;
 5291              		.loc 1 1553 1 is_stmt 1 view -0
 5292              		.cfi_startproc
 5293              		@ args = 64, pretend = 16, frame = 0
 5294              		@ frame_needed = 0, uses_anonymous_args = 0
 5295 0000 84B0     		sub	sp, sp, #16
 5296              	.LCFI63:
 5297              		.cfi_def_cfa_offset 16
 5298 0002 08B5     		push	{r3, lr}
 5299              	.LCFI64:
 5300              		.cfi_def_cfa_offset 24
 5301              		.cfi_offset 3, -24
 5302              		.cfi_offset 14, -20
 5303 0004 0DF1080C 		add	ip, sp, #8
 5304 0008 8CE80F00 		stm	ip, {r0, r1, r2, r3}
1554:System/storage/Storage.c ****     uint16_t crc_len = sizeof(Storage_Item_TypeDef);
 5305              		.loc 1 1554 5 view .LVU1649
 5306              	.LVL609:
1555:System/storage/Storage.c ****     uint16_t crc = 0;
 5307              		.loc 1 1555 5 view .LVU1650
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 160


1556:System/storage/Storage.c ****     
 5308              		.loc 1 1556 5 view .LVU1651
1558:System/storage/Storage.c ****     crc_len -= sizeof(item.head_tag);
 5309              		.loc 1 1558 5 view .LVU1652
1559:System/storage/Storage.c ****     crc_len -= sizeof(item.end_tag);
 5310              		.loc 1 1559 5 view .LVU1653
1560:System/storage/Storage.c ****     crc_len -= sizeof(item.crc16);
 5311              		.loc 1 1560 5 view .LVU1654
1561:System/storage/Storage.c ****     crc = Common_CRC16(crc_buf, crc_len);
 5312              		.loc 1 1561 5 view .LVU1655
1562:System/storage/Storage.c **** 
 5313              		.loc 1 1562 5 view .LVU1656
1562:System/storage/Storage.c **** 
 5314              		.loc 1 1562 11 is_stmt 0 view .LVU1657
 5315 000c 3C21     		movs	r1, #60
 5316 000e 0DF10900 		add	r0, sp, #9
 5317 0012 FFF7FEFF 		bl	Common_CRC16
 5318              	.LVL610:
1562:System/storage/Storage.c **** 
 5319              		.loc 1 1562 9 view .LVU1658
 5320 0016 80B2     		uxth	r0, r0
 5321              	.LVL611:
1564:System/storage/Storage.c ****         return true;
 5322              		.loc 1 1564 5 is_stmt 1 view .LVU1659
1564:System/storage/Storage.c ****         return true;
 5323              		.loc 1 1564 20 is_stmt 0 view .LVU1660
 5324 0018 BDF84530 		ldrh	r3, [sp, #69]	@ unaligned
1564:System/storage/Storage.c ****         return true;
 5325              		.loc 1 1564 8 view .LVU1661
 5326 001c 8342     		cmp	r3, r0
 5327 001e 04D0     		beq	.L419
1567:System/storage/Storage.c **** }
 5328              		.loc 1 1567 12 view .LVU1662
 5329 0020 0020     		movs	r0, #0
 5330              	.LVL612:
 5331              	.L418:
1568:System/storage/Storage.c **** 
 5332              		.loc 1 1568 1 view .LVU1663
 5333 0022 BDE80840 		pop	{r3, lr}
 5334              	.LCFI65:
 5335              		.cfi_remember_state
 5336              		.cfi_restore 14
 5337              		.cfi_restore 3
 5338              		.cfi_def_cfa_offset 16
 5339 0026 04B0     		add	sp, sp, #16
 5340              	.LCFI66:
 5341              		.cfi_def_cfa_offset 0
 5342 0028 7047     		bx	lr
 5343              	.LVL613:
 5344              	.L419:
 5345              	.LCFI67:
 5346              		.cfi_restore_state
1565:System/storage/Storage.c **** 
 5347              		.loc 1 1565 16 view .LVU1664
 5348 002a 0120     		movs	r0, #1
 5349              	.LVL614:
1565:System/storage/Storage.c **** 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 161


 5350              		.loc 1 1565 16 view .LVU1665
 5351 002c F9E7     		b	.L418
 5352              		.cfi_endproc
 5353              	.LFE166:
 5355              		.section	.text.Storage_Check_Tab,"ax",%progbits
 5356              		.align	1
 5357              		.syntax unified
 5358              		.thumb
 5359              		.thumb_func
 5361              	Storage_Check_Tab:
 5362              	.LVL615:
 5363              	.LFB151:
 259:System/storage/Storage.c ****     uint32_t free_i = 0;
 5364              		.loc 1 259 1 is_stmt 1 view -0
 5365              		.cfi_startproc
 5366              		@ args = 0, pretend = 0, frame = 0
 5367              		@ frame_needed = 0, uses_anonymous_args = 0
 259:System/storage/Storage.c ****     uint32_t free_i = 0;
 5368              		.loc 1 259 1 is_stmt 0 view .LVU1667
 5369 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 5370              	.LCFI68:
 5371              		.cfi_def_cfa_offset 40
 5372              		.cfi_offset 3, -40
 5373              		.cfi_offset 4, -36
 5374              		.cfi_offset 5, -32
 5375              		.cfi_offset 6, -28
 5376              		.cfi_offset 7, -24
 5377              		.cfi_offset 8, -20
 5378              		.cfi_offset 9, -16
 5379              		.cfi_offset 10, -12
 5380              		.cfi_offset 11, -8
 5381              		.cfi_offset 14, -4
 260:System/storage/Storage.c ****     uint32_t tab_addr = 0;
 5382              		.loc 1 260 5 is_stmt 1 view .LVU1668
 5383              	.LVL616:
 261:System/storage/Storage.c ****     uint32_t store_param_found = 0;
 5384              		.loc 1 261 5 view .LVU1669
 262:System/storage/Storage.c ****     uint32_t store_param_size = 0;
 5385              		.loc 1 262 5 view .LVU1670
 263:System/storage/Storage.c ****     uint32_t free_slot_addr = 0;
 5386              		.loc 1 263 5 view .LVU1671
 264:System/storage/Storage.c ****     uint32_t sec_start_addr = 0;
 5387              		.loc 1 264 5 view .LVU1672
 265:System/storage/Storage.c ****     uint32_t sec_end_addr = 0;
 5388              		.loc 1 265 5 view .LVU1673
 266:System/storage/Storage.c ****     uint16_t crc16 = 0;
 5389              		.loc 1 266 5 view .LVU1674
 267:System/storage/Storage.c ****     uint8_t *crc_buf = NULL;
 5390              		.loc 1 267 5 view .LVU1675
 268:System/storage/Storage.c ****     uint16_t crc_len = 0;
 5391              		.loc 1 268 5 view .LVU1676
 269:System/storage/Storage.c ****     Storage_FreeSlot_TypeDef *FreeSlot_Info = NULL;
 5392              		.loc 1 269 5 view .LVU1677
 270:System/storage/Storage.c ****     Storage_Item_TypeDef *p_ItemList = NULL;
 5393              		.loc 1 270 5 view .LVU1678
 271:System/storage/Storage.c **** 
 5394              		.loc 1 271 5 view .LVU1679
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 162


 273:System/storage/Storage.c ****     {
 5395              		.loc 1 273 5 view .LVU1680
 273:System/storage/Storage.c ****     {
 5396              		.loc 1 273 8 is_stmt 0 view .LVU1681
 5397 0004 0028     		cmp	r0, #0
 5398 0006 73D0     		beq	.L432
 5399 0008 8046     		mov	r8, r0
 276:System/storage/Storage.c ****         sec_start_addr = sec_info->data_sec_addr;
 5400              		.loc 1 276 9 is_stmt 1 view .LVU1682
 276:System/storage/Storage.c ****         sec_start_addr = sec_info->data_sec_addr;
 5401              		.loc 1 276 24 is_stmt 0 view .LVU1683
 5402 000a 4569     		ldr	r5, [r0, #20]	@ unaligned
 5403              	.LVL617:
 277:System/storage/Storage.c ****         sec_end_addr = sec_start_addr + sec_info->data_sec_size;
 5404              		.loc 1 277 9 is_stmt 1 view .LVU1684
 277:System/storage/Storage.c ****         sec_end_addr = sec_start_addr + sec_info->data_sec_size;
 5405              		.loc 1 277 24 is_stmt 0 view .LVU1685
 5406 000c 4668     		ldr	r6, [r0, #4]	@ unaligned
 5407              	.LVL618:
 278:System/storage/Storage.c **** 
 5408              		.loc 1 278 9 is_stmt 1 view .LVU1686
 278:System/storage/Storage.c **** 
 5409              		.loc 1 278 49 is_stmt 0 view .LVU1687
 5410 000e 8468     		ldr	r4, [r0, #8]	@ unaligned
 278:System/storage/Storage.c **** 
 5411              		.loc 1 278 22 view .LVU1688
 5412 0010 3444     		add	r4, r4, r6
 5413              	.LVL619:
 280:System/storage/Storage.c ****         {
 5414              		.loc 1 280 9 is_stmt 1 view .LVU1689
 5415              	.L425:
 283:System/storage/Storage.c ****                 (free_slot_addr < sec_start_addr) || \
 5416              		.loc 1 283 13 view .LVU1690
 283:System/storage/Storage.c ****                 (free_slot_addr < sec_start_addr) || \
 5417              		.loc 1 283 16 is_stmt 0 view .LVU1691
 5418 0012 15B3     		cbz	r5, .L423
 283:System/storage/Storage.c ****                 (free_slot_addr < sec_start_addr) || \
 5419              		.loc 1 283 39 discriminator 1 view .LVU1692
 5420 0014 B542     		cmp	r5, r6
 5421 0016 20D3     		bcc	.L423
 284:System/storage/Storage.c ****                 (free_slot_addr > sec_end_addr) || \
 5422              		.loc 1 284 51 view .LVU1693
 5423 0018 A542     		cmp	r5, r4
 5424 001a 1ED8     		bhi	.L423
 286:System/storage/Storage.c ****                 return false;
 5425              		.loc 1 286 18 view .LVU1694
 5426 001c 4FF48052 		mov	r2, #4096
 5427 0020 3749     		ldr	r1, .L444
 5428 0022 2846     		mov	r0, r5
 5429 0024 FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Read
 5430              	.LVL620:
 285:System/storage/Storage.c ****                 !Storage_ExtFlash_ParaSec_Read(free_slot_addr, page_data_tmp, Storage_TabSize))
 5431              		.loc 1 285 49 view .LVU1695
 5432 0028 0746     		mov	r7, r0
 5433 002a B0B1     		cbz	r0, .L423
 289:System/storage/Storage.c **** 
 5434              		.loc 1 289 13 is_stmt 1 view .LVU1696
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 163


 5435              	.LVL621:
 291:System/storage/Storage.c ****                 (FreeSlot_Info->end_tag != STORAGE_SLOT_END_TAG))
 5436              		.loc 1 291 13 view .LVU1697
 291:System/storage/Storage.c ****                 (FreeSlot_Info->end_tag != STORAGE_SLOT_END_TAG))
 5437              		.loc 1 291 31 is_stmt 0 view .LVU1698
 5438 002c 344B     		ldr	r3, .L444
 5439 002e 1A68     		ldr	r2, [r3]
 291:System/storage/Storage.c ****                 (FreeSlot_Info->end_tag != STORAGE_SLOT_END_TAG))
 5440              		.loc 1 291 16 view .LVU1699
 5441 0030 344B     		ldr	r3, .L444+4
 5442 0032 9A42     		cmp	r2, r3
 5443 0034 5ED1     		bne	.L433
 292:System/storage/Storage.c ****                 return false;
 5444              		.loc 1 292 31 discriminator 1 view .LVU1700
 5445 0036 324B     		ldr	r3, .L444
 5446 0038 DA68     		ldr	r2, [r3, #12]
 291:System/storage/Storage.c ****                 (FreeSlot_Info->end_tag != STORAGE_SLOT_END_TAG))
 5447              		.loc 1 291 68 discriminator 1 view .LVU1701
 5448 003a 334B     		ldr	r3, .L444+8
 5449 003c 9A42     		cmp	r2, r3
 5450 003e 5BD1     		bne	.L434
 295:System/storage/Storage.c ****             if (FreeSlot_Info->nxt_addr == 0)
 5451              		.loc 1 295 13 is_stmt 1 view .LVU1702
 296:System/storage/Storage.c ****                 break;
 5452              		.loc 1 296 13 view .LVU1703
 296:System/storage/Storage.c ****                 break;
 5453              		.loc 1 296 30 is_stmt 0 view .LVU1704
 5454 0040 2F4B     		ldr	r3, .L444
 5455 0042 9D68     		ldr	r5, [r3, #8]
 5456              	.LVL622:
 296:System/storage/Storage.c ****                 break;
 5457              		.loc 1 296 16 view .LVU1705
 5458 0044 002D     		cmp	r5, #0
 5459 0046 E4D1     		bne	.L425
 302:System/storage/Storage.c ****         {
 5460              		.loc 1 302 9 is_stmt 1 view .LVU1706
 302:System/storage/Storage.c ****         {
 5461              		.loc 1 302 21 is_stmt 0 view .LVU1707
 5462 0048 D8F82030 		ldr	r3, [r8, #32]	@ unaligned
 302:System/storage/Storage.c ****         {
 5463              		.loc 1 302 12 view .LVU1708
 5464 004c 33B1     		cbz	r3, .L422
 304:System/storage/Storage.c **** 
 5465              		.loc 1 304 13 is_stmt 1 view .LVU1709
 304:System/storage/Storage.c **** 
 5466              		.loc 1 304 22 is_stmt 0 view .LVU1710
 5467 004e D8F800B0 		ldr	fp, [r8]	@ unaligned
 5468              	.LVL623:
 306:System/storage/Storage.c ****             {
 5469              		.loc 1 306 13 is_stmt 1 view .LVU1711
 5470              	.LBB25:
 306:System/storage/Storage.c ****             {
 5471              		.loc 1 306 18 view .LVU1712
 306:System/storage/Storage.c ****             {
 5472              		.loc 1 306 18 is_stmt 0 view .LVU1713
 5473              	.LBE25:
 263:System/storage/Storage.c ****     uint32_t free_slot_addr = 0;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 164


 5474              		.loc 1 263 14 view .LVU1714
 5475 0052 A946     		mov	r9, r5
 5476              	.LBB28:
 306:System/storage/Storage.c ****             {
 5477              		.loc 1 306 27 view .LVU1715
 5478 0054 4FF0000A 		mov	r10, #0
 306:System/storage/Storage.c ****             {
 5479              		.loc 1 306 13 view .LVU1716
 5480 0058 30E0     		b	.L427
 5481              	.LVL624:
 5482              	.L423:
 306:System/storage/Storage.c ****             {
 5483              		.loc 1 306 13 view .LVU1717
 5484              	.LBE28:
 287:System/storage/Storage.c **** 
 5485              		.loc 1 287 17 is_stmt 1 view .LVU1718
 287:System/storage/Storage.c **** 
 5486              		.loc 1 287 24 is_stmt 0 view .LVU1719
 5487 005a 0027     		movs	r7, #0
 5488              	.LVL625:
 5489              	.L422:
 359:System/storage/Storage.c **** 
 5490              		.loc 1 359 1 view .LVU1720
 5491 005c 3846     		mov	r0, r7
 5492 005e BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 5493              	.LVL626:
 5494              	.L443:
 5495              	.LBB29:
 309:System/storage/Storage.c ****             
 5496              		.loc 1 309 28 view .LVU1721
 5497 0062 0746     		mov	r7, r0
 5498 0064 FAE7     		b	.L422
 5499              	.LVL627:
 5500              	.L441:
 5501              	.LBB26:
 343:System/storage/Storage.c ****                     }
 5502              		.loc 1 343 25 is_stmt 1 view .LVU1722
 343:System/storage/Storage.c ****                     }
 5503              		.loc 1 343 43 is_stmt 0 view .LVU1723
 5504 0066 0135     		adds	r5, r5, #1
 5505              	.LVL628:
 5506              	.L429:
 312:System/storage/Storage.c ****                 {
 5507              		.loc 1 312 74 is_stmt 1 discriminator 2 view .LVU1724
 312:System/storage/Storage.c ****                 {
 5508              		.loc 1 312 81 is_stmt 0 discriminator 2 view .LVU1725
 5509 0068 0134     		adds	r4, r4, #1
 5510              	.LVL629:
 312:System/storage/Storage.c ****                 {
 5511              		.loc 1 312 81 discriminator 2 view .LVU1726
 5512 006a A4B2     		uxth	r4, r4
 5513              	.LVL630:
 5514              	.L428:
 312:System/storage/Storage.c ****                 {
 5515              		.loc 1 312 42 is_stmt 1 discriminator 1 view .LVU1727
 312:System/storage/Storage.c ****                 {
 5516              		.loc 1 312 17 is_stmt 0 discriminator 1 view .LVU1728
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 165


 5517 006c 3F2C     		cmp	r4, #63
 5518 006e 1AD8     		bhi	.L440
 314:System/storage/Storage.c ****                         (p_ItemList[item_i].end_tag == STORAGE_ITEM_END_TAG))
 5519              		.loc 1 314 21 is_stmt 1 view .LVU1729
 314:System/storage/Storage.c ****                         (p_ItemList[item_i].end_tag == STORAGE_ITEM_END_TAG))
 5520              		.loc 1 314 36 is_stmt 0 view .LVU1730
 5521 0070 A001     		lsls	r0, r4, #6
 5522 0072 234B     		ldr	r3, .L444
 5523 0074 03EB8416 		add	r6, r3, r4, lsl #6
 314:System/storage/Storage.c ****                         (p_ItemList[item_i].end_tag == STORAGE_ITEM_END_TAG))
 5524              		.loc 1 314 44 view .LVU1731
 5525 0078 C35C     		ldrb	r3, [r0, r3]	@ zero_extendqisi2
 314:System/storage/Storage.c ****                         (p_ItemList[item_i].end_tag == STORAGE_ITEM_END_TAG))
 5526              		.loc 1 314 24 view .LVU1732
 5527 007a AA2B     		cmp	r3, #170
 5528 007c F4D1     		bne	.L429
 315:System/storage/Storage.c ****                     {
 5529              		.loc 1 315 44 discriminator 1 view .LVU1733
 5530 007e 96F83F30 		ldrb	r3, [r6, #63]	@ zero_extendqisi2
 314:System/storage/Storage.c ****                         (p_ItemList[item_i].end_tag == STORAGE_ITEM_END_TAG))
 5531              		.loc 1 314 80 discriminator 1 view .LVU1734
 5532 0082 BB2B     		cmp	r3, #187
 5533 0084 F0D1     		bne	.L429
 332:System/storage/Storage.c ****                         crc_len = sizeof(Storage_Item_TypeDef);
 5534              		.loc 1 332 25 is_stmt 1 view .LVU1735
 332:System/storage/Storage.c ****                         crc_len = sizeof(Storage_Item_TypeDef);
 5535              		.loc 1 332 33 is_stmt 0 view .LVU1736
 5536 0086 0130     		adds	r0, r0, #1
 5537              	.LVL631:
 333:System/storage/Storage.c ****                         crc_len -= sizeof(p_ItemList[item_i].head_tag);
 5538              		.loc 1 333 25 is_stmt 1 view .LVU1737
 334:System/storage/Storage.c ****                         crc_len -= sizeof(p_ItemList[item_i].end_tag);
 5539              		.loc 1 334 25 view .LVU1738
 335:System/storage/Storage.c ****                         crc_len -= sizeof(p_ItemList[item_i].crc16);
 5540              		.loc 1 335 25 view .LVU1739
 336:System/storage/Storage.c ****                         store_param_size += p_ItemList[item_i].len;
 5541              		.loc 1 336 25 view .LVU1740
 337:System/storage/Storage.c ****                         
 5542              		.loc 1 337 25 view .LVU1741
 337:System/storage/Storage.c ****                         
 5543              		.loc 1 337 63 is_stmt 0 view .LVU1742
 5544 0088 B6F82F30 		ldrh	r3, [r6, #47]	@ unaligned
 337:System/storage/Storage.c ****                         
 5545              		.loc 1 337 42 view .LVU1743
 5546 008c 9944     		add	r9, r9, r3
 5547              	.LVL632:
 339:System/storage/Storage.c ****                         if (crc16 != p_ItemList[item_i].crc16)
 5548              		.loc 1 339 25 is_stmt 1 view .LVU1744
 339:System/storage/Storage.c ****                         if (crc16 != p_ItemList[item_i].crc16)
 5549              		.loc 1 339 33 is_stmt 0 view .LVU1745
 5550 008e 3C21     		movs	r1, #60
 5551 0090 1B4B     		ldr	r3, .L444
 5552 0092 1844     		add	r0, r0, r3
 5553              	.LVL633:
 339:System/storage/Storage.c ****                         if (crc16 != p_ItemList[item_i].crc16)
 5554              		.loc 1 339 33 view .LVU1746
 5555 0094 FFF7FEFF 		bl	Common_CRC16
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 166


 5556              	.LVL634:
 339:System/storage/Storage.c ****                         if (crc16 != p_ItemList[item_i].crc16)
 5557              		.loc 1 339 31 view .LVU1747
 5558 0098 80B2     		uxth	r0, r0
 5559              	.LVL635:
 340:System/storage/Storage.c ****                             return false;
 5560              		.loc 1 340 25 is_stmt 1 view .LVU1748
 340:System/storage/Storage.c ****                             return false;
 5561              		.loc 1 340 56 is_stmt 0 view .LVU1749
 5562 009a B6F83D30 		ldrh	r3, [r6, #61]	@ unaligned
 340:System/storage/Storage.c ****                             return false;
 5563              		.loc 1 340 28 view .LVU1750
 5564 009e 8342     		cmp	r3, r0
 5565 00a0 E1D0     		beq	.L441
 341:System/storage/Storage.c **** 
 5566              		.loc 1 341 36 view .LVU1751
 5567 00a2 0027     		movs	r7, #0
 5568 00a4 DAE7     		b	.L422
 5569              	.LVL636:
 5570              	.L440:
 341:System/storage/Storage.c **** 
 5571              		.loc 1 341 36 view .LVU1752
 5572              	.LBE26:
 347:System/storage/Storage.c ****             }
 5573              		.loc 1 347 17 is_stmt 1 discriminator 2 view .LVU1753
 347:System/storage/Storage.c ****             }
 5574              		.loc 1 347 38 is_stmt 0 discriminator 2 view .LVU1754
 5575 00a6 D8F81030 		ldr	r3, [r8, #16]	@ unaligned
 347:System/storage/Storage.c ****             }
 5576              		.loc 1 347 59 discriminator 2 view .LVU1755
 5577 00aa D8F80C20 		ldr	r2, [r8, #12]	@ unaligned
 347:System/storage/Storage.c ****             }
 5578              		.loc 1 347 49 discriminator 2 view .LVU1756
 5579 00ae B3FBF2F3 		udiv	r3, r3, r2
 347:System/storage/Storage.c ****             }
 5580              		.loc 1 347 26 discriminator 2 view .LVU1757
 5581 00b2 9B44     		add	fp, fp, r3
 5582              	.LVL637:
 306:System/storage/Storage.c ****             {
 5583              		.loc 1 306 66 is_stmt 1 discriminator 2 view .LVU1758
 306:System/storage/Storage.c ****             {
 5584              		.loc 1 306 72 is_stmt 0 discriminator 2 view .LVU1759
 5585 00b4 0AF1010A 		add	r10, r10, #1
 5586              	.LVL638:
 306:System/storage/Storage.c ****             {
 5587              		.loc 1 306 72 discriminator 2 view .LVU1760
 5588 00b8 1FFA8AFA 		uxth	r10, r10
 5589              	.LVL639:
 5590              	.L427:
 306:System/storage/Storage.c ****             {
 5591              		.loc 1 306 38 is_stmt 1 discriminator 1 view .LVU1761
 306:System/storage/Storage.c ****             {
 5592              		.loc 1 306 54 is_stmt 0 discriminator 1 view .LVU1762
 5593 00bc D8F80C30 		ldr	r3, [r8, #12]	@ unaligned
 306:System/storage/Storage.c ****             {
 5594              		.loc 1 306 13 discriminator 1 view .LVU1763
 5595 00c0 9A45     		cmp	r10, r3
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 167


 5596 00c2 0BD2     		bcs	.L442
 308:System/storage/Storage.c ****                     return false;
 5597              		.loc 1 308 17 is_stmt 1 view .LVU1764
 308:System/storage/Storage.c ****                     return false;
 5598              		.loc 1 308 85 is_stmt 0 view .LVU1765
 5599 00c4 D8F81020 		ldr	r2, [r8, #16]	@ unaligned
 308:System/storage/Storage.c ****                     return false;
 5600              		.loc 1 308 22 view .LVU1766
 5601 00c8 B2FBF3F2 		udiv	r2, r2, r3
 5602 00cc 0C49     		ldr	r1, .L444
 5603 00ce 5846     		mov	r0, fp
 5604 00d0 FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Read
 5605              	.LVL640:
 308:System/storage/Storage.c ****                     return false;
 5606              		.loc 1 308 20 view .LVU1767
 5607 00d4 0028     		cmp	r0, #0
 5608 00d6 C4D0     		beq	.L443
 5609              	.LBB27:
 312:System/storage/Storage.c ****                 {
 5610              		.loc 1 312 30 view .LVU1768
 5611 00d8 0024     		movs	r4, #0
 5612 00da C7E7     		b	.L428
 5613              	.L442:
 5614              	.LBE27:
 5615              	.LBE29:
 350:System/storage/Storage.c ****                 (store_param_size != sec_info->para_size))
 5616              		.loc 1 350 13 is_stmt 1 view .LVU1769
 350:System/storage/Storage.c ****                 (store_param_size != sec_info->para_size))
 5617              		.loc 1 350 47 is_stmt 0 view .LVU1770
 5618 00dc D8F82030 		ldr	r3, [r8, #32]	@ unaligned
 350:System/storage/Storage.c ****                 (store_param_size != sec_info->para_size))
 5619              		.loc 1 350 16 view .LVU1771
 5620 00e0 AB42     		cmp	r3, r5
 5621 00e2 0BD1     		bne	.L437
 351:System/storage/Storage.c ****                 return false;
 5622              		.loc 1 351 46 discriminator 1 view .LVU1772
 5623 00e4 D8F81C30 		ldr	r3, [r8, #28]	@ unaligned
 350:System/storage/Storage.c ****                 (store_param_size != sec_info->para_size))
 5624              		.loc 1 350 59 discriminator 1 view .LVU1773
 5625 00e8 4B45     		cmp	r3, r9
 5626 00ea B7D0     		beq	.L422
 352:System/storage/Storage.c ****         }
 5627              		.loc 1 352 24 view .LVU1774
 5628 00ec 0027     		movs	r7, #0
 5629 00ee B5E7     		b	.L422
 5630              	.LVL641:
 5631              	.L432:
 358:System/storage/Storage.c **** }
 5632              		.loc 1 358 12 view .LVU1775
 5633 00f0 0027     		movs	r7, #0
 5634 00f2 B3E7     		b	.L422
 5635              	.LVL642:
 5636              	.L433:
 293:System/storage/Storage.c **** 
 5637              		.loc 1 293 24 view .LVU1776
 5638 00f4 0027     		movs	r7, #0
 5639 00f6 B1E7     		b	.L422
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 168


 5640              	.L434:
 5641 00f8 0027     		movs	r7, #0
 5642 00fa AFE7     		b	.L422
 5643              	.LVL643:
 5644              	.L437:
 352:System/storage/Storage.c ****         }
 5645              		.loc 1 352 24 view .LVU1777
 5646 00fc 0027     		movs	r7, #0
 5647 00fe ADE7     		b	.L422
 5648              	.L445:
 5649              		.align	2
 5650              	.L444:
 5651 0100 00000000 		.word	page_data_tmp
 5652 0104 EF1001EF 		.word	-285142801
 5653 0108 FE0110FE 		.word	-32505346
 5654              		.cfi_endproc
 5655              	.LFE151:
 5657              		.section	.text.Storage_Establish_Tab,"ax",%progbits
 5658              		.align	1
 5659              		.syntax unified
 5660              		.thumb
 5661              		.thumb_func
 5663              	Storage_Establish_Tab:
 5664              	.LVL644:
 5665              	.LFB164:
1357:System/storage/Storage.c ****     Storage_FlashInfo_TypeDef *p_Flash = NULL;
 5666              		.loc 1 1357 1 is_stmt 1 view -0
 5667              		.cfi_startproc
 5668              		@ args = 0, pretend = 0, frame = 16
 5669              		@ frame_needed = 0, uses_anonymous_args = 0
1357:System/storage/Storage.c ****     Storage_FlashInfo_TypeDef *p_Flash = NULL;
 5670              		.loc 1 1357 1 is_stmt 0 view .LVU1779
 5671 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 5672              	.LCFI69:
 5673              		.cfi_def_cfa_offset 28
 5674              		.cfi_offset 4, -28
 5675              		.cfi_offset 5, -24
 5676              		.cfi_offset 6, -20
 5677              		.cfi_offset 7, -16
 5678              		.cfi_offset 8, -12
 5679              		.cfi_offset 9, -8
 5680              		.cfi_offset 14, -4
 5681 0004 85B0     		sub	sp, sp, #20
 5682              	.LCFI70:
 5683              		.cfi_def_cfa_offset 48
 5684 0006 0146     		mov	r1, r0
1358:System/storage/Storage.c ****     Storage_BaseSecInfo_TypeDef *p_SecInfo = NULL;
 5685              		.loc 1 1358 5 is_stmt 1 view .LVU1780
 5686              	.LVL645:
1359:System/storage/Storage.c ****     uint16_t clear_cnt = 0;
 5687              		.loc 1 1359 5 view .LVU1781
1360:System/storage/Storage.c ****     uint32_t clear_byte = 0;
 5688              		.loc 1 1360 5 view .LVU1782
1361:System/storage/Storage.c ****     uint32_t clear_remain = 0;
 5689              		.loc 1 1361 5 view .LVU1783
1362:System/storage/Storage.c ****     uint32_t addr_tmp = 0;
 5690              		.loc 1 1362 5 view .LVU1784
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 169


1363:System/storage/Storage.c ****     Storage_FreeSlot_TypeDef free_slot;
 5691              		.loc 1 1363 5 view .LVU1785
1364:System/storage/Storage.c ****     uint16_t crc = 0;
 5692              		.loc 1 1364 5 view .LVU1786
1365:System/storage/Storage.c **** 
 5693              		.loc 1 1365 5 view .LVU1787
1367:System/storage/Storage.c ****     p_SecInfo = Storage_Get_SecInfo(p_Flash, class);
 5694              		.loc 1 1367 5 view .LVU1788
1368:System/storage/Storage.c ****     if (p_SecInfo == NULL)
 5695              		.loc 1 1368 5 view .LVU1789
1368:System/storage/Storage.c ****     if (p_SecInfo == NULL)
 5696              		.loc 1 1368 17 is_stmt 0 view .LVU1790
 5697 0008 4548     		ldr	r0, .L460
 5698              	.LVL646:
1368:System/storage/Storage.c ****     if (p_SecInfo == NULL)
 5699              		.loc 1 1368 17 view .LVU1791
 5700 000a FFF7FEFF 		bl	Storage_Get_SecInfo
 5701              	.LVL647:
1369:System/storage/Storage.c ****         return false;
 5702              		.loc 1 1369 5 is_stmt 1 view .LVU1792
1369:System/storage/Storage.c ****         return false;
 5703              		.loc 1 1369 8 is_stmt 0 view .LVU1793
 5704 000e 0028     		cmp	r0, #0
 5705 0010 00F08380 		beq	.L452
 5706 0014 0546     		mov	r5, r0
1372:System/storage/Storage.c ****     {
 5707              		.loc 1 1372 5 is_stmt 1 view .LVU1794
1372:System/storage/Storage.c ****     {
 5708              		.loc 1 1372 18 is_stmt 0 view .LVU1795
 5709 0016 0068     		ldr	r0, [r0]	@ unaligned
 5710              	.LVL648:
1372:System/storage/Storage.c ****     {
 5711              		.loc 1 1372 8 view .LVU1796
 5712 0018 18B9     		cbnz	r0, .L457
1437:System/storage/Storage.c **** }
 5713              		.loc 1 1437 12 view .LVU1797
 5714 001a 0020     		movs	r0, #0
 5715              	.LVL649:
 5716              	.L447:
1438:System/storage/Storage.c **** 
 5717              		.loc 1 1438 1 view .LVU1798
 5718 001c 05B0     		add	sp, sp, #20
 5719              	.LCFI71:
 5720              		.cfi_remember_state
 5721              		.cfi_def_cfa_offset 28
 5722              		@ sp needed
 5723 001e BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 5724              	.LVL650:
 5725              	.L457:
 5726              	.LCFI72:
 5727              		.cfi_restore_state
1372:System/storage/Storage.c ****     {
 5728              		.loc 1 1372 32 discriminator 1 view .LVU1799
 5729 0022 E968     		ldr	r1, [r5, #12]	@ unaligned
 5730 0024 FFF7FEFF 		bl	Storage_Clear_Tab
 5731              	.LVL651:
1372:System/storage/Storage.c ****     {
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 170


 5732              		.loc 1 1372 29 discriminator 1 view .LVU1800
 5733 0028 0028     		cmp	r0, #0
 5734 002a F7D0     		beq	.L447
1375:System/storage/Storage.c ****             return false;
 5735              		.loc 1 1375 9 is_stmt 1 view .LVU1801
1375:System/storage/Storage.c ****             return false;
 5736              		.loc 1 1375 22 is_stmt 0 view .LVU1802
 5737 002c 6B68     		ldr	r3, [r5, #4]	@ unaligned
1375:System/storage/Storage.c ****             return false;
 5738              		.loc 1 1375 12 view .LVU1803
 5739 002e 0BB9     		cbnz	r3, .L458
1376:System/storage/Storage.c **** 
 5740              		.loc 1 1376 20 view .LVU1804
 5741 0030 0020     		movs	r0, #0
 5742 0032 F3E7     		b	.L447
 5743              	.L458:
1379:System/storage/Storage.c ****         clear_cnt = p_SecInfo->data_sec_size / Storage_TabSize;
 5744              		.loc 1 1379 9 is_stmt 1 view .LVU1805
 5745 0034 4FF48052 		mov	r2, #4096
 5746 0038 0021     		movs	r1, #0
 5747 003a 3A48     		ldr	r0, .L460+4
 5748 003c FFF7FEFF 		bl	memset
 5749              	.LVL652:
1380:System/storage/Storage.c ****         clear_remain = p_SecInfo->data_sec_size;
 5750              		.loc 1 1380 9 view .LVU1806
1380:System/storage/Storage.c ****         clear_remain = p_SecInfo->data_sec_size;
 5751              		.loc 1 1380 30 is_stmt 0 view .LVU1807
 5752 0040 AE68     		ldr	r6, [r5, #8]	@ unaligned
1380:System/storage/Storage.c ****         clear_remain = p_SecInfo->data_sec_size;
 5753              		.loc 1 1380 19 view .LVU1808
 5754 0042 C6F30F39 		ubfx	r9, r6, #12, #16
 5755              	.LVL653:
1381:System/storage/Storage.c ****         addr_tmp = p_SecInfo->data_sec_addr;
 5756              		.loc 1 1381 9 is_stmt 1 view .LVU1809
1382:System/storage/Storage.c ****         clear_byte = Storage_TabSize;
 5757              		.loc 1 1382 9 view .LVU1810
1382:System/storage/Storage.c ****         clear_byte = Storage_TabSize;
 5758              		.loc 1 1382 18 is_stmt 0 view .LVU1811
 5759 0046 D5F80480 		ldr	r8, [r5, #4]	@ unaligned
 5760              	.LVL654:
1383:System/storage/Storage.c ****         if (p_SecInfo->data_sec_size % Storage_TabSize)
 5761              		.loc 1 1383 9 is_stmt 1 view .LVU1812
1384:System/storage/Storage.c ****             clear_cnt ++;
 5762              		.loc 1 1384 9 view .LVU1813
1384:System/storage/Storage.c ****             clear_cnt ++;
 5763              		.loc 1 1384 38 is_stmt 0 view .LVU1814
 5764 004a C6F30B03 		ubfx	r3, r6, #0, #12
1384:System/storage/Storage.c ****             clear_cnt ++;
 5765              		.loc 1 1384 12 view .LVU1815
 5766 004e 1BB1     		cbz	r3, .L448
1385:System/storage/Storage.c ****  
 5767              		.loc 1 1385 13 is_stmt 1 view .LVU1816
1385:System/storage/Storage.c ****  
 5768              		.loc 1 1385 23 is_stmt 0 view .LVU1817
 5769 0050 09F10109 		add	r9, r9, #1
 5770              	.LVL655:
1385:System/storage/Storage.c ****  
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 171


 5771              		.loc 1 1385 23 view .LVU1818
 5772 0054 1FFA89F9 		uxth	r9, r9
 5773              	.LVL656:
 5774              	.L448:
1387:System/storage/Storage.c ****         {
 5775              		.loc 1 1387 9 is_stmt 1 view .LVU1819
 5776              	.LBB30:
1387:System/storage/Storage.c ****         {
 5777              		.loc 1 1387 13 view .LVU1820
1387:System/storage/Storage.c ****         {
 5778              		.loc 1 1387 22 is_stmt 0 view .LVU1821
 5779 0058 0024     		movs	r4, #0
 5780              	.LBE30:
1383:System/storage/Storage.c ****         if (p_SecInfo->data_sec_size % Storage_TabSize)
 5781              		.loc 1 1383 20 view .LVU1822
 5782 005a 4FF48057 		mov	r7, #4096
 5783              	.LBB31:
1387:System/storage/Storage.c ****         {
 5784              		.loc 1 1387 9 view .LVU1823
 5785 005e 01E0     		b	.L449
 5786              	.LVL657:
 5787              	.L450:
1387:System/storage/Storage.c ****         {
 5788              		.loc 1 1387 44 is_stmt 1 discriminator 2 view .LVU1824
1387:System/storage/Storage.c ****         {
 5789              		.loc 1 1387 45 is_stmt 0 discriminator 2 view .LVU1825
 5790 0060 0134     		adds	r4, r4, #1
 5791              	.LVL658:
1387:System/storage/Storage.c ****         {
 5792              		.loc 1 1387 45 discriminator 2 view .LVU1826
 5793 0062 A4B2     		uxth	r4, r4
 5794              	.LVL659:
 5795              	.L449:
1387:System/storage/Storage.c ****         {
 5796              		.loc 1 1387 29 is_stmt 1 discriminator 1 view .LVU1827
1387:System/storage/Storage.c ****         {
 5797              		.loc 1 1387 9 is_stmt 0 discriminator 1 view .LVU1828
 5798 0064 A145     		cmp	r9, r4
 5799 0066 0ED9     		bls	.L459
1389:System/storage/Storage.c ****                 return false;
 5800              		.loc 1 1389 13 is_stmt 1 view .LVU1829
1389:System/storage/Storage.c ****                 return false;
 5801              		.loc 1 1389 18 is_stmt 0 view .LVU1830
 5802 0068 3A46     		mov	r2, r7
 5803 006a 2E49     		ldr	r1, .L460+4
 5804 006c 4046     		mov	r0, r8
 5805 006e FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Write
 5806              	.LVL660:
1389:System/storage/Storage.c ****                 return false;
 5807              		.loc 1 1389 16 view .LVU1831
 5808 0072 0028     		cmp	r0, #0
 5809 0074 D2D0     		beq	.L447
1392:System/storage/Storage.c ****             clear_remain -= clear_byte;
 5810              		.loc 1 1392 13 is_stmt 1 view .LVU1832
1392:System/storage/Storage.c ****             clear_remain -= clear_byte;
 5811              		.loc 1 1392 22 is_stmt 0 view .LVU1833
 5812 0076 08F58058 		add	r8, r8, #4096
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 172


 5813              	.LVL661:
1393:System/storage/Storage.c ****             if (clear_remain && clear_remain <= clear_byte)
 5814              		.loc 1 1393 13 is_stmt 1 view .LVU1834
1394:System/storage/Storage.c ****                 clear_byte = clear_remain;
 5815              		.loc 1 1394 13 view .LVU1835
1394:System/storage/Storage.c ****                 clear_byte = clear_remain;
 5816              		.loc 1 1394 16 is_stmt 0 view .LVU1836
 5817 007a F61B     		subs	r6, r6, r7
 5818              	.LVL662:
1394:System/storage/Storage.c ****                 clear_byte = clear_remain;
 5819              		.loc 1 1394 16 view .LVU1837
 5820 007c F0D0     		beq	.L450
1394:System/storage/Storage.c ****                 clear_byte = clear_remain;
 5821              		.loc 1 1394 30 discriminator 1 view .LVU1838
 5822 007e B742     		cmp	r7, r6
 5823 0080 EED3     		bcc	.L450
1395:System/storage/Storage.c ****         }
 5824              		.loc 1 1395 28 view .LVU1839
 5825 0082 3746     		mov	r7, r6
 5826              	.LVL663:
1395:System/storage/Storage.c ****         }
 5827              		.loc 1 1395 28 view .LVU1840
 5828 0084 ECE7     		b	.L450
 5829              	.LVL664:
 5830              	.L459:
1395:System/storage/Storage.c ****         }
 5831              		.loc 1 1395 28 view .LVU1841
 5832              	.LBE31:
1399:System/storage/Storage.c ****         free_slot.head_tag = STORAGE_SLOT_HEAD_TAG;
 5833              		.loc 1 1399 9 is_stmt 1 view .LVU1842
 5834 0086 6B46     		mov	r3, sp
 5835 0088 0022     		movs	r2, #0
 5836 008a 0092     		str	r2, [sp]
 5837 008c 5A60     		str	r2, [r3, #4]
 5838 008e 9A60     		str	r2, [r3, #8]
 5839 0090 DA60     		str	r2, [r3, #12]
1400:System/storage/Storage.c ****         free_slot.cur_slot_size = p_SecInfo->data_sec_size - sizeof(free_slot);
 5840              		.loc 1 1400 9 view .LVU1843
1400:System/storage/Storage.c ****         free_slot.cur_slot_size = p_SecInfo->data_sec_size - sizeof(free_slot);
 5841              		.loc 1 1400 28 is_stmt 0 view .LVU1844
 5842 0092 254A     		ldr	r2, .L460+8
 5843 0094 0092     		str	r2, [sp]
1401:System/storage/Storage.c ****         free_slot.nxt_addr = 0;
 5844              		.loc 1 1401 9 is_stmt 1 view .LVU1845
1401:System/storage/Storage.c ****         free_slot.nxt_addr = 0;
 5845              		.loc 1 1401 44 is_stmt 0 view .LVU1846
 5846 0096 AA68     		ldr	r2, [r5, #8]	@ unaligned
1401:System/storage/Storage.c ****         free_slot.nxt_addr = 0;
 5847              		.loc 1 1401 60 view .LVU1847
 5848 0098 103A     		subs	r2, r2, #16
1401:System/storage/Storage.c ****         free_slot.nxt_addr = 0;
 5849              		.loc 1 1401 33 view .LVU1848
 5850 009a 0192     		str	r2, [sp, #4]
1402:System/storage/Storage.c ****         /* if current free slot get enought space for data then set next address (nxt_addr) as 0 */
 5851              		.loc 1 1402 9 is_stmt 1 view .LVU1849
1407:System/storage/Storage.c ****         
 5852              		.loc 1 1407 9 view .LVU1850
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 173


1407:System/storage/Storage.c ****         
 5853              		.loc 1 1407 27 is_stmt 0 view .LVU1851
 5854 009c 234A     		ldr	r2, .L460+12
 5855 009e 0392     		str	r2, [sp, #12]
1409:System/storage/Storage.c ****         if (!Storage_ExtFlash_ParaSec_Write(p_SecInfo->data_sec_addr, page_data_tmp, Storage_TabSiz
 5856              		.loc 1 1409 9 is_stmt 1 view .LVU1852
 5857 00a0 204C     		ldr	r4, .L460+4
 5858              	.LVL665:
1409:System/storage/Storage.c ****         if (!Storage_ExtFlash_ParaSec_Write(p_SecInfo->data_sec_addr, page_data_tmp, Storage_TabSiz
 5859              		.loc 1 1409 9 is_stmt 0 view .LVU1853
 5860 00a2 0FCB     		ldm	r3, {r0, r1, r2, r3}
 5861 00a4 84E80F00 		stm	r4, {r0, r1, r2, r3}
1410:System/storage/Storage.c ****             return false;
 5862              		.loc 1 1410 9 is_stmt 1 view .LVU1854
1410:System/storage/Storage.c ****             return false;
 5863              		.loc 1 1410 14 is_stmt 0 view .LVU1855
 5864 00a8 4FF48052 		mov	r2, #4096
 5865 00ac 2146     		mov	r1, r4
 5866 00ae 6868     		ldr	r0, [r5, #4]	@ unaligned
 5867 00b0 FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Write
 5868              	.LVL666:
1410:System/storage/Storage.c ****             return false;
 5869              		.loc 1 1410 12 view .LVU1856
 5870 00b4 0028     		cmp	r0, #0
 5871 00b6 B1D0     		beq	.L447
1414:System/storage/Storage.c ****         p_SecInfo->free_space_size = p_SecInfo->data_sec_size;
 5872              		.loc 1 1414 9 is_stmt 1 view .LVU1857
1414:System/storage/Storage.c ****         p_SecInfo->free_space_size = p_SecInfo->data_sec_size;
 5873              		.loc 1 1414 46 is_stmt 0 view .LVU1858
 5874 00b8 6B68     		ldr	r3, [r5, #4]	@ unaligned
1414:System/storage/Storage.c ****         p_SecInfo->free_space_size = p_SecInfo->data_sec_size;
 5875              		.loc 1 1414 35 view .LVU1859
 5876 00ba 6B61     		str	r3, [r5, #20]	@ unaligned
1415:System/storage/Storage.c ****         p_SecInfo->para_num = 0;
 5877              		.loc 1 1415 9 is_stmt 1 view .LVU1860
1415:System/storage/Storage.c ****         p_SecInfo->para_num = 0;
 5878              		.loc 1 1415 47 is_stmt 0 view .LVU1861
 5879 00bc AB68     		ldr	r3, [r5, #8]	@ unaligned
1415:System/storage/Storage.c ****         p_SecInfo->para_num = 0;
 5880              		.loc 1 1415 36 view .LVU1862
 5881 00be AB61     		str	r3, [r5, #24]	@ unaligned
1416:System/storage/Storage.c ****         p_SecInfo->para_size = 0;
 5882              		.loc 1 1416 9 is_stmt 1 view .LVU1863
1416:System/storage/Storage.c ****         p_SecInfo->para_size = 0;
 5883              		.loc 1 1416 29 is_stmt 0 view .LVU1864
 5884 00c0 0020     		movs	r0, #0
 5885 00c2 85F82000 		strb	r0, [r5, #32]
 5886 00c6 85F82100 		strb	r0, [r5, #33]
 5887 00ca 85F82200 		strb	r0, [r5, #34]
 5888 00ce 85F82300 		strb	r0, [r5, #35]
1417:System/storage/Storage.c **** 
 5889              		.loc 1 1417 9 is_stmt 1 view .LVU1865
1417:System/storage/Storage.c **** 
 5890              		.loc 1 1417 30 is_stmt 0 view .LVU1866
 5891 00d2 2877     		strb	r0, [r5, #28]
 5892 00d4 6877     		strb	r0, [r5, #29]
 5893 00d6 A877     		strb	r0, [r5, #30]
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 174


 5894 00d8 E877     		strb	r0, [r5, #31]
1420:System/storage/Storage.c ****             return false;
 5895              		.loc 1 1420 9 is_stmt 1 view .LVU1867
1420:System/storage/Storage.c ****             return false;
 5896              		.loc 1 1420 14 is_stmt 0 view .LVU1868
 5897 00da 4FF48052 		mov	r2, #4096
 5898 00de 2146     		mov	r1, r4
 5899 00e0 FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Read
 5900              	.LVL667:
1420:System/storage/Storage.c ****             return false;
 5901              		.loc 1 1420 12 view .LVU1869
 5902 00e4 0028     		cmp	r0, #0
 5903 00e6 99D0     		beq	.L447
1423:System/storage/Storage.c ****         memcpy(page_data_tmp, p_Flash, sizeof(Storage_FlashInfo_TypeDef));
 5904              		.loc 1 1423 9 is_stmt 1 view .LVU1870
 5905 00e8 4FF48062 		mov	r2, #1024
 5906 00ec 0021     		movs	r1, #0
 5907 00ee 2046     		mov	r0, r4
 5908 00f0 FFF7FEFF 		bl	memset
 5909              	.LVL668:
1424:System/storage/Storage.c **** 
 5910              		.loc 1 1424 9 view .LVU1871
 5911 00f4 9C22     		movs	r2, #156
 5912 00f6 0A49     		ldr	r1, .L460
 5913 00f8 2046     		mov	r0, r4
 5914 00fa FFF7FEFF 		bl	memcpy
 5915              	.LVL669:
1427:System/storage/Storage.c ****         memcpy(&page_data_tmp[Storage_InfoPageSize - sizeof(crc)], &crc, sizeof(crc));
 5916              		.loc 1 1427 9 view .LVU1872
1427:System/storage/Storage.c ****         memcpy(&page_data_tmp[Storage_InfoPageSize - sizeof(crc)], &crc, sizeof(crc));
 5917              		.loc 1 1427 15 is_stmt 0 view .LVU1873
 5918 00fe 40F2FE31 		movw	r1, #1022
 5919 0102 2046     		mov	r0, r4
 5920 0104 FFF7FEFF 		bl	Common_CRC16
 5921              	.LVL670:
1428:System/storage/Storage.c **** 
 5922              		.loc 1 1428 9 is_stmt 1 view .LVU1874
 5923 0108 A4F8FE03 		strh	r0, [r4, #1022]	@ movhi
1431:System/storage/Storage.c ****             return false;
 5924              		.loc 1 1431 9 view .LVU1875
1431:System/storage/Storage.c ****             return false;
 5925              		.loc 1 1431 14 is_stmt 0 view .LVU1876
 5926 010c 4FF48052 		mov	r2, #4096
 5927 0110 2146     		mov	r1, r4
 5928 0112 0020     		movs	r0, #0
 5929              	.LVL671:
1431:System/storage/Storage.c ****             return false;
 5930              		.loc 1 1431 14 view .LVU1877
 5931 0114 FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Write
 5932              	.LVL672:
1431:System/storage/Storage.c ****             return false;
 5933              		.loc 1 1431 14 view .LVU1878
 5934 0118 80E7     		b	.L447
 5935              	.LVL673:
 5936              	.L452:
1370:System/storage/Storage.c **** 
 5937              		.loc 1 1370 16 view .LVU1879
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 175


 5938 011a 0020     		movs	r0, #0
 5939              	.LVL674:
1370:System/storage/Storage.c **** 
 5940              		.loc 1 1370 16 view .LVU1880
 5941 011c 7EE7     		b	.L447
 5942              	.L461:
 5943 011e 00BF     		.align	2
 5944              	.L460:
 5945 0120 16000000 		.word	.LANCHOR0+22
 5946 0124 00000000 		.word	page_data_tmp
 5947 0128 EF1001EF 		.word	-285142801
 5948 012c FE0110FE 		.word	-32505346
 5949              		.cfi_endproc
 5950              	.LFE164:
 5952              		.section	.rodata.Storage_CreateItem.str1.4,"aMS",%progbits,1
 5953              		.align	2
 5954              	.LC37:
 5955 0000 4974656D 		.ascii	"Item_Avaliable\000"
 5955      5F417661 
 5955      6C696162 
 5955      6C6500
 5956              		.section	.text.Storage_CreateItem,"ax",%progbits
 5957              		.align	1
 5958              		.syntax unified
 5959              		.thumb
 5960              		.thumb_func
 5962              	Storage_CreateItem:
 5963              	.LVL675:
 5964              	.LFB163:
1108:System/storage/Storage.c ****     uint8_t *crc_buf = NULL;
 5965              		.loc 1 1108 1 is_stmt 1 view -0
 5966              		.cfi_startproc
 5967              		@ args = 0, pretend = 0, frame = 176
 5968              		@ frame_needed = 0, uses_anonymous_args = 0
1108:System/storage/Storage.c ****     uint8_t *crc_buf = NULL;
 5969              		.loc 1 1108 1 is_stmt 0 view .LVU1882
 5970 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 5971              	.LCFI73:
 5972              		.cfi_def_cfa_offset 36
 5973              		.cfi_offset 4, -36
 5974              		.cfi_offset 5, -32
 5975              		.cfi_offset 6, -28
 5976              		.cfi_offset 7, -24
 5977              		.cfi_offset 8, -20
 5978              		.cfi_offset 9, -16
 5979              		.cfi_offset 10, -12
 5980              		.cfi_offset 11, -8
 5981              		.cfi_offset 14, -4
 5982 0004 ADB0     		sub	sp, sp, #180
 5983              	.LCFI74:
 5984              		.cfi_def_cfa_offset 216
 5985 0006 8146     		mov	r9, r0
 5986 0008 0E46     		mov	r6, r1
 5987 000a 1746     		mov	r7, r2
 5988 000c 9846     		mov	r8, r3
1109:System/storage/Storage.c ****     uint8_t *slot_update_ptr = NULL;
 5989              		.loc 1 1109 5 is_stmt 1 view .LVU1883
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 176


 5990              	.LVL676:
1110:System/storage/Storage.c ****     uint16_t base_info_crc = 0;
 5991              		.loc 1 1110 5 view .LVU1884
1111:System/storage/Storage.c ****     uint32_t storage_data_size = 0;
 5992              		.loc 1 1111 5 view .LVU1885
1112:System/storage/Storage.c ****     uint32_t stored_size = 0;
 5993              		.loc 1 1112 5 view .LVU1886
1113:System/storage/Storage.c ****     uint32_t store_addr = 0;
 5994              		.loc 1 1113 5 view .LVU1887
1114:System/storage/Storage.c ****     uint32_t unstored_size = 0;
 5995              		.loc 1 1114 5 view .LVU1888
1115:System/storage/Storage.c ****     uint32_t storage_tab_addr = 0;
 5996              		.loc 1 1115 5 view .LVU1889
1116:System/storage/Storage.c ****     uint32_t cur_freeslot_addr = 0;
 5997              		.loc 1 1116 5 view .LVU1890
1117:System/storage/Storage.c ****     uint32_t slot_useful_size = 0;
 5998              		.loc 1 1117 5 view .LVU1891
1118:System/storage/Storage.c ****     uint8_t item_index = 0;
 5999              		.loc 1 1118 5 view .LVU1892
1119:System/storage/Storage.c ****     Storage_FlashInfo_TypeDef *p_Flash = NULL;
 6000              		.loc 1 1119 5 view .LVU1893
1120:System/storage/Storage.c ****     Storage_BaseSecInfo_TypeDef *p_Sec = NULL;
 6001              		.loc 1 1120 5 view .LVU1894
1121:System/storage/Storage.c ****     Storage_Item_TypeDef *tab_item = NULL;
 6002              		.loc 1 1121 5 view .LVU1895
1122:System/storage/Storage.c ****     Storage_Item_TypeDef crt_item_slot;
 6003              		.loc 1 1122 5 view .LVU1896
1123:System/storage/Storage.c ****     Storage_FreeSlot_TypeDef FreeSlot;
 6004              		.loc 1 1123 5 view .LVU1897
1124:System/storage/Storage.c ****     Storage_DataSlot_TypeDef DataSlot;
 6005              		.loc 1 1124 5 view .LVU1898
1125:System/storage/Storage.c ****     uint8_t align_byte = 0;
 6006              		.loc 1 1125 5 view .LVU1899
1126:System/storage/Storage.c **** 
 6007              		.loc 1 1126 5 view .LVU1900
1128:System/storage/Storage.c ****     memset(&DataSlot, 0, sizeof(Storage_DataSlot_TypeDef));
 6008              		.loc 1 1128 5 view .LVU1901
 6009 000e 4024     		movs	r4, #64
 6010 0010 2246     		mov	r2, r4
 6011              	.LVL677:
1128:System/storage/Storage.c ****     memset(&DataSlot, 0, sizeof(Storage_DataSlot_TypeDef));
 6012              		.loc 1 1128 5 is_stmt 0 view .LVU1902
 6013 0012 0021     		movs	r1, #0
 6014              	.LVL678:
1128:System/storage/Storage.c ****     memset(&DataSlot, 0, sizeof(Storage_DataSlot_TypeDef));
 6015              		.loc 1 1128 5 view .LVU1903
 6016 0014 1CA8     		add	r0, sp, #112
 6017              	.LVL679:
1128:System/storage/Storage.c ****     memset(&DataSlot, 0, sizeof(Storage_DataSlot_TypeDef));
 6018              		.loc 1 1128 5 view .LVU1904
 6019 0016 FFF7FEFF 		bl	memset
 6020              	.LVL680:
1129:System/storage/Storage.c ****     memset(&FreeSlot, 0, sizeof(Storage_FreeSlot_TypeDef));
 6021              		.loc 1 1129 5 is_stmt 1 view .LVU1905
 6022 001a 2246     		mov	r2, r4
 6023 001c 0021     		movs	r1, #0
 6024 001e 08A8     		add	r0, sp, #32
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 177


 6025 0020 FFF7FEFF 		bl	memset
 6026              	.LVL681:
1130:System/storage/Storage.c **** 
 6027              		.loc 1 1130 5 view .LVU1906
 6028 0024 0023     		movs	r3, #0
 6029 0026 1893     		str	r3, [sp, #96]
 6030 0028 1993     		str	r3, [sp, #100]
 6031 002a 1A93     		str	r3, [sp, #104]
 6032 002c 1B93     		str	r3, [sp, #108]
1132:System/storage/Storage.c ****         return Storage_Param_Error;
 6033              		.loc 1 1132 5 view .LVU1907
1132:System/storage/Storage.c ****         return Storage_Param_Error;
 6034              		.loc 1 1132 8 is_stmt 0 view .LVU1908
 6035 002e 002E     		cmp	r6, #0
 6036 0030 00F0EB81 		beq	.L482
1132:System/storage/Storage.c ****         return Storage_Param_Error;
 6037              		.loc 1 1132 24 discriminator 1 view .LVU1909
 6038 0034 002F     		cmp	r7, #0
 6039 0036 00F0EA81 		beq	.L483
1132:System/storage/Storage.c ****         return Storage_Param_Error;
 6040              		.loc 1 1132 44 discriminator 2 view .LVU1910
 6041 003a B8F1000F 		cmp	r8, #0
 6042 003e 00F0E881 		beq	.L484
1135:System/storage/Storage.c ****     p_Sec = Storage_Get_SecInfo(p_Flash, _class);
 6043              		.loc 1 1135 5 is_stmt 1 view .LVU1911
 6044              	.LVL682:
1136:System/storage/Storage.c ****     if (p_Sec == NULL)
 6045              		.loc 1 1136 5 view .LVU1912
1136:System/storage/Storage.c ****     if (p_Sec == NULL)
 6046              		.loc 1 1136 13 is_stmt 0 view .LVU1913
 6047 0042 4946     		mov	r1, r9
 6048 0044 C648     		ldr	r0, .L510
 6049 0046 FFF7FEFF 		bl	Storage_Get_SecInfo
 6050              	.LVL683:
1137:System/storage/Storage.c ****         return Storage_Class_Error;
 6051              		.loc 1 1137 5 is_stmt 1 view .LVU1914
1137:System/storage/Storage.c ****         return Storage_Class_Error;
 6052              		.loc 1 1137 8 is_stmt 0 view .LVU1915
 6053 004a 8346     		mov	fp, r0
 6054 004c 0028     		cmp	r0, #0
 6055 004e 00F0E481 		beq	.L485
1140:System/storage/Storage.c ****         return Storage_FreeSlot_Addr_Error;
 6056              		.loc 1 1140 5 is_stmt 1 view .LVU1916
1140:System/storage/Storage.c ****         return Storage_FreeSlot_Addr_Error;
 6057              		.loc 1 1140 14 is_stmt 0 view .LVU1917
 6058 0052 4069     		ldr	r0, [r0, #20]	@ unaligned
 6059              	.LVL684:
1140:System/storage/Storage.c ****         return Storage_FreeSlot_Addr_Error;
 6060              		.loc 1 1140 8 view .LVU1918
 6061 0054 0028     		cmp	r0, #0
 6062 0056 00F0E281 		beq	.L486
1143:System/storage/Storage.c ****         (FreeSlot.head_tag == STORAGE_SLOT_HEAD_TAG) && \
 6063              		.loc 1 1143 5 is_stmt 1 view .LVU1919
1143:System/storage/Storage.c ****         (FreeSlot.head_tag == STORAGE_SLOT_HEAD_TAG) && \
 6064              		.loc 1 1143 9 is_stmt 0 view .LVU1920
 6065 005a 1022     		movs	r2, #16
 6066 005c 18A9     		add	r1, sp, #96
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 178


 6067 005e FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Read
 6068              	.LVL685:
1143:System/storage/Storage.c ****         (FreeSlot.head_tag == STORAGE_SLOT_HEAD_TAG) && \
 6069              		.loc 1 1143 8 view .LVU1921
 6070 0062 0028     		cmp	r0, #0
 6071 0064 00F0DD81 		beq	.L487
1143:System/storage/Storage.c ****         (FreeSlot.head_tag == STORAGE_SLOT_HEAD_TAG) && \
 6072              		.loc 1 1143 118 discriminator 1 view .LVU1922
 6073 0068 189A     		ldr	r2, [sp, #96]
 6074 006a BE4B     		ldr	r3, .L510+4
 6075 006c 9A42     		cmp	r2, r3
 6076 006e 01D0     		beq	.L501
1353:System/storage/Storage.c **** }
 6077              		.loc 1 1353 12 view .LVU1923
 6078 0070 0020     		movs	r0, #0
 6079 0072 CFE1     		b	.L463
 6080              	.L501:
1144:System/storage/Storage.c ****         (FreeSlot.end_tag == STORAGE_SLOT_END_TAG) && \
 6081              		.loc 1 1144 54 view .LVU1924
 6082 0074 1B9A     		ldr	r2, [sp, #108]
 6083 0076 BC4B     		ldr	r3, .L510+8
 6084 0078 9A42     		cmp	r2, r3
 6085 007a 01D0     		beq	.L502
1353:System/storage/Storage.c **** }
 6086              		.loc 1 1353 12 view .LVU1925
 6087 007c 0020     		movs	r0, #0
 6088 007e C9E1     		b	.L463
 6089              	.L502:
1146:System/storage/Storage.c ****     {
 6090              		.loc 1 1146 10 view .LVU1926
 6091 0080 3046     		mov	r0, r6
 6092 0082 FFF7FEFF 		bl	strlen
 6093              	.LVL686:
1145:System/storage/Storage.c ****         (strlen(name) <= STORAGE_NAME_LEN))
 6094              		.loc 1 1145 52 view .LVU1927
 6095 0086 2928     		cmp	r0, #41
 6096 0088 00F2CD81 		bhi	.L490
1148:System/storage/Storage.c **** 
 6097              		.loc 1 1148 9 is_stmt 1 view .LVU1928
1148:System/storage/Storage.c **** 
 6098              		.loc 1 1148 27 is_stmt 0 view .LVU1929
 6099 008c DBF81430 		ldr	r3, [fp, #20]	@ unaligned
 6100 0090 0293     		str	r3, [sp, #8]
 6101              	.LVL687:
1150:System/storage/Storage.c ****         {
 6102              		.loc 1 1150 9 is_stmt 1 view .LVU1930
1150:System/storage/Storage.c ****         {
 6103              		.loc 1 1150 12 is_stmt 0 view .LVU1931
 6104 0092 18F0030F 		tst	r8, #3
 6105 0096 1DD0     		beq	.L491
1152:System/storage/Storage.c ****         }
 6106              		.loc 1 1152 13 is_stmt 1 view .LVU1932
1152:System/storage/Storage.c ****         }
 6107              		.loc 1 1152 52 is_stmt 0 view .LVU1933
 6108 0098 08F00303 		and	r3, r8, #3
 6109              	.LVL688:
1152:System/storage/Storage.c ****         }
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 179


 6110              		.loc 1 1152 24 view .LVU1934
 6111 009c C3F10403 		rsb	r3, r3, #4
 6112 00a0 DBB2     		uxtb	r3, r3
 6113 00a2 0093     		str	r3, [sp]
 6114              	.LVL689:
 6115              	.L464:
1157:System/storage/Storage.c ****         p_Sec->para_size += (size + align_byte);
 6116              		.loc 1 1157 9 is_stmt 1 view .LVU1935
1157:System/storage/Storage.c ****         p_Sec->para_size += (size + align_byte);
 6117              		.loc 1 1157 14 is_stmt 0 view .LVU1936
 6118 00a4 DBF82030 		ldr	r3, [fp, #32]	@ unaligned
1157:System/storage/Storage.c ****         p_Sec->para_size += (size + align_byte);
 6119              		.loc 1 1157 25 view .LVU1937
 6120 00a8 0133     		adds	r3, r3, #1
 6121 00aa CBF82030 		str	r3, [fp, #32]	@ unaligned
1158:System/storage/Storage.c ****         
 6122              		.loc 1 1158 9 is_stmt 1 view .LVU1938
1158:System/storage/Storage.c ****         
 6123              		.loc 1 1158 35 is_stmt 0 view .LVU1939
 6124 00ae 009B     		ldr	r3, [sp]
 6125 00b0 08EB0302 		add	r2, r8, r3
1158:System/storage/Storage.c ****         
 6126              		.loc 1 1158 26 view .LVU1940
 6127 00b4 DBF81C30 		ldr	r3, [fp, #28]	@ unaligned
 6128 00b8 1344     		add	r3, r3, r2
 6129 00ba CBF81C30 		str	r3, [fp, #28]	@ unaligned
1160:System/storage/Storage.c ****         for(uint16_t tab_i = 0; tab_i < p_Sec->page_num; tab_i ++)
 6130              		.loc 1 1160 9 is_stmt 1 view .LVU1941
1160:System/storage/Storage.c ****         for(uint16_t tab_i = 0; tab_i < p_Sec->page_num; tab_i ++)
 6131              		.loc 1 1160 26 is_stmt 0 view .LVU1942
 6132 00be DBF80020 		ldr	r2, [fp]	@ unaligned
 6133              	.LVL690:
1161:System/storage/Storage.c ****         {
 6134              		.loc 1 1161 9 is_stmt 1 view .LVU1943
 6135              	.LBB32:
1161:System/storage/Storage.c ****         {
 6136              		.loc 1 1161 13 view .LVU1944
1161:System/storage/Storage.c ****         {
 6137              		.loc 1 1161 22 is_stmt 0 view .LVU1945
 6138 00c2 0023     		movs	r3, #0
 6139              	.LBE32:
1119:System/storage/Storage.c ****     Storage_FlashInfo_TypeDef *p_Flash = NULL;
 6140              		.loc 1 1119 13 view .LVU1946
 6141 00c4 0193     		str	r3, [sp, #4]
1114:System/storage/Storage.c ****     uint32_t unstored_size = 0;
 6142              		.loc 1 1114 14 view .LVU1947
 6143 00c6 1D46     		mov	r5, r3
 6144 00c8 9246     		mov	r10, r2
 6145 00ca CDF80C90 		str	r9, [sp, #12]
 6146 00ce 9946     		mov	r9, r3
 6147 00d0 0497     		str	r7, [sp, #16]
 6148              	.LBB35:
1161:System/storage/Storage.c ****         {
 6149              		.loc 1 1161 9 view .LVU1948
 6150 00d2 61E0     		b	.L465
 6151              	.LVL691:
 6152              	.L491:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 180


1161:System/storage/Storage.c ****         {
 6153              		.loc 1 1161 9 view .LVU1949
 6154              	.LBE35:
1155:System/storage/Storage.c **** 
 6155              		.loc 1 1155 24 view .LVU1950
 6156 00d4 0023     		movs	r3, #0
 6157              	.LVL692:
1155:System/storage/Storage.c **** 
 6158              		.loc 1 1155 24 view .LVU1951
 6159 00d6 0093     		str	r3, [sp]
 6160 00d8 E4E7     		b	.L464
 6161              	.LVL693:
 6162              	.L505:
 6163              	.LBB36:
1168:System/storage/Storage.c **** 
 6164              		.loc 1 1168 24 view .LVU1952
 6165 00da 0820     		movs	r0, #8
 6166 00dc 9AE1     		b	.L463
 6167              	.LVL694:
 6168              	.L504:
 6169              	.LBB33:
1174:System/storage/Storage.c ****                      (memcmp(tab_item[item_i].name, STORAGE_FREEITEM_NAME, strlen(STORAGE_FREEITEM_
 6170              		.loc 1 1174 39 discriminator 1 view .LVU1953
 6171 00de 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
1173:System/storage/Storage.c ****                      (tab_item[item_i].end_tag == STORAGE_ITEM_END_TAG) && \
 6172              		.loc 1 1173 75 discriminator 1 view .LVU1954
 6173 00e2 BB2B     		cmp	r3, #187
 6174 00e4 11D1     		bne	.L467
1175:System/storage/Storage.c ****                     ((tab_item[item_i].head_tag != STORAGE_ITEM_HEAD_TAG) && \
 6175              		.loc 1 1175 23 view .LVU1955
 6176 00e6 0E22     		movs	r2, #14
 6177 00e8 A049     		ldr	r1, .L510+12
 6178 00ea B81C     		adds	r0, r7, #2
 6179 00ec FFF7FEFF 		bl	memcmp
 6180              	.LVL695:
1174:System/storage/Storage.c ****                      (memcmp(tab_item[item_i].name, STORAGE_FREEITEM_NAME, strlen(STORAGE_FREEITEM_
 6181              		.loc 1 1174 73 view .LVU1956
 6182 00f0 58B9     		cbnz	r0, .L467
 6183 00f2 10E0     		b	.L468
 6184              	.L469:
1171:System/storage/Storage.c ****             {
 6185              		.loc 1 1171 71 is_stmt 1 discriminator 2 view .LVU1957
1171:System/storage/Storage.c ****             {
 6186              		.loc 1 1171 78 is_stmt 0 discriminator 2 view .LVU1958
 6187 00f4 0134     		adds	r4, r4, #1
 6188              	.LVL696:
1171:System/storage/Storage.c ****             {
 6189              		.loc 1 1171 78 discriminator 2 view .LVU1959
 6190 00f6 A4B2     		uxth	r4, r4
 6191              	.LVL697:
 6192              	.L466:
1171:System/storage/Storage.c ****             {
 6193              		.loc 1 1171 39 is_stmt 1 discriminator 1 view .LVU1960
1171:System/storage/Storage.c ****             {
 6194              		.loc 1 1171 13 is_stmt 0 discriminator 1 view .LVU1961
 6195 00f8 3F2C     		cmp	r4, #63
 6196 00fa 5DD8     		bhi	.L503
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 181


1173:System/storage/Storage.c ****                      (tab_item[item_i].end_tag == STORAGE_ITEM_END_TAG) && \
 6197              		.loc 1 1173 17 is_stmt 1 view .LVU1962
1173:System/storage/Storage.c ****                      (tab_item[item_i].end_tag == STORAGE_ITEM_END_TAG) && \
 6198              		.loc 1 1173 31 is_stmt 0 view .LVU1963
 6199 00fc A301     		lsls	r3, r4, #6
 6200 00fe 9C4A     		ldr	r2, .L510+16
 6201 0100 02EB8417 		add	r7, r2, r4, lsl #6
1173:System/storage/Storage.c ****                      (tab_item[item_i].end_tag == STORAGE_ITEM_END_TAG) && \
 6202              		.loc 1 1173 39 view .LVU1964
 6203 0104 9D5C     		ldrb	r5, [r3, r2]	@ zero_extendqisi2
1173:System/storage/Storage.c ****                      (tab_item[item_i].end_tag == STORAGE_ITEM_END_TAG) && \
 6204              		.loc 1 1173 20 view .LVU1965
 6205 0106 AA2D     		cmp	r5, #170
 6206 0108 E9D0     		beq	.L504
 6207              	.L467:
1175:System/storage/Storage.c ****                     ((tab_item[item_i].head_tag != STORAGE_ITEM_HEAD_TAG) && \
 6208              		.loc 1 1175 114 view .LVU1966
 6209 010a AA2D     		cmp	r5, #170
 6210 010c F2D0     		beq	.L469
1177:System/storage/Storage.c ****                 {
 6211              		.loc 1 1177 39 view .LVU1967
 6212 010e 97F83F30 		ldrb	r3, [r7, #63]	@ zero_extendqisi2
1176:System/storage/Storage.c ****                      (tab_item[item_i].end_tag != STORAGE_ITEM_END_TAG)))
 6213              		.loc 1 1176 75 view .LVU1968
 6214 0112 BB2B     		cmp	r3, #187
 6215 0114 EED0     		beq	.L469
 6216              	.L468:
1179:System/storage/Storage.c **** 
 6217              		.loc 1 1179 21 is_stmt 1 view .LVU1969
1179:System/storage/Storage.c **** 
 6218              		.loc 1 1179 32 is_stmt 0 view .LVU1970
 6219 0116 E3B2     		uxtb	r3, r4
 6220 0118 0193     		str	r3, [sp, #4]
 6221              	.LVL698:
1182:System/storage/Storage.c **** 
 6222              		.loc 1 1182 21 is_stmt 1 view .LVU1971
1182:System/storage/Storage.c **** 
 6223              		.loc 1 1182 35 is_stmt 0 view .LVU1972
 6224 011a 3C46     		mov	r4, r7
 6225              	.LVL699:
1182:System/storage/Storage.c **** 
 6226              		.loc 1 1182 35 view .LVU1973
 6227 011c 1CAD     		add	r5, sp, #112
 6228 011e 4037     		adds	r7, r7, #64
 6229              	.LVL700:
 6230              	.L470:
1182:System/storage/Storage.c **** 
 6231              		.loc 1 1182 35 view .LVU1974
 6232 0120 AC46     		mov	ip, r5
 6233 0122 2068     		ldr	r0, [r4]	@ unaligned
 6234 0124 6168     		ldr	r1, [r4, #4]	@ unaligned
 6235 0126 A268     		ldr	r2, [r4, #8]	@ unaligned
 6236 0128 E368     		ldr	r3, [r4, #12]	@ unaligned
 6237 012a ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 6238 012e 1034     		adds	r4, r4, #16
 6239 0130 6546     		mov	r5, ip
 6240 0132 BC42     		cmp	r4, r7
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 182


 6241 0134 F4D1     		bne	.L470
1185:System/storage/Storage.c ****                     memset(crt_item_slot.name, '\0', STORAGE_NAME_LEN);
 6242              		.loc 1 1185 21 is_stmt 1 view .LVU1975
1185:System/storage/Storage.c ****                     memset(crt_item_slot.name, '\0', STORAGE_NAME_LEN);
 6243              		.loc 1 1185 42 is_stmt 0 view .LVU1976
 6244 0136 039B     		ldr	r3, [sp, #12]
 6245 0138 8DF87130 		strb	r3, [sp, #113]
1186:System/storage/Storage.c ****                     memcpy(crt_item_slot.name, name, strlen(name));
 6246              		.loc 1 1186 21 is_stmt 1 view .LVU1977
 6247 013c 2922     		movs	r2, #41
 6248 013e 0021     		movs	r1, #0
 6249 0140 0DF17200 		add	r0, sp, #114
 6250 0144 FFF7FEFF 		bl	memset
 6251              	.LVL701:
1187:System/storage/Storage.c ****                     crt_item_slot.len = size + align_byte;
 6252              		.loc 1 1187 21 view .LVU1978
 6253 0148 3046     		mov	r0, r6
 6254 014a FFF7FEFF 		bl	strlen
 6255              	.LVL702:
 6256 014e 0246     		mov	r2, r0
 6257 0150 3146     		mov	r1, r6
 6258 0152 0DF17200 		add	r0, sp, #114
 6259 0156 FFF7FEFF 		bl	memcpy
 6260              	.LVL703:
1188:System/storage/Storage.c **** 
 6261              		.loc 1 1188 21 view .LVU1979
1188:System/storage/Storage.c **** 
 6262              		.loc 1 1188 46 is_stmt 0 view .LVU1980
 6263 015a 009B     		ldr	r3, [sp]
 6264 015c 4344     		add	r3, r8, r3
1188:System/storage/Storage.c **** 
 6265              		.loc 1 1188 39 view .LVU1981
 6266 015e ADF89F30 		strh	r3, [sp, #159]	@ unaligned
1191:System/storage/Storage.c ****                     crt_item_slot.head_tag = STORAGE_ITEM_HEAD_TAG;
 6267              		.loc 1 1191 21 is_stmt 1 view .LVU1982
1191:System/storage/Storage.c ****                     crt_item_slot.head_tag = STORAGE_ITEM_HEAD_TAG;
 6268              		.loc 1 1191 52 is_stmt 0 view .LVU1983
 6269 0162 DBF81430 		ldr	r3, [fp, #20]	@ unaligned
1191:System/storage/Storage.c ****                     crt_item_slot.head_tag = STORAGE_ITEM_HEAD_TAG;
 6270              		.loc 1 1191 45 view .LVU1984
 6271 0166 CDF89B30 		str	r3, [sp, #155]	@ unaligned
1192:System/storage/Storage.c ****                     crt_item_slot.end_tag = STORAGE_ITEM_END_TAG;
 6272              		.loc 1 1192 21 is_stmt 1 view .LVU1985
1192:System/storage/Storage.c ****                     crt_item_slot.end_tag = STORAGE_ITEM_END_TAG;
 6273              		.loc 1 1192 44 is_stmt 0 view .LVU1986
 6274 016a AA23     		movs	r3, #170
 6275 016c 8DF87030 		strb	r3, [sp, #112]
1193:System/storage/Storage.c **** 
 6276              		.loc 1 1193 21 is_stmt 1 view .LVU1987
1193:System/storage/Storage.c **** 
 6277              		.loc 1 1193 43 is_stmt 0 view .LVU1988
 6278 0170 BB23     		movs	r3, #187
 6279 0172 8DF8AF30 		strb	r3, [sp, #175]
1196:System/storage/Storage.c ****                     store_addr = crt_item_slot.data_addr;
 6280              		.loc 1 1196 21 is_stmt 1 view .LVU1989
 6281 0176 1CA8     		add	r0, sp, #112
 6282 0178 FFF7FEFF 		bl	Storage_Comput_ItemSlot_CRC
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 183


 6283              	.LVL704:
1197:System/storage/Storage.c ****                     break; 
 6284              		.loc 1 1197 21 view .LVU1990
1197:System/storage/Storage.c ****                     break; 
 6285              		.loc 1 1197 32 is_stmt 0 view .LVU1991
 6286 017c DDF89B50 		ldr	r5, [sp, #155]	@ unaligned
 6287              	.LVL705:
1198:System/storage/Storage.c ****                 }
 6288              		.loc 1 1198 21 is_stmt 1 view .LVU1992
 6289              	.L471:
1198:System/storage/Storage.c ****                 }
 6290              		.loc 1 1198 21 is_stmt 0 view .LVU1993
 6291              	.LBE33:
1202:System/storage/Storage.c ****                 break;
 6292              		.loc 1 1202 13 is_stmt 1 view .LVU1994
1202:System/storage/Storage.c ****                 break;
 6293              		.loc 1 1202 16 is_stmt 0 view .LVU1995
 6294 0180 F5B9     		cbnz	r5, .L473
1205:System/storage/Storage.c ****         }
 6295              		.loc 1 1205 13 is_stmt 1 discriminator 2 view .LVU1996
1205:System/storage/Storage.c ****         }
 6296              		.loc 1 1205 39 is_stmt 0 discriminator 2 view .LVU1997
 6297 0182 DBF81030 		ldr	r3, [fp, #16]	@ unaligned
1205:System/storage/Storage.c ****         }
 6298              		.loc 1 1205 57 discriminator 2 view .LVU1998
 6299 0186 DBF80C20 		ldr	r2, [fp, #12]	@ unaligned
1205:System/storage/Storage.c ****         }
 6300              		.loc 1 1205 50 discriminator 2 view .LVU1999
 6301 018a B3FBF2F3 		udiv	r3, r3, r2
1205:System/storage/Storage.c ****         }
 6302              		.loc 1 1205 30 discriminator 2 view .LVU2000
 6303 018e 9A44     		add	r10, r10, r3
 6304              	.LVL706:
1161:System/storage/Storage.c ****         {
 6305              		.loc 1 1161 58 is_stmt 1 discriminator 2 view .LVU2001
1161:System/storage/Storage.c ****         {
 6306              		.loc 1 1161 64 is_stmt 0 discriminator 2 view .LVU2002
 6307 0190 09F10109 		add	r9, r9, #1
 6308              	.LVL707:
1161:System/storage/Storage.c ****         {
 6309              		.loc 1 1161 64 discriminator 2 view .LVU2003
 6310 0194 1FFA89F9 		uxth	r9, r9
 6311              	.LVL708:
 6312              	.L465:
1161:System/storage/Storage.c ****         {
 6313              		.loc 1 1161 33 is_stmt 1 discriminator 1 view .LVU2004
1161:System/storage/Storage.c ****         {
 6314              		.loc 1 1161 46 is_stmt 0 discriminator 1 view .LVU2005
 6315 0198 DBF80C30 		ldr	r3, [fp, #12]	@ unaligned
1161:System/storage/Storage.c ****         {
 6316              		.loc 1 1161 9 discriminator 1 view .LVU2006
 6317 019c 9945     		cmp	r9, r3
 6318 019e 0FD2     		bcs	.L473
1163:System/storage/Storage.c ****             item_index = 0;
 6319              		.loc 1 1163 13 is_stmt 1 view .LVU2007
 6320              	.LVL709:
1164:System/storage/Storage.c **** 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 184


 6321              		.loc 1 1164 13 view .LVU2008
1167:System/storage/Storage.c ****                 return Storage_Read_Error;
 6322              		.loc 1 1167 13 view .LVU2009
1167:System/storage/Storage.c ****                 return Storage_Read_Error;
 6323              		.loc 1 1167 87 is_stmt 0 view .LVU2010
 6324 01a0 DBF81020 		ldr	r2, [fp, #16]	@ unaligned
1167:System/storage/Storage.c ****                 return Storage_Read_Error;
 6325              		.loc 1 1167 18 view .LVU2011
 6326 01a4 B2FBF3F2 		udiv	r2, r2, r3
 6327 01a8 7149     		ldr	r1, .L510+16
 6328 01aa 5046     		mov	r0, r10
 6329 01ac FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Read
 6330              	.LVL710:
1167:System/storage/Storage.c ****                 return Storage_Read_Error;
 6331              		.loc 1 1167 16 view .LVU2012
 6332 01b0 0028     		cmp	r0, #0
 6333 01b2 92D0     		beq	.L505
 6334              	.LBB34:
1171:System/storage/Storage.c ****             {
 6335              		.loc 1 1171 27 view .LVU2013
 6336 01b4 0024     		movs	r4, #0
 6337 01b6 9FE7     		b	.L466
 6338              	.LVL711:
 6339              	.L503:
1171:System/storage/Storage.c ****             {
 6340              		.loc 1 1171 27 view .LVU2014
 6341              	.LBE34:
1164:System/storage/Storage.c **** 
 6342              		.loc 1 1164 24 view .LVU2015
 6343 01b8 0023     		movs	r3, #0
 6344 01ba 0193     		str	r3, [sp, #4]
1163:System/storage/Storage.c ****             item_index = 0;
 6345              		.loc 1 1163 24 view .LVU2016
 6346 01bc 1D46     		mov	r5, r3
 6347 01be DFE7     		b	.L471
 6348              	.LVL712:
 6349              	.L473:
1163:System/storage/Storage.c ****             item_index = 0;
 6350              		.loc 1 1163 24 view .LVU2017
 6351              	.LBE36:
1208:System/storage/Storage.c ****             return Storage_DataAddr_Update_Error;
 6352              		.loc 1 1208 12 view .LVU2018
 6353 01c0 CDF81CA0 		str	r10, [sp, #28]
 6354 01c4 049F     		ldr	r7, [sp, #16]
1208:System/storage/Storage.c ****             return Storage_DataAddr_Update_Error;
 6355              		.loc 1 1208 9 is_stmt 1 view .LVU2019
1208:System/storage/Storage.c ****             return Storage_DataAddr_Update_Error;
 6356              		.loc 1 1208 12 is_stmt 0 view .LVU2020
 6357 01c6 002D     		cmp	r5, #0
 6358 01c8 00F02F81 		beq	.L493
1211:System/storage/Storage.c ****         /* get align byte size */
 6359              		.loc 1 1211 9 is_stmt 1 view .LVU2021
 6360              	.LVL713:
1214:System/storage/Storage.c **** 
 6361              		.loc 1 1214 9 view .LVU2022
1214:System/storage/Storage.c **** 
 6362              		.loc 1 1214 27 is_stmt 0 view .LVU2023
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 185


 6363 01cc 009B     		ldr	r3, [sp]
 6364 01ce 4344     		add	r3, r3, r8
 6365 01d0 1A46     		mov	r2, r3
 6366 01d2 0493     		str	r3, [sp, #16]
 6367              	.LVL714:
1217:System/storage/Storage.c ****         unstored_size = DataSlot.total_data_size;
 6368              		.loc 1 1217 9 is_stmt 1 view .LVU2024
1217:System/storage/Storage.c ****         unstored_size = DataSlot.total_data_size;
 6369              		.loc 1 1217 34 is_stmt 0 view .LVU2025
 6370 01d4 CDF84D30 		str	r3, [sp, #77]	@ unaligned
1218:System/storage/Storage.c **** 
 6371              		.loc 1 1218 9 is_stmt 1 view .LVU2026
 6372              	.LVL715:
1220:System/storage/Storage.c ****         {
 6373              		.loc 1 1220 9 view .LVU2027
1220:System/storage/Storage.c ****         {
 6374              		.loc 1 1220 18 is_stmt 0 view .LVU2028
 6375 01d8 DBF81830 		ldr	r3, [fp, #24]	@ unaligned
1220:System/storage/Storage.c ****         {
 6376              		.loc 1 1220 12 view .LVU2029
 6377 01dc 9342     		cmp	r3, r2
 6378 01de C0F0D280 		bcc	.L475
1113:System/storage/Storage.c ****     uint32_t store_addr = 0;
 6379              		.loc 1 1113 14 view .LVU2030
 6380 01e2 4FF0000A 		mov	r10, #0
 6381              	.LVL716:
1113:System/storage/Storage.c ****     uint32_t store_addr = 0;
 6382              		.loc 1 1113 14 view .LVU2031
 6383 01e6 9046     		mov	r8, r2
 6384 01e8 CDF814B0 		str	fp, [sp, #20]
 6385 01ec 0696     		str	r6, [sp, #24]
 6386 01ee 3BE0     		b	.L480
 6387              	.LVL717:
 6388              	.L507:
1242:System/storage/Storage.c ****                     stored_size += DataSlot.cur_slot_size;
 6389              		.loc 1 1242 21 is_stmt 1 view .LVU2032
1242:System/storage/Storage.c ****                     stored_size += DataSlot.cur_slot_size;
 6390              		.loc 1 1242 44 is_stmt 0 view .LVU2033
 6391 01f0 CDF85160 		str	r6, [sp, #81]	@ unaligned
1243:System/storage/Storage.c ****                     unstored_size -= stored_size;
 6392              		.loc 1 1243 21 is_stmt 1 view .LVU2034
1243:System/storage/Storage.c ****                     unstored_size -= stored_size;
 6393              		.loc 1 1243 33 is_stmt 0 view .LVU2035
 6394 01f4 0AEB060B 		add	fp, r10, r6
 6395              	.LVL718:
1244:System/storage/Storage.c ****                     DataSlot.align_size = 0;
 6396              		.loc 1 1244 21 is_stmt 1 view .LVU2036
1244:System/storage/Storage.c ****                     DataSlot.align_size = 0;
 6397              		.loc 1 1244 35 is_stmt 0 view .LVU2037
 6398 01f8 A8EB0B08 		sub	r8, r8, fp
 6399              	.LVL719:
1245:System/storage/Storage.c ****                     
 6400              		.loc 1 1245 21 is_stmt 1 view .LVU2038
1245:System/storage/Storage.c ****                     
 6401              		.loc 1 1245 41 is_stmt 0 view .LVU2039
 6402 01fc 0023     		movs	r3, #0
 6403 01fe 8DF85930 		strb	r3, [sp, #89]
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 186


1248:System/storage/Storage.c **** 
 6404              		.loc 1 1248 21 is_stmt 1 view .LVU2040
1248:System/storage/Storage.c **** 
 6405              		.loc 1 1248 49 is_stmt 0 view .LVU2041
 6406 0202 1A9B     		ldr	r3, [sp, #104]
 6407 0204 0293     		str	r3, [sp, #8]
 6408              	.LVL720:
1248:System/storage/Storage.c **** 
 6409              		.loc 1 1248 39 view .LVU2042
 6410 0206 CDF85530 		str	r3, [sp, #85]	@ unaligned
1252:System/storage/Storage.c ****                     if (!Storage_ExtFlash_ParaSec_Read(cur_freeslot_addr, (uint8_t *)&FreeSlot, siz
 6411              		.loc 1 1252 21 is_stmt 1 view .LVU2043
 6412              	.LVL721:
1253:System/storage/Storage.c ****                         return Storage_FreeSlot_Get_Error;   
 6413              		.loc 1 1253 21 view .LVU2044
1253:System/storage/Storage.c ****                         return Storage_FreeSlot_Get_Error;   
 6414              		.loc 1 1253 26 is_stmt 0 view .LVU2045
 6415 020a 1022     		movs	r2, #16
 6416 020c 18A9     		add	r1, sp, #96
 6417 020e 1846     		mov	r0, r3
 6418 0210 FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Read
 6419              	.LVL722:
1253:System/storage/Storage.c ****                         return Storage_FreeSlot_Get_Error;   
 6420              		.loc 1 1253 24 view .LVU2046
 6421 0214 0028     		cmp	r0, #0
 6422 0216 5BD1     		bne	.L477
1254:System/storage/Storage.c ****                 }
 6423              		.loc 1 1254 32 view .LVU2047
 6424 0218 1720     		movs	r0, #23
 6425 021a FBE0     		b	.L463
 6426              	.LVL723:
 6427              	.L478:
1293:System/storage/Storage.c **** 
 6428              		.loc 1 1293 17 is_stmt 1 view .LVU2048
1293:System/storage/Storage.c **** 
 6429              		.loc 1 1293 44 is_stmt 0 view .LVU2049
 6430 021c 9DF859A0 		ldrb	r10, [sp, #89]	@ zero_extendqisi2
1293:System/storage/Storage.c **** 
 6431              		.loc 1 1293 33 view .LVU2050
 6432 0220 04EB0A03 		add	r3, r4, r10
 6433 0224 0393     		str	r3, [sp, #12]
 6434              	.LVL724:
1296:System/storage/Storage.c ****                 memcpy(slot_update_ptr, &DataSlot.slot_crc, sizeof(DataSlot.slot_crc));
 6435              		.loc 1 1296 17 is_stmt 1 view .LVU2051
1296:System/storage/Storage.c ****                 memcpy(slot_update_ptr, &DataSlot.slot_crc, sizeof(DataSlot.slot_crc));
 6436              		.loc 1 1296 37 is_stmt 0 view .LVU2052
 6437 0226 DFF84C91 		ldr	r9, .L510+20
 6438              	.LVL725:
1296:System/storage/Storage.c ****                 memcpy(slot_update_ptr, &DataSlot.slot_crc, sizeof(DataSlot.slot_crc));
 6439              		.loc 1 1296 37 view .LVU2053
 6440 022a DDF85110 		ldr	r1, [sp, #81]	@ unaligned
 6441 022e 4846     		mov	r0, r9
 6442 0230 FFF7FEFF 		bl	Common_CRC16
 6443              	.LVL726:
1296:System/storage/Storage.c ****                 memcpy(slot_update_ptr, &DataSlot.slot_crc, sizeof(DataSlot.slot_crc));
 6444              		.loc 1 1296 37 view .LVU2054
 6445 0234 80B2     		uxth	r0, r0
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 187


1296:System/storage/Storage.c ****                 memcpy(slot_update_ptr, &DataSlot.slot_crc, sizeof(DataSlot.slot_crc));
 6446              		.loc 1 1296 35 view .LVU2055
 6447 0236 ADF85A00 		strh	r0, [sp, #90]	@ movhi
1297:System/storage/Storage.c ****                 slot_update_ptr += sizeof(DataSlot.slot_crc);
 6448              		.loc 1 1297 17 is_stmt 1 view .LVU2056
 6449 023a 24F80A00 		strh	r0, [r4, r10]	@ unaligned
1298:System/storage/Storage.c ****                 memcpy(slot_update_ptr, &DataSlot.end_tag, sizeof(DataSlot.end_tag));
 6450              		.loc 1 1298 17 view .LVU2057
 6451              	.LVL727:
1299:System/storage/Storage.c ****                 slot_update_ptr += sizeof(DataSlot.end_tag);
 6452              		.loc 1 1299 17 view .LVU2058
 6453 023e 179B     		ldr	r3, [sp, #92]
 6454 0240 039A     		ldr	r2, [sp, #12]
 6455 0242 C2F80230 		str	r3, [r2, #2]	@ unaligned
1300:System/storage/Storage.c **** 
 6456              		.loc 1 1300 17 view .LVU2059
 6457              	.LVL728:
1303:System/storage/Storage.c ****                     return Storage_Write_Error;
 6458              		.loc 1 1303 17 view .LVU2060
1303:System/storage/Storage.c ****                     return Storage_Write_Error;
 6459              		.loc 1 1303 89 is_stmt 0 view .LVU2061
 6460 0246 DDF85120 		ldr	r2, [sp, #81]	@ unaligned
1303:System/storage/Storage.c ****                     return Storage_Write_Error;
 6461              		.loc 1 1303 22 view .LVU2062
 6462 024a 4032     		adds	r2, r2, #64
 6463 024c A9F13A01 		sub	r1, r9, #58
 6464 0250 2846     		mov	r0, r5
 6465 0252 FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Write
 6466              	.LVL729:
1303:System/storage/Storage.c ****                     return Storage_Write_Error;
 6467              		.loc 1 1303 20 view .LVU2063
 6468 0256 0028     		cmp	r0, #0
 6469 0258 00F0EB80 		beq	.L495
1306:System/storage/Storage.c ****                 {
 6470              		.loc 1 1306 17 is_stmt 1 view .LVU2064
1306:System/storage/Storage.c ****                 {
 6471              		.loc 1 1306 29 is_stmt 0 view .LVU2065
 6472 025c DDF85550 		ldr	r5, [sp, #85]	@ unaligned
 6473              	.LVL730:
1306:System/storage/Storage.c ****                 {
 6474              		.loc 1 1306 20 view .LVU2066
 6475 0260 002D     		cmp	r5, #0
 6476 0262 73D0     		beq	.L506
1323:System/storage/Storage.c ****                     store_addr = DataSlot.nxt_addr;
 6477              		.loc 1 1323 21 is_stmt 1 view .LVU2067
1323:System/storage/Storage.c ****                     store_addr = DataSlot.nxt_addr;
 6478              		.loc 1 1323 33 is_stmt 0 view .LVU2068
 6479 0264 0BEB060A 		add	r10, fp, r6
 6480              	.LVL731:
1324:System/storage/Storage.c ****                 }
 6481              		.loc 1 1324 21 is_stmt 1 view .LVU2069
1222:System/storage/Storage.c ****             {
 6482              		.loc 1 1222 18 view .LVU2070
 6483              	.L480:
1222:System/storage/Storage.c ****             {
 6484              		.loc 1 1222 13 view .LVU2071
1225:System/storage/Storage.c ****                 DataSlot.end_tag = STORAGE_SLOT_END_TAG;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 188


 6485              		.loc 1 1225 17 view .LVU2072
1225:System/storage/Storage.c ****                 DataSlot.end_tag = STORAGE_SLOT_END_TAG;
 6486              		.loc 1 1225 35 is_stmt 0 view .LVU2073
 6487 0268 3E4B     		ldr	r3, .L510+4
 6488 026a 0893     		str	r3, [sp, #32]
1226:System/storage/Storage.c ****                 memset(DataSlot.name, '\0', STORAGE_NAME_LEN);
 6489              		.loc 1 1226 17 is_stmt 1 view .LVU2074
1226:System/storage/Storage.c ****                 memset(DataSlot.name, '\0', STORAGE_NAME_LEN);
 6490              		.loc 1 1226 34 is_stmt 0 view .LVU2075
 6491 026c 3E4B     		ldr	r3, .L510+8
 6492 026e 1793     		str	r3, [sp, #92]
1227:System/storage/Storage.c ****                 memcpy(DataSlot.name, name, strlen(name));
 6493              		.loc 1 1227 17 is_stmt 1 view .LVU2076
 6494 0270 2922     		movs	r2, #41
 6495 0272 0021     		movs	r1, #0
 6496 0274 09A8     		add	r0, sp, #36
 6497 0276 FFF7FEFF 		bl	memset
 6498              	.LVL732:
1228:System/storage/Storage.c ****                 
 6499              		.loc 1 1228 17 view .LVU2077
 6500 027a 069C     		ldr	r4, [sp, #24]
 6501 027c 2046     		mov	r0, r4
 6502 027e FFF7FEFF 		bl	strlen
 6503              	.LVL733:
 6504 0282 0246     		mov	r2, r0
 6505 0284 2146     		mov	r1, r4
 6506 0286 09A8     		add	r0, sp, #36
 6507 0288 FFF7FEFF 		bl	memcpy
 6508              	.LVL734:
1230:System/storage/Storage.c ****                     return Storage_No_Enough_Space;
 6509              		.loc 1 1230 17 view .LVU2078
1230:System/storage/Storage.c ****                     return Storage_No_Enough_Space;
 6510              		.loc 1 1230 29 is_stmt 0 view .LVU2079
 6511 028c 199B     		ldr	r3, [sp, #100]
1230:System/storage/Storage.c ****                     return Storage_No_Enough_Space;
 6512              		.loc 1 1230 20 view .LVU2080
 6513 028e 402B     		cmp	r3, #64
 6514 0290 40F2CD80 		bls	.L494
1233:System/storage/Storage.c ****                 slot_useful_size = FreeSlot.cur_slot_size - sizeof(Storage_DataSlot_TypeDef);
 6515              		.loc 1 1233 17 is_stmt 1 view .LVU2081
1233:System/storage/Storage.c ****                 slot_useful_size = FreeSlot.cur_slot_size - sizeof(Storage_DataSlot_TypeDef);
 6516              		.loc 1 1233 24 is_stmt 0 view .LVU2082
 6517 0294 5744     		add	r7, r7, r10
 6518              	.LVL735:
1234:System/storage/Storage.c ****                 /* current have space for new data need to be storage */
 6519              		.loc 1 1234 17 is_stmt 1 view .LVU2083
1234:System/storage/Storage.c ****                 /* current have space for new data need to be storage */
 6520              		.loc 1 1234 34 is_stmt 0 view .LVU2084
 6521 0296 A3F14006 		sub	r6, r3, #64
 6522              	.LVL736:
1236:System/storage/Storage.c ****                 {
 6523              		.loc 1 1236 17 is_stmt 1 view .LVU2085
1236:System/storage/Storage.c ****                 {
 6524              		.loc 1 1236 20 is_stmt 0 view .LVU2086
 6525 029a 049A     		ldr	r2, [sp, #16]
 6526 029c B242     		cmp	r2, r6
 6527 029e A7D8     		bhi	.L507
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 189


1259:System/storage/Storage.c ****                     DataSlot.cur_slot_size = unstored_size;
 6528              		.loc 1 1259 21 is_stmt 1 view .LVU2087
1259:System/storage/Storage.c ****                     DataSlot.cur_slot_size = unstored_size;
 6529              		.loc 1 1259 33 is_stmt 0 view .LVU2088
 6530 02a0 0AEB080B 		add	fp, r10, r8
 6531              	.LVL737:
1260:System/storage/Storage.c ****                     DataSlot.align_size = align_byte;
 6532              		.loc 1 1260 21 is_stmt 1 view .LVU2089
1260:System/storage/Storage.c ****                     DataSlot.align_size = align_byte;
 6533              		.loc 1 1260 44 is_stmt 0 view .LVU2090
 6534 02a4 CDF85180 		str	r8, [sp, #81]	@ unaligned
1261:System/storage/Storage.c ****                     DataSlot.nxt_addr = 0;
 6535              		.loc 1 1261 21 is_stmt 1 view .LVU2091
1261:System/storage/Storage.c ****                     DataSlot.nxt_addr = 0;
 6536              		.loc 1 1261 41 is_stmt 0 view .LVU2092
 6537 02a8 009A     		ldr	r2, [sp]
 6538 02aa 8DF85920 		strb	r2, [sp, #89]
1262:System/storage/Storage.c **** 
 6539              		.loc 1 1262 21 is_stmt 1 view .LVU2093
1262:System/storage/Storage.c **** 
 6540              		.loc 1 1262 39 is_stmt 0 view .LVU2094
 6541 02ae 0022     		movs	r2, #0
 6542 02b0 8DF85520 		strb	r2, [sp, #85]
 6543 02b4 8DF85620 		strb	r2, [sp, #86]
 6544 02b8 8DF85720 		strb	r2, [sp, #87]
 6545 02bc 8DF85820 		strb	r2, [sp, #88]
1265:System/storage/Storage.c ****                     FreeSlot.cur_slot_size -= DataSlot.cur_slot_size + sizeof(Storage_DataSlot_Type
 6546              		.loc 1 1265 21 is_stmt 1 view .LVU2095
1265:System/storage/Storage.c ****                     FreeSlot.cur_slot_size -= DataSlot.cur_slot_size + sizeof(Storage_DataSlot_Type
 6547              		.loc 1 1265 39 is_stmt 0 view .LVU2096
 6548 02c0 029A     		ldr	r2, [sp, #8]
 6549 02c2 4244     		add	r2, r2, r8
 6550 02c4 4032     		adds	r2, r2, #64
 6551 02c6 0292     		str	r2, [sp, #8]
 6552              	.LVL738:
1266:System/storage/Storage.c ****                 }
 6553              		.loc 1 1266 21 is_stmt 1 view .LVU2097
1266:System/storage/Storage.c ****                 }
 6554              		.loc 1 1266 44 is_stmt 0 view .LVU2098
 6555 02c8 A3EB0803 		sub	r3, r3, r8
 6556 02cc 403B     		subs	r3, r3, #64
 6557 02ce 1993     		str	r3, [sp, #100]
 6558              	.LVL739:
 6559              	.L477:
1269:System/storage/Storage.c **** 
 6560              		.loc 1 1269 17 is_stmt 1 view .LVU2099
1269:System/storage/Storage.c **** 
 6561              		.loc 1 1269 51 is_stmt 0 view .LVU2100
 6562 02d0 DDF85120 		ldr	r2, [sp, #81]	@ unaligned
1269:System/storage/Storage.c **** 
 6563              		.loc 1 1269 40 view .LVU2101
 6564 02d4 0599     		ldr	r1, [sp, #20]
 6565 02d6 8B69     		ldr	r3, [r1, #24]	@ unaligned
 6566 02d8 9B1A     		subs	r3, r3, r2
 6567 02da 8B61     		str	r3, [r1, #24]	@ unaligned
1273:System/storage/Storage.c ****                 memcpy(slot_update_ptr, &DataSlot.head_tag, sizeof(DataSlot.head_tag));
 6568              		.loc 1 1273 17 is_stmt 1 view .LVU2102
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 190


 6569              	.LVL740:
1274:System/storage/Storage.c ****                 slot_update_ptr += sizeof(DataSlot.head_tag);
 6570              		.loc 1 1274 17 view .LVU2103
 6571 02dc 244C     		ldr	r4, .L510+16
 6572 02de A446     		mov	ip, r4
 6573 02e0 089B     		ldr	r3, [sp, #32]
 6574 02e2 4CF8043B 		str	r3, [ip], #4
1275:System/storage/Storage.c ****                 memcpy(slot_update_ptr, DataSlot.name, STORAGE_NAME_LEN);
 6575              		.loc 1 1275 17 view .LVU2104
 6576              	.LVL741:
1276:System/storage/Storage.c ****                 slot_update_ptr += STORAGE_NAME_LEN;
 6577              		.loc 1 1276 17 view .LVU2105
 6578 02e6 0DF1240E 		add	lr, sp, #36
 6579 02ea BEE80F00 		ldmia	lr!, {r0, r1, r2, r3}
 6580 02ee ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 6581 02f2 BEE80F00 		ldmia	lr!, {r0, r1, r2, r3}
 6582 02f6 ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 6583 02fa 9EE80700 		ldm	lr, {r0, r1, r2}
 6584 02fe ACE80300 		stmia	ip!, {r0, r1}
 6585 0302 8CF80020 		strb	r2, [ip]
1277:System/storage/Storage.c ****                 memcpy(slot_update_ptr, &DataSlot.total_data_size, sizeof(DataSlot.total_data_size)
 6586              		.loc 1 1277 17 view .LVU2106
 6587              	.LVL742:
1278:System/storage/Storage.c ****                 slot_update_ptr += sizeof(DataSlot.total_data_size);
 6588              		.loc 1 1278 17 view .LVU2107
 6589 0306 DDF84D30 		ldr	r3, [sp, #77]	@ unaligned
 6590 030a C4F82D30 		str	r3, [r4, #45]	@ unaligned
1279:System/storage/Storage.c ****                 memcpy(slot_update_ptr, &DataSlot.cur_slot_size, sizeof(DataSlot.cur_slot_size));
 6591              		.loc 1 1279 17 view .LVU2108
 6592              	.LVL743:
1280:System/storage/Storage.c ****                 slot_update_ptr += sizeof(DataSlot.cur_slot_size);
 6593              		.loc 1 1280 17 view .LVU2109
 6594 030e DDF851A0 		ldr	r10, [sp, #81]	@ unaligned
 6595 0312 C4F831A0 		str	r10, [r4, #49]	@ unaligned
1281:System/storage/Storage.c ****                 memcpy(slot_update_ptr, &DataSlot.nxt_addr, sizeof(DataSlot.nxt_addr));
 6596              		.loc 1 1281 17 view .LVU2110
 6597              	.LVL744:
1282:System/storage/Storage.c ****                 slot_update_ptr += sizeof(DataSlot.nxt_addr);
 6598              		.loc 1 1282 17 view .LVU2111
 6599 0316 DDF85530 		ldr	r3, [sp, #85]	@ unaligned
 6600 031a C4F83530 		str	r3, [r4, #53]	@ unaligned
1283:System/storage/Storage.c ****                 memcpy(slot_update_ptr, &DataSlot.align_size, sizeof(DataSlot.align_size));
 6601              		.loc 1 1283 17 view .LVU2112
 6602              	.LVL745:
1284:System/storage/Storage.c ****                 slot_update_ptr += sizeof(DataSlot.align_size);
 6603              		.loc 1 1284 17 view .LVU2113
 6604 031e 9DF85990 		ldrb	r9, [sp, #89]	@ zero_extendqisi2
 6605 0322 84F83990 		strb	r9, [r4, #57]
1285:System/storage/Storage.c ****                 crc_buf = slot_update_ptr;
 6606              		.loc 1 1285 17 view .LVU2114
 6607              	.LVL746:
1286:System/storage/Storage.c ****                 memcpy(slot_update_ptr, p_data, (DataSlot.cur_slot_size - DataSlot.align_size));
 6608              		.loc 1 1286 17 view .LVU2115
1287:System/storage/Storage.c ****                 slot_update_ptr += (DataSlot.cur_slot_size - DataSlot.align_size);
 6609              		.loc 1 1287 17 view .LVU2116
1287:System/storage/Storage.c ****                 slot_update_ptr += (DataSlot.cur_slot_size - DataSlot.align_size);
 6610              		.loc 1 1287 73 is_stmt 0 view .LVU2117
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 191


 6611 0326 AAEB090A 		sub	r10, r10, r9
1287:System/storage/Storage.c ****                 slot_update_ptr += (DataSlot.cur_slot_size - DataSlot.align_size);
 6612              		.loc 1 1287 17 view .LVU2118
 6613 032a 3A34     		adds	r4, r4, #58
 6614 032c 5246     		mov	r2, r10
 6615 032e 3946     		mov	r1, r7
 6616 0330 2046     		mov	r0, r4
 6617 0332 FFF7FEFF 		bl	memcpy
 6618              	.LVL747:
1288:System/storage/Storage.c ****                 
 6619              		.loc 1 1288 17 is_stmt 1 view .LVU2119
1288:System/storage/Storage.c ****                 
 6620              		.loc 1 1288 33 is_stmt 0 view .LVU2120
 6621 0336 5444     		add	r4, r4, r10
 6622              	.LVL748:
1290:System/storage/Storage.c ****                     memset(slot_update_ptr, 0, DataSlot.align_size);
 6623              		.loc 1 1290 17 is_stmt 1 view .LVU2121
1290:System/storage/Storage.c ****                     memset(slot_update_ptr, 0, DataSlot.align_size);
 6624              		.loc 1 1290 20 is_stmt 0 view .LVU2122
 6625 0338 B9F1000F 		cmp	r9, #0
 6626 033c 3FF46EAF 		beq	.L478
1291:System/storage/Storage.c ****                 
 6627              		.loc 1 1291 21 is_stmt 1 view .LVU2123
 6628 0340 4A46     		mov	r2, r9
 6629 0342 0021     		movs	r1, #0
 6630 0344 2046     		mov	r0, r4
 6631 0346 FFF7FEFF 		bl	memset
 6632              	.LVL749:
 6633 034a 67E7     		b	.L478
 6634              	.LVL750:
 6635              	.L506:
1308:System/storage/Storage.c ****                     {
 6636              		.loc 1 1308 33 is_stmt 0 view .LVU2124
 6637 034c DA46     		mov	r10, fp
 6638 034e DDF814B0 		ldr	fp, [sp, #20]
 6639              	.LVL751:
1308:System/storage/Storage.c ****                     {
 6640              		.loc 1 1308 21 is_stmt 1 view .LVU2125
1308:System/storage/Storage.c ****                     {
 6641              		.loc 1 1308 33 is_stmt 0 view .LVU2126
 6642 0352 DDF84D30 		ldr	r3, [sp, #77]	@ unaligned
1308:System/storage/Storage.c ****                     {
 6643              		.loc 1 1308 24 view .LVU2127
 6644 0356 5345     		cmp	r3, r10
 6645 0358 0ED0     		beq	.L508
1317:System/storage/Storage.c ****                 }
 6646              		.loc 1 1317 28 view .LVU2128
 6647 035a 1120     		movs	r0, #17
 6648 035c 5AE0     		b	.L463
 6649              	.L511:
 6650 035e 00BF     		.align	2
 6651              	.L510:
 6652 0360 16000000 		.word	.LANCHOR0+22
 6653 0364 EF1001EF 		.word	-285142801
 6654 0368 FE0110FE 		.word	-32505346
 6655 036c 00000000 		.word	.LC37
 6656 0370 00000000 		.word	page_data_tmp
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 192


 6657 0374 3A000000 		.word	page_data_tmp+58
 6658              	.L508:
1311:System/storage/Storage.c ****                             return Storage_Write_Error;
 6659              		.loc 1 1311 25 is_stmt 1 view .LVU2129
1311:System/storage/Storage.c ****                             return Storage_Write_Error;
 6660              		.loc 1 1311 30 is_stmt 0 view .LVU2130
 6661 0378 1022     		movs	r2, #16
 6662 037a 18A9     		add	r1, sp, #96
 6663 037c 0298     		ldr	r0, [sp, #8]
 6664 037e FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Write
 6665              	.LVL752:
1311:System/storage/Storage.c ****                             return Storage_Write_Error;
 6666              		.loc 1 1311 28 view .LVU2131
 6667 0382 0028     		cmp	r0, #0
 6668 0384 3FD0     		beq	.L509
 6669              	.LVL753:
 6670              	.L475:
1330:System/storage/Storage.c ****             return Storage_Read_Error;
 6671              		.loc 1 1330 9 is_stmt 1 view .LVU2132
1330:System/storage/Storage.c ****             return Storage_Read_Error;
 6672              		.loc 1 1330 83 is_stmt 0 view .LVU2133
 6673 0386 DBF81020 		ldr	r2, [fp, #16]	@ unaligned
1330:System/storage/Storage.c ****             return Storage_Read_Error;
 6674              		.loc 1 1330 101 view .LVU2134
 6675 038a DBF80C30 		ldr	r3, [fp, #12]	@ unaligned
1330:System/storage/Storage.c ****             return Storage_Read_Error;
 6676              		.loc 1 1330 14 view .LVU2135
 6677 038e B2FBF3F2 		udiv	r2, r2, r3
 6678 0392 2C49     		ldr	r1, .L512
 6679 0394 0798     		ldr	r0, [sp, #28]
 6680 0396 FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Read
 6681              	.LVL754:
1330:System/storage/Storage.c ****             return Storage_Read_Error;
 6682              		.loc 1 1330 12 view .LVU2136
 6683 039a 0028     		cmp	r0, #0
 6684 039c 4BD0     		beq	.L497
1333:System/storage/Storage.c ****         tab_item[item_index] = crt_item_slot;
 6685              		.loc 1 1333 9 is_stmt 1 view .LVU2137
 6686              	.LVL755:
1334:System/storage/Storage.c **** 
 6687              		.loc 1 1334 9 view .LVU2138
1334:System/storage/Storage.c **** 
 6688              		.loc 1 1334 30 is_stmt 0 view .LVU2139
 6689 039e 1CAE     		add	r6, sp, #112
 6690 03a0 284C     		ldr	r4, .L512
 6691 03a2 019B     		ldr	r3, [sp, #4]
 6692 03a4 04EB8314 		add	r4, r4, r3, lsl #6
 6693 03a8 2CAF     		add	r7, sp, #176
 6694              	.LVL756:
 6695              	.L481:
1334:System/storage/Storage.c **** 
 6696              		.loc 1 1334 30 view .LVU2140
 6697 03aa 3546     		mov	r5, r6
 6698 03ac 0FCD     		ldmia	r5!, {r0, r1, r2, r3}
 6699 03ae 2060     		str	r0, [r4]	@ unaligned
 6700 03b0 6160     		str	r1, [r4, #4]	@ unaligned
 6701 03b2 A260     		str	r2, [r4, #8]	@ unaligned
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 193


 6702 03b4 E360     		str	r3, [r4, #12]	@ unaligned
 6703 03b6 2E46     		mov	r6, r5
 6704 03b8 1034     		adds	r4, r4, #16
 6705 03ba BD42     		cmp	r5, r7
 6706 03bc F5D1     		bne	.L481
1337:System/storage/Storage.c ****             return Storage_Write_Error;
 6707              		.loc 1 1337 9 is_stmt 1 view .LVU2141
1337:System/storage/Storage.c ****             return Storage_Write_Error;
 6708              		.loc 1 1337 84 is_stmt 0 view .LVU2142
 6709 03be DBF81020 		ldr	r2, [fp, #16]	@ unaligned
1337:System/storage/Storage.c ****             return Storage_Write_Error;
 6710              		.loc 1 1337 102 view .LVU2143
 6711 03c2 DBF80C30 		ldr	r3, [fp, #12]	@ unaligned
1337:System/storage/Storage.c ****             return Storage_Write_Error;
 6712              		.loc 1 1337 14 view .LVU2144
 6713 03c6 B2FBF3F2 		udiv	r2, r2, r3
 6714 03ca 1E49     		ldr	r1, .L512
 6715 03cc 0798     		ldr	r0, [sp, #28]
 6716 03ce FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Write
 6717              	.LVL757:
1337:System/storage/Storage.c ****             return Storage_Write_Error;
 6718              		.loc 1 1337 12 view .LVU2145
 6719 03d2 90B3     		cbz	r0, .L498
1341:System/storage/Storage.c **** 
 6720              		.loc 1 1341 9 is_stmt 1 view .LVU2146
1341:System/storage/Storage.c **** 
 6721              		.loc 1 1341 31 is_stmt 0 view .LVU2147
 6722 03d4 029B     		ldr	r3, [sp, #8]
 6723 03d6 CBF81430 		str	r3, [fp, #20]	@ unaligned
1344:System/storage/Storage.c ****         base_info_crc = Common_CRC16(page_data_tmp, Storage_InfoPageSize - sizeof(base_info_crc));
 6724              		.loc 1 1344 9 is_stmt 1 view .LVU2148
 6725 03da 1A4C     		ldr	r4, .L512
 6726 03dc 9C22     		movs	r2, #156
 6727 03de 1A49     		ldr	r1, .L512+4
 6728 03e0 2046     		mov	r0, r4
 6729 03e2 FFF7FEFF 		bl	memcpy
 6730              	.LVL758:
1345:System/storage/Storage.c ****         memcpy(&page_data_tmp[Storage_InfoPageSize - sizeof(base_info_crc)], &base_info_crc, sizeof
 6731              		.loc 1 1345 9 view .LVU2149
1345:System/storage/Storage.c ****         memcpy(&page_data_tmp[Storage_InfoPageSize - sizeof(base_info_crc)], &base_info_crc, sizeof
 6732              		.loc 1 1345 25 is_stmt 0 view .LVU2150
 6733 03e6 40F2FE31 		movw	r1, #1022
 6734 03ea 2046     		mov	r0, r4
 6735 03ec FFF7FEFF 		bl	Common_CRC16
 6736              	.LVL759:
1346:System/storage/Storage.c ****         
 6737              		.loc 1 1346 9 is_stmt 1 view .LVU2151
 6738 03f0 A4F8FE03 		strh	r0, [r4, #1022]	@ movhi
1349:System/storage/Storage.c ****             return Storage_Write_Error;
 6739              		.loc 1 1349 9 view .LVU2152
1349:System/storage/Storage.c ****             return Storage_Write_Error;
 6740              		.loc 1 1349 14 is_stmt 0 view .LVU2153
 6741 03f4 4FF48062 		mov	r2, #1024
 6742 03f8 2146     		mov	r1, r4
 6743 03fa 0020     		movs	r0, #0
 6744              	.LVL760:
1349:System/storage/Storage.c ****             return Storage_Write_Error;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 194


 6745              		.loc 1 1349 14 view .LVU2154
 6746 03fc FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Write
 6747              	.LVL761:
1349:System/storage/Storage.c ****             return Storage_Write_Error;
 6748              		.loc 1 1349 12 view .LVU2155
 6749 0400 E8B1     		cbz	r0, .L499
1353:System/storage/Storage.c **** }
 6750              		.loc 1 1353 12 view .LVU2156
 6751 0402 0020     		movs	r0, #0
 6752 0404 06E0     		b	.L463
 6753              	.LVL762:
 6754              	.L509:
1312:System/storage/Storage.c **** 
 6755              		.loc 1 1312 36 view .LVU2157
 6756 0406 0920     		movs	r0, #9
 6757 0408 04E0     		b	.L463
 6758              	.LVL763:
 6759              	.L482:
1133:System/storage/Storage.c **** 
 6760              		.loc 1 1133 16 view .LVU2158
 6761 040a 0120     		movs	r0, #1
 6762 040c 02E0     		b	.L463
 6763              	.L483:
 6764 040e 0120     		movs	r0, #1
 6765 0410 00E0     		b	.L463
 6766              	.L484:
 6767 0412 0120     		movs	r0, #1
 6768              	.LVL764:
 6769              	.L463:
1354:System/storage/Storage.c **** 
 6770              		.loc 1 1354 1 view .LVU2159
 6771 0414 2DB0     		add	sp, sp, #180
 6772              	.LCFI75:
 6773              		.cfi_remember_state
 6774              		.cfi_def_cfa_offset 36
 6775              		@ sp needed
 6776 0416 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 6777              	.LVL765:
 6778              	.L485:
 6779              	.LCFI76:
 6780              		.cfi_restore_state
1138:System/storage/Storage.c **** 
 6781              		.loc 1 1138 16 view .LVU2160
 6782 041a 0F20     		movs	r0, #15
 6783              	.LVL766:
1138:System/storage/Storage.c **** 
 6784              		.loc 1 1138 16 view .LVU2161
 6785 041c FAE7     		b	.L463
 6786              	.L486:
1141:System/storage/Storage.c **** 
 6787              		.loc 1 1141 16 view .LVU2162
 6788 041e 1820     		movs	r0, #24
 6789 0420 F8E7     		b	.L463
 6790              	.L487:
1353:System/storage/Storage.c **** }
 6791              		.loc 1 1353 12 view .LVU2163
 6792 0422 0020     		movs	r0, #0
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 195


 6793 0424 F6E7     		b	.L463
 6794              	.L490:
1353:System/storage/Storage.c **** }
 6795              		.loc 1 1353 12 view .LVU2164
 6796 0426 0020     		movs	r0, #0
 6797 0428 F4E7     		b	.L463
 6798              	.LVL767:
 6799              	.L493:
1209:System/storage/Storage.c **** 
 6800              		.loc 1 1209 20 view .LVU2165
 6801 042a 1520     		movs	r0, #21
 6802 042c F2E7     		b	.L463
 6803              	.LVL768:
 6804              	.L494:
1231:System/storage/Storage.c **** 
 6805              		.loc 1 1231 28 view .LVU2166
 6806 042e 1120     		movs	r0, #17
 6807 0430 F0E7     		b	.L463
 6808              	.LVL769:
 6809              	.L495:
1304:System/storage/Storage.c **** 
 6810              		.loc 1 1304 28 view .LVU2167
 6811 0432 0920     		movs	r0, #9
 6812 0434 EEE7     		b	.L463
 6813              	.LVL770:
 6814              	.L497:
1331:System/storage/Storage.c **** 
 6815              		.loc 1 1331 20 view .LVU2168
 6816 0436 0820     		movs	r0, #8
 6817 0438 ECE7     		b	.L463
 6818              	.LVL771:
 6819              	.L498:
1338:System/storage/Storage.c **** 
 6820              		.loc 1 1338 20 view .LVU2169
 6821 043a 0920     		movs	r0, #9
 6822 043c EAE7     		b	.L463
 6823              	.LVL772:
 6824              	.L499:
1350:System/storage/Storage.c ****     }
 6825              		.loc 1 1350 20 view .LVU2170
 6826 043e 0920     		movs	r0, #9
 6827 0440 E8E7     		b	.L463
 6828              	.L513:
 6829 0442 00BF     		.align	2
 6830              	.L512:
 6831 0444 00000000 		.word	page_data_tmp
 6832 0448 16000000 		.word	.LANCHOR0+22
 6833              		.cfi_endproc
 6834              	.LFE163:
 6836              		.section	.text.Storage_Search,"ax",%progbits
 6837              		.align	1
 6838              		.syntax unified
 6839              		.thumb
 6840              		.thumb_func
 6842              	Storage_Search:
 6843              	.LVL773:
 6844              	.LFB154:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 196


 440:System/storage/Storage.c ****     Storage_BaseSecInfo_TypeDef *p_Sec = NULL;
 6845              		.loc 1 440 1 is_stmt 1 view -0
 6846              		.cfi_startproc
 6847              		@ args = 0, pretend = 0, frame = 96
 6848              		@ frame_needed = 0, uses_anonymous_args = 0
 440:System/storage/Storage.c ****     Storage_BaseSecInfo_TypeDef *p_Sec = NULL;
 6849              		.loc 1 440 1 is_stmt 0 view .LVU2172
 6850 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 6851              	.LCFI77:
 6852              		.cfi_def_cfa_offset 36
 6853              		.cfi_offset 4, -36
 6854              		.cfi_offset 5, -32
 6855              		.cfi_offset 6, -28
 6856              		.cfi_offset 7, -24
 6857              		.cfi_offset 8, -20
 6858              		.cfi_offset 9, -16
 6859              		.cfi_offset 10, -12
 6860              		.cfi_offset 11, -8
 6861              		.cfi_offset 14, -4
 6862 0004 A5B0     		sub	sp, sp, #148
 6863              	.LCFI78:
 6864              		.cfi_def_cfa_offset 184
 6865 0006 0D90     		str	r0, [sp, #52]
 6866 0008 0C46     		mov	r4, r1
 6867 000a 9346     		mov	fp, r2
 441:System/storage/Storage.c ****     Storage_Item_TypeDef *item_list = NULL;
 6868              		.loc 1 441 5 is_stmt 1 view .LVU2173
 6869              	.LVL774:
 442:System/storage/Storage.c ****     Storage_Item_TypeDef *p_item = NULL;
 6870              		.loc 1 442 5 view .LVU2174
 443:System/storage/Storage.c ****     uint32_t tab_addr = 0;
 6871              		.loc 1 443 5 view .LVU2175
 444:System/storage/Storage.c ****     Storage_ItemSearchOut_TypeDef ItemSearch;
 6872              		.loc 1 444 5 view .LVU2176
 445:System/storage/Storage.c **** 
 6873              		.loc 1 445 5 view .LVU2177
 447:System/storage/Storage.c **** 
 6874              		.loc 1 447 5 view .LVU2178
 6875 000c 4522     		movs	r2, #69
 6876              	.LVL775:
 447:System/storage/Storage.c **** 
 6877              		.loc 1 447 5 is_stmt 0 view .LVU2179
 6878 000e 0021     		movs	r1, #0
 6879              	.LVL776:
 447:System/storage/Storage.c **** 
 6880              		.loc 1 447 5 view .LVU2180
 6881 0010 12A8     		add	r0, sp, #72
 6882              	.LVL777:
 447:System/storage/Storage.c **** 
 6883              		.loc 1 447 5 view .LVU2181
 6884 0012 FFF7FEFF 		bl	memset
 6885              	.LVL778:
 449:System/storage/Storage.c ****         (name == NULL) || \
 6886              		.loc 1 449 5 is_stmt 1 view .LVU2182
 449:System/storage/Storage.c ****         (name == NULL) || \
 6887              		.loc 1 449 25 is_stmt 0 view .LVU2183
 6888 0016 544B     		ldr	r3, .L532
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 197


 6889 0018 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 449:System/storage/Storage.c ****         (name == NULL) || \
 6890              		.loc 1 449 8 view .LVU2184
 6891 001a CBB1     		cbz	r3, .L515
 449:System/storage/Storage.c ****         (name == NULL) || \
 6892              		.loc 1 449 37 discriminator 1 view .LVU2185
 6893 001c BBF1000F 		cmp	fp, #0
 6894 0020 16D0     		beq	.L515
 451:System/storage/Storage.c ****         (_class > Para_User))
 6895              		.loc 1 451 23 view .LVU2186
 6896 0022 9BF80030 		ldrb	r3, [fp]	@ zero_extendqisi2
 450:System/storage/Storage.c ****         (strlen(name) == 0) || \
 6897              		.loc 1 450 24 view .LVU2187
 6898 0026 9BB1     		cbz	r3, .L515
 451:System/storage/Storage.c ****         (_class > Para_User))
 6899              		.loc 1 451 29 view .LVU2188
 6900 0028 022C     		cmp	r4, #2
 6901 002a 11D8     		bhi	.L515
 455:System/storage/Storage.c **** 
 6902              		.loc 1 455 5 is_stmt 1 view .LVU2189
 455:System/storage/Storage.c **** 
 6903              		.loc 1 455 13 is_stmt 0 view .LVU2190
 6904 002c 2146     		mov	r1, r4
 6905 002e 4F48     		ldr	r0, .L532+4
 6906 0030 FFF7FEFF 		bl	Storage_Get_SecInfo
 6907              	.LVL779:
 457:System/storage/Storage.c ****         (p_Sec->para_num == 0) || \
 6908              		.loc 1 457 5 is_stmt 1 view .LVU2191
 457:System/storage/Storage.c ****         (p_Sec->para_num == 0) || \
 6909              		.loc 1 457 8 is_stmt 0 view .LVU2192
 6910 0034 0546     		mov	r5, r0
 6911 0036 A0B1     		cbz	r0, .L518
 458:System/storage/Storage.c ****         (p_Sec->para_size == 0))
 6912              		.loc 1 458 15 discriminator 1 view .LVU2193
 6913 0038 036A     		ldr	r3, [r0, #32]	@ unaligned
 457:System/storage/Storage.c ****         (p_Sec->para_num == 0) || \
 6914              		.loc 1 457 25 discriminator 1 view .LVU2194
 6915 003a 93B1     		cbz	r3, .L518
 459:System/storage/Storage.c ****         return ItemSearch;
 6916              		.loc 1 459 15 view .LVU2195
 6917 003c C369     		ldr	r3, [r0, #28]	@ unaligned
 458:System/storage/Storage.c ****         (p_Sec->para_size == 0))
 6918              		.loc 1 458 32 view .LVU2196
 6919 003e 83B1     		cbz	r3, .L518
 462:System/storage/Storage.c ****     /* tab traverse */
 6920              		.loc 1 462 5 is_stmt 1 view .LVU2197
 462:System/storage/Storage.c ****     /* tab traverse */
 6921              		.loc 1 462 14 is_stmt 0 view .LVU2198
 6922 0040 0368     		ldr	r3, [r0]	@ unaligned
 6923 0042 0E93     		str	r3, [sp, #56]
 6924              	.LVL780:
 464:System/storage/Storage.c ****     {
 6925              		.loc 1 464 5 is_stmt 1 view .LVU2199
 6926              	.LBB37:
 464:System/storage/Storage.c ****     {
 6927              		.loc 1 464 10 view .LVU2200
 464:System/storage/Storage.c ****     {
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 198


 6928              		.loc 1 464 18 is_stmt 0 view .LVU2201
 6929 0044 4FF0000A 		mov	r10, #0
 6930 0048 5B46     		mov	r3, fp
 6931              	.LVL781:
 464:System/storage/Storage.c ****     {
 6932              		.loc 1 464 18 view .LVU2202
 6933 004a D346     		mov	fp, r10
 6934              	.LVL782:
 464:System/storage/Storage.c ****     {
 6935              		.loc 1 464 18 view .LVU2203
 6936 004c 9A46     		mov	r10, r3
 464:System/storage/Storage.c ****     {
 6937              		.loc 1 464 5 view .LVU2204
 6938 004e 77E0     		b	.L520
 6939              	.LVL783:
 6940              	.L515:
 464:System/storage/Storage.c ****     {
 6941              		.loc 1 464 5 view .LVU2205
 6942              	.LBE37:
 453:System/storage/Storage.c **** 
 6943              		.loc 1 453 9 is_stmt 1 view .LVU2206
 453:System/storage/Storage.c **** 
 6944              		.loc 1 453 16 is_stmt 0 view .LVU2207
 6945 0050 4522     		movs	r2, #69
 6946 0052 0021     		movs	r1, #0
 6947 0054 0D98     		ldr	r0, [sp, #52]
 6948 0056 FFF7FEFF 		bl	memset
 6949              	.LVL784:
 6950              	.L514:
 494:System/storage/Storage.c **** 
 6951              		.loc 1 494 1 view .LVU2208
 6952 005a 0D98     		ldr	r0, [sp, #52]
 6953 005c 25B0     		add	sp, sp, #148
 6954              	.LCFI79:
 6955              		.cfi_remember_state
 6956              		.cfi_def_cfa_offset 36
 6957              		@ sp needed
 6958 005e BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 6959              	.LVL785:
 6960              	.L518:
 6961              	.LCFI80:
 6962              		.cfi_restore_state
 460:System/storage/Storage.c **** 
 6963              		.loc 1 460 9 is_stmt 1 view .LVU2209
 460:System/storage/Storage.c **** 
 6964              		.loc 1 460 16 is_stmt 0 view .LVU2210
 6965 0062 4522     		movs	r2, #69
 6966 0064 0021     		movs	r1, #0
 6967 0066 0D98     		ldr	r0, [sp, #52]
 6968              	.LVL786:
 460:System/storage/Storage.c **** 
 6969              		.loc 1 460 16 view .LVU2211
 6970 0068 FFF7FEFF 		bl	memset
 6971              	.LVL787:
 6972 006c F5E7     		b	.L514
 6973              	.LVL788:
 6974              	.L531:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 199


 6975              	.LBB40:
 467:System/storage/Storage.c ****     
 6976              		.loc 1 467 13 is_stmt 1 view .LVU2212
 467:System/storage/Storage.c ****     
 6977              		.loc 1 467 20 is_stmt 0 view .LVU2213
 6978 006e 4522     		movs	r2, #69
 6979 0070 12A9     		add	r1, sp, #72
 6980 0072 0D98     		ldr	r0, [sp, #52]
 6981 0074 FFF7FEFF 		bl	memcpy
 6982              	.LVL789:
 6983 0078 EFE7     		b	.L514
 6984              	.LVL790:
 6985              	.L522:
 6986              	.LBB38:
 471:System/storage/Storage.c ****         {
 6987              		.loc 1 471 114 is_stmt 1 discriminator 2 view .LVU2214
 471:System/storage/Storage.c ****         {
 6988              		.loc 1 471 121 is_stmt 0 discriminator 2 view .LVU2215
 6989 007a 0134     		adds	r4, r4, #1
 6990              	.LVL791:
 471:System/storage/Storage.c ****         {
 6991              		.loc 1 471 121 discriminator 2 view .LVU2216
 6992 007c A4B2     		uxth	r4, r4
 6993              	.LVL792:
 6994              	.L521:
 471:System/storage/Storage.c ****         {
 6995              		.loc 1 471 35 is_stmt 1 discriminator 1 view .LVU2217
 471:System/storage/Storage.c ****         {
 6996              		.loc 1 471 51 is_stmt 0 discriminator 1 view .LVU2218
 6997 007e 2B69     		ldr	r3, [r5, #16]	@ unaligned
 471:System/storage/Storage.c ****         {
 6998              		.loc 1 471 69 discriminator 1 view .LVU2219
 6999 0080 EA68     		ldr	r2, [r5, #12]	@ unaligned
 471:System/storage/Storage.c ****         {
 7000              		.loc 1 471 62 discriminator 1 view .LVU2220
 7001 0082 B3FBF2F3 		udiv	r3, r3, r2
 471:System/storage/Storage.c ****         {
 7002              		.loc 1 471 9 discriminator 1 view .LVU2221
 7003 0086 B4EB931F 		cmp	r4, r3, lsr #6
 7004 008a 52D2     		bcs	.L529
 473:System/storage/Storage.c **** 
 7005              		.loc 1 473 13 is_stmt 1 view .LVU2222
 473:System/storage/Storage.c **** 
 7006              		.loc 1 473 32 is_stmt 0 view .LVU2223
 7007 008c 4FEA8418 		lsl	r8, r4, #6
 473:System/storage/Storage.c **** 
 7008              		.loc 1 473 20 view .LVU2224
 7009 0090 374F     		ldr	r7, .L532+8
 7010 0092 07EB8416 		add	r6, r7, r4, lsl #6
 7011              	.LVL793:
 475:System/storage/Storage.c ****                 (p_item->end_tag == STORAGE_ITEM_END_TAG) && \
 7012              		.loc 1 475 13 is_stmt 1 view .LVU2225
 475:System/storage/Storage.c ****                 (p_item->end_tag == STORAGE_ITEM_END_TAG) && \
 7013              		.loc 1 475 24 is_stmt 0 view .LVU2226
 7014 0096 18F80730 		ldrb	r3, [r8, r7]	@ zero_extendqisi2
 475:System/storage/Storage.c ****                 (p_item->end_tag == STORAGE_ITEM_END_TAG) && \
 7015              		.loc 1 475 16 view .LVU2227
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 200


 7016 009a AA2B     		cmp	r3, #170
 7017 009c EDD1     		bne	.L522
 476:System/storage/Storage.c ****                 (memcmp(p_item->name, name, strlen(name)) == 0))
 7018              		.loc 1 476 24 discriminator 1 view .LVU2228
 7019 009e 96F83F30 		ldrb	r3, [r6, #63]	@ zero_extendqisi2
 475:System/storage/Storage.c ****                 (p_item->end_tag == STORAGE_ITEM_END_TAG) && \
 7020              		.loc 1 475 61 discriminator 1 view .LVU2229
 7021 00a2 BB2B     		cmp	r3, #187
 7022 00a4 E9D1     		bne	.L522
 477:System/storage/Storage.c ****             {
 7023              		.loc 1 477 31 view .LVU2230
 7024 00a6 06F10209 		add	r9, r6, #2
 477:System/storage/Storage.c ****             {
 7025              		.loc 1 477 18 view .LVU2231
 7026 00aa 5046     		mov	r0, r10
 7027 00ac FFF7FEFF 		bl	strlen
 7028              	.LVL794:
 7029 00b0 0246     		mov	r2, r0
 7030 00b2 5146     		mov	r1, r10
 7031 00b4 4846     		mov	r0, r9
 7032 00b6 FFF7FEFF 		bl	memcmp
 7033              	.LVL795:
 476:System/storage/Storage.c ****                 (memcmp(p_item->name, name, strlen(name)) == 0))
 7034              		.loc 1 476 59 view .LVU2232
 7035 00ba 0028     		cmp	r0, #0
 7036 00bc DDD1     		bne	.L522
 479:System/storage/Storage.c ****                 {
 7037              		.loc 1 479 17 is_stmt 1 view .LVU2233
 479:System/storage/Storage.c ****                 {
 7038              		.loc 1 479 21 is_stmt 0 view .LVU2234
 7039 00be 58F80790 		ldr	r9, [r8, r7]	@ unaligned
 7040 00c2 7368     		ldr	r3, [r6, #4]	@ unaligned
 7041 00c4 0F93     		str	r3, [sp, #60]
 7042 00c6 B368     		ldr	r3, [r6, #8]	@ unaligned
 7043 00c8 1093     		str	r3, [sp, #64]
 7044 00ca F368     		ldr	r3, [r6, #12]	@ unaligned
 7045 00cc 1193     		str	r3, [sp, #68]
 7046 00ce 06F11007 		add	r7, r6, #16
 7047 00d2 EE46     		mov	lr, sp
 7048 00d4 06F14008 		add	r8, r6, #64
 7049              	.L523:
 7050 00d8 F446     		mov	ip, lr
 7051 00da 3868     		ldr	r0, [r7]	@ unaligned
 7052 00dc 7968     		ldr	r1, [r7, #4]	@ unaligned
 7053 00de BA68     		ldr	r2, [r7, #8]	@ unaligned
 7054 00e0 FB68     		ldr	r3, [r7, #12]	@ unaligned
 7055 00e2 ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 7056 00e6 1037     		adds	r7, r7, #16
 7057 00e8 E646     		mov	lr, ip
 7058 00ea 4745     		cmp	r7, r8
 7059 00ec F4D1     		bne	.L523
 7060 00ee 4846     		mov	r0, r9
 7061 00f0 0F99     		ldr	r1, [sp, #60]
 7062 00f2 109A     		ldr	r2, [sp, #64]
 7063 00f4 119B     		ldr	r3, [sp, #68]
 7064 00f6 FFF7FEFF 		bl	Storage_Compare_ItemSlot_CRC
 7065              	.LVL796:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 201


 479:System/storage/Storage.c ****                 {
 7066              		.loc 1 479 20 view .LVU2235
 7067 00fa 0028     		cmp	r0, #0
 7068 00fc BDD0     		beq	.L522
 481:System/storage/Storage.c ****                     ItemSearch.item_index = item_i;
 7069              		.loc 1 481 21 is_stmt 1 view .LVU2236
 481:System/storage/Storage.c ****                     ItemSearch.item_index = item_i;
 7070              		.loc 1 481 42 is_stmt 0 view .LVU2237
 7071 00fe 0E9B     		ldr	r3, [sp, #56]
 7072 0100 1293     		str	r3, [sp, #72]
 482:System/storage/Storage.c ****                     ItemSearch.item = *p_item;
 7073              		.loc 1 482 21 is_stmt 1 view .LVU2238
 482:System/storage/Storage.c ****                     ItemSearch.item = *p_item;
 7074              		.loc 1 482 43 is_stmt 0 view .LVU2239
 7075 0102 8DF84C40 		strb	r4, [sp, #76]
 483:System/storage/Storage.c ****                     return ItemSearch;
 7076              		.loc 1 483 21 is_stmt 1 view .LVU2240
 483:System/storage/Storage.c ****                     return ItemSearch;
 7077              		.loc 1 483 37 is_stmt 0 view .LVU2241
 7078 0106 3346     		mov	r3, r6
 7079 0108 0DF14D02 		add	r2, sp, #77
 7080 010c 4036     		adds	r6, r6, #64
 7081              	.LVL797:
 7082              	.L524:
 483:System/storage/Storage.c ****                     return ItemSearch;
 7083              		.loc 1 483 37 view .LVU2242
 7084 010e 1D68     		ldr	r5, [r3]	@ unaligned
 7085 0110 5C68     		ldr	r4, [r3, #4]	@ unaligned
 7086 0112 9868     		ldr	r0, [r3, #8]	@ unaligned
 7087 0114 D968     		ldr	r1, [r3, #12]	@ unaligned
 7088 0116 1560     		str	r5, [r2]	@ unaligned
 7089 0118 5460     		str	r4, [r2, #4]	@ unaligned
 7090 011a 9060     		str	r0, [r2, #8]	@ unaligned
 7091 011c D160     		str	r1, [r2, #12]	@ unaligned
 7092 011e 1033     		adds	r3, r3, #16
 7093 0120 1032     		adds	r2, r2, #16
 7094 0122 B342     		cmp	r3, r6
 7095 0124 F3D1     		bne	.L524
 484:System/storage/Storage.c ****                 }
 7096              		.loc 1 484 21 is_stmt 1 view .LVU2243
 484:System/storage/Storage.c ****                 }
 7097              		.loc 1 484 28 is_stmt 0 view .LVU2244
 7098 0126 4522     		movs	r2, #69
 7099 0128 12A9     		add	r1, sp, #72
 7100 012a 0D98     		ldr	r0, [sp, #52]
 7101 012c FFF7FEFF 		bl	memcpy
 7102              	.LVL798:
 7103 0130 93E7     		b	.L514
 7104              	.LVL799:
 7105              	.L529:
 484:System/storage/Storage.c ****                 }
 7106              		.loc 1 484 28 view .LVU2245
 7107              	.LBE38:
 490:System/storage/Storage.c ****     }
 7108              		.loc 1 490 9 is_stmt 1 discriminator 2 view .LVU2246
 490:System/storage/Storage.c ****     }
 7109              		.loc 1 490 18 is_stmt 0 discriminator 2 view .LVU2247
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 202


 7110 0132 0E9A     		ldr	r2, [sp, #56]
 7111 0134 1A44     		add	r2, r2, r3
 7112 0136 0E92     		str	r2, [sp, #56]
 7113              	.LVL800:
 464:System/storage/Storage.c ****     {
 7114              		.loc 1 464 54 is_stmt 1 discriminator 2 view .LVU2248
 464:System/storage/Storage.c ****     {
 7115              		.loc 1 464 60 is_stmt 0 discriminator 2 view .LVU2249
 7116 0138 0BF10103 		add	r3, fp, #1
 7117 013c 5FFA83FB 		uxtb	fp, r3
 7118              	.LVL801:
 7119              	.L520:
 464:System/storage/Storage.c ****     {
 7120              		.loc 1 464 29 is_stmt 1 discriminator 1 view .LVU2250
 464:System/storage/Storage.c ****     {
 7121              		.loc 1 464 42 is_stmt 0 discriminator 1 view .LVU2251
 7122 0140 EB68     		ldr	r3, [r5, #12]	@ unaligned
 464:System/storage/Storage.c ****     {
 7123              		.loc 1 464 5 discriminator 1 view .LVU2252
 7124 0142 9B45     		cmp	fp, r3
 7125 0144 0AD2     		bcs	.L530
 466:System/storage/Storage.c ****             return ItemSearch;
 7126              		.loc 1 466 9 is_stmt 1 view .LVU2253
 466:System/storage/Storage.c ****             return ItemSearch;
 7127              		.loc 1 466 75 is_stmt 0 view .LVU2254
 7128 0146 2A69     		ldr	r2, [r5, #16]	@ unaligned
 466:System/storage/Storage.c ****             return ItemSearch;
 7129              		.loc 1 466 14 view .LVU2255
 7130 0148 B2FBF3F2 		udiv	r2, r2, r3
 7131 014c 0849     		ldr	r1, .L532+8
 7132 014e 0E98     		ldr	r0, [sp, #56]
 7133 0150 FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Read
 7134              	.LVL802:
 466:System/storage/Storage.c ****             return ItemSearch;
 7135              		.loc 1 466 12 view .LVU2256
 7136 0154 0028     		cmp	r0, #0
 7137 0156 8AD0     		beq	.L531
 7138              	.LBB39:
 471:System/storage/Storage.c ****         {
 7139              		.loc 1 471 23 view .LVU2257
 7140 0158 0024     		movs	r4, #0
 7141 015a 90E7     		b	.L521
 7142              	.L530:
 7143              	.LBE39:
 7144              	.LBE40:
 493:System/storage/Storage.c **** }
 7145              		.loc 1 493 5 is_stmt 1 view .LVU2258
 493:System/storage/Storage.c **** }
 7146              		.loc 1 493 12 is_stmt 0 view .LVU2259
 7147 015c 4522     		movs	r2, #69
 7148 015e 12A9     		add	r1, sp, #72
 7149 0160 0D98     		ldr	r0, [sp, #52]
 7150 0162 FFF7FEFF 		bl	memcpy
 7151              	.LVL803:
 7152 0166 78E7     		b	.L514
 7153              	.L533:
 7154              		.align	2
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 203


 7155              	.L532:
 7156 0168 00000000 		.word	.LANCHOR0
 7157 016c 16000000 		.word	.LANCHOR0+22
 7158 0170 00000000 		.word	page_data_tmp
 7159              		.cfi_endproc
 7160              	.LFE154:
 7162              		.section	.rodata.Storage_Build_StorageInfo.str1.4,"aMS",%progbits,1
 7163              		.align	2
 7164              	.LC38:
 7165 0000 5B457874 		.ascii	"[ExternalFlash Storage]\000"
 7165      65726E61 
 7165      6C466C61 
 7165      73682053 
 7165      746F7261 
 7166              		.section	.text.Storage_Build_StorageInfo,"ax",%progbits
 7167              		.align	1
 7168              		.syntax unified
 7169              		.thumb
 7170              		.thumb_func
 7172              	Storage_Build_StorageInfo:
 7173              	.LFB165:
1441:System/storage/Storage.c ****     uint32_t page_num = 0;
 7174              		.loc 1 1441 1 is_stmt 1 view -0
 7175              		.cfi_startproc
 7176              		@ args = 0, pretend = 0, frame = 312
 7177              		@ frame_needed = 0, uses_anonymous_args = 0
 7178 0000 70B5     		push	{r4, r5, r6, lr}
 7179              	.LCFI81:
 7180              		.cfi_def_cfa_offset 16
 7181              		.cfi_offset 4, -16
 7182              		.cfi_offset 5, -12
 7183              		.cfi_offset 6, -8
 7184              		.cfi_offset 14, -4
 7185 0002 CEB0     		sub	sp, sp, #312
 7186              	.LCFI82:
 7187              		.cfi_def_cfa_offset 328
1442:System/storage/Storage.c ****     Storage_FlashInfo_TypeDef Info;
 7188              		.loc 1 1442 5 view .LVU2261
 7189              	.LVL804:
1443:System/storage/Storage.c ****     Storage_FlashInfo_TypeDef Info_Rx;
 7190              		.loc 1 1443 5 view .LVU2262
1444:System/storage/Storage.c ****     uint32_t addr_offset = 0;
 7191              		.loc 1 1444 5 view .LVU2263
1445:System/storage/Storage.c ****     uint32_t BaseInfo_start_addr = 0;
 7192              		.loc 1 1445 5 view .LVU2264
1446:System/storage/Storage.c ****     uint32_t tab_addr_offset = 0;
 7193              		.loc 1 1446 5 view .LVU2265
1447:System/storage/Storage.c ****     uint16_t crc = 0;
 7194              		.loc 1 1447 5 view .LVU2266
1448:System/storage/Storage.c ****     uint32_t remain_data_sec_size = 0;
 7195              		.loc 1 1448 5 view .LVU2267
1449:System/storage/Storage.c ****     uint32_t data_sec_size = 0;
 7196              		.loc 1 1449 5 view .LVU2268
1450:System/storage/Storage.c **** 
 7197              		.loc 1 1450 5 view .LVU2269
1452:System/storage/Storage.c ****     memset(&Info_Rx, 0, sizeof(Storage_FlashInfo_TypeDef));
 7198              		.loc 1 1452 5 view .LVU2270
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 204


 7199 0004 9C25     		movs	r5, #156
 7200 0006 2A46     		mov	r2, r5
 7201 0008 0021     		movs	r1, #0
 7202 000a 0DEB0500 		add	r0, sp, r5
 7203 000e FFF7FEFF 		bl	memset
 7204              	.LVL805:
1453:System/storage/Storage.c ****     memcpy(Info.tag, EXTERNAL_STORAGE_PAGE_TAG, EXTERNAL_PAGE_TAG_SIZE);
 7205              		.loc 1 1453 5 view .LVU2271
 7206 0012 2A46     		mov	r2, r5
 7207 0014 0021     		movs	r1, #0
 7208 0016 6846     		mov	r0, sp
 7209 0018 FFF7FEFF 		bl	memset
 7210              	.LVL806:
1454:System/storage/Storage.c **** 
 7211              		.loc 1 1454 5 view .LVU2272
 7212 001c 0DEB050C 		add	ip, sp, r5
 7213 0020 424C     		ldr	r4, .L542
 7214 0022 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
 7215 0024 ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 7216 0028 94E80300 		ldm	r4, {r0, r1}
 7217 002c 4CF8040B 		str	r0, [ip], #4
 7218 0030 2CF8021B 		strh	r1, [ip], #2	@ movhi
 7219 0034 090C     		lsrs	r1, r1, #16
 7220 0036 8CF80010 		strb	r1, [ip]
1456:System/storage/Storage.c ****     Info.base_addr = Storage_Monitor.external_info.base_addr;
 7221              		.loc 1 1456 5 view .LVU2273
1456:System/storage/Storage.c ****     Info.base_addr = Storage_Monitor.external_info.base_addr;
 7222              		.loc 1 1456 21 is_stmt 0 view .LVU2274
 7223 003a 4FF40023 		mov	r3, #524288
 7224 003e 3093     		str	r3, [sp, #192]
1457:System/storage/Storage.c ****     
 7225              		.loc 1 1457 5 is_stmt 1 view .LVU2275
1457:System/storage/Storage.c ****     
 7226              		.loc 1 1457 51 is_stmt 0 view .LVU2276
 7227 0040 3B48     		ldr	r0, .L542+4
 7228 0042 D0F83630 		ldr	r3, [r0, #54]	@ unaligned
1457:System/storage/Storage.c ****     
 7229              		.loc 1 1457 20 view .LVU2277
 7230 0046 2F93     		str	r3, [sp, #188]
1459:System/storage/Storage.c ****     page_num = Storage_ExtFlash_Max_Capacity / (ExtFlash_Storage_TabSize / StorageItem_Size);
 7231              		.loc 1 1459 5 is_stmt 1 view .LVU2278
 7232              	.LVL807:
1460:System/storage/Storage.c ****     if (page_num == 0)
 7233              		.loc 1 1460 5 view .LVU2279
1461:System/storage/Storage.c ****         return false;
 7234              		.loc 1 1461 5 view .LVU2280
1464:System/storage/Storage.c ****     Info.boot_sec.tab_size = BootSection_Block_Size * BootTab_Num;
 7235              		.loc 1 1464 5 view .LVU2281
1464:System/storage/Storage.c ****     Info.boot_sec.tab_size = BootSection_Block_Size * BootTab_Num;
 7236              		.loc 1 1464 28 is_stmt 0 view .LVU2282
 7237 0048 4FF48066 		mov	r6, #1024
 7238 004c 3396     		str	r6, [sp, #204]
1465:System/storage/Storage.c ****     Info.boot_sec.page_num = BootTab_Num;
 7239              		.loc 1 1465 5 is_stmt 1 view .LVU2283
1465:System/storage/Storage.c ****     Info.boot_sec.page_num = BootTab_Num;
 7240              		.loc 1 1465 28 is_stmt 0 view .LVU2284
 7241 004e 4FF48053 		mov	r3, #4096
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 205


 7242              	.LVL808:
1465:System/storage/Storage.c ****     Info.boot_sec.page_num = BootTab_Num;
 7243              		.loc 1 1465 28 view .LVU2285
 7244 0052 3793     		str	r3, [sp, #220]
1466:System/storage/Storage.c ****     Info.boot_sec.data_sec_size = ExternalFlash_BootDataSec_Size;
 7245              		.loc 1 1466 5 is_stmt 1 view .LVU2286
1466:System/storage/Storage.c ****     Info.boot_sec.data_sec_size = ExternalFlash_BootDataSec_Size;
 7246              		.loc 1 1466 28 is_stmt 0 view .LVU2287
 7247 0054 0123     		movs	r3, #1
 7248 0056 3693     		str	r3, [sp, #216]
1467:System/storage/Storage.c ****     Info.boot_sec.para_size = 0;
 7249              		.loc 1 1467 5 is_stmt 1 view .LVU2288
1467:System/storage/Storage.c ****     Info.boot_sec.para_size = 0;
 7250              		.loc 1 1467 33 is_stmt 0 view .LVU2289
 7251 0058 4FF40043 		mov	r3, #32768
 7252 005c 3593     		str	r3, [sp, #212]
1468:System/storage/Storage.c ****     Info.boot_sec.para_num = 0;
 7253              		.loc 1 1468 5 is_stmt 1 view .LVU2290
1469:System/storage/Storage.c ****     tab_addr_offset = (Info.boot_sec.tab_addr + Info.boot_sec.tab_size) + Storage_ReserveBlock_Size
 7254              		.loc 1 1469 5 view .LVU2291
1470:System/storage/Storage.c **** 
 7255              		.loc 1 1470 5 view .LVU2292
 7256              	.LVL809:
1472:System/storage/Storage.c ****     Info.sys_sec.tab_size = page_num * ExtFlash_Storage_TabSize;
 7257              		.loc 1 1472 5 view .LVU2293
1472:System/storage/Storage.c ****     Info.sys_sec.tab_size = page_num * ExtFlash_Storage_TabSize;
 7258              		.loc 1 1472 27 is_stmt 0 view .LVU2294
 7259 005e 4FF4A453 		mov	r3, #5248
 7260 0062 3C93     		str	r3, [sp, #240]
1473:System/storage/Storage.c ****     Info.sys_sec.data_sec_size = ExternalFlash_SysDataSec_Size;
 7261              		.loc 1 1473 5 is_stmt 1 view .LVU2295
1473:System/storage/Storage.c ****     Info.sys_sec.data_sec_size = ExternalFlash_SysDataSec_Size;
 7262              		.loc 1 1473 27 is_stmt 0 view .LVU2296
 7263 0064 4FF48033 		mov	r3, #65536
 7264 0068 4093     		str	r3, [sp, #256]
1474:System/storage/Storage.c ****     Info.sys_sec.page_num = page_num;
 7265              		.loc 1 1474 5 is_stmt 1 view .LVU2297
1474:System/storage/Storage.c ****     Info.sys_sec.page_num = page_num;
 7266              		.loc 1 1474 32 is_stmt 0 view .LVU2298
 7267 006a 3E93     		str	r3, [sp, #248]
1475:System/storage/Storage.c ****     Info.sys_sec.para_size = 0;
 7268              		.loc 1 1475 5 is_stmt 1 view .LVU2299
1475:System/storage/Storage.c ****     Info.sys_sec.para_size = 0;
 7269              		.loc 1 1475 27 is_stmt 0 view .LVU2300
 7270 006c 1022     		movs	r2, #16
 7271 006e 3F92     		str	r2, [sp, #252]
1476:System/storage/Storage.c ****     Info.sys_sec.para_num = 0;
 7272              		.loc 1 1476 5 is_stmt 1 view .LVU2301
1477:System/storage/Storage.c ****     tab_addr_offset += Info.sys_sec.tab_size + Storage_ReserveBlock_Size;
 7273              		.loc 1 1477 5 view .LVU2302
1478:System/storage/Storage.c ****         
 7274              		.loc 1 1478 5 view .LVU2303
 7275              	.LVL810:
1480:System/storage/Storage.c ****     Info.user_sec.tab_size = page_num * ExtFlash_Storage_TabSize;
 7276              		.loc 1 1480 5 view .LVU2304
1480:System/storage/Storage.c ****     Info.user_sec.tab_size = page_num * ExtFlash_Storage_TabSize;
 7277              		.loc 1 1480 28 is_stmt 0 view .LVU2305
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 206


 7278 0070 3049     		ldr	r1, .L542+8
 7279 0072 4591     		str	r1, [sp, #276]
1481:System/storage/Storage.c ****     Info.user_sec.data_sec_size = ExternalFlash_UserDataSec_Size;
 7280              		.loc 1 1481 5 is_stmt 1 view .LVU2306
1481:System/storage/Storage.c ****     Info.user_sec.data_sec_size = ExternalFlash_UserDataSec_Size;
 7281              		.loc 1 1481 28 is_stmt 0 view .LVU2307
 7282 0074 4993     		str	r3, [sp, #292]
1482:System/storage/Storage.c ****     Info.user_sec.page_num = page_num;
 7283              		.loc 1 1482 5 is_stmt 1 view .LVU2308
1482:System/storage/Storage.c ****     Info.user_sec.page_num = page_num;
 7284              		.loc 1 1482 33 is_stmt 0 view .LVU2309
 7285 0076 4793     		str	r3, [sp, #284]
1483:System/storage/Storage.c ****     Info.user_sec.para_size = 0;
 7286              		.loc 1 1483 5 is_stmt 1 view .LVU2310
1483:System/storage/Storage.c ****     Info.user_sec.para_size = 0;
 7287              		.loc 1 1483 28 is_stmt 0 view .LVU2311
 7288 0078 4892     		str	r2, [sp, #288]
1484:System/storage/Storage.c ****     Info.user_sec.para_num = 0;
 7289              		.loc 1 1484 5 is_stmt 1 view .LVU2312
1485:System/storage/Storage.c ****     tab_addr_offset += Info.user_sec.tab_size + Storage_ReserveBlock_Size;
 7290              		.loc 1 1485 5 view .LVU2313
1486:System/storage/Storage.c ****     
 7291              		.loc 1 1486 5 view .LVU2314
 7292              	.LVL811:
1489:System/storage/Storage.c ****         return false;
 7293              		.loc 1 1489 5 view .LVU2315
1492:System/storage/Storage.c ****     data_sec_size += Info.boot_sec.data_sec_size + Storage_ReserveBlock_Size;
 7294              		.loc 1 1492 5 view .LVU2316
1493:System/storage/Storage.c ****     data_sec_size += Info.sys_sec.data_sec_size + Storage_ReserveBlock_Size;
 7295              		.loc 1 1493 5 view .LVU2317
1494:System/storage/Storage.c ****     data_sec_size += Info.user_sec.data_sec_size + Storage_ReserveBlock_Size;
 7296              		.loc 1 1494 5 view .LVU2318
1495:System/storage/Storage.c **** 
 7297              		.loc 1 1495 5 view .LVU2319
1497:System/storage/Storage.c ****         return false;
 7298              		.loc 1 1497 5 view .LVU2320
1500:System/storage/Storage.c ****     Info.data_sec_size = Info.boot_sec.data_sec_size + Info.sys_sec.data_sec_size + Info.user_sec.d
 7299              		.loc 1 1500 5 view .LVU2321
1500:System/storage/Storage.c ****     Info.data_sec_size = Info.boot_sec.data_sec_size + Info.sys_sec.data_sec_size + Info.user_sec.d
 7300              		.loc 1 1500 22 is_stmt 0 view .LVU2322
 7301 007a 2F4B     		ldr	r3, .L542+12
 7302 007c 3193     		str	r3, [sp, #196]
1501:System/storage/Storage.c **** 
 7303              		.loc 1 1501 5 is_stmt 1 view .LVU2323
1501:System/storage/Storage.c **** 
 7304              		.loc 1 1501 24 is_stmt 0 view .LVU2324
 7305 007e 4FF42033 		mov	r3, #163840
 7306 0082 3293     		str	r3, [sp, #200]
1504:System/storage/Storage.c ****     tab_addr_offset += ExternalFlash_BootDataSec_Size;
 7307              		.loc 1 1504 5 is_stmt 1 view .LVU2325
1504:System/storage/Storage.c ****     tab_addr_offset += ExternalFlash_BootDataSec_Size;
 7308              		.loc 1 1504 33 is_stmt 0 view .LVU2326
 7309 0084 A3F5D543 		sub	r3, r3, #27264
 7310 0088 3493     		str	r3, [sp, #208]
1505:System/storage/Storage.c ****     tab_addr_offset += Storage_ReserveBlock_Size;
 7311              		.loc 1 1505 5 is_stmt 1 view .LVU2327
 7312              	.LVL812:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 207


1506:System/storage/Storage.c **** 
 7313              		.loc 1 1506 5 view .LVU2328
1508:System/storage/Storage.c ****     tab_addr_offset += ExternalFlash_SysDataSec_Size;
 7314              		.loc 1 1508 5 view .LVU2329
1508:System/storage/Storage.c ****     tab_addr_offset += ExternalFlash_SysDataSec_Size;
 7315              		.loc 1 1508 32 is_stmt 0 view .LVU2330
 7316 008a 2C4B     		ldr	r3, .L542+16
 7317 008c 3D93     		str	r3, [sp, #244]
1509:System/storage/Storage.c ****     tab_addr_offset += Storage_ReserveBlock_Size;
 7318              		.loc 1 1509 5 is_stmt 1 view .LVU2331
 7319              	.LVL813:
1510:System/storage/Storage.c **** 
 7320              		.loc 1 1510 5 view .LVU2332
1512:System/storage/Storage.c ****     tab_addr_offset += ExternalFlash_UserDataSec_Size;
 7321              		.loc 1 1512 5 view .LVU2333
1512:System/storage/Storage.c ****     tab_addr_offset += ExternalFlash_UserDataSec_Size;
 7322              		.loc 1 1512 33 is_stmt 0 view .LVU2334
 7323 008e 2C4B     		ldr	r3, .L542+20
 7324 0090 4693     		str	r3, [sp, #280]
1513:System/storage/Storage.c ****     tab_addr_offset += Storage_ReserveBlock_Size;
 7325              		.loc 1 1513 5 is_stmt 1 view .LVU2335
 7326              	.LVL814:
1514:System/storage/Storage.c **** 
 7327              		.loc 1 1514 5 view .LVU2336
1516:System/storage/Storage.c ****     addr_offset = BaseInfo_start_addr - Storage_Monitor.external_info.base_addr;
 7328              		.loc 1 1516 5 view .LVU2337
1516:System/storage/Storage.c ****     addr_offset = BaseInfo_start_addr - Storage_Monitor.external_info.base_addr;
 7329              		.loc 1 1516 35 is_stmt 0 view .LVU2338
 7330 0092 2A46     		mov	r2, r5
 7331 0094 0DEB0501 		add	r1, sp, r5
 7332 0098 1630     		adds	r0, r0, #22
 7333 009a FFF7FEFF 		bl	memcpy
 7334              	.LVL815:
1517:System/storage/Storage.c **** 
 7335              		.loc 1 1517 5 is_stmt 1 view .LVU2339
1520:System/storage/Storage.c **** 
 7336              		.loc 1 1520 5 view .LVU2340
 7337 009e 294C     		ldr	r4, .L542+24
 7338 00a0 3246     		mov	r2, r6
 7339 00a2 0021     		movs	r1, #0
 7340 00a4 2046     		mov	r0, r4
 7341 00a6 FFF7FEFF 		bl	memset
 7342              	.LVL816:
1523:System/storage/Storage.c ****         return false;
 7343              		.loc 1 1523 5 view .LVU2341
1523:System/storage/Storage.c ****         return false;
 7344              		.loc 1 1523 10 is_stmt 0 view .LVU2342
 7345 00aa 2A46     		mov	r2, r5
 7346 00ac 2146     		mov	r1, r4
 7347 00ae 0020     		movs	r0, #0
 7348 00b0 FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Read
 7349              	.LVL817:
1523:System/storage/Storage.c ****         return false;
 7350              		.loc 1 1523 8 view .LVU2343
 7351 00b4 08B9     		cbnz	r0, .L539
 7352              	.LVL818:
 7353              	.L535:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 208


1550:System/storage/Storage.c **** 
 7354              		.loc 1 1550 1 view .LVU2344
 7355 00b6 4EB0     		add	sp, sp, #312
 7356              	.LCFI83:
 7357              		.cfi_remember_state
 7358              		.cfi_def_cfa_offset 16
 7359              		@ sp needed
 7360 00b8 70BD     		pop	{r4, r5, r6, pc}
 7361              	.LVL819:
 7362              	.L539:
 7363              	.LCFI84:
 7364              		.cfi_restore_state
1527:System/storage/Storage.c ****     crc = Common_CRC16(page_data_tmp, Storage_InfoPageSize - sizeof(crc));
 7365              		.loc 1 1527 5 is_stmt 1 view .LVU2345
 7366 00ba 2A46     		mov	r2, r5
 7367 00bc 0DEB0501 		add	r1, sp, r5
 7368 00c0 2046     		mov	r0, r4
 7369 00c2 FFF7FEFF 		bl	memcpy
 7370              	.LVL820:
1528:System/storage/Storage.c ****     memcpy(&page_data_tmp[Storage_InfoPageSize - sizeof(crc)], &crc, sizeof(crc));
 7371              		.loc 1 1528 5 view .LVU2346
1528:System/storage/Storage.c ****     memcpy(&page_data_tmp[Storage_InfoPageSize - sizeof(crc)], &crc, sizeof(crc));
 7372              		.loc 1 1528 11 is_stmt 0 view .LVU2347
 7373 00c6 40F2FE31 		movw	r1, #1022
 7374 00ca 2046     		mov	r0, r4
 7375 00cc FFF7FEFF 		bl	Common_CRC16
 7376              	.LVL821:
1529:System/storage/Storage.c **** 
 7377              		.loc 1 1529 5 is_stmt 1 view .LVU2348
 7378 00d0 A4F8FE03 		strh	r0, [r4, #1022]	@ movhi
1532:System/storage/Storage.c ****         return false;
 7379              		.loc 1 1532 5 view .LVU2349
1532:System/storage/Storage.c ****         return false;
 7380              		.loc 1 1532 10 is_stmt 0 view .LVU2350
 7381 00d4 3246     		mov	r2, r6
 7382 00d6 2146     		mov	r1, r4
 7383 00d8 0020     		movs	r0, #0
 7384              	.LVL822:
1532:System/storage/Storage.c ****         return false;
 7385              		.loc 1 1532 10 view .LVU2351
 7386 00da FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Write
 7387              	.LVL823:
1532:System/storage/Storage.c ****         return false;
 7388              		.loc 1 1532 8 view .LVU2352
 7389 00de 0028     		cmp	r0, #0
 7390 00e0 E9D0     		beq	.L535
1536:System/storage/Storage.c ****         return false;
 7391              		.loc 1 1536 5 is_stmt 1 view .LVU2353
1536:System/storage/Storage.c ****         return false;
 7392              		.loc 1 1536 10 is_stmt 0 view .LVU2354
 7393 00e2 2A46     		mov	r2, r5
 7394 00e4 2146     		mov	r1, r4
 7395 00e6 0020     		movs	r0, #0
 7396 00e8 FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Read
 7397              	.LVL824:
1536:System/storage/Storage.c ****         return false;
 7398              		.loc 1 1536 8 view .LVU2355
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 209


 7399 00ec 0028     		cmp	r0, #0
 7400 00ee E2D0     		beq	.L535
1540:System/storage/Storage.c ****     if (memcmp(&Info_Rx, &Info, sizeof(Storage_FlashInfo_TypeDef)) != 0)
 7401              		.loc 1 1540 5 is_stmt 1 view .LVU2356
 7402 00f0 2A46     		mov	r2, r5
 7403 00f2 1449     		ldr	r1, .L542+24
 7404 00f4 6846     		mov	r0, sp
 7405 00f6 FFF7FEFF 		bl	memcpy
 7406              	.LVL825:
1541:System/storage/Storage.c ****         return false;
 7407              		.loc 1 1541 5 view .LVU2357
1541:System/storage/Storage.c ****         return false;
 7408              		.loc 1 1541 9 is_stmt 0 view .LVU2358
 7409 00fa 2A46     		mov	r2, r5
 7410 00fc 0DEB0501 		add	r1, sp, r5
 7411 0100 6846     		mov	r0, sp
 7412 0102 FFF7FEFF 		bl	memcmp
 7413              	.LVL826:
1541:System/storage/Storage.c ****         return false;
 7414              		.loc 1 1541 8 view .LVU2359
 7415 0106 08B1     		cbz	r0, .L540
1542:System/storage/Storage.c **** 
 7416              		.loc 1 1542 16 view .LVU2360
 7417 0108 0020     		movs	r0, #0
 7418 010a D4E7     		b	.L535
 7419              	.L540:
1544:System/storage/Storage.c ****         !Storage_Establish_Tab(Para_Sys)  || \
 7420              		.loc 1 1544 5 is_stmt 1 view .LVU2361
1544:System/storage/Storage.c ****         !Storage_Establish_Tab(Para_Sys)  || \
 7421              		.loc 1 1544 10 is_stmt 0 view .LVU2362
 7422 010c FFF7FEFF 		bl	Storage_Establish_Tab
 7423              	.LVL827:
1544:System/storage/Storage.c ****         !Storage_Establish_Tab(Para_Sys)  || \
 7424              		.loc 1 1544 8 view .LVU2363
 7425 0110 08B9     		cbnz	r0, .L541
 7426              	.L536:
1547:System/storage/Storage.c **** 
 7427              		.loc 1 1547 9 is_stmt 1 view .LVU2364
1547:System/storage/Storage.c **** 
 7428              		.loc 1 1547 16 is_stmt 0 view .LVU2365
 7429 0112 0020     		movs	r0, #0
 7430 0114 CFE7     		b	.L535
 7431              	.L541:
1545:System/storage/Storage.c ****         !Storage_Establish_Tab(Para_User))
 7432              		.loc 1 1545 10 discriminator 1 view .LVU2366
 7433 0116 0120     		movs	r0, #1
 7434 0118 FFF7FEFF 		bl	Storage_Establish_Tab
 7435              	.LVL828:
1544:System/storage/Storage.c ****         !Storage_Establish_Tab(Para_Sys)  || \
 7436              		.loc 1 1544 43 discriminator 1 view .LVU2367
 7437 011c 0028     		cmp	r0, #0
 7438 011e F8D0     		beq	.L536
1546:System/storage/Storage.c ****         return false;
 7439              		.loc 1 1546 10 view .LVU2368
 7440 0120 0220     		movs	r0, #2
 7441 0122 FFF7FEFF 		bl	Storage_Establish_Tab
 7442              	.LVL829:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 210


1545:System/storage/Storage.c ****         !Storage_Establish_Tab(Para_User))
 7443              		.loc 1 1545 43 view .LVU2369
 7444 0126 0028     		cmp	r0, #0
 7445 0128 C5D1     		bne	.L535
 7446 012a F2E7     		b	.L536
 7447              	.L543:
 7448              		.align	2
 7449              	.L542:
 7450 012c 00000000 		.word	.LC38
 7451 0130 00000000 		.word	.LANCHOR0
 7452 0134 00150100 		.word	70912
 7453 0138 00690300 		.word	223488
 7454 013c 00960200 		.word	169472
 7455 0140 80960300 		.word	235136
 7456 0144 00000000 		.word	page_data_tmp
 7457              		.cfi_endproc
 7458              	.LFE165:
 7460              		.section	.text.Storage_DeleteAllDataSlot,"ax",%progbits
 7461              		.align	1
 7462              		.syntax unified
 7463              		.thumb
 7464              		.thumb_func
 7466              	Storage_DeleteAllDataSlot:
 7467              	.LVL830:
 7468              	.LFB161:
 984:System/storage/Storage.c ****     Storage_DataSlot_TypeDef data_slot;
 7469              		.loc 1 984 1 is_stmt 1 view -0
 7470              		.cfi_startproc
 7471              		@ args = 0, pretend = 0, frame = 64
 7472              		@ frame_needed = 0, uses_anonymous_args = 0
 985:System/storage/Storage.c ****     uint8_t *p_read = page_data_tmp;
 7473              		.loc 1 985 5 view .LVU2371
 986:System/storage/Storage.c ****     uint8_t name_len = 0;
 7474              		.loc 1 986 5 view .LVU2372
 987:System/storage/Storage.c **** 
 7475              		.loc 1 987 5 view .LVU2373
 989:System/storage/Storage.c ****         (name == NULL) || \
 7476              		.loc 1 989 5 view .LVU2374
 989:System/storage/Storage.c ****         (name == NULL) || \
 7477              		.loc 1 989 8 is_stmt 0 view .LVU2375
 7478 0000 0028     		cmp	r0, #0
 7479 0002 00F08280 		beq	.L547
 984:System/storage/Storage.c ****     Storage_DataSlot_TypeDef data_slot;
 7480              		.loc 1 984 1 discriminator 1 view .LVU2376
 7481 0006 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 7482              	.LCFI85:
 7483              		.cfi_def_cfa_offset 28
 7484              		.cfi_offset 4, -28
 7485              		.cfi_offset 5, -24
 7486              		.cfi_offset 6, -20
 7487              		.cfi_offset 7, -16
 7488              		.cfi_offset 8, -12
 7489              		.cfi_offset 9, -8
 7490              		.cfi_offset 14, -4
 7491 000a 91B0     		sub	sp, sp, #68
 7492              	.LCFI86:
 7493              		.cfi_def_cfa_offset 96
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 211


 7494 000c 0C46     		mov	r4, r1
 7495 000e 1646     		mov	r6, r2
 7496 0010 1D46     		mov	r5, r3
 7497 0012 0746     		mov	r7, r0
 989:System/storage/Storage.c ****         (name == NULL) || \
 7498              		.loc 1 989 21 discriminator 1 view .LVU2377
 7499 0014 0029     		cmp	r1, #0
 7500 0016 7AD0     		beq	.L548
 991:System/storage/Storage.c ****         (total_size == 0) || \
 7501              		.loc 1 991 23 view .LVU2378
 7502 0018 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 7503              	.LVL831:
 990:System/storage/Storage.c ****         (strlen(name) == 0) || \
 7504              		.loc 1 990 24 view .LVU2379
 7505 001a 002B     		cmp	r3, #0
 7506 001c 79D0     		beq	.L549
 991:System/storage/Storage.c ****         (total_size == 0) || \
 7507              		.loc 1 991 29 view .LVU2380
 7508 001e 002A     		cmp	r2, #0
 7509 0020 7BD0     		beq	.L550
 992:System/storage/Storage.c ****         (p_Sec == NULL))
 7510              		.loc 1 992 27 view .LVU2381
 7511 0022 002D     		cmp	r5, #0
 7512 0024 7BD0     		beq	.L551
 996:System/storage/Storage.c ****     name_len = strlen(name);
 7513              		.loc 1 996 5 is_stmt 1 view .LVU2382
 7514 0026 4022     		movs	r2, #64
 7515              	.LVL832:
 996:System/storage/Storage.c ****     name_len = strlen(name);
 7516              		.loc 1 996 5 is_stmt 0 view .LVU2383
 7517 0028 0021     		movs	r1, #0
 7518              	.LVL833:
 996:System/storage/Storage.c ****     name_len = strlen(name);
 7519              		.loc 1 996 5 view .LVU2384
 7520 002a 6846     		mov	r0, sp
 7521              	.LVL834:
 996:System/storage/Storage.c ****     name_len = strlen(name);
 7522              		.loc 1 996 5 view .LVU2385
 7523 002c FFF7FEFF 		bl	memset
 7524              	.LVL835:
 997:System/storage/Storage.c **** 
 7525              		.loc 1 997 5 is_stmt 1 view .LVU2386
 997:System/storage/Storage.c **** 
 7526              		.loc 1 997 16 is_stmt 0 view .LVU2387
 7527 0030 2046     		mov	r0, r4
 7528 0032 FFF7FEFF 		bl	strlen
 7529              	.LVL836:
 7530 0036 8046     		mov	r8, r0
 7531              	.LVL837:
 999:System/storage/Storage.c ****         return false;
 7532              		.loc 1 999 5 is_stmt 1 view .LVU2388
 999:System/storage/Storage.c ****         return false;
 7533              		.loc 1 999 10 is_stmt 0 view .LVU2389
 7534 0038 3246     		mov	r2, r6
 7535 003a 4149     		ldr	r1, .L565
 7536 003c 3846     		mov	r0, r7
 7537 003e FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Read
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 212


 7538              	.LVL838:
 999:System/storage/Storage.c ****         return false;
 7539              		.loc 1 999 8 view .LVU2390
 7540 0042 0028     		cmp	r0, #0
 7541 0044 66D0     		beq	.L545
1002:System/storage/Storage.c ****     if (data_slot.head_tag != STORAGE_SLOT_HEAD_TAG)
 7542              		.loc 1 1002 5 is_stmt 1 view .LVU2391
1002:System/storage/Storage.c ****     if (data_slot.head_tag != STORAGE_SLOT_HEAD_TAG)
 7543              		.loc 1 1002 26 is_stmt 0 view .LVU2392
 7544 0046 3E4B     		ldr	r3, .L565
 7545 0048 1B68     		ldr	r3, [r3]
1002:System/storage/Storage.c ****     if (data_slot.head_tag != STORAGE_SLOT_HEAD_TAG)
 7546              		.loc 1 1002 24 view .LVU2393
 7547 004a 0093     		str	r3, [sp]
1003:System/storage/Storage.c ****         return false;
 7548              		.loc 1 1003 5 is_stmt 1 view .LVU2394
1003:System/storage/Storage.c ****         return false;
 7549              		.loc 1 1003 8 is_stmt 0 view .LVU2395
 7550 004c 3D4A     		ldr	r2, .L565+4
 7551 004e 9342     		cmp	r3, r2
 7552 0050 67D1     		bne	.L552
1006:System/storage/Storage.c ****     memcpy(data_slot.name, p_read, STORAGE_NAME_LEN);
 7553              		.loc 1 1006 5 is_stmt 1 view .LVU2396
 7554              	.LVL839:
1007:System/storage/Storage.c ****     if (memcmp(data_slot.name, name, name_len) != 0)
 7555              		.loc 1 1007 5 view .LVU2397
 7556 0052 0DF1040C 		add	ip, sp, #4
 7557 0056 DFF8F4E0 		ldr	lr, .L565+12
 7558              	.LVL840:
1007:System/storage/Storage.c ****     if (memcmp(data_slot.name, name, name_len) != 0)
 7559              		.loc 1 1007 5 is_stmt 0 view .LVU2398
 7560 005a BEE80F00 		ldmia	lr!, {r0, r1, r2, r3}
 7561              	.LVL841:
1007:System/storage/Storage.c ****     if (memcmp(data_slot.name, name, name_len) != 0)
 7562              		.loc 1 1007 5 view .LVU2399
 7563 005e ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 7564 0062 BEE80F00 		ldmia	lr!, {r0, r1, r2, r3}
 7565 0066 ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 7566 006a 9EE80700 		ldm	lr, {r0, r1, r2}
 7567 006e ACE80300 		stmia	ip!, {r0, r1}
 7568 0072 8CF80020 		strb	r2, [ip]
1008:System/storage/Storage.c ****         return false;
 7569              		.loc 1 1008 5 is_stmt 1 view .LVU2400
1008:System/storage/Storage.c ****         return false;
 7570              		.loc 1 1008 9 is_stmt 0 view .LVU2401
 7571 0076 5FFA88F2 		uxtb	r2, r8
 7572 007a 2146     		mov	r1, r4
 7573 007c 01A8     		add	r0, sp, #4
 7574 007e FFF7FEFF 		bl	memcmp
 7575              	.LVL842:
1008:System/storage/Storage.c ****         return false;
 7576              		.loc 1 1008 8 view .LVU2402
 7577 0082 0028     		cmp	r0, #0
 7578 0084 4FD1     		bne	.L553
1011:System/storage/Storage.c ****     data_slot.total_data_size = *((uint32_t *)p_read);
 7579              		.loc 1 1011 5 is_stmt 1 view .LVU2403
 7580              	.LVL843:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 213


1012:System/storage/Storage.c ****     if (data_slot.total_data_size != total_size)
 7581              		.loc 1 1012 5 view .LVU2404
1012:System/storage/Storage.c ****     if (data_slot.total_data_size != total_size)
 7582              		.loc 1 1012 33 is_stmt 0 view .LVU2405
 7583 0086 2E4B     		ldr	r3, .L565
 7584 0088 D3F82D30 		ldr	r3, [r3, #45]	@ unaligned
1012:System/storage/Storage.c ****     if (data_slot.total_data_size != total_size)
 7585              		.loc 1 1012 31 view .LVU2406
 7586 008c CDF82D30 		str	r3, [sp, #45]	@ unaligned
1013:System/storage/Storage.c ****         return false;
 7587              		.loc 1 1013 5 is_stmt 1 view .LVU2407
1013:System/storage/Storage.c ****         return false;
 7588              		.loc 1 1013 8 is_stmt 0 view .LVU2408
 7589 0090 B342     		cmp	r3, r6
 7590 0092 4AD1     		bne	.L554
1016:System/storage/Storage.c ****     data_slot.cur_slot_size = *((uint32_t *)p_read);
 7591              		.loc 1 1016 5 is_stmt 1 view .LVU2409
 7592              	.LVL844:
1017:System/storage/Storage.c ****     if (data_slot.cur_slot_size > data_slot.total_data_size)
 7593              		.loc 1 1017 5 view .LVU2410
1017:System/storage/Storage.c ****     if (data_slot.cur_slot_size > data_slot.total_data_size)
 7594              		.loc 1 1017 31 is_stmt 0 view .LVU2411
 7595 0094 2A4A     		ldr	r2, .L565
 7596 0096 D2F83180 		ldr	r8, [r2, #49]	@ unaligned
 7597              	.LVL845:
1017:System/storage/Storage.c ****     if (data_slot.cur_slot_size > data_slot.total_data_size)
 7598              		.loc 1 1017 29 view .LVU2412
 7599 009a CDF83180 		str	r8, [sp, #49]	@ unaligned
1018:System/storage/Storage.c ****         return false;
 7600              		.loc 1 1018 5 is_stmt 1 view .LVU2413
1018:System/storage/Storage.c ****         return false;
 7601              		.loc 1 1018 8 is_stmt 0 view .LVU2414
 7602 009e 4345     		cmp	r3, r8
 7603 00a0 45D3     		bcc	.L555
1021:System/storage/Storage.c ****     data_slot.nxt_addr = *((uint32_t *)p_read);
 7604              		.loc 1 1021 5 is_stmt 1 view .LVU2415
 7605              	.LVL846:
1022:System/storage/Storage.c ****     if ((data_slot.nxt_addr < p_Sec->data_sec_addr) || \
 7606              		.loc 1 1022 5 view .LVU2416
1022:System/storage/Storage.c ****     if ((data_slot.nxt_addr < p_Sec->data_sec_addr) || \
 7607              		.loc 1 1022 26 is_stmt 0 view .LVU2417
 7608 00a2 D2F83520 		ldr	r2, [r2, #53]	@ unaligned
1022:System/storage/Storage.c ****     if ((data_slot.nxt_addr < p_Sec->data_sec_addr) || \
 7609              		.loc 1 1022 24 view .LVU2418
 7610 00a6 CDF83520 		str	r2, [sp, #53]	@ unaligned
1023:System/storage/Storage.c ****         (data_slot.nxt_addr > (p_Sec->data_sec_addr + p_Sec->data_sec_size)))
 7611              		.loc 1 1023 5 is_stmt 1 view .LVU2419
1023:System/storage/Storage.c ****         (data_slot.nxt_addr > (p_Sec->data_sec_addr + p_Sec->data_sec_size)))
 7612              		.loc 1 1023 36 is_stmt 0 view .LVU2420
 7613 00aa 6B68     		ldr	r3, [r5, #4]	@ unaligned
1023:System/storage/Storage.c ****         (data_slot.nxt_addr > (p_Sec->data_sec_addr + p_Sec->data_sec_size)))
 7614              		.loc 1 1023 8 view .LVU2421
 7615 00ac 9A42     		cmp	r2, r3
 7616 00ae 40D3     		bcc	.L556
1024:System/storage/Storage.c ****         return false;
 7617              		.loc 1 1024 60 discriminator 1 view .LVU2422
 7618 00b0 A968     		ldr	r1, [r5, #8]	@ unaligned
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 214


1024:System/storage/Storage.c ****         return false;
 7619              		.loc 1 1024 53 discriminator 1 view .LVU2423
 7620 00b2 0B44     		add	r3, r3, r1
1023:System/storage/Storage.c ****         (data_slot.nxt_addr > (p_Sec->data_sec_addr + p_Sec->data_sec_size)))
 7621              		.loc 1 1023 53 discriminator 1 view .LVU2424
 7622 00b4 9A42     		cmp	r2, r3
 7623 00b6 3ED8     		bhi	.L557
1027:System/storage/Storage.c ****     data_slot.align_size = *((uint8_t *)p_read);    
 7624              		.loc 1 1027 5 is_stmt 1 view .LVU2425
 7625              	.LVL847:
1028:System/storage/Storage.c ****     if (data_slot.align_size >= STORAGE_DATA_ALIGN)
 7626              		.loc 1 1028 5 view .LVU2426
1028:System/storage/Storage.c ****     if (data_slot.align_size >= STORAGE_DATA_ALIGN)
 7627              		.loc 1 1028 28 is_stmt 0 view .LVU2427
 7628 00b8 214B     		ldr	r3, .L565
 7629 00ba 93F83930 		ldrb	r3, [r3, #57]	@ zero_extendqisi2
1028:System/storage/Storage.c ****     if (data_slot.align_size >= STORAGE_DATA_ALIGN)
 7630              		.loc 1 1028 26 view .LVU2428
 7631 00be 8DF83930 		strb	r3, [sp, #57]
1029:System/storage/Storage.c ****         return false;
 7632              		.loc 1 1029 5 is_stmt 1 view .LVU2429
1029:System/storage/Storage.c ****         return false;
 7633              		.loc 1 1029 8 is_stmt 0 view .LVU2430
 7634 00c2 032B     		cmp	r3, #3
 7635 00c4 01D9     		bls	.L564
1030:System/storage/Storage.c **** 
 7636              		.loc 1 1030 16 view .LVU2431
 7637 00c6 0020     		movs	r0, #0
 7638 00c8 24E0     		b	.L545
 7639              	.L564:
1033:System/storage/Storage.c ****     memset(p_read, 0, data_slot.cur_slot_size);
 7640              		.loc 1 1033 5 is_stmt 1 view .LVU2432
 7641              	.LVL848:
1034:System/storage/Storage.c ****     p_read += data_slot.cur_slot_size;
 7642              		.loc 1 1034 5 view .LVU2433
 7643 00ca DFF88490 		ldr	r9, .L565+16
 7644              	.LVL849:
1034:System/storage/Storage.c ****     p_read += data_slot.cur_slot_size;
 7645              		.loc 1 1034 5 is_stmt 0 view .LVU2434
 7646 00ce 4246     		mov	r2, r8
 7647 00d0 0021     		movs	r1, #0
 7648 00d2 4846     		mov	r0, r9
 7649 00d4 FFF7FEFF 		bl	memset
 7650              	.LVL850:
1035:System/storage/Storage.c **** 
 7651              		.loc 1 1035 5 is_stmt 1 view .LVU2435
1035:System/storage/Storage.c **** 
 7652              		.loc 1 1035 12 is_stmt 0 view .LVU2436
 7653 00d8 08EB0903 		add	r3, r8, r9
 7654              	.LVL851:
1038:System/storage/Storage.c ****     p_read += sizeof(data_slot.slot_crc);
 7655              		.loc 1 1038 5 is_stmt 1 view .LVU2437
1038:System/storage/Storage.c ****     p_read += sizeof(data_slot.slot_crc);
 7656              		.loc 1 1038 27 is_stmt 0 view .LVU2438
 7657 00dc 0022     		movs	r2, #0
 7658 00de 28F80920 		strh	r2, [r8, r9]	@ movhi
1039:System/storage/Storage.c **** 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 215


 7659              		.loc 1 1039 5 is_stmt 1 view .LVU2439
 7660              	.LVL852:
1042:System/storage/Storage.c ****         return false;
 7661              		.loc 1 1042 5 view .LVU2440
1042:System/storage/Storage.c ****         return false;
 7662              		.loc 1 1042 9 is_stmt 0 view .LVU2441
 7663 00e2 D3F80220 		ldr	r2, [r3, #2]
1042:System/storage/Storage.c ****         return false;
 7664              		.loc 1 1042 8 view .LVU2442
 7665 00e6 184B     		ldr	r3, .L565+8
 7666              	.LVL853:
1042:System/storage/Storage.c ****         return false;
 7667              		.loc 1 1042 8 view .LVU2443
 7668 00e8 9A42     		cmp	r2, r3
 7669 00ea 26D1     		bne	.L559
1046:System/storage/Storage.c ****     {
 7670              		.loc 1 1046 5 is_stmt 1 view .LVU2444
1046:System/storage/Storage.c ****     {
 7671              		.loc 1 1046 18 is_stmt 0 view .LVU2445
 7672 00ec DDF83500 		ldr	r0, [sp, #53]	@ unaligned
1046:System/storage/Storage.c ****     {
 7673              		.loc 1 1046 8 view .LVU2446
 7674 00f0 28B1     		cbz	r0, .L546
1049:System/storage/Storage.c ****             return false;
 7675              		.loc 1 1049 9 is_stmt 1 view .LVU2447
1049:System/storage/Storage.c ****             return false;
 7676              		.loc 1 1049 14 is_stmt 0 view .LVU2448
 7677 00f2 2B46     		mov	r3, r5
 7678 00f4 3246     		mov	r2, r6
 7679 00f6 2146     		mov	r1, r4
 7680 00f8 FFF782FF 		bl	Storage_DeleteAllDataSlot
 7681              	.LVL854:
1049:System/storage/Storage.c ****             return false;
 7682              		.loc 1 1049 12 view .LVU2449
 7683 00fc 50B1     		cbz	r0, .L545
 7684              	.L546:
1054:System/storage/Storage.c ****         return false;
 7685              		.loc 1 1054 5 is_stmt 1 view .LVU2450
1054:System/storage/Storage.c ****         return false;
 7686              		.loc 1 1054 10 is_stmt 0 view .LVU2451
 7687 00fe 2A46     		mov	r2, r5
 7688 0100 0F49     		ldr	r1, .L565
 7689 0102 3846     		mov	r0, r7
 7690 0104 FFF7FEFF 		bl	Storage_DeleteSingleDataSlot
 7691              	.LVL855:
 7692 0108 04E0     		b	.L545
 7693              	.LVL856:
 7694              	.L547:
 7695              	.LCFI87:
 7696              		.cfi_def_cfa_offset 0
 7697              		.cfi_restore 4
 7698              		.cfi_restore 5
 7699              		.cfi_restore 6
 7700              		.cfi_restore 7
 7701              		.cfi_restore 8
 7702              		.cfi_restore 9
 7703              		.cfi_restore 14
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 216


 994:System/storage/Storage.c **** 
 7704              		.loc 1 994 16 view .LVU2452
 7705 010a 0020     		movs	r0, #0
 7706              	.LVL857:
1058:System/storage/Storage.c **** 
 7707              		.loc 1 1058 1 view .LVU2453
 7708 010c 7047     		bx	lr
 7709              	.LVL858:
 7710              	.L548:
 7711              	.LCFI88:
 7712              		.cfi_def_cfa_offset 96
 7713              		.cfi_offset 4, -28
 7714              		.cfi_offset 5, -24
 7715              		.cfi_offset 6, -20
 7716              		.cfi_offset 7, -16
 7717              		.cfi_offset 8, -12
 7718              		.cfi_offset 9, -8
 7719              		.cfi_offset 14, -4
 994:System/storage/Storage.c **** 
 7720              		.loc 1 994 16 view .LVU2454
 7721 010e 0020     		movs	r0, #0
 7722              	.LVL859:
 994:System/storage/Storage.c **** 
 7723              		.loc 1 994 16 view .LVU2455
 7724 0110 00E0     		b	.L545
 7725              	.LVL860:
 7726              	.L549:
 994:System/storage/Storage.c **** 
 7727              		.loc 1 994 16 view .LVU2456
 7728 0112 0020     		movs	r0, #0
 7729              	.LVL861:
 7730              	.L545:
1058:System/storage/Storage.c **** 
 7731              		.loc 1 1058 1 view .LVU2457
 7732 0114 11B0     		add	sp, sp, #68
 7733              	.LCFI89:
 7734              		.cfi_remember_state
 7735              		.cfi_def_cfa_offset 28
 7736              		@ sp needed
 7737 0116 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 7738              	.LVL862:
 7739              	.L550:
 7740              	.LCFI90:
 7741              		.cfi_restore_state
 994:System/storage/Storage.c **** 
 7742              		.loc 1 994 16 view .LVU2458
 7743 011a 0020     		movs	r0, #0
 7744              	.LVL863:
 994:System/storage/Storage.c **** 
 7745              		.loc 1 994 16 view .LVU2459
 7746 011c FAE7     		b	.L545
 7747              	.LVL864:
 7748              	.L551:
 994:System/storage/Storage.c **** 
 7749              		.loc 1 994 16 view .LVU2460
 7750 011e 0020     		movs	r0, #0
 7751              	.LVL865:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 217


 994:System/storage/Storage.c **** 
 7752              		.loc 1 994 16 view .LVU2461
 7753 0120 F8E7     		b	.L545
 7754              	.LVL866:
 7755              	.L552:
1004:System/storage/Storage.c **** 
 7756              		.loc 1 1004 16 view .LVU2462
 7757 0122 0020     		movs	r0, #0
 7758 0124 F6E7     		b	.L545
 7759              	.LVL867:
 7760              	.L553:
1009:System/storage/Storage.c **** 
 7761              		.loc 1 1009 16 view .LVU2463
 7762 0126 0020     		movs	r0, #0
 7763 0128 F4E7     		b	.L545
 7764              	.LVL868:
 7765              	.L554:
1014:System/storage/Storage.c **** 
 7766              		.loc 1 1014 16 view .LVU2464
 7767 012a 0020     		movs	r0, #0
 7768 012c F2E7     		b	.L545
 7769              	.LVL869:
 7770              	.L555:
1019:System/storage/Storage.c **** 
 7771              		.loc 1 1019 16 view .LVU2465
 7772 012e 0020     		movs	r0, #0
 7773 0130 F0E7     		b	.L545
 7774              	.LVL870:
 7775              	.L556:
1025:System/storage/Storage.c ****     
 7776              		.loc 1 1025 16 view .LVU2466
 7777 0132 0020     		movs	r0, #0
 7778 0134 EEE7     		b	.L545
 7779              	.L557:
 7780 0136 0020     		movs	r0, #0
 7781 0138 ECE7     		b	.L545
 7782              	.LVL871:
 7783              	.L559:
1043:System/storage/Storage.c **** 
 7784              		.loc 1 1043 16 view .LVU2467
 7785 013a 0020     		movs	r0, #0
 7786 013c EAE7     		b	.L545
 7787              	.L566:
 7788 013e 00BF     		.align	2
 7789              	.L565:
 7790 0140 00000000 		.word	page_data_tmp
 7791 0144 EF1001EF 		.word	-285142801
 7792 0148 FE0110FE 		.word	-32505346
 7793 014c 04000000 		.word	page_data_tmp+4
 7794 0150 3A000000 		.word	page_data_tmp+58
 7795              		.cfi_endproc
 7796              	.LFE161:
 7798              		.section	.text.Storage_Get_StorageInfo,"ax",%progbits
 7799              		.align	1
 7800              		.syntax unified
 7801              		.thumb
 7802              		.thumb_func
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 218


 7804              	Storage_Get_StorageInfo:
 7805              	.LFB152:
 362:System/storage/Storage.c ****     Storage_FlashInfo_TypeDef *p_Info = NULL;
 7806              		.loc 1 362 1 is_stmt 1 view -0
 7807              		.cfi_startproc
 7808              		@ args = 0, pretend = 0, frame = 208
 7809              		@ frame_needed = 0, uses_anonymous_args = 0
 7810 0000 10B5     		push	{r4, lr}
 7811              	.LCFI91:
 7812              		.cfi_def_cfa_offset 8
 7813              		.cfi_offset 4, -8
 7814              		.cfi_offset 14, -4
 7815 0002 B4B0     		sub	sp, sp, #208
 7816              	.LCFI92:
 7817              		.cfi_def_cfa_offset 216
 363:System/storage/Storage.c ****     Storage_FlashInfo_TypeDef Info_r;
 7818              		.loc 1 363 5 view .LVU2469
 7819              	.LVL872:
 364:System/storage/Storage.c ****     uint16_t crc = 0;
 7820              		.loc 1 364 5 view .LVU2470
 365:System/storage/Storage.c ****     uint16_t crc_read = 0;
 7821              		.loc 1 365 5 view .LVU2471
 366:System/storage/Storage.c ****     char flash_tag[INTERNAL_PAGE_TAG_SIZE + EXTERNAL_PAGE_TAG_SIZE];
 7822              		.loc 1 366 5 view .LVU2472
 367:System/storage/Storage.c **** 
 7823              		.loc 1 367 5 view .LVU2473
 369:System/storage/Storage.c ****     memset(&Info_r, 0, sizeof(Storage_FlashInfo_TypeDef));
 7824              		.loc 1 369 5 view .LVU2474
 7825 0004 2E22     		movs	r2, #46
 7826 0006 0021     		movs	r1, #0
 7827 0008 01A8     		add	r0, sp, #4
 7828              	.LVL873:
 369:System/storage/Storage.c ****     memset(&Info_r, 0, sizeof(Storage_FlashInfo_TypeDef));
 7829              		.loc 1 369 5 is_stmt 0 view .LVU2475
 7830 000a FFF7FEFF 		bl	memset
 7831              	.LVL874:
 370:System/storage/Storage.c **** 
 7832              		.loc 1 370 5 is_stmt 1 view .LVU2476
 7833 000e 9C22     		movs	r2, #156
 7834 0010 0021     		movs	r1, #0
 7835 0012 0DA8     		add	r0, sp, #52
 7836 0014 FFF7FEFF 		bl	memset
 7837              	.LVL875:
 372:System/storage/Storage.c ****     p_Info = &Storage_Monitor.external_info;
 7838              		.loc 1 372 5 view .LVU2477
 7839 0018 0DF1040C 		add	ip, sp, #4
 7840              	.LVL876:
 372:System/storage/Storage.c ****     p_Info = &Storage_Monitor.external_info;
 7841              		.loc 1 372 5 is_stmt 0 view .LVU2478
 7842 001c 314C     		ldr	r4, .L579
 7843 001e 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
 7844 0020 ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 7845              	.LVL877:
 372:System/storage/Storage.c ****     p_Info = &Storage_Monitor.external_info;
 7846              		.loc 1 372 5 view .LVU2479
 7847 0024 94E80300 		ldm	r4, {r0, r1}
 7848 0028 4CF8040B 		str	r0, [ip], #4
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 219


 7849              	.LVL878:
 372:System/storage/Storage.c ****     p_Info = &Storage_Monitor.external_info;
 7850              		.loc 1 372 5 view .LVU2480
 7851 002c 2CF8021B 		strh	r1, [ip], #2	@ movhi
 7852              	.LVL879:
 372:System/storage/Storage.c ****     p_Info = &Storage_Monitor.external_info;
 7853              		.loc 1 372 5 view .LVU2481
 7854 0030 090C     		lsrs	r1, r1, #16
 7855 0032 8CF80010 		strb	r1, [ip]
 373:System/storage/Storage.c ****     
 7856              		.loc 1 373 5 is_stmt 1 view .LVU2482
 7857              	.LVL880:
 375:System/storage/Storage.c ****     {
 7858              		.loc 1 375 5 view .LVU2483
 375:System/storage/Storage.c ****     {
 7859              		.loc 1 375 9 is_stmt 0 view .LVU2484
 7860 0036 4FF48052 		mov	r2, #4096
 7861 003a 2B49     		ldr	r1, .L579+4
 7862 003c 0020     		movs	r0, #0
 7863 003e FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Read
 7864              	.LVL881:
 375:System/storage/Storage.c ****     {
 7865              		.loc 1 375 8 view .LVU2485
 7866 0042 0446     		mov	r4, r0
 7867 0044 0028     		cmp	r0, #0
 7868 0046 3DD0     		beq	.L568
 378:System/storage/Storage.c ****         
 7869              		.loc 1 378 9 is_stmt 1 view .LVU2486
 378:System/storage/Storage.c ****         
 7870              		.loc 1 378 16 is_stmt 0 view .LVU2487
 7871 0048 9C22     		movs	r2, #156
 7872 004a 2749     		ldr	r1, .L579+4
 7873 004c 0DA8     		add	r0, sp, #52
 7874 004e FFF7FEFF 		bl	memcpy
 7875              	.LVL882:
 382:System/storage/Storage.c ****             (Info_r.boot_sec.tab_addr == 0) || \
 7876              		.loc 1 382 9 is_stmt 1 view .LVU2488
 382:System/storage/Storage.c ****             (Info_r.boot_sec.tab_addr == 0) || \
 7877              		.loc 1 382 14 is_stmt 0 view .LVU2489
 7878 0052 01A9     		add	r1, sp, #4
 7879              	.LVL883:
 382:System/storage/Storage.c ****             (Info_r.boot_sec.tab_addr == 0) || \
 7880              		.loc 1 382 14 view .LVU2490
 7881 0054 0DA8     		add	r0, sp, #52
 7882 0056 FFF7FEFF 		bl	strcmp
 7883              	.LVL884:
 382:System/storage/Storage.c ****             (Info_r.boot_sec.tab_addr == 0) || \
 7884              		.loc 1 382 12 view .LVU2491
 7885 005a 90BB     		cbnz	r0, .L569
 383:System/storage/Storage.c ****             (Info_r.sys_sec.tab_addr == 0) || \
 7886              		.loc 1 383 29 discriminator 1 view .LVU2492
 7887 005c 199B     		ldr	r3, [sp, #100]
 382:System/storage/Storage.c ****             (Info_r.boot_sec.tab_addr == 0) || \
 7888              		.loc 1 382 64 discriminator 1 view .LVU2493
 7889 005e A3B3     		cbz	r3, .L570
 384:System/storage/Storage.c ****             (Info_r.user_sec.tab_addr == 0) || \
 7890              		.loc 1 384 28 view .LVU2494
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 220


 7891 0060 229A     		ldr	r2, [sp, #136]
 383:System/storage/Storage.c ****             (Info_r.sys_sec.tab_addr == 0) || \
 7892              		.loc 1 383 45 view .LVU2495
 7893 0062 A2B3     		cbz	r2, .L571
 385:System/storage/Storage.c ****             (Info_r.boot_sec.tab_addr == Info_r.sys_sec.tab_addr) || \
 7894              		.loc 1 385 29 view .LVU2496
 7895 0064 2B99     		ldr	r1, [sp, #172]
 384:System/storage/Storage.c ****             (Info_r.user_sec.tab_addr == 0) || \
 7896              		.loc 1 384 44 view .LVU2497
 7897 0066 A1B3     		cbz	r1, .L572
 385:System/storage/Storage.c ****             (Info_r.boot_sec.tab_addr == Info_r.sys_sec.tab_addr) || \
 7898              		.loc 1 385 45 view .LVU2498
 7899 0068 9342     		cmp	r3, r2
 7900 006a 34D0     		beq	.L573
 386:System/storage/Storage.c ****             (Info_r.boot_sec.tab_addr == Info_r.user_sec.tab_addr) || \
 7901              		.loc 1 386 67 view .LVU2499
 7902 006c 8B42     		cmp	r3, r1
 7903 006e 34D0     		beq	.L574
 387:System/storage/Storage.c ****             (Info_r.sys_sec.tab_addr == Info_r.user_sec.tab_addr))
 7904              		.loc 1 387 68 view .LVU2500
 7905 0070 8A42     		cmp	r2, r1
 7906 0072 34D0     		beq	.L575
 392:System/storage/Storage.c ****         crc = Common_CRC16(page_data_tmp, OnChipFlash_Storage_InfoPageSize - sizeof(crc));
 7907              		.loc 1 392 9 is_stmt 1 view .LVU2501
 7908 0074 1C48     		ldr	r0, .L579+4
 7909 0076 B0F8FE43 		ldrh	r4, [r0, #1022]
 7910              	.LVL885:
 393:System/storage/Storage.c ****         if (crc != crc_read)
 7911              		.loc 1 393 9 view .LVU2502
 393:System/storage/Storage.c ****         if (crc != crc_read)
 7912              		.loc 1 393 15 is_stmt 0 view .LVU2503
 7913 007a 40F2FE31 		movw	r1, #1022
 7914 007e FFF7FEFF 		bl	Common_CRC16
 7915              	.LVL886:
 393:System/storage/Storage.c ****         if (crc != crc_read)
 7916              		.loc 1 393 13 view .LVU2504
 7917 0082 80B2     		uxth	r0, r0
 7918              	.LVL887:
 394:System/storage/Storage.c ****             return false;
 7919              		.loc 1 394 9 is_stmt 1 view .LVU2505
 394:System/storage/Storage.c ****             return false;
 7920              		.loc 1 394 12 is_stmt 0 view .LVU2506
 7921 0084 8442     		cmp	r4, r0
 7922 0086 01D0     		beq	.L578
 395:System/storage/Storage.c **** 
 7923              		.loc 1 395 20 view .LVU2507
 7924 0088 0024     		movs	r4, #0
 7925              	.LVL888:
 395:System/storage/Storage.c **** 
 7926              		.loc 1 395 20 view .LVU2508
 7927 008a 1BE0     		b	.L568
 7928              	.LVL889:
 7929              	.L578:
 397:System/storage/Storage.c ****         /* check  boot  section tab & free slot info & stored item */
 7930              		.loc 1 397 9 is_stmt 1 view .LVU2509
 7931 008c 4FF48052 		mov	r2, #4096
 7932 0090 0021     		movs	r1, #0
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 221


 7933 0092 1548     		ldr	r0, .L579+4
 7934              	.LVL890:
 397:System/storage/Storage.c ****         /* check  boot  section tab & free slot info & stored item */
 7935              		.loc 1 397 9 is_stmt 0 view .LVU2510
 7936 0094 FFF7FEFF 		bl	memset
 7937              	.LVL891:
 401:System/storage/Storage.c ****             Storage_Check_Tab(&Info_r.sys_sec) && \
 7938              		.loc 1 401 9 is_stmt 1 view .LVU2511
 401:System/storage/Storage.c ****             Storage_Check_Tab(&Info_r.sys_sec) && \
 7939              		.loc 1 401 13 is_stmt 0 view .LVU2512
 7940 0098 19A8     		add	r0, sp, #100
 7941 009a FFF7FEFF 		bl	Storage_Check_Tab
 7942              	.LVL892:
 401:System/storage/Storage.c ****             Storage_Check_Tab(&Info_r.sys_sec) && \
 7943              		.loc 1 401 12 view .LVU2513
 7944 009e 0446     		mov	r4, r0
 7945              	.LVL893:
 401:System/storage/Storage.c ****             Storage_Check_Tab(&Info_r.sys_sec) && \
 7946              		.loc 1 401 12 view .LVU2514
 7947 00a0 80B1     		cbz	r0, .L568
 402:System/storage/Storage.c ****             Storage_Check_Tab(&Info_r.user_sec))
 7948              		.loc 1 402 13 discriminator 1 view .LVU2515
 7949 00a2 22A8     		add	r0, sp, #136
 7950 00a4 FFF7FEFF 		bl	Storage_Check_Tab
 7951              	.LVL894:
 401:System/storage/Storage.c ****             Storage_Check_Tab(&Info_r.sys_sec) && \
 7952              		.loc 1 401 49 discriminator 1 view .LVU2516
 7953 00a8 0446     		mov	r4, r0
 7954 00aa 58B1     		cbz	r0, .L568
 403:System/storage/Storage.c ****         {
 7955              		.loc 1 403 13 view .LVU2517
 7956 00ac 2BA8     		add	r0, sp, #172
 7957 00ae FFF7FEFF 		bl	Storage_Check_Tab
 7958              	.LVL895:
 402:System/storage/Storage.c ****             Storage_Check_Tab(&Info_r.user_sec))
 7959              		.loc 1 402 48 view .LVU2518
 7960 00b2 0446     		mov	r4, r0
 7961 00b4 30B1     		cbz	r0, .L568
 405:System/storage/Storage.c ****             return true;
 7962              		.loc 1 405 13 is_stmt 1 view .LVU2519
 7963 00b6 9C22     		movs	r2, #156
 7964 00b8 0DA9     		add	r1, sp, #52
 7965 00ba 0C48     		ldr	r0, .L579+8
 7966 00bc FFF7FEFF 		bl	memcpy
 7967              	.LVL896:
 406:System/storage/Storage.c ****         }
 7968              		.loc 1 406 13 view .LVU2520
 406:System/storage/Storage.c ****         }
 7969              		.loc 1 406 20 is_stmt 0 view .LVU2521
 7970 00c0 00E0     		b	.L568
 7971              	.LVL897:
 7972              	.L569:
 389:System/storage/Storage.c **** 
 7973              		.loc 1 389 20 view .LVU2522
 7974 00c2 0024     		movs	r4, #0
 7975              	.LVL898:
 7976              	.L568:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 222


 411:System/storage/Storage.c **** 
 7977              		.loc 1 411 1 view .LVU2523
 7978 00c4 2046     		mov	r0, r4
 7979 00c6 34B0     		add	sp, sp, #208
 7980              	.LCFI93:
 7981              		.cfi_remember_state
 7982              		.cfi_def_cfa_offset 8
 7983              		@ sp needed
 7984 00c8 10BD     		pop	{r4, pc}
 7985              	.LVL899:
 7986              	.L570:
 7987              	.LCFI94:
 7988              		.cfi_restore_state
 389:System/storage/Storage.c **** 
 7989              		.loc 1 389 20 view .LVU2524
 7990 00ca 0024     		movs	r4, #0
 7991 00cc FAE7     		b	.L568
 7992              	.L571:
 7993 00ce 0024     		movs	r4, #0
 7994 00d0 F8E7     		b	.L568
 7995              	.L572:
 7996 00d2 0024     		movs	r4, #0
 7997 00d4 F6E7     		b	.L568
 7998              	.L573:
 7999 00d6 0024     		movs	r4, #0
 8000 00d8 F4E7     		b	.L568
 8001              	.L574:
 8002 00da 0024     		movs	r4, #0
 8003 00dc F2E7     		b	.L568
 8004              	.L575:
 8005 00de 0024     		movs	r4, #0
 8006 00e0 F0E7     		b	.L568
 8007              	.L580:
 8008 00e2 00BF     		.align	2
 8009              	.L579:
 8010 00e4 00000000 		.word	.LC38
 8011 00e8 00000000 		.word	page_data_tmp
 8012 00ec 16000000 		.word	.LANCHOR0+22
 8013              		.cfi_endproc
 8014              	.LFE152:
 8016              		.section	.rodata.Storage_Init.str1.4,"aMS",%progbits,1
 8017              		.align	2
 8018              	.LC39:
 8019 0000 42757320 		.ascii	"Bus Init Failed\015\012\000"
 8019      496E6974 
 8019      20466169 
 8019      6C65640D 
 8019      0A00
 8020 0012 0000     		.align	2
 8021              	.LC40:
 8022 0014 42757320 		.ascii	"Bus init accomplished\015\012\000"
 8022      696E6974 
 8022      20616363 
 8022      6F6D706C 
 8022      69736865 
 8023              		.align	2
 8024              	.LC41:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 223


 8025 002c 556E6B6E 		.ascii	"Unknown chip type\015\012\000"
 8025      6F776E20 
 8025      63686970 
 8025      20747970 
 8025      650D0A00 
 8026              		.align	2
 8027              	.LC42:
 8028 0040 63686970 		.ascii	"chip init failed\015\012\000"
 8028      20696E69 
 8028      74206661 
 8028      696C6564 
 8028      0D0A00
 8029 0053 00       		.align	2
 8030              	.LC43:
 8031 0054 696E6974 		.ascii	"init retry remain %d\015\012\015\012\000"
 8031      20726574 
 8031      72792072 
 8031      656D6169 
 8031      6E202564 
 8032 006d 000000   		.align	2
 8033              	.LC44:
 8034 0070 63686970 		.ascii	"chip init done\015\012\000"
 8034      20696E69 
 8034      7420646F 
 8034      6E650D0A 
 8034      00
 8035              		.section	.text.Storage_Init,"ax",%progbits
 8036              		.align	1
 8037              		.syntax unified
 8038              		.thumb
 8039              		.thumb_func
 8041              	Storage_Init:
 8042              	.LVL900:
 8043              	.LFB148:
  97:System/storage/Storage.c ****     void *bus_cfg = NULL;
 8044              		.loc 1 97 1 is_stmt 1 view -0
 8045              		.cfi_startproc
 8046              		@ args = 0, pretend = 0, frame = 0
 8047              		@ frame_needed = 0, uses_anonymous_args = 0
  97:System/storage/Storage.c ****     void *bus_cfg = NULL;
 8048              		.loc 1 97 1 is_stmt 0 view .LVU2526
 8049 0000 70B5     		push	{r4, r5, r6, lr}
 8050              	.LCFI95:
 8051              		.cfi_def_cfa_offset 16
 8052              		.cfi_offset 4, -16
 8053              		.cfi_offset 5, -12
 8054              		.cfi_offset 6, -8
 8055              		.cfi_offset 14, -4
 8056 0002 0446     		mov	r4, r0
  98:System/storage/Storage.c ****     memset(&Storage_Monitor, 0, sizeof(Storage_Monitor));
 8057              		.loc 1 98 5 is_stmt 1 view .LVU2527
 8058              	.LVL901:
  99:System/storage/Storage.c **** 
 8059              		.loc 1 99 5 view .LVU2528
 8060 0004 B422     		movs	r2, #180
 8061 0006 0021     		movs	r1, #0
 8062 0008 4B48     		ldr	r0, .L599
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 224


 8063              	.LVL902:
  99:System/storage/Storage.c **** 
 8064              		.loc 1 99 5 is_stmt 0 view .LVU2529
 8065 000a FFF7FEFF 		bl	memset
 8066              	.LVL903:
 101:System/storage/Storage.c ****     if (!BspFlash.init())
 8067              		.loc 1 101 5 is_stmt 1 view .LVU2530
 102:System/storage/Storage.c ****         return false;
 8068              		.loc 1 102 5 view .LVU2531
 102:System/storage/Storage.c ****         return false;
 8069              		.loc 1 102 18 is_stmt 0 view .LVU2532
 8070 000e 4B4B     		ldr	r3, .L599+4
 8071 0010 1B68     		ldr	r3, [r3]
 102:System/storage/Storage.c ****         return false;
 8072              		.loc 1 102 10 view .LVU2533
 8073 0012 9847     		blx	r3
 8074              	.LVL904:
 102:System/storage/Storage.c ****         return false;
 8075              		.loc 1 102 8 view .LVU2534
 8076 0014 0546     		mov	r5, r0
 8077 0016 0028     		cmp	r0, #0
 8078 0018 41D0     		beq	.L582
 107:System/storage/Storage.c ****         return false;
 8079              		.loc 1 107 5 is_stmt 1 view .LVU2535
 107:System/storage/Storage.c ****         return false;
 8080              		.loc 1 107 8 is_stmt 0 view .LVU2536
 8081 001a 002C     		cmp	r4, #0
 8082 001c 3ED0     		beq	.L583
 107:System/storage/Storage.c ****         return false;
 8083              		.loc 1 107 45 discriminator 1 view .LVU2537
 8084 001e 484B     		ldr	r3, .L599+8
 8085 0020 1B68     		ldr	r3, [r3]
 107:System/storage/Storage.c ****         return false;
 8086              		.loc 1 107 30 discriminator 1 view .LVU2538
 8087 0022 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 8088 0024 9847     		blx	r3
 8089              	.LVL905:
 107:System/storage/Storage.c ****         return false;
 8090              		.loc 1 107 26 discriminator 1 view .LVU2539
 8091 0026 0028     		cmp	r0, #0
 8092 0028 38D0     		beq	.L583
 110:System/storage/Storage.c ****     bus_cfg = StoragePort_Api.init(ExtDev->bus_type, SrvOsCommon.malloc, SrvOsCommon.free);
 8093              		.loc 1 110 5 is_stmt 1 view .LVU2540
 110:System/storage/Storage.c ****     bus_cfg = StoragePort_Api.init(ExtDev->bus_type, SrvOsCommon.malloc, SrvOsCommon.free);
 8094              		.loc 1 110 32 is_stmt 0 view .LVU2541
 8095 002a 434B     		ldr	r3, .L599
 8096 002c 0022     		movs	r2, #0
 8097 002e 9A60     		str	r2, [r3, #8]
 111:System/storage/Storage.c ****     if (bus_cfg == NULL)
 8098              		.loc 1 111 5 is_stmt 1 view .LVU2542
 111:System/storage/Storage.c ****     if (bus_cfg == NULL)
 8099              		.loc 1 111 30 is_stmt 0 view .LVU2543
 8100 0030 434B     		ldr	r3, .L599+8
 8101 0032 5D68     		ldr	r5, [r3, #4]
 111:System/storage/Storage.c ****     if (bus_cfg == NULL)
 8102              		.loc 1 111 65 view .LVU2544
 8103 0034 434B     		ldr	r3, .L599+12
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 225


 111:System/storage/Storage.c ****     if (bus_cfg == NULL)
 8104              		.loc 1 111 15 view .LVU2545
 8105 0036 DA6A     		ldr	r2, [r3, #44]
 8106 0038 996A     		ldr	r1, [r3, #40]
 8107 003a 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 8108 003c A847     		blx	r5
 8109              	.LVL906:
 112:System/storage/Storage.c ****     {
 8110              		.loc 1 112 5 is_stmt 1 view .LVU2546
 112:System/storage/Storage.c ****     {
 8111              		.loc 1 112 8 is_stmt 0 view .LVU2547
 8112 003e 0546     		mov	r5, r0
 8113 0040 0028     		cmp	r0, #0
 8114 0042 2ED0     		beq	.L596
 119:System/storage/Storage.c ****     Storage_Monitor.ExtBusCfg_Ptr = bus_cfg;
 8115              		.loc 1 119 5 is_stmt 1 view .LVU2548
 8116 0044 404A     		ldr	r2, .L599+16
 8117 0046 4149     		ldr	r1, .L599+20
 8118 0048 4148     		ldr	r0, .L599+24
 8119              	.LVL907:
 119:System/storage/Storage.c ****     Storage_Monitor.ExtBusCfg_Ptr = bus_cfg;
 8120              		.loc 1 119 5 is_stmt 0 view .LVU2549
 8121 004a FFF7FEFF 		bl	Debug_Print
 8122              	.LVL908:
 120:System/storage/Storage.c **** 
 8123              		.loc 1 120 5 is_stmt 1 view .LVU2550
 120:System/storage/Storage.c **** 
 8124              		.loc 1 120 35 is_stmt 0 view .LVU2551
 8125 004e 3A4B     		ldr	r3, .L599
 8126 0050 DD60     		str	r5, [r3, #12]
 122:System/storage/Storage.c ****     {
 8127              		.loc 1 122 5 is_stmt 1 view .LVU2552
 122:System/storage/Storage.c ****     {
 8128              		.loc 1 122 15 is_stmt 0 view .LVU2553
 8129 0052 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 122:System/storage/Storage.c ****     {
 8130              		.loc 1 122 8 view .LVU2554
 8131 0054 022B     		cmp	r3, #2
 8132 0056 2ED8     		bhi	.L597
 129:System/storage/Storage.c ****     {
 8133              		.loc 1 129 5 is_stmt 1 view .LVU2555
 129:System/storage/Storage.c ****     {
 8134              		.loc 1 129 10 is_stmt 0 view .LVU2556
 8135 0058 2046     		mov	r0, r4
 8136 005a FFF7FEFF 		bl	Storage_Set_DeviceObj
 8137              	.LVL909:
 129:System/storage/Storage.c ****     {
 8138              		.loc 1 129 8 view .LVU2557
 8139 005e 0546     		mov	r5, r0
 8140              	.LVL910:
 129:System/storage/Storage.c ****     {
 8141              		.loc 1 129 8 view .LVU2558
 8142 0060 0028     		cmp	r0, #0
 8143 0062 32D0     		beq	.L598
 135:System/storage/Storage.c ****     Storage_Monitor.ExternalFlash_ReInit_cnt = ExternalModule_ReInit_Cnt;
 8144              		.loc 1 135 5 is_stmt 1 view .LVU2559
 135:System/storage/Storage.c ****     Storage_Monitor.ExternalFlash_ReInit_cnt = ExternalModule_ReInit_Cnt;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 226


 8145              		.loc 1 135 32 is_stmt 0 view .LVU2560
 8146 0064 344B     		ldr	r3, .L599
 8147 0066 9C60     		str	r4, [r3, #8]
 136:System/storage/Storage.c **** 
 8148              		.loc 1 136 5 is_stmt 1 view .LVU2561
 136:System/storage/Storage.c **** 
 8149              		.loc 1 136 46 is_stmt 0 view .LVU2562
 8150 0068 0522     		movs	r2, #5
 8151 006a 9A70     		strb	r2, [r3, #2]
 8152              	.L588:
 139:System/storage/Storage.c ****     {
 8153              		.loc 1 139 5 is_stmt 1 view .LVU2563
 139:System/storage/Storage.c ****     {
 8154              		.loc 1 139 10 is_stmt 0 view .LVU2564
 8155 006c 2046     		mov	r0, r4
 8156 006e FFF7FEFF 		bl	Storage_Device_Init
 8157              	.LVL911:
 139:System/storage/Storage.c ****     {
 8158              		.loc 1 139 8 view .LVU2565
 8159 0072 0546     		mov	r5, r0
 8160 0074 68BB     		cbnz	r0, .L589
 141:System/storage/Storage.c ****         STORAGE_INFO("chip init failed\r\n");
 8161              		.loc 1 141 9 is_stmt 1 view .LVU2566
 141:System/storage/Storage.c ****         STORAGE_INFO("chip init failed\r\n");
 8162              		.loc 1 141 50 is_stmt 0 view .LVU2567
 8163 0076 304E     		ldr	r6, .L599
 8164 0078 0623     		movs	r3, #6
 8165 007a 7371     		strb	r3, [r6, #5]
 142:System/storage/Storage.c ****         if (Storage_Monitor.ExternalFlash_ReInit_cnt)
 8166              		.loc 1 142 9 is_stmt 1 view .LVU2568
 8167 007c 354A     		ldr	r2, .L599+28
 8168 007e 3349     		ldr	r1, .L599+20
 8169 0080 3348     		ldr	r0, .L599+24
 8170 0082 FFF7FEFF 		bl	Debug_Print
 8171              	.LVL912:
 143:System/storage/Storage.c ****         {
 8172              		.loc 1 143 9 view .LVU2569
 143:System/storage/Storage.c ****         {
 8173              		.loc 1 143 28 is_stmt 0 view .LVU2570
 8174 0086 B378     		ldrb	r3, [r6, #2]	@ zero_extendqisi2
 143:System/storage/Storage.c ****         {
 8175              		.loc 1 143 12 view .LVU2571
 8176 0088 4BB1     		cbz	r3, .L582
 145:System/storage/Storage.c ****             Storage_Monitor.ExternalFlash_ReInit_cnt --;
 8177              		.loc 1 145 13 is_stmt 1 view .LVU2572
 8178 008a 334A     		ldr	r2, .L599+32
 8179 008c 2F49     		ldr	r1, .L599+20
 8180 008e 3048     		ldr	r0, .L599+24
 8181 0090 FFF7FEFF 		bl	Debug_Print
 8182              	.LVL913:
 146:System/storage/Storage.c ****             goto reinit_external_flash_module;
 8183              		.loc 1 146 13 view .LVU2573
 146:System/storage/Storage.c ****             goto reinit_external_flash_module;
 8184              		.loc 1 146 28 is_stmt 0 view .LVU2574
 8185 0094 B378     		ldrb	r3, [r6, #2]	@ zero_extendqisi2
 146:System/storage/Storage.c ****             goto reinit_external_flash_module;
 8186              		.loc 1 146 54 view .LVU2575
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 227


 8187 0096 013B     		subs	r3, r3, #1
 8188 0098 B370     		strb	r3, [r6, #2]
 147:System/storage/Storage.c ****         }
 8189              		.loc 1 147 13 is_stmt 1 view .LVU2576
 8190 009a E7E7     		b	.L588
 8191              	.LVL914:
 8192              	.L583:
 108:System/storage/Storage.c **** 
 8193              		.loc 1 108 9 view .LVU2577
 108:System/storage/Storage.c **** 
 8194              		.loc 1 108 16 is_stmt 0 view .LVU2578
 8195 009c 0025     		movs	r5, #0
 8196              	.LVL915:
 8197              	.L582:
 194:System/storage/Storage.c **** 
 8198              		.loc 1 194 1 view .LVU2579
 8199 009e 2846     		mov	r0, r5
 8200 00a0 70BD     		pop	{r4, r5, r6, pc}
 8201              	.LVL916:
 8202              	.L596:
 114:System/storage/Storage.c ****         Storage_Monitor.ExternalFlash_Error_Code = Storage_BusInit_Error;
 8203              		.loc 1 114 9 is_stmt 1 view .LVU2580
 8204 00a2 2E4A     		ldr	r2, .L599+36
 8205 00a4 2949     		ldr	r1, .L599+20
 8206 00a6 2A48     		ldr	r0, .L599+24
 8207              	.LVL917:
 114:System/storage/Storage.c ****         Storage_Monitor.ExternalFlash_Error_Code = Storage_BusInit_Error;
 8208              		.loc 1 114 9 is_stmt 0 view .LVU2581
 8209 00a8 FFF7FEFF 		bl	Debug_Print
 8210              	.LVL918:
 115:System/storage/Storage.c ****         return false;
 8211              		.loc 1 115 9 is_stmt 1 view .LVU2582
 115:System/storage/Storage.c ****         return false;
 8212              		.loc 1 115 50 is_stmt 0 view .LVU2583
 8213 00ac 224B     		ldr	r3, .L599
 8214 00ae 0222     		movs	r2, #2
 8215 00b0 5A71     		strb	r2, [r3, #5]
 116:System/storage/Storage.c ****     }
 8216              		.loc 1 116 9 is_stmt 1 view .LVU2584
 116:System/storage/Storage.c ****     }
 8217              		.loc 1 116 16 is_stmt 0 view .LVU2585
 8218 00b2 0025     		movs	r5, #0
 8219              	.LVL919:
 116:System/storage/Storage.c ****     }
 8220              		.loc 1 116 16 view .LVU2586
 8221 00b4 F3E7     		b	.L582
 8222              	.LVL920:
 8223              	.L597:
 124:System/storage/Storage.c ****         Storage_Monitor.ExternalFlash_Error_Code = Storage_ModuleType_Error;
 8224              		.loc 1 124 9 is_stmt 1 view .LVU2587
 8225 00b6 2A4A     		ldr	r2, .L599+40
 8226 00b8 2449     		ldr	r1, .L599+20
 8227 00ba 2548     		ldr	r0, .L599+24
 8228 00bc FFF7FEFF 		bl	Debug_Print
 8229              	.LVL921:
 125:System/storage/Storage.c ****         return false;
 8230              		.loc 1 125 9 view .LVU2588
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 228


 125:System/storage/Storage.c ****         return false;
 8231              		.loc 1 125 50 is_stmt 0 view .LVU2589
 8232 00c0 1D4B     		ldr	r3, .L599
 8233 00c2 0522     		movs	r2, #5
 8234 00c4 5A71     		strb	r2, [r3, #5]
 126:System/storage/Storage.c ****     }
 8235              		.loc 1 126 9 is_stmt 1 view .LVU2590
 126:System/storage/Storage.c ****     }
 8236              		.loc 1 126 16 is_stmt 0 view .LVU2591
 8237 00c6 0025     		movs	r5, #0
 8238              	.LVL922:
 126:System/storage/Storage.c ****     }
 8239              		.loc 1 126 16 view .LVU2592
 8240 00c8 E9E7     		b	.L582
 8241              	.L598:
 131:System/storage/Storage.c ****         return false;
 8242              		.loc 1 131 9 is_stmt 1 view .LVU2593
 131:System/storage/Storage.c ****         return false;
 8243              		.loc 1 131 50 is_stmt 0 view .LVU2594
 8244 00ca 1B4B     		ldr	r3, .L599
 8245 00cc 0422     		movs	r2, #4
 8246 00ce 5A71     		strb	r2, [r3, #5]
 132:System/storage/Storage.c ****     }
 8247              		.loc 1 132 9 is_stmt 1 view .LVU2595
 132:System/storage/Storage.c ****     }
 8248              		.loc 1 132 16 is_stmt 0 view .LVU2596
 8249 00d0 E5E7     		b	.L582
 8250              	.L589:
 153:System/storage/Storage.c ****     Storage_Monitor.ExternalFlash_Format_cnt = Format_Retry_Cnt;
 8251              		.loc 1 153 5 is_stmt 1 view .LVU2597
 153:System/storage/Storage.c ****     Storage_Monitor.ExternalFlash_Format_cnt = Format_Retry_Cnt;
 8252              		.loc 1 153 45 is_stmt 0 view .LVU2598
 8253 00d2 194B     		ldr	r3, .L599
 8254 00d4 0022     		movs	r2, #0
 8255 00d6 DA86     		strh	r2, [r3, #54]	@ movhi
 8256 00d8 2422     		movs	r2, #36
 8257 00da 1A87     		strh	r2, [r3, #56]	@ movhi
 154:System/storage/Storage.c ****                         
 8258              		.loc 1 154 5 is_stmt 1 view .LVU2599
 154:System/storage/Storage.c ****                         
 8259              		.loc 1 154 46 is_stmt 0 view .LVU2600
 8260 00dc 0522     		movs	r2, #5
 8261 00de 5A70     		strb	r2, [r3, #1]
 8262              	.L590:
 158:System/storage/Storage.c ****     {
 8263              		.loc 1 158 5 is_stmt 1 view .LVU2601
 158:System/storage/Storage.c ****     {
 8264              		.loc 1 158 10 is_stmt 0 view .LVU2602
 8265 00e0 FFF7FEFF 		bl	Storage_Get_StorageInfo
 8266              	.LVL923:
 158:System/storage/Storage.c ****     {
 8267              		.loc 1 158 8 view .LVU2603
 8268 00e4 E0B9     		cbnz	r0, .L591
 8269              	.L592:
 161:System/storage/Storage.c ****         {
 8270              		.loc 1 161 9 is_stmt 1 view .LVU2604
 161:System/storage/Storage.c ****         {
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 229


 8271              		.loc 1 161 28 is_stmt 0 view .LVU2605
 8272 00e6 144B     		ldr	r3, .L599
 8273 00e8 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
 161:System/storage/Storage.c ****         {
 8274              		.loc 1 161 12 view .LVU2606
 8275 00ea 0BB3     		cbz	r3, .L593
 164:System/storage/Storage.c ****             {
 8276              		.loc 1 164 13 is_stmt 1 view .LVU2607
 164:System/storage/Storage.c ****             {
 8277              		.loc 1 164 18 is_stmt 0 view .LVU2608
 8278 00ec FFF7FEFF 		bl	Storage_Format
 8279              	.LVL924:
 164:System/storage/Storage.c ****             {
 8280              		.loc 1 164 16 view .LVU2609
 8281 00f0 0546     		mov	r5, r0
 8282 00f2 58B9     		cbnz	r0, .L594
 166:System/storage/Storage.c ****                 Storage_Monitor.external_info.base_addr = ExtFlash_Start_Addr;
 8283              		.loc 1 166 17 is_stmt 1 view .LVU2610
 166:System/storage/Storage.c ****                 Storage_Monitor.external_info.base_addr = ExtFlash_Start_Addr;
 8284              		.loc 1 166 32 is_stmt 0 view .LVU2611
 8285 00f4 104A     		ldr	r2, .L599
 8286 00f6 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 166:System/storage/Storage.c ****                 Storage_Monitor.external_info.base_addr = ExtFlash_Start_Addr;
 8287              		.loc 1 166 58 view .LVU2612
 8288 00f8 013B     		subs	r3, r3, #1
 8289 00fa DBB2     		uxtb	r3, r3
 8290 00fc 5370     		strb	r3, [r2, #1]
 167:System/storage/Storage.c ****                 if (Storage_Monitor.ExternalFlash_Format_cnt == 0)
 8291              		.loc 1 167 17 is_stmt 1 view .LVU2613
 167:System/storage/Storage.c ****                 if (Storage_Monitor.ExternalFlash_Format_cnt == 0)
 8292              		.loc 1 167 57 is_stmt 0 view .LVU2614
 8293 00fe 0021     		movs	r1, #0
 8294 0100 D186     		strh	r1, [r2, #54]	@ movhi
 8295 0102 2421     		movs	r1, #36
 8296 0104 1187     		strh	r1, [r2, #56]	@ movhi
 168:System/storage/Storage.c ****                     return false;
 8297              		.loc 1 168 17 is_stmt 1 view .LVU2615
 168:System/storage/Storage.c ****                     return false;
 8298              		.loc 1 168 20 is_stmt 0 view .LVU2616
 8299 0106 002B     		cmp	r3, #0
 8300 0108 EDD1     		bne	.L592
 8301 010a C8E7     		b	.L582
 8302              	.L594:
 176:System/storage/Storage.c ****             {
 8303              		.loc 1 176 13 is_stmt 1 view .LVU2617
 176:System/storage/Storage.c ****             {
 8304              		.loc 1 176 17 is_stmt 0 view .LVU2618
 8305 010c FFF7FEFF 		bl	Storage_Build_StorageInfo
 8306              	.LVL925:
 176:System/storage/Storage.c ****             {
 8307              		.loc 1 176 16 view .LVU2619
 8308 0110 70B1     		cbz	r0, .L593
 178:System/storage/Storage.c ****                 Storage_Monitor.init_state = true;
 8309              		.loc 1 178 17 is_stmt 1 view .LVU2620
 178:System/storage/Storage.c ****                 Storage_Monitor.init_state = true;
 8310              		.loc 1 178 32 is_stmt 0 view .LVU2621
 8311 0112 094B     		ldr	r3, .L599
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 230


 8312 0114 1A79     		ldrb	r2, [r3, #4]	@ zero_extendqisi2
 178:System/storage/Storage.c ****                 Storage_Monitor.init_state = true;
 8313              		.loc 1 178 60 view .LVU2622
 8314 0116 0132     		adds	r2, r2, #1
 8315 0118 1A71     		strb	r2, [r3, #4]
 179:System/storage/Storage.c **** 
 8316              		.loc 1 179 17 is_stmt 1 view .LVU2623
 179:System/storage/Storage.c **** 
 8317              		.loc 1 179 44 is_stmt 0 view .LVU2624
 8318 011a 0122     		movs	r2, #1
 8319 011c 1A74     		strb	r2, [r3, #16]
 182:System/storage/Storage.c ****             }
 8320              		.loc 1 182 17 is_stmt 1 view .LVU2625
 8321 011e DFE7     		b	.L590
 8322              	.L591:
 188:System/storage/Storage.c ****         Storage_Monitor.init_state = true;
 8323              		.loc 1 188 9 view .LVU2626
 8324 0120 104A     		ldr	r2, .L599+44
 8325 0122 0A49     		ldr	r1, .L599+20
 8326 0124 0A48     		ldr	r0, .L599+24
 8327 0126 FFF7FEFF 		bl	Debug_Print
 8328              	.LVL926:
 189:System/storage/Storage.c ****     }
 8329              		.loc 1 189 9 view .LVU2627
 189:System/storage/Storage.c ****     }
 8330              		.loc 1 189 36 is_stmt 0 view .LVU2628
 8331 012a 034B     		ldr	r3, .L599
 8332 012c 0122     		movs	r2, #1
 8333 012e 1A74     		strb	r2, [r3, #16]
 8334              	.L593:
 193:System/storage/Storage.c **** }
 8335              		.loc 1 193 5 is_stmt 1 view .LVU2629
 193:System/storage/Storage.c **** }
 8336              		.loc 1 193 27 is_stmt 0 view .LVU2630
 8337 0130 014B     		ldr	r3, .L599
 8338 0132 1D7C     		ldrb	r5, [r3, #16]	@ zero_extendqisi2
 8339 0134 B3E7     		b	.L582
 8340              	.L600:
 8341 0136 00BF     		.align	2
 8342              	.L599:
 8343 0138 00000000 		.word	.LANCHOR0
 8344 013c 00000000 		.word	BspFlash
 8345 0140 00000000 		.word	StoragePort_Api
 8346 0144 00000000 		.word	SrvOsCommon
 8347 0148 14000000 		.word	.LC40
 8348 014c 18000000 		.word	.LC34
 8349 0150 00000000 		.word	DebugPort
 8350 0154 40000000 		.word	.LC42
 8351 0158 54000000 		.word	.LC43
 8352 015c 00000000 		.word	.LC39
 8353 0160 2C000000 		.word	.LC41
 8354 0164 70000000 		.word	.LC44
 8355              		.cfi_endproc
 8356              	.LFE148:
 8358              		.section	.rodata.Storage_SecInfo_Print.str1.4,"aMS",%progbits,1
 8359              		.align	2
 8360              	.LC45:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 231


 8361 0000 09096164 		.ascii	"\011\011addr:            %x\015\012\000"
 8361      64723A20 
 8361      20202020 
 8361      20202020 
 8361      20202025 
 8362              		.align	2
 8363              	.LC46:
 8364 0018 09097061 		.ascii	"\011\011page num:        %d\015\012\000"
 8364      6765206E 
 8364      756D3A20 
 8364      20202020 
 8364      20202025 
 8365              		.align	2
 8366              	.LC47:
 8367 0030 09097369 		.ascii	"\011\011size:            %d\015\012\000"
 8367      7A653A20 
 8367      20202020 
 8367      20202020 
 8367      20202025 
 8368              		.align	2
 8369              	.LC48:
 8370 0048 09096461 		.ascii	"\011\011data sec addr:   %x\015\012\000"
 8370      74612073 
 8370      65632061 
 8370      6464723A 
 8370      20202025 
 8371              		.align	2
 8372              	.LC49:
 8373 0060 09096461 		.ascii	"\011\011data sec size:   %d\015\012\000"
 8373      74612073 
 8373      65632073 
 8373      697A653A 
 8373      20202025 
 8374              		.align	2
 8375              	.LC50:
 8376 0078 09096672 		.ascii	"\011\011free slot addr:  %x\015\012\000"
 8376      65652073 
 8376      6C6F7420 
 8376      61646472 
 8376      3A202025 
 8377              		.align	2
 8378              	.LC51:
 8379 0090 09096672 		.ascii	"\011\011free slot size:  %x\015\012\000"
 8379      65652073 
 8379      6C6F7420 
 8379      73697A65 
 8379      3A202025 
 8380              		.align	2
 8381              	.LC52:
 8382 00a8 09097061 		.ascii	"\011\011param num:       %d\015\012\000"
 8382      72616D20 
 8382      6E756D3A 
 8382      20202020 
 8382      20202025 
 8383              		.align	2
 8384              	.LC53:
 8385 00c0 09097061 		.ascii	"\011\011param size:      %d\015\012\000"
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 232


 8385      72616D20 
 8385      73697A65 
 8385      3A202020 
 8385      20202025 
 8386              		.section	.text.Storage_SecInfo_Print,"ax",%progbits
 8387              		.align	1
 8388              		.syntax unified
 8389              		.thumb
 8390              		.thumb_func
 8392              	Storage_SecInfo_Print:
 8393              	.LVL927:
 8394              	.LFB181:
2207:System/storage/Storage.c ****     if (obj == NULL)
 8395              		.loc 1 2207 1 is_stmt 1 view -0
 8396              		.cfi_startproc
 8397              		@ args = 0, pretend = 0, frame = 0
 8398              		@ frame_needed = 0, uses_anonymous_args = 0
2208:System/storage/Storage.c ****         return;
 8399              		.loc 1 2208 5 view .LVU2632
2208:System/storage/Storage.c ****         return;
 8400              		.loc 1 2208 8 is_stmt 0 view .LVU2633
 8401 0000 78B3     		cbz	r0, .L604
2207:System/storage/Storage.c ****     if (obj == NULL)
 8402              		.loc 1 2207 1 view .LVU2634
 8403 0002 38B5     		push	{r3, r4, r5, lr}
 8404              	.LCFI96:
 8405              		.cfi_def_cfa_offset 16
 8406              		.cfi_offset 3, -16
 8407              		.cfi_offset 4, -12
 8408              		.cfi_offset 5, -8
 8409              		.cfi_offset 14, -4
 8410 0004 0C46     		mov	r4, r1
 8411 0006 0546     		mov	r5, r0
2211:System/storage/Storage.c ****     shellPrint(obj, "\t\tpage num:        %d\r\n", p_SecInfo->page_num);
 8412              		.loc 1 2211 5 is_stmt 1 view .LVU2635
 8413 0008 0A68     		ldr	r2, [r1]	@ unaligned
 8414 000a 1649     		ldr	r1, .L607
 8415              	.LVL928:
2211:System/storage/Storage.c ****     shellPrint(obj, "\t\tpage num:        %d\r\n", p_SecInfo->page_num);
 8416              		.loc 1 2211 5 is_stmt 0 view .LVU2636
 8417 000c FFF7FEFF 		bl	shellPrint
 8418              	.LVL929:
2212:System/storage/Storage.c ****     shellPrint(obj, "\t\tsize:            %d\r\n", p_SecInfo->tab_size);
 8419              		.loc 1 2212 5 is_stmt 1 view .LVU2637
 8420 0010 E268     		ldr	r2, [r4, #12]	@ unaligned
 8421 0012 1549     		ldr	r1, .L607+4
 8422 0014 2846     		mov	r0, r5
 8423 0016 FFF7FEFF 		bl	shellPrint
 8424              	.LVL930:
2213:System/storage/Storage.c ****     shellPrint(obj, "\t\tdata sec addr:   %x\r\n", p_SecInfo->data_sec_addr);
 8425              		.loc 1 2213 5 view .LVU2638
 8426 001a 2269     		ldr	r2, [r4, #16]	@ unaligned
 8427 001c 1349     		ldr	r1, .L607+8
 8428 001e 2846     		mov	r0, r5
 8429 0020 FFF7FEFF 		bl	shellPrint
 8430              	.LVL931:
2214:System/storage/Storage.c ****     shellPrint(obj, "\t\tdata sec size:   %d\r\n", p_SecInfo->data_sec_size);
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 233


 8431              		.loc 1 2214 5 view .LVU2639
 8432 0024 6268     		ldr	r2, [r4, #4]	@ unaligned
 8433 0026 1249     		ldr	r1, .L607+12
 8434 0028 2846     		mov	r0, r5
 8435 002a FFF7FEFF 		bl	shellPrint
 8436              	.LVL932:
2215:System/storage/Storage.c ****     shellPrint(obj, "\t\tfree slot addr:  %x\r\n", p_SecInfo->free_slot_addr);
 8437              		.loc 1 2215 5 view .LVU2640
 8438 002e A268     		ldr	r2, [r4, #8]	@ unaligned
 8439 0030 1049     		ldr	r1, .L607+16
 8440 0032 2846     		mov	r0, r5
 8441 0034 FFF7FEFF 		bl	shellPrint
 8442              	.LVL933:
2216:System/storage/Storage.c ****     shellPrint(obj, "\t\tfree slot size:  %x\r\n", p_SecInfo->free_space_size);
 8443              		.loc 1 2216 5 view .LVU2641
 8444 0038 6269     		ldr	r2, [r4, #20]	@ unaligned
 8445 003a 0F49     		ldr	r1, .L607+20
 8446 003c 2846     		mov	r0, r5
 8447 003e FFF7FEFF 		bl	shellPrint
 8448              	.LVL934:
2217:System/storage/Storage.c ****     shellPrint(obj, "\t\tparam num:       %d\r\n", p_SecInfo->para_num);
 8449              		.loc 1 2217 5 view .LVU2642
 8450 0042 A269     		ldr	r2, [r4, #24]	@ unaligned
 8451 0044 0D49     		ldr	r1, .L607+24
 8452 0046 2846     		mov	r0, r5
 8453 0048 FFF7FEFF 		bl	shellPrint
 8454              	.LVL935:
2218:System/storage/Storage.c ****     shellPrint(obj, "\t\tparam size:      %d\r\n", p_SecInfo->para_size);
 8455              		.loc 1 2218 5 view .LVU2643
 8456 004c 226A     		ldr	r2, [r4, #32]	@ unaligned
 8457 004e 0C49     		ldr	r1, .L607+28
 8458 0050 2846     		mov	r0, r5
 8459 0052 FFF7FEFF 		bl	shellPrint
 8460              	.LVL936:
2219:System/storage/Storage.c **** }
 8461              		.loc 1 2219 5 view .LVU2644
 8462 0056 E269     		ldr	r2, [r4, #28]	@ unaligned
 8463 0058 0A49     		ldr	r1, .L607+32
 8464 005a 2846     		mov	r0, r5
 8465 005c FFF7FEFF 		bl	shellPrint
 8466              	.LVL937:
2220:System/storage/Storage.c **** 
 8467              		.loc 1 2220 1 is_stmt 0 view .LVU2645
 8468 0060 38BD     		pop	{r3, r4, r5, pc}
 8469              	.LVL938:
 8470              	.L604:
 8471              	.LCFI97:
 8472              		.cfi_def_cfa_offset 0
 8473              		.cfi_restore 3
 8474              		.cfi_restore 4
 8475              		.cfi_restore 5
 8476              		.cfi_restore 14
2220:System/storage/Storage.c **** 
 8477              		.loc 1 2220 1 view .LVU2646
 8478 0062 7047     		bx	lr
 8479              	.L608:
 8480              		.align	2
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 234


 8481              	.L607:
 8482 0064 00000000 		.word	.LC45
 8483 0068 18000000 		.word	.LC46
 8484 006c 30000000 		.word	.LC47
 8485 0070 48000000 		.word	.LC48
 8486 0074 60000000 		.word	.LC49
 8487 0078 78000000 		.word	.LC50
 8488 007c 90000000 		.word	.LC51
 8489 0080 A8000000 		.word	.LC52
 8490 0084 C0000000 		.word	.LC53
 8491              		.cfi_endproc
 8492              	.LFE181:
 8494              		.section	.rodata.Storage_Shell_Get_BaseInfo.str1.4,"aMS",%progbits,1
 8495              		.align	2
 8496              	.LC54:
 8497 0000 095B5374 		.ascii	"\011[Storage Shell] Get BaseInfo\015\012\000"
 8497      6F726167 
 8497      65205368 
 8497      656C6C5D 
 8497      20476574 
 8498              		.align	2
 8499              	.LC55:
 8500 0020 0968616C 		.ascii	"\011halt by init state\015\012\000"
 8500      74206279 
 8500      20696E69 
 8500      74207374 
 8500      6174650D 
 8501 0036 0000     		.align	2
 8502              	.LC56:
 8503 0038 09094578 		.ascii	"\011\011External_Flash Info Error\015\012\000"
 8503      7465726E 
 8503      616C5F46 
 8503      6C617368 
 8503      20496E66 
 8504 0056 0000     		.align	2
 8505              	.LC57:
 8506 0058 0909746F 		.ascii	"\011\011total   size:\011%d\015\012\000"
 8506      74616C20 
 8506      20207369 
 8506      7A653A09 
 8506      25640D0A 
 8507 006d 000000   		.align	2
 8508              	.LC58:
 8509 0070 09097265 		.ascii	"\011\011remain  size:\011%d\015\012\000"
 8509      6D61696E 
 8509      20207369 
 8509      7A653A09 
 8509      25640D0A 
 8510 0085 000000   		.align	2
 8511              	.LC59:
 8512 0088 09097374 		.ascii	"\011\011storage size:\011%d\015\012\000"
 8512      6F726167 
 8512      65207369 
 8512      7A653A09 
 8512      25640D0A 
 8513 009d 000000   		.align	2
 8514              	.LC60:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 235


 8515 00a0 0D0A095B 		.ascii	"\015\012\011[Boot Section]\015\012\000"
 8515      426F6F74 
 8515      20536563 
 8515      74696F6E 
 8515      5D0D0A00 
 8516              		.align	2
 8517              	.LC61:
 8518 00b4 0D0A095B 		.ascii	"\015\012\011[System Section]\015\012\000"
 8518      53797374 
 8518      656D2053 
 8518      65637469 
 8518      6F6E5D0D 
 8519 00ca 0000     		.align	2
 8520              	.LC62:
 8521 00cc 0D0A095B 		.ascii	"\015\012\011[User Section]\015\012\000"
 8521      55736572 
 8521      20536563 
 8521      74696F6E 
 8521      5D0D0A00 
 8522              		.section	.text.Storage_Shell_Get_BaseInfo,"ax",%progbits
 8523              		.align	1
 8524              		.syntax unified
 8525              		.thumb
 8526              		.thumb_func
 8528              	Storage_Shell_Get_BaseInfo:
 8529              	.LFB186:
2261:System/storage/Storage.c **** 
2262:System/storage/Storage.c **** static bool Storage_Get_Flash_Section_IOAPI(Shell *shell_obj, \
2263:System/storage/Storage.c ****                                             Storage_ParaClassType_List class, \
2264:System/storage/Storage.c ****                                             Storage_FlashInfo_TypeDef **p_Flash, \
2265:System/storage/Storage.c ****                                             Storage_BaseSecInfo_TypeDef **p_Sec)
2266:System/storage/Storage.c **** {
2267:System/storage/Storage.c ****     if (shell_obj == NULL)
2268:System/storage/Storage.c ****         return false;
2269:System/storage/Storage.c **** 
2270:System/storage/Storage.c ****     if (!Storage_Monitor.init_state)
2271:System/storage/Storage.c ****     {
2272:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[External_Flash Unavaliable]\r\n");
2273:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[Format cnt   : %d]\r\n", Storage_Monitor.ExternalFlash_Format_cnt
2274:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[Buid Tab cnt : %d]\r\n", Storage_Monitor.ExternalFlash_BuildTab_c
2275:System/storage/Storage.c ****         return false;
2276:System/storage/Storage.c ****     }
2277:System/storage/Storage.c **** 
2278:System/storage/Storage.c ****     *p_Flash = &Storage_Monitor.external_info;
2279:System/storage/Storage.c ****     *p_Sec = Storage_Get_SecInfo(*p_Flash, class);
2280:System/storage/Storage.c ****     if ((*p_Sec == NULL) || \
2281:System/storage/Storage.c ****         ((*p_Sec)->tab_addr == 0) || \
2282:System/storage/Storage.c ****         ((*p_Sec)->tab_size == 0))
2283:System/storage/Storage.c ****     {
2284:System/storage/Storage.c ****         shellPrint(shell_obj, "\tGet section info error\r\n");
2285:System/storage/Storage.c ****         return false;
2286:System/storage/Storage.c ****     }
2287:System/storage/Storage.c **** 
2288:System/storage/Storage.c ****     return true;
2289:System/storage/Storage.c **** }
2290:System/storage/Storage.c **** 
2291:System/storage/Storage.c **** static void Storage_ClassType_Print(Shell *obj)
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 236


2292:System/storage/Storage.c **** {
2293:System/storage/Storage.c ****     if (obj == NULL)
2294:System/storage/Storage.c ****         return;
2295:System/storage/Storage.c ****     
2296:System/storage/Storage.c ****     shellPrint(obj, "\tclass para\r\n");
2297:System/storage/Storage.c ****     shellPrint(obj, "\tPara_Boot ---- %d\r\n", Para_Boot);
2298:System/storage/Storage.c ****     shellPrint(obj, "\tPara_Sys  ---- %d\r\n", Para_Sys);
2299:System/storage/Storage.c ****     shellPrint(obj, "\tPara_User ---- %d\r\n", Para_User);
2300:System/storage/Storage.c ****     shellPrint(obj, "\r\n");
2301:System/storage/Storage.c **** }
2302:System/storage/Storage.c **** 
2303:System/storage/Storage.c **** static bool Storage_SelectedClass_Print(Shell *obj, Storage_ParaClassType_List class)
2304:System/storage/Storage.c **** {
2305:System/storage/Storage.c ****     if (obj == NULL)
2306:System/storage/Storage.c ****         return false;
2307:System/storage/Storage.c **** 
2308:System/storage/Storage.c ****     switch((uint8_t) class)
2309:System/storage/Storage.c ****     {
2310:System/storage/Storage.c ****         case Para_Boot:
2311:System/storage/Storage.c ****             shellPrint(obj, "\t[Boot Section Selected]\r\n");
2312:System/storage/Storage.c ****             break;
2313:System/storage/Storage.c ****         
2314:System/storage/Storage.c ****         case Para_Sys:
2315:System/storage/Storage.c ****             shellPrint(obj, "\t[Sys Section Selected]\r\n");
2316:System/storage/Storage.c ****             break;
2317:System/storage/Storage.c ****         
2318:System/storage/Storage.c ****         case Para_User:
2319:System/storage/Storage.c ****             shellPrint(obj, "\t[User Section Selected]\r\n");
2320:System/storage/Storage.c ****             break;
2321:System/storage/Storage.c **** 
2322:System/storage/Storage.c ****         default:
2323:System/storage/Storage.c ****             shellPrint(obj, "\tClass arg error\r\n");
2324:System/storage/Storage.c ****             return false;
2325:System/storage/Storage.c ****     }
2326:System/storage/Storage.c **** 
2327:System/storage/Storage.c ****     return true;
2328:System/storage/Storage.c **** }
2329:System/storage/Storage.c **** 
2330:System/storage/Storage.c **** static void Storage_Shell_Get_BaseInfo(void)
2331:System/storage/Storage.c **** {
 8530              		.loc 1 2331 1 is_stmt 1 view -0
 8531              		.cfi_startproc
 8532              		@ args = 0, pretend = 0, frame = 0
 8533              		@ frame_needed = 0, uses_anonymous_args = 0
 8534 0000 38B5     		push	{r3, r4, r5, lr}
 8535              	.LCFI98:
 8536              		.cfi_def_cfa_offset 16
 8537              		.cfi_offset 3, -16
 8538              		.cfi_offset 4, -12
 8539              		.cfi_offset 5, -8
 8540              		.cfi_offset 14, -4
2332:System/storage/Storage.c ****     Shell *shell_obj = Shell_GetInstence();
 8541              		.loc 1 2332 5 view .LVU2648
 8542              		.loc 1 2332 24 is_stmt 0 view .LVU2649
 8543 0002 FFF7FEFF 		bl	Shell_GetInstence
 8544              	.LVL939:
2333:System/storage/Storage.c ****     Storage_FlashInfo_TypeDef *p_Flash = NULL;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 237


 8545              		.loc 1 2333 5 is_stmt 1 view .LVU2650
2334:System/storage/Storage.c **** 
2335:System/storage/Storage.c ****     if (shell_obj == NULL)
 8546              		.loc 1 2335 5 view .LVU2651
 8547              		.loc 1 2335 8 is_stmt 0 view .LVU2652
 8548 0006 0028     		cmp	r0, #0
 8549 0008 3AD0     		beq	.L609
 8550 000a 0446     		mov	r4, r0
2336:System/storage/Storage.c ****         return;
2337:System/storage/Storage.c ****     
2338:System/storage/Storage.c ****     shellPrint(shell_obj, "\t[Storage Shell] Get BaseInfo\r\n");
 8551              		.loc 1 2338 5 is_stmt 1 view .LVU2653
 8552 000c 2249     		ldr	r1, .L616
 8553 000e FFF7FEFF 		bl	shellPrint
 8554              	.LVL940:
2339:System/storage/Storage.c ****     if (!Storage_Monitor.init_state)
 8555              		.loc 1 2339 5 view .LVU2654
 8556              		.loc 1 2339 25 is_stmt 0 view .LVU2655
 8557 0012 224B     		ldr	r3, .L616+4
 8558 0014 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 8559              		.loc 1 2339 8 view .LVU2656
 8560 0016 A3B3     		cbz	r3, .L614
2340:System/storage/Storage.c ****     {
2341:System/storage/Storage.c ****         shellPrint(shell_obj, "\thalt by init state\r\n");
2342:System/storage/Storage.c ****         return;
2343:System/storage/Storage.c ****     }
2344:System/storage/Storage.c **** 
2345:System/storage/Storage.c ****     p_Flash = &Storage_Monitor.external_info;
 8561              		.loc 1 2345 5 is_stmt 1 view .LVU2657
 8562              	.LVL941:
2346:System/storage/Storage.c ****     if (memcmp(p_Flash->tag, EXTERNAL_STORAGE_PAGE_TAG, EXTERNAL_PAGE_TAG_SIZE))
 8563              		.loc 1 2346 5 view .LVU2658
 8564              		.loc 1 2346 9 is_stmt 0 view .LVU2659
 8565 0018 1722     		movs	r2, #23
 8566 001a 2149     		ldr	r1, .L616+8
 8567 001c 2148     		ldr	r0, .L616+12
 8568 001e FFF7FEFF 		bl	memcmp
 8569              	.LVL942:
 8570              		.loc 1 2346 8 view .LVU2660
 8571 0022 98BB     		cbnz	r0, .L615
2347:System/storage/Storage.c ****     {
2348:System/storage/Storage.c ****         shellPrint(shell_obj, "\t\tExternal_Flash Info Error\r\n");
2349:System/storage/Storage.c ****         return;
2350:System/storage/Storage.c ****     }
2351:System/storage/Storage.c **** 
2352:System/storage/Storage.c ****     shellPrint(shell_obj, "\t\ttotal   size:\t%d\r\n", p_Flash->total_size);
 8572              		.loc 1 2352 5 is_stmt 1 view .LVU2661
 8573 0024 1D4D     		ldr	r5, .L616+4
 8574 0026 D5F83A20 		ldr	r2, [r5, #58]	@ unaligned
 8575 002a 1F49     		ldr	r1, .L616+16
 8576 002c 2046     		mov	r0, r4
 8577 002e FFF7FEFF 		bl	shellPrint
 8578              	.LVL943:
2353:System/storage/Storage.c ****     shellPrint(shell_obj, "\t\tremain  size:\t%d\r\n", p_Flash->remain_size);
 8579              		.loc 1 2353 5 view .LVU2662
 8580 0032 D5F83E20 		ldr	r2, [r5, #62]	@ unaligned
 8581 0036 1D49     		ldr	r1, .L616+20
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 238


 8582 0038 2046     		mov	r0, r4
 8583 003a FFF7FEFF 		bl	shellPrint
 8584              	.LVL944:
2354:System/storage/Storage.c ****     shellPrint(shell_obj, "\t\tstorage size:\t%d\r\n", p_Flash->data_sec_size);
 8585              		.loc 1 2354 5 view .LVU2663
 8586 003e D5F84220 		ldr	r2, [r5, #66]	@ unaligned
 8587 0042 1B49     		ldr	r1, .L616+24
 8588 0044 2046     		mov	r0, r4
 8589 0046 FFF7FEFF 		bl	shellPrint
 8590              	.LVL945:
2355:System/storage/Storage.c ****  
2356:System/storage/Storage.c ****     /* print boot info */
2357:System/storage/Storage.c ****     shellPrint(shell_obj, "\r\n\t[Boot Section]\r\n");
 8591              		.loc 1 2357 5 view .LVU2664
 8592 004a 1A49     		ldr	r1, .L616+28
 8593 004c 2046     		mov	r0, r4
 8594 004e FFF7FEFF 		bl	shellPrint
 8595              	.LVL946:
2358:System/storage/Storage.c ****     Storage_SecInfo_Print(shell_obj, &p_Flash->boot_sec);
 8596              		.loc 1 2358 5 view .LVU2665
 8597 0052 05F14601 		add	r1, r5, #70
 8598 0056 2046     		mov	r0, r4
 8599 0058 FFF7FEFF 		bl	Storage_SecInfo_Print
 8600              	.LVL947:
2359:System/storage/Storage.c **** 
2360:System/storage/Storage.c ****     /* print sys  info */
2361:System/storage/Storage.c ****     shellPrint(shell_obj, "\r\n\t[System Section]\r\n");
 8601              		.loc 1 2361 5 view .LVU2666
 8602 005c 1649     		ldr	r1, .L616+32
 8603 005e 2046     		mov	r0, r4
 8604 0060 FFF7FEFF 		bl	shellPrint
 8605              	.LVL948:
2362:System/storage/Storage.c ****     Storage_SecInfo_Print(shell_obj, &p_Flash->sys_sec);
 8606              		.loc 1 2362 5 view .LVU2667
 8607 0064 05F16A01 		add	r1, r5, #106
 8608 0068 2046     		mov	r0, r4
 8609 006a FFF7FEFF 		bl	Storage_SecInfo_Print
 8610              	.LVL949:
2363:System/storage/Storage.c **** 
2364:System/storage/Storage.c ****     /* print user info */
2365:System/storage/Storage.c ****     shellPrint(shell_obj, "\r\n\t[User Section]\r\n");
 8611              		.loc 1 2365 5 view .LVU2668
 8612 006e 1349     		ldr	r1, .L616+36
 8613 0070 2046     		mov	r0, r4
 8614 0072 FFF7FEFF 		bl	shellPrint
 8615              	.LVL950:
2366:System/storage/Storage.c ****     Storage_SecInfo_Print(shell_obj, &p_Flash->user_sec);
 8616              		.loc 1 2366 5 view .LVU2669
 8617 0076 05F18E01 		add	r1, r5, #142
 8618 007a 2046     		mov	r0, r4
 8619 007c FFF7FEFF 		bl	Storage_SecInfo_Print
 8620              	.LVL951:
 8621              	.L609:
2367:System/storage/Storage.c **** }
 8622              		.loc 1 2367 1 is_stmt 0 view .LVU2670
 8623 0080 38BD     		pop	{r3, r4, r5, pc}
 8624              	.LVL952:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 239


 8625              	.L614:
2341:System/storage/Storage.c ****         return;
 8626              		.loc 1 2341 9 is_stmt 1 view .LVU2671
 8627 0082 0F49     		ldr	r1, .L616+40
 8628 0084 2046     		mov	r0, r4
 8629 0086 FFF7FEFF 		bl	shellPrint
 8630              	.LVL953:
2342:System/storage/Storage.c ****     }
 8631              		.loc 1 2342 9 view .LVU2672
 8632 008a F9E7     		b	.L609
 8633              	.LVL954:
 8634              	.L615:
2348:System/storage/Storage.c ****         return;
 8635              		.loc 1 2348 9 view .LVU2673
 8636 008c 0D49     		ldr	r1, .L616+44
 8637 008e 2046     		mov	r0, r4
 8638 0090 FFF7FEFF 		bl	shellPrint
 8639              	.LVL955:
2349:System/storage/Storage.c ****     }
 8640              		.loc 1 2349 9 view .LVU2674
 8641 0094 F4E7     		b	.L609
 8642              	.L617:
 8643 0096 00BF     		.align	2
 8644              	.L616:
 8645 0098 00000000 		.word	.LC54
 8646 009c 00000000 		.word	.LANCHOR0
 8647 00a0 00000000 		.word	.LC38
 8648 00a4 16000000 		.word	.LANCHOR0+22
 8649 00a8 58000000 		.word	.LC57
 8650 00ac 70000000 		.word	.LC58
 8651 00b0 88000000 		.word	.LC59
 8652 00b4 A0000000 		.word	.LC60
 8653 00b8 B4000000 		.word	.LC61
 8654 00bc CC000000 		.word	.LC62
 8655 00c0 20000000 		.word	.LC55
 8656 00c4 38000000 		.word	.LC56
 8657              		.cfi_endproc
 8658              	.LFE186:
 8660              		.section	.rodata.Storage_ClassType_Print.str1.4,"aMS",%progbits,1
 8661              		.align	2
 8662              	.LC63:
 8663 0000 09636C61 		.ascii	"\011class para\015\012\000"
 8663      73732070 
 8663      6172610D 
 8663      0A00
 8664 000e 0000     		.align	2
 8665              	.LC64:
 8666 0010 09506172 		.ascii	"\011Para_Boot ---- %d\015\012\000"
 8666      615F426F 
 8666      6F74202D 
 8666      2D2D2D20 
 8666      25640D0A 
 8667 0025 000000   		.align	2
 8668              	.LC65:
 8669 0028 09506172 		.ascii	"\011Para_Sys  ---- %d\015\012\000"
 8669      615F5379 
 8669      7320202D 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 240


 8669      2D2D2D20 
 8669      25640D0A 
 8670 003d 000000   		.align	2
 8671              	.LC66:
 8672 0040 09506172 		.ascii	"\011Para_User ---- %d\015\012\000"
 8672      615F5573 
 8672      6572202D 
 8672      2D2D2D20 
 8672      25640D0A 
 8673 0055 000000   		.align	2
 8674              	.LC67:
 8675 0058 0D0A00   		.ascii	"\015\012\000"
 8676              		.section	.text.Storage_ClassType_Print,"ax",%progbits
 8677              		.align	1
 8678              		.syntax unified
 8679              		.thumb
 8680              		.thumb_func
 8682              	Storage_ClassType_Print:
 8683              	.LVL956:
 8684              	.LFB184:
2292:System/storage/Storage.c ****     if (obj == NULL)
 8685              		.loc 1 2292 1 view -0
 8686              		.cfi_startproc
 8687              		@ args = 0, pretend = 0, frame = 0
 8688              		@ frame_needed = 0, uses_anonymous_args = 0
2293:System/storage/Storage.c ****         return;
 8689              		.loc 1 2293 5 view .LVU2676
2293:System/storage/Storage.c ****         return;
 8690              		.loc 1 2293 8 is_stmt 0 view .LVU2677
 8691 0000 C0B1     		cbz	r0, .L621
2292:System/storage/Storage.c ****     if (obj == NULL)
 8692              		.loc 1 2292 1 view .LVU2678
 8693 0002 10B5     		push	{r4, lr}
 8694              	.LCFI99:
 8695              		.cfi_def_cfa_offset 8
 8696              		.cfi_offset 4, -8
 8697              		.cfi_offset 14, -4
 8698 0004 0446     		mov	r4, r0
2296:System/storage/Storage.c ****     shellPrint(obj, "\tPara_Boot ---- %d\r\n", Para_Boot);
 8699              		.loc 1 2296 5 is_stmt 1 view .LVU2679
 8700 0006 0C49     		ldr	r1, .L624
 8701 0008 FFF7FEFF 		bl	shellPrint
 8702              	.LVL957:
2297:System/storage/Storage.c ****     shellPrint(obj, "\tPara_Sys  ---- %d\r\n", Para_Sys);
 8703              		.loc 1 2297 5 view .LVU2680
 8704 000c 0022     		movs	r2, #0
 8705 000e 0B49     		ldr	r1, .L624+4
 8706 0010 2046     		mov	r0, r4
 8707 0012 FFF7FEFF 		bl	shellPrint
 8708              	.LVL958:
2298:System/storage/Storage.c ****     shellPrint(obj, "\tPara_User ---- %d\r\n", Para_User);
 8709              		.loc 1 2298 5 view .LVU2681
 8710 0016 0122     		movs	r2, #1
 8711 0018 0949     		ldr	r1, .L624+8
 8712 001a 2046     		mov	r0, r4
 8713 001c FFF7FEFF 		bl	shellPrint
 8714              	.LVL959:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 241


2299:System/storage/Storage.c ****     shellPrint(obj, "\r\n");
 8715              		.loc 1 2299 5 view .LVU2682
 8716 0020 0222     		movs	r2, #2
 8717 0022 0849     		ldr	r1, .L624+12
 8718 0024 2046     		mov	r0, r4
 8719 0026 FFF7FEFF 		bl	shellPrint
 8720              	.LVL960:
2300:System/storage/Storage.c **** }
 8721              		.loc 1 2300 5 view .LVU2683
 8722 002a 0749     		ldr	r1, .L624+16
 8723 002c 2046     		mov	r0, r4
 8724 002e FFF7FEFF 		bl	shellPrint
 8725              	.LVL961:
2301:System/storage/Storage.c **** 
 8726              		.loc 1 2301 1 is_stmt 0 view .LVU2684
 8727 0032 10BD     		pop	{r4, pc}
 8728              	.LVL962:
 8729              	.L621:
 8730              	.LCFI100:
 8731              		.cfi_def_cfa_offset 0
 8732              		.cfi_restore 4
 8733              		.cfi_restore 14
2301:System/storage/Storage.c **** 
 8734              		.loc 1 2301 1 view .LVU2685
 8735 0034 7047     		bx	lr
 8736              	.L625:
 8737 0036 00BF     		.align	2
 8738              	.L624:
 8739 0038 00000000 		.word	.LC63
 8740 003c 10000000 		.word	.LC64
 8741 0040 28000000 		.word	.LC65
 8742 0044 40000000 		.word	.LC66
 8743 0048 58000000 		.word	.LC67
 8744              		.cfi_endproc
 8745              	.LFE184:
 8747              		.section	.rodata.Storage_SelectedClass_Print.str1.4,"aMS",%progbits,1
 8748              		.align	2
 8749              	.LC68:
 8750 0000 095B426F 		.ascii	"\011[Boot Section Selected]\015\012\000"
 8750      6F742053 
 8750      65637469 
 8750      6F6E2053 
 8750      656C6563 
 8751 001b 00       		.align	2
 8752              	.LC69:
 8753 001c 095B5379 		.ascii	"\011[Sys Section Selected]\015\012\000"
 8753      73205365 
 8753      6374696F 
 8753      6E205365 
 8753      6C656374 
 8754 0036 0000     		.align	2
 8755              	.LC70:
 8756 0038 095B5573 		.ascii	"\011[User Section Selected]\015\012\000"
 8756      65722053 
 8756      65637469 
 8756      6F6E2053 
 8756      656C6563 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 242


 8757 0053 00       		.align	2
 8758              	.LC71:
 8759 0054 09436C61 		.ascii	"\011Class arg error\015\012\000"
 8759      73732061 
 8759      72672065 
 8759      72726F72 
 8759      0D0A00
 8760              		.section	.text.Storage_SelectedClass_Print,"ax",%progbits
 8761              		.align	1
 8762              		.syntax unified
 8763              		.thumb
 8764              		.thumb_func
 8766              	Storage_SelectedClass_Print:
 8767              	.LVL963:
 8768              	.LFB185:
2304:System/storage/Storage.c ****     if (obj == NULL)
 8769              		.loc 1 2304 1 is_stmt 1 view -0
 8770              		.cfi_startproc
 8771              		@ args = 0, pretend = 0, frame = 0
 8772              		@ frame_needed = 0, uses_anonymous_args = 0
2305:System/storage/Storage.c ****         return false;
 8773              		.loc 1 2305 5 view .LVU2687
2305:System/storage/Storage.c ****         return false;
 8774              		.loc 1 2305 8 is_stmt 0 view .LVU2688
 8775 0000 C8B1     		cbz	r0, .L631
2304:System/storage/Storage.c ****     if (obj == NULL)
 8776              		.loc 1 2304 1 view .LVU2689
 8777 0002 08B5     		push	{r3, lr}
 8778              	.LCFI101:
 8779              		.cfi_def_cfa_offset 8
 8780              		.cfi_offset 3, -8
 8781              		.cfi_offset 14, -4
2308:System/storage/Storage.c ****     {
 8782              		.loc 1 2308 5 is_stmt 1 view .LVU2690
 8783 0004 0129     		cmp	r1, #1
 8784 0006 0CD0     		beq	.L628
 8785 0008 0229     		cmp	r1, #2
 8786 000a 0FD0     		beq	.L629
 8787 000c 21B1     		cbz	r1, .L636
2323:System/storage/Storage.c ****             return false;
 8788              		.loc 1 2323 13 view .LVU2691
 8789 000e 0B49     		ldr	r1, .L637
 8790              	.LVL964:
2323:System/storage/Storage.c ****             return false;
 8791              		.loc 1 2323 13 is_stmt 0 view .LVU2692
 8792 0010 FFF7FEFF 		bl	shellPrint
 8793              	.LVL965:
2324:System/storage/Storage.c ****     }
 8794              		.loc 1 2324 13 is_stmt 1 view .LVU2693
2324:System/storage/Storage.c ****     }
 8795              		.loc 1 2324 20 is_stmt 0 view .LVU2694
 8796 0014 0020     		movs	r0, #0
 8797 0016 03E0     		b	.L627
 8798              	.LVL966:
 8799              	.L636:
2311:System/storage/Storage.c ****             break;
 8800              		.loc 1 2311 13 is_stmt 1 view .LVU2695
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 243


 8801 0018 0949     		ldr	r1, .L637+4
 8802              	.LVL967:
2311:System/storage/Storage.c ****             break;
 8803              		.loc 1 2311 13 is_stmt 0 view .LVU2696
 8804 001a FFF7FEFF 		bl	shellPrint
 8805              	.LVL968:
2312:System/storage/Storage.c ****         
 8806              		.loc 1 2312 13 is_stmt 1 view .LVU2697
2327:System/storage/Storage.c **** }
 8807              		.loc 1 2327 12 is_stmt 0 view .LVU2698
 8808 001e 0120     		movs	r0, #1
 8809              	.L627:
2328:System/storage/Storage.c **** 
 8810              		.loc 1 2328 1 view .LVU2699
 8811 0020 08BD     		pop	{r3, pc}
 8812              	.LVL969:
 8813              	.L628:
2315:System/storage/Storage.c ****             break;
 8814              		.loc 1 2315 13 is_stmt 1 view .LVU2700
 8815 0022 0849     		ldr	r1, .L637+8
 8816              	.LVL970:
2315:System/storage/Storage.c ****             break;
 8817              		.loc 1 2315 13 is_stmt 0 view .LVU2701
 8818 0024 FFF7FEFF 		bl	shellPrint
 8819              	.LVL971:
2316:System/storage/Storage.c ****         
 8820              		.loc 1 2316 13 is_stmt 1 view .LVU2702
2327:System/storage/Storage.c **** }
 8821              		.loc 1 2327 12 is_stmt 0 view .LVU2703
 8822 0028 0120     		movs	r0, #1
2316:System/storage/Storage.c ****         
 8823              		.loc 1 2316 13 view .LVU2704
 8824 002a F9E7     		b	.L627
 8825              	.LVL972:
 8826              	.L629:
2319:System/storage/Storage.c ****             break;
 8827              		.loc 1 2319 13 is_stmt 1 view .LVU2705
 8828 002c 0649     		ldr	r1, .L637+12
 8829              	.LVL973:
2319:System/storage/Storage.c ****             break;
 8830              		.loc 1 2319 13 is_stmt 0 view .LVU2706
 8831 002e FFF7FEFF 		bl	shellPrint
 8832              	.LVL974:
2320:System/storage/Storage.c **** 
 8833              		.loc 1 2320 13 is_stmt 1 view .LVU2707
2327:System/storage/Storage.c **** }
 8834              		.loc 1 2327 12 is_stmt 0 view .LVU2708
 8835 0032 0120     		movs	r0, #1
2320:System/storage/Storage.c **** 
 8836              		.loc 1 2320 13 view .LVU2709
 8837 0034 F4E7     		b	.L627
 8838              	.LVL975:
 8839              	.L631:
 8840              	.LCFI102:
 8841              		.cfi_def_cfa_offset 0
 8842              		.cfi_restore 3
 8843              		.cfi_restore 14
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 244


2306:System/storage/Storage.c **** 
 8844              		.loc 1 2306 16 view .LVU2710
 8845 0036 0020     		movs	r0, #0
 8846              	.LVL976:
2328:System/storage/Storage.c **** 
 8847              		.loc 1 2328 1 view .LVU2711
 8848 0038 7047     		bx	lr
 8849              	.L638:
 8850 003a 00BF     		.align	2
 8851              	.L637:
 8852 003c 54000000 		.word	.LC71
 8853 0040 00000000 		.word	.LC68
 8854 0044 1C000000 		.word	.LC69
 8855 0048 38000000 		.word	.LC70
 8856              		.cfi_endproc
 8857              	.LFE185:
 8859              		.section	.rodata.Storage_Test.str1.4,"aMS",%progbits,1
 8860              		.align	2
 8861              	.LC72:
 8862 0000 095B5374 		.ascii	"\011[Storage Shell] Data Storage Test\015\012\000"
 8862      6F726167 
 8862      65205368 
 8862      656C6C5D 
 8862      20446174 
 8863 0025 000000   		.align	2
 8864              	.LC73:
 8865 0028 095B4578 		.ascii	"\011[External_Flash Selected]\015\012\000"
 8865      7465726E 
 8865      616C5F46 
 8865      6C617368 
 8865      2053656C 
 8866 0045 000000   		.align	2
 8867              	.LC74:
 8868 0048 095B4578 		.ascii	"\011[External_Flash Unavaliable]\015\012\000"
 8868      7465726E 
 8868      616C5F46 
 8868      6C617368 
 8868      20556E61 
 8869              		.align	2
 8870              	.LC75:
 8871 0068 095B466F 		.ascii	"\011[Format cnt   : %d]\015\012\000"
 8871      726D6174 
 8871      20636E74 
 8871      2020203A 
 8871      2025645D 
 8872 007f 00       		.align	2
 8873              	.LC76:
 8874 0080 095B4275 		.ascii	"\011[Buid Tab cnt : %d]\015\012\000"
 8874      69642054 
 8874      61622063 
 8874      6E74203A 
 8874      2025645D 
 8875 0097 00       		.align	2
 8876              	.LC77:
 8877 0098 0968616C 		.ascii	"\011halt by enable or init state\015\012\000"
 8877      74206279 
 8877      20656E61 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 245


 8877      626C6520 
 8877      6F722069 
 8878              		.align	2
 8879              	.LC78:
 8880 00b8 0973746F 		.ascii	"\011storage class arg error\015\012\000"
 8880      72616765 
 8880      20636C61 
 8880      73732061 
 8880      72672065 
 8881 00d3 00       		.align	2
 8882              	.LC79:
 8883 00d4 09746573 		.ascii	"\011test halt\015\012\000"
 8883      74206861 
 8883      6C740D0A 
 8883      00
 8884 00e1 000000   		.align	2
 8885              	.LC80:
 8886 00e4 09207374 		.ascii	"\011 storage name or storage data error \015\012\000"
 8886      6F726167 
 8886      65206E61 
 8886      6D65206F 
 8886      72207374 
 8887              		.align	2
 8888              	.LC81:
 8889 010c 09206578 		.ascii	"\011 exp :\015\012\000"
 8889      70203A0D 
 8889      0A00
 8890 0116 0000     		.align	2
 8891              	.LC82:
 8892 0118 09092053 		.ascii	"\011\011 Storage 0 0 test_name test_data\015\012\000"
 8892      746F7261 
 8892      67652030 
 8892      20302074 
 8892      6573745F 
 8893 013d 000000   		.align	2
 8894              	.LC83:
 8895 0140 0953746F 		.ascii	"\011Storage Name: %s\015\012\000"
 8895      72616765 
 8895      204E616D 
 8895      653A2025 
 8895      730D0A00 
 8896              		.align	2
 8897              	.LC84:
 8898 0154 0953746F 		.ascii	"\011Storage Data: %s\015\012\000"
 8898      72616765 
 8898      20446174 
 8898      613A2025 
 8898      730D0A00 
 8899              		.align	2
 8900              	.LC85:
 8901 0168 0953746F 		.ascii	"\011Storage Size: %d\015\012\000"
 8901      72616765 
 8901      2053697A 
 8901      653A2025 
 8901      640D0A00 
 8902              		.align	2
 8903              	.LC86:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 246


 8904 017c 09257320 		.ascii	"\011%s already exist\015\012\000"
 8904      616C7265 
 8904      61647920 
 8904      65786973 
 8904      740D0A00 
 8905              		.align	2
 8906              	.LC87:
 8907 0190 095B5374 		.ascii	"\011[Storage Test Failed]\015\012\000"
 8907      6F726167 
 8907      65205465 
 8907      73742046 
 8907      61696C65 
 8908 01a9 000000   		.align	2
 8909              	.LC88:
 8910 01ac 095B4572 		.ascii	"\011[Error_Code]: %s\015\012\000"
 8910      726F725F 
 8910      436F6465 
 8910      5D3A2025 
 8910      730D0A00 
 8911              		.align	2
 8912              	.LC89:
 8913 01c0 095B5374 		.ascii	"\011[Storage Test Done]\015\012\000"
 8913      6F726167 
 8913      65205465 
 8913      73742044 
 8913      6F6E655D 
 8914              		.section	.text.Storage_Test,"ax",%progbits
 8915              		.align	1
 8916              		.syntax unified
 8917              		.thumb
 8918              		.thumb_func
 8920              	Storage_Test:
 8921              	.LVL977:
 8922              	.LFB187:
2368:System/storage/Storage.c **** SHELL_EXPORT_CMD(SHELL_CMD_PERMISSION(0) | SHELL_CMD_TYPE(SHELL_TYPE_CMD_FUNC) | SHELL_CMD_DISABLE_
2369:System/storage/Storage.c **** 
2370:System/storage/Storage.c **** static void Storage_Test(Storage_ParaClassType_List _class, char *test_name, char *test_data)
2371:System/storage/Storage.c **** {
 8923              		.loc 1 2371 1 is_stmt 1 view -0
 8924              		.cfi_startproc
 8925              		@ args = 0, pretend = 0, frame = 72
 8926              		@ frame_needed = 0, uses_anonymous_args = 0
 8927              		.loc 1 2371 1 is_stmt 0 view .LVU2713
 8928 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 8929              	.LCFI103:
 8930              		.cfi_def_cfa_offset 24
 8931              		.cfi_offset 4, -24
 8932              		.cfi_offset 5, -20
 8933              		.cfi_offset 6, -16
 8934              		.cfi_offset 7, -12
 8935              		.cfi_offset 8, -8
 8936              		.cfi_offset 14, -4
 8937 0004 92B0     		sub	sp, sp, #72
 8938              	.LCFI104:
 8939              		.cfi_def_cfa_offset 96
 8940 0006 0746     		mov	r7, r0
 8941 0008 0D46     		mov	r5, r1
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 247


 8942 000a 1646     		mov	r6, r2
2372:System/storage/Storage.c ****     Shell *shell_obj = Shell_GetInstence();
 8943              		.loc 1 2372 5 is_stmt 1 view .LVU2714
 8944              		.loc 1 2372 24 is_stmt 0 view .LVU2715
 8945 000c FFF7FEFF 		bl	Shell_GetInstence
 8946              	.LVL978:
2373:System/storage/Storage.c ****     Storage_ErrorCode_List error_code = Storage_Error_None;
 8947              		.loc 1 2373 5 is_stmt 1 view .LVU2716
2374:System/storage/Storage.c **** 
2375:System/storage/Storage.c ****     if (shell_obj == NULL)
 8948              		.loc 1 2375 5 view .LVU2717
 8949              		.loc 1 2375 8 is_stmt 0 view .LVU2718
 8950 0010 0028     		cmp	r0, #0
 8951 0012 69D0     		beq	.L639
 8952 0014 0446     		mov	r4, r0
2376:System/storage/Storage.c ****         return;
2377:System/storage/Storage.c **** 
2378:System/storage/Storage.c ****     shellPrint(shell_obj, "\t[Storage Shell] Data Storage Test\r\n");
 8953              		.loc 1 2378 5 is_stmt 1 view .LVU2719
 8954 0016 4449     		ldr	r1, .L652
 8955 0018 FFF7FEFF 		bl	shellPrint
 8956              	.LVL979:
2379:System/storage/Storage.c ****     if (!Storage_Monitor.init_state)
 8957              		.loc 1 2379 5 view .LVU2720
 8958              		.loc 1 2379 25 is_stmt 0 view .LVU2721
 8959 001c 434B     		ldr	r3, .L652+4
 8960 001e 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 8961              		.loc 1 2379 8 view .LVU2722
 8962 0020 002B     		cmp	r3, #0
 8963 0022 5DD0     		beq	.L648
2380:System/storage/Storage.c ****     {
2381:System/storage/Storage.c ****         shellPrint(shell_obj, "\thalt by init state\r\n");
2382:System/storage/Storage.c ****         return;
2383:System/storage/Storage.c ****     }
2384:System/storage/Storage.c **** 
2385:System/storage/Storage.c ****     shellPrint(shell_obj, "\t[External_Flash Selected]\r\n");
 8964              		.loc 1 2385 5 is_stmt 1 view .LVU2723
 8965 0024 4249     		ldr	r1, .L652+8
 8966 0026 2046     		mov	r0, r4
 8967 0028 FFF7FEFF 		bl	shellPrint
 8968              	.LVL980:
2386:System/storage/Storage.c ****     shellPrint(shell_obj, "\t[External_Flash Unavaliable]\r\n");
 8969              		.loc 1 2386 5 view .LVU2724
 8970 002c 4149     		ldr	r1, .L652+12
 8971 002e 2046     		mov	r0, r4
 8972 0030 FFF7FEFF 		bl	shellPrint
 8973              	.LVL981:
2387:System/storage/Storage.c ****     shellPrint(shell_obj, "\t[Format cnt   : %d]\r\n", Storage_Monitor.ExternalFlash_Format_cnt);
 8974              		.loc 1 2387 5 view .LVU2725
 8975              		.loc 1 2387 71 is_stmt 0 view .LVU2726
 8976 0034 DFF8F480 		ldr	r8, .L652+4
 8977              		.loc 1 2387 5 view .LVU2727
 8978 0038 98F80120 		ldrb	r2, [r8, #1]	@ zero_extendqisi2
 8979 003c 3E49     		ldr	r1, .L652+16
 8980 003e 2046     		mov	r0, r4
 8981 0040 FFF7FEFF 		bl	shellPrint
 8982              	.LVL982:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 248


2388:System/storage/Storage.c ****     shellPrint(shell_obj, "\t[Buid Tab cnt : %d]\r\n", Storage_Monitor.ExternalFlash_BuildTab_cnt);
 8983              		.loc 1 2388 5 is_stmt 1 view .LVU2728
 8984 0044 98F80420 		ldrb	r2, [r8, #4]	@ zero_extendqisi2
 8985 0048 3C49     		ldr	r1, .L652+20
 8986 004a 2046     		mov	r0, r4
 8987 004c FFF7FEFF 		bl	shellPrint
 8988              	.LVL983:
2389:System/storage/Storage.c ****     shellPrint(shell_obj, "\thalt by enable or init state\r\n");
 8989              		.loc 1 2389 5 view .LVU2729
 8990 0050 3B49     		ldr	r1, .L652+24
 8991 0052 2046     		mov	r0, r4
 8992 0054 FFF7FEFF 		bl	shellPrint
 8993              	.LVL984:
2390:System/storage/Storage.c **** 
2391:System/storage/Storage.c ****     Storage_ClassType_Print(shell_obj);
 8994              		.loc 1 2391 5 view .LVU2730
 8995 0058 2046     		mov	r0, r4
 8996 005a FFF7FEFF 		bl	Storage_ClassType_Print
 8997              	.LVL985:
2392:System/storage/Storage.c ****     if (_class > Para_User)
 8998              		.loc 1 2392 5 view .LVU2731
 8999              		.loc 1 2392 8 is_stmt 0 view .LVU2732
 9000 005e 022F     		cmp	r7, #2
 9001 0060 45D8     		bhi	.L649
2393:System/storage/Storage.c ****     {
2394:System/storage/Storage.c ****         shellPrint(shell_obj, "\tstorage class arg error\r\n");
2395:System/storage/Storage.c ****         shellPrint(shell_obj, "\ttest halt\r\n");
2396:System/storage/Storage.c ****         return;
2397:System/storage/Storage.c ****     }
2398:System/storage/Storage.c **** 
2399:System/storage/Storage.c ****     Storage_SelectedClass_Print(shell_obj, _class);
 9002              		.loc 1 2399 5 is_stmt 1 view .LVU2733
 9003 0062 3946     		mov	r1, r7
 9004 0064 2046     		mov	r0, r4
 9005 0066 FFF7FEFF 		bl	Storage_SelectedClass_Print
 9006              	.LVL986:
2400:System/storage/Storage.c ****     if ( (test_name == NULL) || \
 9007              		.loc 1 2400 5 view .LVU2734
 9008              		.loc 1 2400 8 is_stmt 0 view .LVU2735
 9009 006a 25B1     		cbz	r5, .L643
 9010              		.loc 1 2400 30 discriminator 1 view .LVU2736
 9011 006c 1EB1     		cbz	r6, .L643
2401:System/storage/Storage.c ****         (test_data == NULL) || \
2402:System/storage/Storage.c ****         (strlen(test_name) == 0) || \
 9012              		.loc 1 2402 28 view .LVU2737
 9013 006e 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
2401:System/storage/Storage.c ****         (test_data == NULL) || \
 9014              		.loc 1 2401 29 view .LVU2738
 9015 0070 0BB1     		cbz	r3, .L643
2403:System/storage/Storage.c ****         (strlen(test_data) == 0))
 9016              		.loc 1 2403 28 view .LVU2739
 9017 0072 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
2402:System/storage/Storage.c ****         (strlen(test_data) == 0))
 9018              		.loc 1 2402 34 view .LVU2740
 9019 0074 5BB9     		cbnz	r3, .L644
 9020              	.L643:
2404:System/storage/Storage.c ****     {
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 249


2405:System/storage/Storage.c ****         shellPrint(shell_obj, "\t storage name or storage data error \r\n");
 9021              		.loc 1 2405 9 is_stmt 1 view .LVU2741
 9022 0076 3349     		ldr	r1, .L652+28
 9023 0078 2046     		mov	r0, r4
 9024 007a FFF7FEFF 		bl	shellPrint
 9025              	.LVL987:
2406:System/storage/Storage.c ****         shellPrint(shell_obj, "\t exp :\r\n");
 9026              		.loc 1 2406 9 view .LVU2742
 9027 007e 3249     		ldr	r1, .L652+32
 9028 0080 2046     		mov	r0, r4
 9029 0082 FFF7FEFF 		bl	shellPrint
 9030              	.LVL988:
2407:System/storage/Storage.c ****         shellPrint(shell_obj, "\t\t Storage 0 0 test_name test_data\r\n");
 9031              		.loc 1 2407 9 view .LVU2743
 9032 0086 3149     		ldr	r1, .L652+36
 9033 0088 2046     		mov	r0, r4
 9034 008a FFF7FEFF 		bl	shellPrint
 9035              	.LVL989:
 9036              	.L644:
2408:System/storage/Storage.c ****     }
2409:System/storage/Storage.c **** 
2410:System/storage/Storage.c ****     shellPrint(shell_obj, "\tStorage Name: %s\r\n", test_name);
 9037              		.loc 1 2410 5 view .LVU2744
 9038 008e 2A46     		mov	r2, r5
 9039 0090 2F49     		ldr	r1, .L652+40
 9040 0092 2046     		mov	r0, r4
 9041 0094 FFF7FEFF 		bl	shellPrint
 9042              	.LVL990:
2411:System/storage/Storage.c ****     shellPrint(shell_obj, "\tStorage Data: %s\r\n", test_data);
 9043              		.loc 1 2411 5 view .LVU2745
 9044 0098 3246     		mov	r2, r6
 9045 009a 2E49     		ldr	r1, .L652+44
 9046 009c 2046     		mov	r0, r4
 9047 009e FFF7FEFF 		bl	shellPrint
 9048              	.LVL991:
2412:System/storage/Storage.c ****     shellPrint(shell_obj, "\tStorage Size: %d\r\n", strlen(test_data));
 9049              		.loc 1 2412 5 view .LVU2746
 9050 00a2 3046     		mov	r0, r6
 9051 00a4 FFF7FEFF 		bl	strlen
 9052              	.LVL992:
 9053 00a8 0246     		mov	r2, r0
 9054 00aa 2B49     		ldr	r1, .L652+48
 9055 00ac 2046     		mov	r0, r4
 9056 00ae FFF7FEFF 		bl	shellPrint
 9057              	.LVL993:
2413:System/storage/Storage.c **** 
2414:System/storage/Storage.c ****     /* search item first */
2415:System/storage/Storage.c ****     if (Storage_Search(_class, test_name).item.data_addr != 0)
 9058              		.loc 1 2415 5 view .LVU2747
 9059              		.loc 1 2415 9 is_stmt 0 view .LVU2748
 9060 00b2 2A46     		mov	r2, r5
 9061 00b4 3946     		mov	r1, r7
 9062 00b6 6846     		mov	r0, sp
 9063 00b8 FFF7FEFF 		bl	Storage_Search
 9064              	.LVL994:
 9065              		.loc 1 2415 47 view .LVU2749
 9066 00bc 0C9B     		ldr	r3, [sp, #48]
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 250


 9067              		.loc 1 2415 8 view .LVU2750
 9068 00be FBB9     		cbnz	r3, .L650
2416:System/storage/Storage.c ****     {
2417:System/storage/Storage.c ****         shellPrint(shell_obj, "\t%s already exist\r\n", test_name);
2418:System/storage/Storage.c ****         return;
2419:System/storage/Storage.c ****     }
2420:System/storage/Storage.c **** 
2421:System/storage/Storage.c ****     error_code = Storage_CreateItem(_class, test_name, (uint8_t *)test_data, strlen(test_data));
 9069              		.loc 1 2421 5 is_stmt 1 view .LVU2751
 9070              		.loc 1 2421 78 is_stmt 0 view .LVU2752
 9071 00c0 3046     		mov	r0, r6
 9072 00c2 FFF7FEFF 		bl	strlen
 9073              	.LVL995:
 9074              		.loc 1 2421 18 view .LVU2753
 9075 00c6 83B2     		uxth	r3, r0
 9076 00c8 3246     		mov	r2, r6
 9077 00ca 2946     		mov	r1, r5
 9078 00cc 3846     		mov	r0, r7
 9079 00ce FFF7FEFF 		bl	Storage_CreateItem
 9080              	.LVL996:
2422:System/storage/Storage.c ****     if (error_code != Storage_Error_None)
 9081              		.loc 1 2422 5 is_stmt 1 view .LVU2754
 9082              		.loc 1 2422 8 is_stmt 0 view .LVU2755
 9083 00d2 0546     		mov	r5, r0
 9084              	.LVL997:
 9085              		.loc 1 2422 8 view .LVU2756
 9086 00d4 D0B9     		cbnz	r0, .L651
2423:System/storage/Storage.c ****     {
2424:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[Storage Test Failed]\r\n");
2425:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[Error_Code]: %s\r\n", Storage_Error_Print(error_code));
2426:System/storage/Storage.c ****         return;
2427:System/storage/Storage.c ****     }
2428:System/storage/Storage.c ****     else
2429:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[Storage Test Done]\r\n");
 9087              		.loc 1 2429 9 is_stmt 1 view .LVU2757
 9088 00d6 2149     		ldr	r1, .L652+52
 9089 00d8 2046     		mov	r0, r4
 9090              	.LVL998:
 9091              		.loc 1 2429 9 is_stmt 0 view .LVU2758
 9092 00da FFF7FEFF 		bl	shellPrint
 9093              	.LVL999:
 9094 00de 03E0     		b	.L639
 9095              	.LVL1000:
 9096              	.L648:
2381:System/storage/Storage.c ****         return;
 9097              		.loc 1 2381 9 is_stmt 1 view .LVU2759
 9098 00e0 1F49     		ldr	r1, .L652+56
 9099 00e2 2046     		mov	r0, r4
 9100 00e4 FFF7FEFF 		bl	shellPrint
 9101              	.LVL1001:
2382:System/storage/Storage.c ****     }
 9102              		.loc 1 2382 9 view .LVU2760
 9103              	.L639:
2430:System/storage/Storage.c **** }
 9104              		.loc 1 2430 1 is_stmt 0 view .LVU2761
 9105 00e8 12B0     		add	sp, sp, #72
 9106              	.LCFI105:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 251


 9107              		.cfi_remember_state
 9108              		.cfi_def_cfa_offset 24
 9109              		@ sp needed
 9110 00ea BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 9111              	.LVL1002:
 9112              	.L649:
 9113              	.LCFI106:
 9114              		.cfi_restore_state
2394:System/storage/Storage.c ****         shellPrint(shell_obj, "\ttest halt\r\n");
 9115              		.loc 1 2394 9 is_stmt 1 view .LVU2762
 9116 00ee 1D49     		ldr	r1, .L652+60
 9117 00f0 2046     		mov	r0, r4
 9118 00f2 FFF7FEFF 		bl	shellPrint
 9119              	.LVL1003:
2395:System/storage/Storage.c ****         return;
 9120              		.loc 1 2395 9 view .LVU2763
 9121 00f6 1C49     		ldr	r1, .L652+64
 9122 00f8 2046     		mov	r0, r4
 9123 00fa FFF7FEFF 		bl	shellPrint
 9124              	.LVL1004:
2396:System/storage/Storage.c ****     }
 9125              		.loc 1 2396 9 view .LVU2764
 9126 00fe F3E7     		b	.L639
 9127              	.L650:
2417:System/storage/Storage.c ****         return;
 9128              		.loc 1 2417 9 view .LVU2765
 9129 0100 2A46     		mov	r2, r5
 9130 0102 1A49     		ldr	r1, .L652+68
 9131 0104 2046     		mov	r0, r4
 9132 0106 FFF7FEFF 		bl	shellPrint
 9133              	.LVL1005:
2418:System/storage/Storage.c ****     }
 9134              		.loc 1 2418 9 view .LVU2766
 9135 010a EDE7     		b	.L639
 9136              	.LVL1006:
 9137              	.L651:
2424:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[Error_Code]: %s\r\n", Storage_Error_Print(error_code));
 9138              		.loc 1 2424 9 view .LVU2767
 9139 010c 1849     		ldr	r1, .L652+72
 9140 010e 2046     		mov	r0, r4
 9141              	.LVL1007:
2424:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[Error_Code]: %s\r\n", Storage_Error_Print(error_code));
 9142              		.loc 1 2424 9 is_stmt 0 view .LVU2768
 9143 0110 FFF7FEFF 		bl	shellPrint
 9144              	.LVL1008:
2425:System/storage/Storage.c ****         return;
 9145              		.loc 1 2425 9 is_stmt 1 view .LVU2769
 9146 0114 2846     		mov	r0, r5
 9147 0116 FFF7FEFF 		bl	Storage_Error_Print
 9148              	.LVL1009:
 9149 011a 0246     		mov	r2, r0
 9150 011c 1549     		ldr	r1, .L652+76
 9151 011e 2046     		mov	r0, r4
 9152 0120 FFF7FEFF 		bl	shellPrint
 9153              	.LVL1010:
2426:System/storage/Storage.c ****     }
 9154              		.loc 1 2426 9 view .LVU2770
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 252


 9155 0124 E0E7     		b	.L639
 9156              	.L653:
 9157 0126 00BF     		.align	2
 9158              	.L652:
 9159 0128 00000000 		.word	.LC72
 9160 012c 00000000 		.word	.LANCHOR0
 9161 0130 28000000 		.word	.LC73
 9162 0134 48000000 		.word	.LC74
 9163 0138 68000000 		.word	.LC75
 9164 013c 80000000 		.word	.LC76
 9165 0140 98000000 		.word	.LC77
 9166 0144 E4000000 		.word	.LC80
 9167 0148 0C010000 		.word	.LC81
 9168 014c 18010000 		.word	.LC82
 9169 0150 40010000 		.word	.LC83
 9170 0154 54010000 		.word	.LC84
 9171 0158 68010000 		.word	.LC85
 9172 015c C0010000 		.word	.LC89
 9173 0160 20000000 		.word	.LC55
 9174 0164 B8000000 		.word	.LC78
 9175 0168 D4000000 		.word	.LC79
 9176 016c 7C010000 		.word	.LC86
 9177 0170 90010000 		.word	.LC87
 9178 0174 AC010000 		.word	.LC88
 9179              		.cfi_endproc
 9180              	.LFE187:
 9182              		.section	.rodata.Storage_Module_Format.str1.4,"aMS",%progbits,1
 9183              		.align	2
 9184              	.LC90:
 9185 0000 095B466C 		.ascii	"\011[Flash formatting ...]\015\012\000"
 9185      61736820 
 9185      666F726D 
 9185      61747469 
 9185      6E67202E 
 9186 001a 0000     		.align	2
 9187              	.LC91:
 9188 001c 095B466C 		.ascii	"\011[Flash formatting done]\015\012\000"
 9188      61736820 
 9188      666F726D 
 9188      61747469 
 9188      6E672064 
 9189 0037 00       		.align	2
 9190              	.LC92:
 9191 0038 095B5265 		.ascii	"\011[Rebuilding storage tab and section]\015\012\000"
 9191      6275696C 
 9191      64696E67 
 9191      2073746F 
 9191      72616765 
 9192              		.align	2
 9193              	.LC93:
 9194 0060 095B5265 		.ascii	"\011[Rebuild storage tab and section failed]\015\012"
 9194      6275696C 
 9194      64207374 
 9194      6F726167 
 9194      65207461 
 9195 008b 00       		.ascii	"\000"
 9196              		.align	2
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 253


 9197              	.LC94:
 9198 008c 095B5265 		.ascii	"\011[Rebuild storage tab and section successed]\015"
 9198      6275696C 
 9198      64207374 
 9198      6F726167 
 9198      65207461 
 9199 00b9 0A00     		.ascii	"\012\000"
 9200 00bb 00       		.align	2
 9201              	.LC95:
 9202 00bc 095B466C 		.ascii	"\011[Flash Formatting Error]\015\012\000"
 9202      61736820 
 9202      466F726D 
 9202      61747469 
 9202      6E672045 
 9203              		.section	.text.Storage_Module_Format,"ax",%progbits
 9204              		.align	1
 9205              		.syntax unified
 9206              		.thumb
 9207              		.thumb_func
 9209              	Storage_Module_Format:
 9210              	.LFB188:
2431:System/storage/Storage.c **** SHELL_EXPORT_CMD(SHELL_CMD_PERMISSION(0) | SHELL_CMD_TYPE(SHELL_TYPE_CMD_FUNC) | SHELL_CMD_DISABLE_
2432:System/storage/Storage.c **** 
2433:System/storage/Storage.c **** static void Storage_Module_Format(void)
2434:System/storage/Storage.c **** {
 9211              		.loc 1 2434 1 view -0
 9212              		.cfi_startproc
 9213              		@ args = 0, pretend = 0, frame = 0
 9214              		@ frame_needed = 0, uses_anonymous_args = 0
 9215 0000 10B5     		push	{r4, lr}
 9216              	.LCFI107:
 9217              		.cfi_def_cfa_offset 8
 9218              		.cfi_offset 4, -8
 9219              		.cfi_offset 14, -4
2435:System/storage/Storage.c ****     Shell *shell_obj = Shell_GetInstence();
 9220              		.loc 1 2435 5 view .LVU2772
 9221              		.loc 1 2435 24 is_stmt 0 view .LVU2773
 9222 0002 FFF7FEFF 		bl	Shell_GetInstence
 9223              	.LVL1011:
2436:System/storage/Storage.c ****     
2437:System/storage/Storage.c ****     if ((shell_obj == NULL) || !Storage_Monitor.init_state)
 9224              		.loc 1 2437 5 is_stmt 1 view .LVU2774
 9225              		.loc 1 2437 8 is_stmt 0 view .LVU2775
 9226 0006 0446     		mov	r4, r0
 9227 0008 10B1     		cbz	r0, .L655
 9228              		.loc 1 2437 48 discriminator 1 view .LVU2776
 9229 000a 144B     		ldr	r3, .L662
 9230 000c 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 9231              		.loc 1 2437 29 discriminator 1 view .LVU2777
 9232 000e 23B9     		cbnz	r3, .L656
 9233              	.L655:
2438:System/storage/Storage.c ****     {
2439:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[External_Flash Unavaliable]\r\n");
 9234              		.loc 1 2439 9 is_stmt 1 view .LVU2778
 9235 0010 1349     		ldr	r1, .L662+4
 9236 0012 2046     		mov	r0, r4
 9237              	.LVL1012:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 254


 9238              		.loc 1 2439 9 is_stmt 0 view .LVU2779
 9239 0014 FFF7FEFF 		bl	shellPrint
 9240              	.LVL1013:
2440:System/storage/Storage.c ****         return;
 9241              		.loc 1 2440 9 is_stmt 1 view .LVU2780
 9242              	.L654:
2441:System/storage/Storage.c ****     }
2442:System/storage/Storage.c **** 
2443:System/storage/Storage.c ****     shellPrint(shell_obj, "\t[Flash formatting ...]\r\n");
2444:System/storage/Storage.c ****     if (Storage_Format())
2445:System/storage/Storage.c ****     {
2446:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[Flash formatting done]\r\n");
2447:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[Rebuilding storage tab and section]\r\n");
2448:System/storage/Storage.c **** 
2449:System/storage/Storage.c ****         /* rebuild tab */
2450:System/storage/Storage.c ****         if (!Storage_Build_StorageInfo())
2451:System/storage/Storage.c ****         {
2452:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[Rebuild storage tab and section failed]\r\n");
2453:System/storage/Storage.c ****             return;
2454:System/storage/Storage.c ****         }
2455:System/storage/Storage.c **** 
2456:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[Rebuild storage tab and section successed]\r\n");
2457:System/storage/Storage.c ****     }
2458:System/storage/Storage.c ****     else
2459:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[Flash Formatting Error]\r\n");
2460:System/storage/Storage.c **** }
 9243              		.loc 1 2460 1 is_stmt 0 view .LVU2781
 9244 0018 10BD     		pop	{r4, pc}
 9245              	.LVL1014:
 9246              	.L656:
2443:System/storage/Storage.c ****     if (Storage_Format())
 9247              		.loc 1 2443 5 is_stmt 1 view .LVU2782
 9248 001a 1249     		ldr	r1, .L662+8
 9249 001c FFF7FEFF 		bl	shellPrint
 9250              	.LVL1015:
2444:System/storage/Storage.c ****     {
 9251              		.loc 1 2444 5 view .LVU2783
2444:System/storage/Storage.c ****     {
 9252              		.loc 1 2444 9 is_stmt 0 view .LVU2784
 9253 0020 FFF7FEFF 		bl	Storage_Format
 9254              	.LVL1016:
2444:System/storage/Storage.c ****     {
 9255              		.loc 1 2444 8 view .LVU2785
 9256 0024 A0B1     		cbz	r0, .L658
2446:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[Rebuilding storage tab and section]\r\n");
 9257              		.loc 1 2446 9 is_stmt 1 view .LVU2786
 9258 0026 1049     		ldr	r1, .L662+12
 9259 0028 2046     		mov	r0, r4
 9260 002a FFF7FEFF 		bl	shellPrint
 9261              	.LVL1017:
2447:System/storage/Storage.c **** 
 9262              		.loc 1 2447 9 view .LVU2787
 9263 002e 0F49     		ldr	r1, .L662+16
 9264 0030 2046     		mov	r0, r4
 9265 0032 FFF7FEFF 		bl	shellPrint
 9266              	.LVL1018:
2450:System/storage/Storage.c ****         {
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 255


 9267              		.loc 1 2450 9 view .LVU2788
2450:System/storage/Storage.c ****         {
 9268              		.loc 1 2450 14 is_stmt 0 view .LVU2789
 9269 0036 FFF7FEFF 		bl	Storage_Build_StorageInfo
 9270              	.LVL1019:
2450:System/storage/Storage.c ****         {
 9271              		.loc 1 2450 12 view .LVU2790
 9272 003a 20B1     		cbz	r0, .L661
2456:System/storage/Storage.c ****     }
 9273              		.loc 1 2456 9 is_stmt 1 view .LVU2791
 9274 003c 0C49     		ldr	r1, .L662+20
 9275 003e 2046     		mov	r0, r4
 9276 0040 FFF7FEFF 		bl	shellPrint
 9277              	.LVL1020:
 9278 0044 E8E7     		b	.L654
 9279              	.L661:
2452:System/storage/Storage.c ****             return;
 9280              		.loc 1 2452 13 view .LVU2792
 9281 0046 0B49     		ldr	r1, .L662+24
 9282 0048 2046     		mov	r0, r4
 9283 004a FFF7FEFF 		bl	shellPrint
 9284              	.LVL1021:
2453:System/storage/Storage.c ****         }
 9285              		.loc 1 2453 13 view .LVU2793
 9286 004e E3E7     		b	.L654
 9287              	.L658:
2459:System/storage/Storage.c **** }
 9288              		.loc 1 2459 9 view .LVU2794
 9289 0050 0949     		ldr	r1, .L662+28
 9290 0052 2046     		mov	r0, r4
 9291 0054 FFF7FEFF 		bl	shellPrint
 9292              	.LVL1022:
 9293 0058 DEE7     		b	.L654
 9294              	.L663:
 9295 005a 00BF     		.align	2
 9296              	.L662:
 9297 005c 00000000 		.word	.LANCHOR0
 9298 0060 48000000 		.word	.LC74
 9299 0064 00000000 		.word	.LC90
 9300 0068 1C000000 		.word	.LC91
 9301 006c 38000000 		.word	.LC92
 9302 0070 8C000000 		.word	.LC94
 9303 0074 60000000 		.word	.LC93
 9304 0078 BC000000 		.word	.LC95
 9305              		.cfi_endproc
 9306              	.LFE188:
 9308              		.section	.rodata.Storage_Show_ModuleInfo.str1.4,"aMS",%progbits,1
 9309              		.align	2
 9310              	.LC96:
 9311 0000 095B4578 		.ascii	"\011[ExtDev pointer NULL]\015\012\000"
 9311      74446576 
 9311      20706F69 
 9311      6E746572 
 9311      204E554C 
 9312 0019 000000   		.align	2
 9313              	.LC97:
 9314 001c 095B4578 		.ascii	"\011[ExtDev pointer %08x]\015\012\000"
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 256


 9314      74446576 
 9314      20706F69 
 9314      6E746572 
 9314      20253038 
 9315 0035 000000   		.align	2
 9316              	.LC98:
 9317 0038 095B6578 		.ascii	"\011[external flash bus type SPI]\015\012\000"
 9317      7465726E 
 9317      616C2066 
 9317      6C617368 
 9317      20627573 
 9318 0059 000000   		.align	2
 9319              	.LC99:
 9320 005c 095B6E6F 		.ascii	"\011[none external flash bus matched %d]\015\012\000"
 9320      6E652065 
 9320      78746572 
 9320      6E616C20 
 9320      666C6173 
 9321              		.align	2
 9322              	.LC100:
 9323 0084 095B6578 		.ascii	"\011[external flash chip type W25Qxx]\015\012\000"
 9323      7465726E 
 9323      616C2066 
 9323      6C617368 
 9323      20636869 
 9324 00a9 000000   		.align	2
 9325              	.LC101:
 9326 00ac 095B6578 		.ascii	"\011[external flash error code %s]\015\012\000"
 9326      7465726E 
 9326      616C2066 
 9326      6C617368 
 9326      20657272 
 9327 00ce 0000     		.align	2
 9328              	.LC102:
 9329 00d0 095B6578 		.ascii	"\011[external flash format count: %d]\015\012\000"
 9329      7465726E 
 9329      616C2066 
 9329      6C617368 
 9329      20666F72 
 9330 00f5 000000   		.align	2
 9331              	.LC103:
 9332 00f8 095B6578 		.ascii	"\011[external flash re_init count: %d]\015\012\000"
 9332      7465726E 
 9332      616C2066 
 9332      6C617368 
 9332      2072655F 
 9333 011e 0000     		.align	2
 9334              	.LC104:
 9335 0120 095B6578 		.ascii	"\011[external module type %d]\015\012\000"
 9335      7465726E 
 9335      616C206D 
 9335      6F64756C 
 9335      65207479 
 9336 013d 000000   		.align	2
 9337              	.LC105:
 9338 0140 095B6578 		.ascii	"\011[external module code %04x]\015\012\000"
 9338      7465726E 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 257


 9338      616C206D 
 9338      6F64756C 
 9338      6520636F 
 9339 015f 00       		.align	2
 9340              	.LC106:
 9341 0160 095B6E6F 		.ascii	"\011[none external flash chip type matched %d]\015\012"
 9341      6E652065 
 9341      78746572 
 9341      6E616C20 
 9341      666C6173 
 9342 018d 00       		.ascii	"\000"
 9343 018e 0000     		.align	2
 9344              	.LC107:
 9345 0190 095B6465 		.ascii	"\011[dev_api pointer NULL]\015\012\000"
 9345      765F6170 
 9345      6920706F 
 9345      696E7465 
 9345      72204E55 
 9346 01aa 0000     		.align	2
 9347              	.LC108:
 9348 01ac 095B6465 		.ascii	"\011[dev_api pointer %08x]\015\012\000"
 9348      765F6170 
 9348      6920706F 
 9348      696E7465 
 9348      72202530 
 9349 01c6 0000     		.align	2
 9350              	.LC109:
 9351 01c8 095B6465 		.ascii	"\011[dev_obj poniter NULL]\015\012\000"
 9351      765F6F62 
 9351      6A20706F 
 9351      6E697465 
 9351      72204E55 
 9352 01e2 0000     		.align	2
 9353              	.LC110:
 9354 01e4 095B6465 		.ascii	"\011[dev_obj pointer %08x]\015\012\000"
 9354      765F6F62 
 9354      6A20706F 
 9354      696E7465 
 9354      72202530 
 9355 01fe 0000     		.align	2
 9356              	.LC111:
 9357 0200 095B6275 		.ascii	"\011[bus_rx     addr %08x]\015\012\000"
 9357      735F7278 
 9357      20202020 
 9357      20616464 
 9357      72202530 
 9358 021a 0000     		.align	2
 9359              	.LC112:
 9360 021c 095B6275 		.ascii	"\011[bus_tx     addr %08x]\015\012\000"
 9360      735F7478 
 9360      20202020 
 9360      20616464 
 9360      72202530 
 9361 0236 0000     		.align	2
 9362              	.LC113:
 9363 0238 095B6275 		.ascii	"\011[bus_trans  addr %08x]\015\012\000"
 9363      735F7472 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 258


 9363      616E7320 
 9363      20616464 
 9363      72202530 
 9364 0252 0000     		.align	2
 9365              	.LC114:
 9366 0254 095B6373 		.ascii	"\011[cs_ctl     addr %08x]\015\012\000"
 9366      5F63746C 
 9366      20202020 
 9366      20616464 
 9366      72202530 
 9367 026e 0000     		.align	2
 9368              	.LC115:
 9369 0270 095B7379 		.ascii	"\011[sys_tick   addr %08x]\015\012\000"
 9369      735F7469 
 9369      636B2020 
 9369      20616464 
 9369      72202530 
 9370              		.section	.text.Storage_Show_ModuleInfo,"ax",%progbits
 9371              		.align	1
 9372              		.syntax unified
 9373              		.thumb
 9374              		.thumb_func
 9376              	Storage_Show_ModuleInfo:
 9377              	.LFB189:
2461:System/storage/Storage.c **** SHELL_EXPORT_CMD(SHELL_CMD_PERMISSION(0) | SHELL_CMD_TYPE(SHELL_TYPE_CMD_FUNC) | SHELL_CMD_DISABLE_
2462:System/storage/Storage.c **** 
2463:System/storage/Storage.c **** static void Storage_Show_ModuleInfo(void)
2464:System/storage/Storage.c **** {
 9378              		.loc 1 2464 1 view -0
 9379              		.cfi_startproc
 9380              		@ args = 0, pretend = 0, frame = 0
 9381              		@ frame_needed = 0, uses_anonymous_args = 0
 9382 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 9383              	.LCFI108:
 9384              		.cfi_def_cfa_offset 24
 9385              		.cfi_offset 3, -24
 9386              		.cfi_offset 4, -20
 9387              		.cfi_offset 5, -16
 9388              		.cfi_offset 6, -12
 9389              		.cfi_offset 7, -8
 9390              		.cfi_offset 14, -4
2465:System/storage/Storage.c ****     StorageDevObj_TypeDef *p_ext_flash = NULL; 
 9391              		.loc 1 2465 5 view .LVU2796
 9392              	.LVL1023:
2466:System/storage/Storage.c ****     Shell *shell_obj = Shell_GetInstence();
 9393              		.loc 1 2466 5 view .LVU2797
 9394              		.loc 1 2466 24 is_stmt 0 view .LVU2798
 9395 0002 FFF7FEFF 		bl	Shell_GetInstence
 9396              	.LVL1024:
2467:System/storage/Storage.c ****     void *dev_api = NULL;
 9397              		.loc 1 2467 5 is_stmt 1 view .LVU2799
2468:System/storage/Storage.c ****     void *dev_obj = NULL;
 9398              		.loc 1 2468 5 view .LVU2800
2469:System/storage/Storage.c **** 
2470:System/storage/Storage.c ****     if (shell_obj == NULL)
 9399              		.loc 1 2470 5 view .LVU2801
 9400              		.loc 1 2470 8 is_stmt 0 view .LVU2802
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 259


 9401 0006 0028     		cmp	r0, #0
 9402 0008 40D0     		beq	.L664
 9403 000a 0446     		mov	r4, r0
2471:System/storage/Storage.c ****         return;
2472:System/storage/Storage.c **** 
2473:System/storage/Storage.c ****     if (Storage_Monitor.ExtDev_ptr == NULL)
 9404              		.loc 1 2473 5 is_stmt 1 view .LVU2803
 9405              		.loc 1 2473 24 is_stmt 0 view .LVU2804
 9406 000c 3C4B     		ldr	r3, .L680
 9407 000e 9A68     		ldr	r2, [r3, #8]
 9408              		.loc 1 2473 8 view .LVU2805
 9409 0010 002A     		cmp	r2, #0
 9410 0012 3CD0     		beq	.L675
2474:System/storage/Storage.c ****     {
2475:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[ExtDev pointer NULL]\r\n");
2476:System/storage/Storage.c ****         return;
2477:System/storage/Storage.c ****     }
2478:System/storage/Storage.c **** 
2479:System/storage/Storage.c ****     shellPrint(shell_obj, "\t[ExtDev pointer %08x]\r\n", Storage_Monitor.ExtDev_ptr);
 9411              		.loc 1 2479 5 is_stmt 1 view .LVU2806
 9412 0014 3B49     		ldr	r1, .L680+4
 9413 0016 FFF7FEFF 		bl	shellPrint
 9414              	.LVL1025:
2480:System/storage/Storage.c ****     p_ext_flash = Storage_Monitor.ExtDev_ptr;
 9415              		.loc 1 2480 5 view .LVU2807
 9416              		.loc 1 2480 17 is_stmt 0 view .LVU2808
 9417 001a 394B     		ldr	r3, .L680
 9418 001c 9E68     		ldr	r6, [r3, #8]
 9419              	.LVL1026:
2481:System/storage/Storage.c **** 
2482:System/storage/Storage.c ****     switch (p_ext_flash->bus_type)
 9420              		.loc 1 2482 5 is_stmt 1 view .LVU2809
 9421              		.loc 1 2482 24 is_stmt 0 view .LVU2810
 9422 001e 3278     		ldrb	r2, [r6]	@ zero_extendqisi2
 9423              		.loc 1 2482 5 view .LVU2811
 9424 0020 012A     		cmp	r2, #1
 9425 0022 38D0     		beq	.L676
2483:System/storage/Storage.c ****     {
2484:System/storage/Storage.c ****         case Storage_ChipBus_Spi:
2485:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[external flash bus type SPI]\r\n");
2486:System/storage/Storage.c ****             break;
2487:System/storage/Storage.c ****         
2488:System/storage/Storage.c ****         case Storage_ChipBus_None:
2489:System/storage/Storage.c ****         default:
2490:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[none external flash bus matched %d]\r\n", p_ext_flash->bus_ty
 9426              		.loc 1 2490 13 is_stmt 1 view .LVU2812
 9427 0024 3849     		ldr	r1, .L680+8
 9428 0026 2046     		mov	r0, r4
 9429 0028 FFF7FEFF 		bl	shellPrint
 9430              	.LVL1027:
2491:System/storage/Storage.c ****             break;
 9431              		.loc 1 2491 13 view .LVU2813
 9432              	.L668:
2492:System/storage/Storage.c ****     }
2493:System/storage/Storage.c **** 
2494:System/storage/Storage.c ****     dev_api = p_ext_flash->api;
 9433              		.loc 1 2494 5 view .LVU2814
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 260


 9434              		.loc 1 2494 13 is_stmt 0 view .LVU2815
 9435 002c 376B     		ldr	r7, [r6, #48]
 9436              	.LVL1028:
2495:System/storage/Storage.c ****     dev_obj = p_ext_flash->obj;
 9437              		.loc 1 2495 5 is_stmt 1 view .LVU2816
 9438              		.loc 1 2495 13 is_stmt 0 view .LVU2817
 9439 002e F56A     		ldr	r5, [r6, #44]
 9440              	.LVL1029:
2496:System/storage/Storage.c ****     
2497:System/storage/Storage.c ****     switch (p_ext_flash->chip_type)
 9441              		.loc 1 2497 5 is_stmt 1 view .LVU2818
 9442              		.loc 1 2497 24 is_stmt 0 view .LVU2819
 9443 0030 7278     		ldrb	r2, [r6, #1]	@ zero_extendqisi2
 9444              		.loc 1 2497 5 view .LVU2820
 9445 0032 012A     		cmp	r2, #1
 9446 0034 34D0     		beq	.L677
2498:System/storage/Storage.c ****     {
2499:System/storage/Storage.c ****         case Storage_ChipType_W25Qxx:
2500:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[external flash chip type W25Qxx]\r\n");
2501:System/storage/Storage.c **** 
2502:System/storage/Storage.c ****             /* show error code */
2503:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[external flash error code %s]\r\n", Storage_Error_Print(Stora
2504:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[external flash format count: %d]\r\n", (Format_Retry_Cnt - St
2505:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[external flash re_init count: %d]\r\n", (ExternalModule_ReIni
2506:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[external module type %d]\r\n", Storage_Monitor.module_prod_ty
2507:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[external module code %04x]\r\n", Storage_Monitor.module_prod_
2508:System/storage/Storage.c ****             break;
2509:System/storage/Storage.c **** 
2510:System/storage/Storage.c ****         case Storage_Chip_None:
2511:System/storage/Storage.c ****         default:
2512:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[none external flash chip type matched %d]\r\n", p_ext_flash->
 9447              		.loc 1 2512 13 is_stmt 1 view .LVU2821
 9448 0036 3549     		ldr	r1, .L680+12
 9449 0038 2046     		mov	r0, r4
 9450 003a FFF7FEFF 		bl	shellPrint
 9451              	.LVL1030:
2513:System/storage/Storage.c ****             break;
 9452              		.loc 1 2513 13 view .LVU2822
 9453              	.L670:
2514:System/storage/Storage.c ****     }
2515:System/storage/Storage.c **** 
2516:System/storage/Storage.c ****     if (dev_api == NULL)
 9454              		.loc 1 2516 5 view .LVU2823
 9455              		.loc 1 2516 8 is_stmt 0 view .LVU2824
 9456 003e 002F     		cmp	r7, #0
 9457 0040 54D0     		beq	.L678
2517:System/storage/Storage.c ****     {
2518:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[dev_api pointer NULL]\r\n");
2519:System/storage/Storage.c ****     }
2520:System/storage/Storage.c ****     else
2521:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[dev_api pointer %08x]\r\n", dev_api);
 9458              		.loc 1 2521 9 is_stmt 1 view .LVU2825
 9459 0042 3A46     		mov	r2, r7
 9460 0044 3249     		ldr	r1, .L680+16
 9461 0046 2046     		mov	r0, r4
 9462 0048 FFF7FEFF 		bl	shellPrint
 9463              	.LVL1031:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 261


 9464              	.L672:
2522:System/storage/Storage.c **** 
2523:System/storage/Storage.c ****     if (dev_obj == NULL)
 9465              		.loc 1 2523 5 view .LVU2826
 9466              		.loc 1 2523 8 is_stmt 0 view .LVU2827
 9467 004c 002D     		cmp	r5, #0
 9468 004e 52D0     		beq	.L679
2524:System/storage/Storage.c ****     {
2525:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[dev_obj poniter NULL]\r\n");
2526:System/storage/Storage.c ****     }
2527:System/storage/Storage.c ****     else
2528:System/storage/Storage.c ****     {
2529:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[dev_obj pointer %08x]\r\n", dev_obj);
 9469              		.loc 1 2529 9 is_stmt 1 view .LVU2828
 9470 0050 2A46     		mov	r2, r5
 9471 0052 3049     		ldr	r1, .L680+20
 9472 0054 2046     		mov	r0, r4
 9473 0056 FFF7FEFF 		bl	shellPrint
 9474              	.LVL1032:
2530:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[bus_rx     addr %08x]\r\n", To_DevW25Qxx_OBJ(dev_obj)->bus_rx);
 9475              		.loc 1 2530 9 view .LVU2829
 9476 005a AA68     		ldr	r2, [r5, #8]
 9477 005c 2E49     		ldr	r1, .L680+24
 9478 005e 2046     		mov	r0, r4
 9479 0060 FFF7FEFF 		bl	shellPrint
 9480              	.LVL1033:
2531:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[bus_tx     addr %08x]\r\n", To_DevW25Qxx_OBJ(dev_obj)->bus_tx);
 9481              		.loc 1 2531 9 view .LVU2830
 9482 0064 6A68     		ldr	r2, [r5, #4]
 9483 0066 2D49     		ldr	r1, .L680+28
 9484 0068 2046     		mov	r0, r4
 9485 006a FFF7FEFF 		bl	shellPrint
 9486              	.LVL1034:
2532:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[bus_trans  addr %08x]\r\n", To_DevW25Qxx_OBJ(dev_obj)->bus_trans)
 9487              		.loc 1 2532 9 view .LVU2831
 9488 006e EA68     		ldr	r2, [r5, #12]
 9489 0070 2B49     		ldr	r1, .L680+32
 9490 0072 2046     		mov	r0, r4
 9491 0074 FFF7FEFF 		bl	shellPrint
 9492              	.LVL1035:
2533:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[cs_ctl     addr %08x]\r\n", To_DevW25Qxx_OBJ(dev_obj)->cs_ctl);
 9493              		.loc 1 2533 9 view .LVU2832
 9494 0078 2A69     		ldr	r2, [r5, #16]
 9495 007a 2A49     		ldr	r1, .L680+36
 9496 007c 2046     		mov	r0, r4
 9497 007e FFF7FEFF 		bl	shellPrint
 9498              	.LVL1036:
2534:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[sys_tick   addr %08x]\r\n", To_DevW25Qxx_OBJ(dev_obj)->systick);
 9499              		.loc 1 2534 9 view .LVU2833
 9500 0082 AA69     		ldr	r2, [r5, #24]
 9501 0084 2849     		ldr	r1, .L680+40
 9502 0086 2046     		mov	r0, r4
 9503 0088 FFF7FEFF 		bl	shellPrint
 9504              	.LVL1037:
 9505              	.L664:
2535:System/storage/Storage.c ****     }
2536:System/storage/Storage.c **** }
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 262


 9506              		.loc 1 2536 1 is_stmt 0 view .LVU2834
 9507 008c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 9508              	.LVL1038:
 9509              	.L675:
2475:System/storage/Storage.c ****         return;
 9510              		.loc 1 2475 9 is_stmt 1 view .LVU2835
 9511 008e 2749     		ldr	r1, .L680+44
 9512 0090 FFF7FEFF 		bl	shellPrint
 9513              	.LVL1039:
2476:System/storage/Storage.c ****     }
 9514              		.loc 1 2476 9 view .LVU2836
 9515 0094 FAE7     		b	.L664
 9516              	.LVL1040:
 9517              	.L676:
2485:System/storage/Storage.c ****             break;
 9518              		.loc 1 2485 13 view .LVU2837
 9519 0096 2649     		ldr	r1, .L680+48
 9520 0098 2046     		mov	r0, r4
 9521 009a FFF7FEFF 		bl	shellPrint
 9522              	.LVL1041:
2486:System/storage/Storage.c ****         
 9523              		.loc 1 2486 13 view .LVU2838
 9524 009e C5E7     		b	.L668
 9525              	.LVL1042:
 9526              	.L677:
2500:System/storage/Storage.c **** 
 9527              		.loc 1 2500 13 view .LVU2839
 9528 00a0 2449     		ldr	r1, .L680+52
 9529 00a2 2046     		mov	r0, r4
 9530 00a4 FFF7FEFF 		bl	shellPrint
 9531              	.LVL1043:
2503:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[external flash format count: %d]\r\n", (Format_Retry_Cnt - St
 9532              		.loc 1 2503 13 view .LVU2840
2503:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[external flash format count: %d]\r\n", (Format_Retry_Cnt - St
 9533              		.loc 1 2503 110 is_stmt 0 view .LVU2841
 9534 00a8 154E     		ldr	r6, .L680
 9535              	.LVL1044:
2503:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[external flash format count: %d]\r\n", (Format_Retry_Cnt - St
 9536              		.loc 1 2503 13 view .LVU2842
 9537 00aa 7079     		ldrb	r0, [r6, #5]	@ zero_extendqisi2
 9538 00ac FFF7FEFF 		bl	Storage_Error_Print
 9539              	.LVL1045:
 9540 00b0 0246     		mov	r2, r0
 9541 00b2 2149     		ldr	r1, .L680+56
 9542 00b4 2046     		mov	r0, r4
 9543 00b6 FFF7FEFF 		bl	shellPrint
 9544              	.LVL1046:
2504:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[external flash re_init count: %d]\r\n", (ExternalModule_ReIni
 9545              		.loc 1 2504 13 is_stmt 1 view .LVU2843
2504:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[external flash re_init count: %d]\r\n", (ExternalModule_ReIni
 9546              		.loc 1 2504 113 is_stmt 0 view .LVU2844
 9547 00ba 7278     		ldrb	r2, [r6, #1]	@ zero_extendqisi2
2504:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[external flash re_init count: %d]\r\n", (ExternalModule_ReIni
 9548              		.loc 1 2504 13 view .LVU2845
 9549 00bc C2F10502 		rsb	r2, r2, #5
 9550 00c0 1E49     		ldr	r1, .L680+60
 9551 00c2 2046     		mov	r0, r4
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 263


 9552 00c4 FFF7FEFF 		bl	shellPrint
 9553              	.LVL1047:
2505:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[external module type %d]\r\n", Storage_Monitor.module_prod_ty
 9554              		.loc 1 2505 13 is_stmt 1 view .LVU2846
2505:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[external module type %d]\r\n", Storage_Monitor.module_prod_ty
 9555              		.loc 1 2505 123 is_stmt 0 view .LVU2847
 9556 00c8 B278     		ldrb	r2, [r6, #2]	@ zero_extendqisi2
2505:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[external module type %d]\r\n", Storage_Monitor.module_prod_ty
 9557              		.loc 1 2505 13 view .LVU2848
 9558 00ca C2F10502 		rsb	r2, r2, #5
 9559 00ce 1C49     		ldr	r1, .L680+64
 9560 00d0 2046     		mov	r0, r4
 9561 00d2 FFF7FEFF 		bl	shellPrint
 9562              	.LVL1048:
2506:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[external module code %04x]\r\n", Storage_Monitor.module_prod_
 9563              		.loc 1 2506 13 is_stmt 1 view .LVU2849
 9564 00d6 728A     		ldrh	r2, [r6, #18]
 9565 00d8 1A49     		ldr	r1, .L680+68
 9566 00da 2046     		mov	r0, r4
 9567 00dc FFF7FEFF 		bl	shellPrint
 9568              	.LVL1049:
2507:System/storage/Storage.c ****             break;
 9569              		.loc 1 2507 13 view .LVU2850
 9570 00e0 B28A     		ldrh	r2, [r6, #20]
 9571 00e2 1949     		ldr	r1, .L680+72
 9572 00e4 2046     		mov	r0, r4
 9573 00e6 FFF7FEFF 		bl	shellPrint
 9574              	.LVL1050:
2508:System/storage/Storage.c **** 
 9575              		.loc 1 2508 13 view .LVU2851
 9576 00ea A8E7     		b	.L670
 9577              	.L678:
2518:System/storage/Storage.c ****     }
 9578              		.loc 1 2518 9 view .LVU2852
 9579 00ec 1749     		ldr	r1, .L680+76
 9580 00ee 2046     		mov	r0, r4
 9581 00f0 FFF7FEFF 		bl	shellPrint
 9582              	.LVL1051:
 9583 00f4 AAE7     		b	.L672
 9584              	.L679:
2525:System/storage/Storage.c ****     }
 9585              		.loc 1 2525 9 view .LVU2853
 9586 00f6 1649     		ldr	r1, .L680+80
 9587 00f8 2046     		mov	r0, r4
 9588 00fa FFF7FEFF 		bl	shellPrint
 9589              	.LVL1052:
 9590 00fe C5E7     		b	.L664
 9591              	.L681:
 9592              		.align	2
 9593              	.L680:
 9594 0100 00000000 		.word	.LANCHOR0
 9595 0104 1C000000 		.word	.LC97
 9596 0108 5C000000 		.word	.LC99
 9597 010c 60010000 		.word	.LC106
 9598 0110 AC010000 		.word	.LC108
 9599 0114 E4010000 		.word	.LC110
 9600 0118 00020000 		.word	.LC111
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 264


 9601 011c 1C020000 		.word	.LC112
 9602 0120 38020000 		.word	.LC113
 9603 0124 54020000 		.word	.LC114
 9604 0128 70020000 		.word	.LC115
 9605 012c 00000000 		.word	.LC96
 9606 0130 38000000 		.word	.LC98
 9607 0134 84000000 		.word	.LC100
 9608 0138 AC000000 		.word	.LC101
 9609 013c D0000000 		.word	.LC102
 9610 0140 F8000000 		.word	.LC103
 9611 0144 20010000 		.word	.LC104
 9612 0148 40010000 		.word	.LC105
 9613 014c 90010000 		.word	.LC107
 9614 0150 C8010000 		.word	.LC109
 9615              		.cfi_endproc
 9616              	.LFE189:
 9618              		.section	.rodata.Storage_Get_Flash_Section_IOAPI.str1.4,"aMS",%progbits,1
 9619              		.align	2
 9620              	.LC116:
 9621 0000 09476574 		.ascii	"\011Get section info error\015\012\000"
 9621      20736563 
 9621      74696F6E 
 9621      20696E66 
 9621      6F206572 
 9622              		.section	.text.Storage_Get_Flash_Section_IOAPI,"ax",%progbits
 9623              		.align	1
 9624              		.syntax unified
 9625              		.thumb
 9626              		.thumb_func
 9628              	Storage_Get_Flash_Section_IOAPI:
 9629              	.LVL1053:
 9630              	.LFB183:
2266:System/storage/Storage.c ****     if (shell_obj == NULL)
 9631              		.loc 1 2266 1 view -0
 9632              		.cfi_startproc
 9633              		@ args = 0, pretend = 0, frame = 0
 9634              		@ frame_needed = 0, uses_anonymous_args = 0
2266:System/storage/Storage.c ****     if (shell_obj == NULL)
 9635              		.loc 1 2266 1 is_stmt 0 view .LVU2855
 9636 0000 70B5     		push	{r4, r5, r6, lr}
 9637              	.LCFI109:
 9638              		.cfi_def_cfa_offset 16
 9639              		.cfi_offset 4, -16
 9640              		.cfi_offset 5, -12
 9641              		.cfi_offset 6, -8
 9642              		.cfi_offset 14, -4
2267:System/storage/Storage.c ****         return false;
 9643              		.loc 1 2267 5 is_stmt 1 view .LVU2856
2267:System/storage/Storage.c ****         return false;
 9644              		.loc 1 2267 8 is_stmt 0 view .LVU2857
 9645 0002 20B3     		cbz	r0, .L686
 9646 0004 1D46     		mov	r5, r3
 9647 0006 0646     		mov	r6, r0
2270:System/storage/Storage.c ****     {
 9648              		.loc 1 2270 5 is_stmt 1 view .LVU2858
2270:System/storage/Storage.c ****     {
 9649              		.loc 1 2270 25 is_stmt 0 view .LVU2859
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 265


 9650 0008 124B     		ldr	r3, .L689
 9651              	.LVL1054:
2270:System/storage/Storage.c ****     {
 9652              		.loc 1 2270 25 view .LVU2860
 9653 000a 1C7C     		ldrb	r4, [r3, #16]	@ zero_extendqisi2
2270:System/storage/Storage.c ****     {
 9654              		.loc 1 2270 8 view .LVU2861
 9655 000c 84B1     		cbz	r4, .L688
2278:System/storage/Storage.c ****     *p_Sec = Storage_Get_SecInfo(*p_Flash, class);
 9656              		.loc 1 2278 5 is_stmt 1 view .LVU2862
2278:System/storage/Storage.c ****     *p_Sec = Storage_Get_SecInfo(*p_Flash, class);
 9657              		.loc 1 2278 14 is_stmt 0 view .LVU2863
 9658 000e 1248     		ldr	r0, .L689+4
 9659              	.LVL1055:
2278:System/storage/Storage.c ****     *p_Sec = Storage_Get_SecInfo(*p_Flash, class);
 9660              		.loc 1 2278 14 view .LVU2864
 9661 0010 1060     		str	r0, [r2]
2279:System/storage/Storage.c ****     if ((*p_Sec == NULL) || \
 9662              		.loc 1 2279 5 is_stmt 1 view .LVU2865
2279:System/storage/Storage.c ****     if ((*p_Sec == NULL) || \
 9663              		.loc 1 2279 14 is_stmt 0 view .LVU2866
 9664 0012 FFF7FEFF 		bl	Storage_Get_SecInfo
 9665              	.LVL1056:
2279:System/storage/Storage.c ****     if ((*p_Sec == NULL) || \
 9666              		.loc 1 2279 12 view .LVU2867
 9667 0016 2860     		str	r0, [r5]
2280:System/storage/Storage.c ****         ((*p_Sec)->tab_addr == 0) || \
 9668              		.loc 1 2280 5 is_stmt 1 view .LVU2868
2280:System/storage/Storage.c ****         ((*p_Sec)->tab_addr == 0) || \
 9669              		.loc 1 2280 8 is_stmt 0 view .LVU2869
 9670 0018 18B1     		cbz	r0, .L685
2281:System/storage/Storage.c ****         ((*p_Sec)->tab_size == 0))
 9671              		.loc 1 2281 18 discriminator 1 view .LVU2870
 9672 001a 0368     		ldr	r3, [r0]	@ unaligned
2280:System/storage/Storage.c ****         ((*p_Sec)->tab_addr == 0) || \
 9673              		.loc 1 2280 26 discriminator 1 view .LVU2871
 9674 001c 0BB1     		cbz	r3, .L685
2282:System/storage/Storage.c ****     {
 9675              		.loc 1 2282 18 view .LVU2872
 9676 001e 0369     		ldr	r3, [r0, #16]	@ unaligned
2281:System/storage/Storage.c ****         ((*p_Sec)->tab_size == 0))
 9677              		.loc 1 2281 35 view .LVU2873
 9678 0020 23B9     		cbnz	r3, .L683
 9679              	.L685:
2284:System/storage/Storage.c ****         return false;
 9680              		.loc 1 2284 9 is_stmt 1 view .LVU2874
 9681 0022 0E49     		ldr	r1, .L689+8
 9682 0024 3046     		mov	r0, r6
 9683 0026 FFF7FEFF 		bl	shellPrint
 9684              	.LVL1057:
2285:System/storage/Storage.c ****     }
 9685              		.loc 1 2285 9 view .LVU2875
2285:System/storage/Storage.c ****     }
 9686              		.loc 1 2285 16 is_stmt 0 view .LVU2876
 9687 002a 0024     		movs	r4, #0
 9688              	.LVL1058:
 9689              	.L683:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 266


2289:System/storage/Storage.c **** 
 9690              		.loc 1 2289 1 view .LVU2877
 9691 002c 2046     		mov	r0, r4
 9692 002e 70BD     		pop	{r4, r5, r6, pc}
 9693              	.LVL1059:
 9694              	.L688:
2272:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[Format cnt   : %d]\r\n", Storage_Monitor.ExternalFlash_Format_cnt
 9695              		.loc 1 2272 9 is_stmt 1 view .LVU2878
 9696 0030 0B49     		ldr	r1, .L689+12
 9697              	.LVL1060:
2272:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[Format cnt   : %d]\r\n", Storage_Monitor.ExternalFlash_Format_cnt
 9698              		.loc 1 2272 9 is_stmt 0 view .LVU2879
 9699 0032 FFF7FEFF 		bl	shellPrint
 9700              	.LVL1061:
2273:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[Buid Tab cnt : %d]\r\n", Storage_Monitor.ExternalFlash_BuildTab_c
 9701              		.loc 1 2273 9 is_stmt 1 view .LVU2880
2273:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[Buid Tab cnt : %d]\r\n", Storage_Monitor.ExternalFlash_BuildTab_c
 9702              		.loc 1 2273 75 is_stmt 0 view .LVU2881
 9703 0036 074D     		ldr	r5, .L689
 9704              	.LVL1062:
2273:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[Buid Tab cnt : %d]\r\n", Storage_Monitor.ExternalFlash_BuildTab_c
 9705              		.loc 1 2273 9 view .LVU2882
 9706 0038 6A78     		ldrb	r2, [r5, #1]	@ zero_extendqisi2
 9707 003a 0A49     		ldr	r1, .L689+16
 9708 003c 3046     		mov	r0, r6
 9709 003e FFF7FEFF 		bl	shellPrint
 9710              	.LVL1063:
2274:System/storage/Storage.c ****         return false;
 9711              		.loc 1 2274 9 is_stmt 1 view .LVU2883
 9712 0042 2A79     		ldrb	r2, [r5, #4]	@ zero_extendqisi2
 9713 0044 0849     		ldr	r1, .L689+20
 9714 0046 3046     		mov	r0, r6
 9715 0048 FFF7FEFF 		bl	shellPrint
 9716              	.LVL1064:
2275:System/storage/Storage.c ****     }
 9717              		.loc 1 2275 9 view .LVU2884
2275:System/storage/Storage.c ****     }
 9718              		.loc 1 2275 16 is_stmt 0 view .LVU2885
 9719 004c EEE7     		b	.L683
 9720              	.LVL1065:
 9721              	.L686:
2268:System/storage/Storage.c **** 
 9722              		.loc 1 2268 16 view .LVU2886
 9723 004e 0024     		movs	r4, #0
 9724 0050 ECE7     		b	.L683
 9725              	.L690:
 9726 0052 00BF     		.align	2
 9727              	.L689:
 9728 0054 00000000 		.word	.LANCHOR0
 9729 0058 16000000 		.word	.LANCHOR0+22
 9730 005c 00000000 		.word	.LC116
 9731 0060 48000000 		.word	.LC74
 9732 0064 68000000 		.word	.LC75
 9733 0068 80000000 		.word	.LC76
 9734              		.cfi_endproc
 9735              	.LFE183:
 9737              		.section	.rodata.Storage_Show_FreeSlot.str1.4,"aMS",%progbits,1
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 267


 9738              		.align	2
 9739              	.LC117:
 9740 0000 5B53746F 		.ascii	"[Storage Shell]Show Freeslot\015\012\000"
 9740      72616765 
 9740      20536865 
 9740      6C6C5D53 
 9740      686F7720 
 9741 001f 00       		.align	2
 9742              	.LC118:
 9743 0020 095B466C 		.ascii	"\011[Flash Section IO_API Get Error]\015\012\000"
 9743      61736820 
 9743      53656374 
 9743      696F6E20 
 9743      494F5F41 
 9744              		.align	2
 9745              	.LC119:
 9746 0044 095B4672 		.ascii	"\011[FreeSlot Address : %d]\015\012\000"
 9746      6565536C 
 9746      6F742041 
 9746      64647265 
 9746      7373203A 
 9747 005f 00       		.align	2
 9748              	.LC120:
 9749 0060 095B4672 		.ascii	"\011[FreeSlot End]\015\012\000"
 9749      6565536C 
 9749      6F742045 
 9749      6E645D0D 
 9749      0A00
 9750 0072 0000     		.align	2
 9751              	.LC121:
 9752 0074 095B4672 		.ascii	"\011[FreeSlot data read error]\015\012\000"
 9752      6565536C 
 9752      6F742064 
 9752      61746120 
 9752      72656164 
 9753 0092 0000     		.align	2
 9754              	.LC122:
 9755 0094 095B4672 		.ascii	"\011[FreeSlot address      : %d]\015\012\000"
 9755      6565536C 
 9755      6F742061 
 9755      64647265 
 9755      73732020 
 9756              		.align	2
 9757              	.LC123:
 9758 00b4 095B4E65 		.ascii	"\011[Next FreeSlot address : %d]\015\012\000"
 9758      78742046 
 9758      72656553 
 9758      6C6F7420 
 9758      61646472 
 9759              		.align	2
 9760              	.LC124:
 9761 00d4 095B4672 		.ascii	"\011[FreeSlot current size : %d]\015\012\000"
 9761      6565536C 
 9761      6F742063 
 9761      75727265 
 9761      6E742073 
 9762              		.align	2
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 268


 9763              	.LC125:
 9764 00f4 095B4672 		.ascii	"\011[FreeSlot frame error]\015\012\000"
 9764      6565536C 
 9764      6F742066 
 9764      72616D65 
 9764      20657272 
 9765              		.section	.text.Storage_Show_FreeSlot,"ax",%progbits
 9766              		.align	1
 9767              		.syntax unified
 9768              		.thumb
 9769              		.thumb_func
 9771              	Storage_Show_FreeSlot:
 9772              	.LVL1066:
 9773              	.LFB190:
2537:System/storage/Storage.c **** SHELL_EXPORT_CMD(SHELL_CMD_PERMISSION(0) | SHELL_CMD_TYPE(SHELL_TYPE_CMD_FUNC) | SHELL_CMD_DISABLE_
2538:System/storage/Storage.c **** 
2539:System/storage/Storage.c **** static void Storage_Show_FreeSlot(Storage_MediumType_List medium, Storage_ParaClassType_List class)
2540:System/storage/Storage.c **** {
 9774              		.loc 1 2540 1 is_stmt 1 view -0
 9775              		.cfi_startproc
 9776              		@ args = 0, pretend = 0, frame = 8
 9777              		@ frame_needed = 0, uses_anonymous_args = 0
 9778              		.loc 1 2540 1 is_stmt 0 view .LVU2888
 9779 0000 70B5     		push	{r4, r5, r6, lr}
 9780              	.LCFI110:
 9781              		.cfi_def_cfa_offset 16
 9782              		.cfi_offset 4, -16
 9783              		.cfi_offset 5, -12
 9784              		.cfi_offset 6, -8
 9785              		.cfi_offset 14, -4
 9786 0002 82B0     		sub	sp, sp, #8
 9787              	.LCFI111:
 9788              		.cfi_def_cfa_offset 24
 9789 0004 0D46     		mov	r5, r1
2541:System/storage/Storage.c ****     Storage_FlashInfo_TypeDef *p_Flash = NULL;
 9790              		.loc 1 2541 5 is_stmt 1 view .LVU2889
 9791              		.loc 1 2541 32 is_stmt 0 view .LVU2890
 9792 0006 0023     		movs	r3, #0
 9793 0008 0193     		str	r3, [sp, #4]
2542:System/storage/Storage.c ****     Storage_BaseSecInfo_TypeDef *p_Sec = NULL;
 9794              		.loc 1 2542 5 is_stmt 1 view .LVU2891
 9795              		.loc 1 2542 34 is_stmt 0 view .LVU2892
 9796 000a 0093     		str	r3, [sp]
2543:System/storage/Storage.c ****     Storage_FreeSlot_TypeDef *p_FreeSlot = NULL;
 9797              		.loc 1 2543 5 is_stmt 1 view .LVU2893
 9798              	.LVL1067:
2544:System/storage/Storage.c ****     uint32_t FreeSlot_addr = 0;
 9799              		.loc 1 2544 5 view .LVU2894
2545:System/storage/Storage.c ****     Shell *shell_obj = Shell_GetInstence();
 9800              		.loc 1 2545 5 view .LVU2895
 9801              		.loc 1 2545 24 is_stmt 0 view .LVU2896
 9802 000c FFF7FEFF 		bl	Shell_GetInstence
 9803              	.LVL1068:
2546:System/storage/Storage.c **** 
2547:System/storage/Storage.c ****     if (shell_obj == NULL)
 9804              		.loc 1 2547 5 is_stmt 1 view .LVU2897
 9805              		.loc 1 2547 8 is_stmt 0 view .LVU2898
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 269


 9806 0010 0028     		cmp	r0, #0
 9807 0012 5CD0     		beq	.L691
 9808 0014 0446     		mov	r4, r0
2548:System/storage/Storage.c ****         return;
2549:System/storage/Storage.c **** 
2550:System/storage/Storage.c ****     shellPrint(shell_obj, "[Storage Shell]Show Freeslot\r\n");
 9809              		.loc 1 2550 5 is_stmt 1 view .LVU2899
 9810 0016 2F49     		ldr	r1, .L704
 9811 0018 FFF7FEFF 		bl	shellPrint
 9812              	.LVL1069:
2551:System/storage/Storage.c ****     if (!Storage_Monitor.init_state)
 9813              		.loc 1 2551 5 view .LVU2900
 9814              		.loc 1 2551 25 is_stmt 0 view .LVU2901
 9815 001c 2E4B     		ldr	r3, .L704+4
 9816 001e 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 9817              		.loc 1 2551 8 view .LVU2902
 9818 0020 002B     		cmp	r3, #0
 9819 0022 3CD0     		beq	.L700
 9820              	.L693:
2552:System/storage/Storage.c ****     {
2553:System/storage/Storage.c ****         shellPrint(shell_obj, "\thalt by init state\r\n");
2554:System/storage/Storage.c ****     }
2555:System/storage/Storage.c **** 
2556:System/storage/Storage.c ****     if (!Storage_Get_Flash_Section_IOAPI(shell_obj, class, &p_Flash, &p_Sec))
 9821              		.loc 1 2556 5 is_stmt 1 view .LVU2903
 9822              		.loc 1 2556 10 is_stmt 0 view .LVU2904
 9823 0024 6B46     		mov	r3, sp
 9824 0026 01AA     		add	r2, sp, #4
 9825 0028 2946     		mov	r1, r5
 9826 002a 2046     		mov	r0, r4
 9827 002c FFF7FEFF 		bl	Storage_Get_Flash_Section_IOAPI
 9828              	.LVL1070:
 9829              		.loc 1 2556 8 view .LVU2905
 9830 0030 0028     		cmp	r0, #0
 9831 0032 39D0     		beq	.L701
2557:System/storage/Storage.c ****     {
2558:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[Flash Section IO_API Get Error]\r\n");
2559:System/storage/Storage.c ****         return;
2560:System/storage/Storage.c ****     }
2561:System/storage/Storage.c **** 
2562:System/storage/Storage.c ****     FreeSlot_addr = p_Sec->free_slot_addr;
 9832              		.loc 1 2562 5 is_stmt 1 view .LVU2906
 9833              		.loc 1 2562 26 is_stmt 0 view .LVU2907
 9834 0034 009B     		ldr	r3, [sp]
 9835              		.loc 1 2562 19 view .LVU2908
 9836 0036 5D69     		ldr	r5, [r3, #20]	@ unaligned
 9837              	.LVL1071:
 9838              	.L698:
2563:System/storage/Storage.c ****     while(true)
 9839              		.loc 1 2563 5 is_stmt 1 view .LVU2909
2564:System/storage/Storage.c ****     {
2565:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[FreeSlot Address : %d]\r\n", FreeSlot_addr);
 9840              		.loc 1 2565 9 view .LVU2910
 9841 0038 2A46     		mov	r2, r5
 9842 003a 2849     		ldr	r1, .L704+8
 9843 003c 2046     		mov	r0, r4
 9844 003e FFF7FEFF 		bl	shellPrint
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 270


 9845              	.LVL1072:
2566:System/storage/Storage.c ****         if (FreeSlot_addr == 0)
 9846              		.loc 1 2566 9 view .LVU2911
 9847              		.loc 1 2566 12 is_stmt 0 view .LVU2912
 9848 0042 002D     		cmp	r5, #0
 9849 0044 35D0     		beq	.L702
2567:System/storage/Storage.c ****         {
2568:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[FreeSlot End]\r\n");
2569:System/storage/Storage.c ****             return;
2570:System/storage/Storage.c ****         }
2571:System/storage/Storage.c **** 
2572:System/storage/Storage.c ****         /* get free slot info */
2573:System/storage/Storage.c ****         if (!Storage_ExtFlash_ParaSec_Read(FreeSlot_addr, page_data_tmp, sizeof(Storage_FreeSlot_Ty
 9850              		.loc 1 2573 9 is_stmt 1 view .LVU2913
 9851              		.loc 1 2573 14 is_stmt 0 view .LVU2914
 9852 0046 1022     		movs	r2, #16
 9853 0048 2549     		ldr	r1, .L704+12
 9854 004a 2846     		mov	r0, r5
 9855 004c FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Read
 9856              	.LVL1073:
 9857              		.loc 1 2573 12 view .LVU2915
 9858 0050 0028     		cmp	r0, #0
 9859 0052 33D0     		beq	.L703
2574:System/storage/Storage.c ****         {
2575:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[FreeSlot data read error]\r\n");
2576:System/storage/Storage.c ****             return;
2577:System/storage/Storage.c ****         }
2578:System/storage/Storage.c **** 
2579:System/storage/Storage.c ****         p_FreeSlot = (Storage_FreeSlot_TypeDef *)page_data_tmp;
 9860              		.loc 1 2579 9 is_stmt 1 view .LVU2916
 9861              	.LVL1074:
2580:System/storage/Storage.c ****         
2581:System/storage/Storage.c ****         if ((p_FreeSlot->head_tag == STORAGE_SLOT_HEAD_TAG) && \
 9862              		.loc 1 2581 9 view .LVU2917
 9863              		.loc 1 2581 24 is_stmt 0 view .LVU2918
 9864 0054 224B     		ldr	r3, .L704+12
 9865 0056 1A68     		ldr	r2, [r3]
 9866              		.loc 1 2581 12 view .LVU2919
 9867 0058 224B     		ldr	r3, .L704+16
 9868 005a 9A42     		cmp	r2, r3
 9869 005c 33D1     		bne	.L697
2582:System/storage/Storage.c ****             (p_FreeSlot->end_tag == STORAGE_SLOT_END_TAG))
 9870              		.loc 1 2582 24 discriminator 1 view .LVU2920
 9871 005e 204B     		ldr	r3, .L704+12
 9872 0060 DA68     		ldr	r2, [r3, #12]
2581:System/storage/Storage.c ****             (p_FreeSlot->end_tag == STORAGE_SLOT_END_TAG))
 9873              		.loc 1 2581 61 discriminator 1 view .LVU2921
 9874 0062 214B     		ldr	r3, .L704+20
 9875 0064 9A42     		cmp	r2, r3
 9876 0066 2ED1     		bne	.L697
2583:System/storage/Storage.c ****         {
2584:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[FreeSlot address      : %d]\r\n", FreeSlot_addr);
 9877              		.loc 1 2584 13 is_stmt 1 view .LVU2922
 9878 0068 2A46     		mov	r2, r5
 9879 006a 2049     		ldr	r1, .L704+24
 9880 006c 2046     		mov	r0, r4
 9881 006e FFF7FEFF 		bl	shellPrint
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 271


 9882              	.LVL1075:
2585:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[Next FreeSlot address : %d]\r\n", p_FreeSlot->nxt_addr);
 9883              		.loc 1 2585 13 view .LVU2923
 9884 0072 1B4D     		ldr	r5, .L704+12
 9885              	.LVL1076:
 9886              		.loc 1 2585 13 is_stmt 0 view .LVU2924
 9887 0074 AA68     		ldr	r2, [r5, #8]
 9888 0076 1E49     		ldr	r1, .L704+28
 9889 0078 2046     		mov	r0, r4
 9890 007a FFF7FEFF 		bl	shellPrint
 9891              	.LVL1077:
2586:System/storage/Storage.c ****             shellPrint(shell_obj, "\r\n");
 9892              		.loc 1 2586 13 is_stmt 1 view .LVU2925
 9893 007e 1D4E     		ldr	r6, .L704+32
 9894 0080 3146     		mov	r1, r6
 9895 0082 2046     		mov	r0, r4
 9896 0084 FFF7FEFF 		bl	shellPrint
 9897              	.LVL1078:
2587:System/storage/Storage.c **** 
2588:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[FreeSlot current size : %d]\r\n", p_FreeSlot->cur_slot_size);
 9898              		.loc 1 2588 13 view .LVU2926
 9899 0088 6A68     		ldr	r2, [r5, #4]
 9900 008a 1B49     		ldr	r1, .L704+36
 9901 008c 2046     		mov	r0, r4
 9902 008e FFF7FEFF 		bl	shellPrint
 9903              	.LVL1079:
2589:System/storage/Storage.c ****             shellPrint(shell_obj, "\r\n");
 9904              		.loc 1 2589 13 view .LVU2927
 9905 0092 3146     		mov	r1, r6
 9906 0094 2046     		mov	r0, r4
 9907 0096 FFF7FEFF 		bl	shellPrint
 9908              	.LVL1080:
2590:System/storage/Storage.c **** 
2591:System/storage/Storage.c ****             FreeSlot_addr = p_FreeSlot->nxt_addr;
 9909              		.loc 1 2591 13 view .LVU2928
 9910              		.loc 1 2591 27 is_stmt 0 view .LVU2929
 9911 009a AD68     		ldr	r5, [r5, #8]
 9912              	.LVL1081:
2563:System/storage/Storage.c ****     {
 9913              		.loc 1 2563 10 is_stmt 1 view .LVU2930
2565:System/storage/Storage.c ****         if (FreeSlot_addr == 0)
 9914              		.loc 1 2565 9 is_stmt 0 view .LVU2931
 9915 009c CCE7     		b	.L698
 9916              	.LVL1082:
 9917              	.L700:
2553:System/storage/Storage.c ****     }
 9918              		.loc 1 2553 9 is_stmt 1 view .LVU2932
 9919 009e 1749     		ldr	r1, .L704+40
 9920 00a0 2046     		mov	r0, r4
 9921 00a2 FFF7FEFF 		bl	shellPrint
 9922              	.LVL1083:
 9923 00a6 BDE7     		b	.L693
 9924              	.L701:
2558:System/storage/Storage.c ****         return;
 9925              		.loc 1 2558 9 view .LVU2933
 9926 00a8 1549     		ldr	r1, .L704+44
 9927 00aa 2046     		mov	r0, r4
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 272


 9928 00ac FFF7FEFF 		bl	shellPrint
 9929              	.LVL1084:
2559:System/storage/Storage.c ****     }
 9930              		.loc 1 2559 9 view .LVU2934
 9931 00b0 0DE0     		b	.L691
 9932              	.LVL1085:
 9933              	.L702:
2568:System/storage/Storage.c ****             return;
 9934              		.loc 1 2568 13 view .LVU2935
 9935 00b2 1449     		ldr	r1, .L704+48
 9936 00b4 2046     		mov	r0, r4
 9937 00b6 FFF7FEFF 		bl	shellPrint
 9938              	.LVL1086:
2569:System/storage/Storage.c ****         }
 9939              		.loc 1 2569 13 view .LVU2936
 9940 00ba 08E0     		b	.L691
 9941              	.L703:
2575:System/storage/Storage.c ****             return;
 9942              		.loc 1 2575 13 view .LVU2937
 9943 00bc 1249     		ldr	r1, .L704+52
 9944 00be 2046     		mov	r0, r4
 9945 00c0 FFF7FEFF 		bl	shellPrint
 9946              	.LVL1087:
2576:System/storage/Storage.c ****         }
 9947              		.loc 1 2576 13 view .LVU2938
 9948 00c4 03E0     		b	.L691
 9949              	.LVL1088:
 9950              	.L697:
2592:System/storage/Storage.c ****         }
2593:System/storage/Storage.c ****         else
2594:System/storage/Storage.c ****         {
2595:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[FreeSlot frame error]\r\n");
 9951              		.loc 1 2595 13 view .LVU2939
 9952 00c6 1149     		ldr	r1, .L704+56
 9953 00c8 2046     		mov	r0, r4
 9954 00ca FFF7FEFF 		bl	shellPrint
 9955              	.LVL1089:
2596:System/storage/Storage.c ****             return;
 9956              		.loc 1 2596 13 view .LVU2940
 9957              	.L691:
2597:System/storage/Storage.c ****         }
2598:System/storage/Storage.c ****     }
2599:System/storage/Storage.c **** }
 9958              		.loc 1 2599 1 is_stmt 0 view .LVU2941
 9959 00ce 02B0     		add	sp, sp, #8
 9960              	.LCFI112:
 9961              		.cfi_def_cfa_offset 16
 9962              		@ sp needed
 9963 00d0 70BD     		pop	{r4, r5, r6, pc}
 9964              	.L705:
 9965 00d2 00BF     		.align	2
 9966              	.L704:
 9967 00d4 00000000 		.word	.LC117
 9968 00d8 00000000 		.word	.LANCHOR0
 9969 00dc 44000000 		.word	.LC119
 9970 00e0 00000000 		.word	page_data_tmp
 9971 00e4 EF1001EF 		.word	-285142801
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 273


 9972 00e8 FE0110FE 		.word	-32505346
 9973 00ec 94000000 		.word	.LC122
 9974 00f0 B4000000 		.word	.LC123
 9975 00f4 58000000 		.word	.LC67
 9976 00f8 D4000000 		.word	.LC124
 9977 00fc 20000000 		.word	.LC55
 9978 0100 20000000 		.word	.LC118
 9979 0104 60000000 		.word	.LC120
 9980 0108 74000000 		.word	.LC121
 9981 010c F4000000 		.word	.LC125
 9982              		.cfi_endproc
 9983              	.LFE190:
 9985              		.section	.rodata.Storage_SearchData.str1.4,"aMS",%progbits,1
 9986              		.align	2
 9987              	.LC126:
 9988 0000 095B7461 		.ascii	"\011[tab item %s matched]\015\012\000"
 9988      62206974 
 9988      656D2025 
 9988      73206D61 
 9988      74636865 
 9989 0019 000000   		.align	2
 9990              	.LC127:
 9991 001c 095B6461 		.ascii	"\011[data size : %d]\015\012\000"
 9991      74612073 
 9991      697A6520 
 9991      3A202564 
 9991      5D0D0A00 
 9992              		.align	2
 9993              	.LC128:
 9994 0030 095B6461 		.ascii	"\011[data name : %s]\015\012\000"
 9994      7461206E 
 9994      616D6520 
 9994      3A202573 
 9994      5D0D0A00 
 9995              		.align	2
 9996              	.LC129:
 9997 0044 090D0A00 		.ascii	"\011\015\012\000"
 9998              		.align	2
 9999              	.LC130:
 10000 0048 095B5265 		.ascii	"\011[Read %s Data failed]\015\012\000"
 10000      61642025 
 10000      73204461 
 10000      74612066 
 10000      61696C65 
 10001 0061 000000   		.align	2
 10002              	.LC131:
 10003 0064 095B4461 		.ascii	"\011[Data %s header tag error]\015\012\000"
 10003      74612025 
 10003      73206865 
 10003      61646572 
 10003      20746167 
 10004 0082 0000     		.align	2
 10005              	.LC132:
 10006 0084 095B536C 		.ascii	"\011[Slot name : %s]\015\012\000"
 10006      6F74206E 
 10006      616D6520 
 10006      3A202573 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 274


 10006      5D0D0A00 
 10007              		.align	2
 10008              	.LC133:
 10009 0098 095B746F 		.ascii	"\011[total data size: %d]\015\012\000"
 10009      74616C20 
 10009      64617461 
 10009      2073697A 
 10009      653A2025 
 10010 00b1 000000   		.align	2
 10011              	.LC134:
 10012 00b4 095B546F 		.ascii	"\011[Total data size error]\015\012\000"
 10012      74616C20 
 10012      64617461 
 10012      2073697A 
 10012      65206572 
 10013 00cf 00       		.align	2
 10014              	.LC135:
 10015 00d0 095B6375 		.ascii	"\011[current slot size: %d]\015\012\000"
 10015      7272656E 
 10015      7420736C 
 10015      6F742073 
 10015      697A653A 
 10016 00eb 00       		.align	2
 10017              	.LC136:
 10018 00ec 095B4375 		.ascii	"\011[Current slot data size error]\015\012\000"
 10018      7272656E 
 10018      7420736C 
 10018      6F742064 
 10018      61746120 
 10019 010e 0000     		.align	2
 10020              	.LC137:
 10021 0110 095B6E65 		.ascii	"\011[next segment data slot address: %d]\015\012\000"
 10021      78742073 
 10021      65676D65 
 10021      6E742064 
 10021      61746120 
 10022              		.align	2
 10023              	.LC138:
 10024 0138 095B616C 		.ascii	"\011[align size : %d]\015\012\000"
 10024      69676E20 
 10024      73697A65 
 10024      203A2025 
 10024      645D0D0A 
 10025 014d 000000   		.align	2
 10026              	.LC139:
 10027 0150 095B6375 		.ascii	"\011[current slot data size %d]\015\012\000"
 10027      7272656E 
 10027      7420736C 
 10027      6F742064 
 10027      61746120 
 10028 016f 00       		.align	2
 10029              	.LC140:
 10030 0170 095B636F 		.ascii	"\011[comput crc %04x slot crc %04x]\015\012\000"
 10030      6D707574 
 10030      20637263 
 10030      20253034 
 10030      7820736C 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 275


 10031 0193 00       		.align	2
 10032              	.LC141:
 10033 0194 095B536C 		.ascii	"\011[Slot crc error]\015\012\000"
 10033      6F742063 
 10033      72632065 
 10033      72726F72 
 10033      5D0D0A00 
 10034              		.align	2
 10035              	.LC142:
 10036 01a8 095B4461 		.ascii	"\011[Data %s ender tag error]\015\012\000"
 10036      74612025 
 10036      7320656E 
 10036      64657220 
 10036      74616720 
 10037 01c5 000000   		.align	2
 10038              	.LC143:
 10039 01c8 095B00   		.ascii	"\011[\000"
 10040 01cb 00       		.align	2
 10041              	.LC144:
 10042 01cc 20253032 		.ascii	" %02x \000"
 10042      782000
 10043 01d3 00       		.align	2
 10044              	.LC145:
 10045 01d4 5D0D0A00 		.ascii	"]\015\012\000"
 10046              		.align	2
 10047              	.LC146:
 10048 01d8 095B2000 		.ascii	"\011[ \000"
 10049              		.align	2
 10050              	.LC147:
 10051 01dc 256300   		.ascii	"%c\000"
 10052 01df 00       		.align	2
 10053              	.LC148:
 10054 01e0 205D0D0A 		.ascii	" ]\015\012\000"
 10054      00
 10055 01e5 000000   		.align	2
 10056              	.LC149:
 10057 01e8 095B202D 		.ascii	"\011[ ----- END ----- ]\015\012\000"
 10057      2D2D2D2D 
 10057      20454E44 
 10057      202D2D2D 
 10057      2D2D205D 
 10058 01ff 00       		.align	2
 10059              	.LC150:
 10060 0200 095B2041 		.ascii	"\011[ All data dumped but still linked to another s"
 10060      6C6C2064 
 10060      61746120 
 10060      64756D70 
 10060      65642062 
 10061 0230 6C6F7420 		.ascii	"lot ]\015\012\000"
 10061      5D0D0A00 
 10062              		.align	2
 10063              	.LC151:
 10064 0238 095B5374 		.ascii	"\011[Storage no %s found in type %d class %d]\015\012"
 10064      6F726167 
 10064      65206E6F 
 10064      20257320 
 10064      666F756E 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 276


 10065 0264 00       		.ascii	"\000"
 10066              		.section	.text.Storage_SearchData,"ax",%progbits
 10067              		.align	1
 10068              		.syntax unified
 10069              		.thumb
 10070              		.thumb_func
 10072              	Storage_SearchData:
 10073              	.LVL1090:
 10074              	.LFB191:
2600:System/storage/Storage.c **** SHELL_EXPORT_CMD(SHELL_CMD_PERMISSION(0) | SHELL_CMD_TYPE(SHELL_TYPE_CMD_FUNC) | SHELL_CMD_DISABLE_
2601:System/storage/Storage.c **** 
2602:System/storage/Storage.c **** static void Storage_SearchData(Storage_MediumType_List medium, Storage_ParaClassType_List class, ui
2603:System/storage/Storage.c **** {
 10075              		.loc 1 2603 1 is_stmt 1 view -0
 10076              		.cfi_startproc
 10077              		@ args = 0, pretend = 0, frame = 216
 10078              		@ frame_needed = 0, uses_anonymous_args = 0
 10079              		.loc 1 2603 1 is_stmt 0 view .LVU2943
 10080 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 10081              	.LCFI113:
 10082              		.cfi_def_cfa_offset 28
 10083              		.cfi_offset 4, -28
 10084              		.cfi_offset 5, -24
 10085              		.cfi_offset 6, -20
 10086              		.cfi_offset 7, -16
 10087              		.cfi_offset 8, -12
 10088              		.cfi_offset 9, -8
 10089              		.cfi_offset 14, -4
 10090 0004 B9B0     		sub	sp, sp, #228
 10091              	.LCFI114:
 10092              		.cfi_def_cfa_offset 256
 10093 0006 8046     		mov	r8, r0
 10094 0008 0F46     		mov	r7, r1
 10095 000a 1646     		mov	r6, r2
2604:System/storage/Storage.c ****     Storage_FlashInfo_TypeDef *p_Flash = NULL;
 10096              		.loc 1 2604 5 is_stmt 1 view .LVU2944
 10097              		.loc 1 2604 32 is_stmt 0 view .LVU2945
 10098 000c 0024     		movs	r4, #0
 10099 000e 3794     		str	r4, [sp, #220]
2605:System/storage/Storage.c ****     Storage_BaseSecInfo_TypeDef *p_Sec = NULL;
 10100              		.loc 1 2605 5 is_stmt 1 view .LVU2946
 10101              		.loc 1 2605 34 is_stmt 0 view .LVU2947
 10102 0010 3694     		str	r4, [sp, #216]
2606:System/storage/Storage.c ****     Storage_DataSlot_TypeDef DataSlot;
 10103              		.loc 1 2606 5 is_stmt 1 view .LVU2948
2607:System/storage/Storage.c ****     Storage_ItemSearchOut_TypeDef ItemSearch;
 10104              		.loc 1 2607 5 view .LVU2949
2608:System/storage/Storage.c ****     uint8_t *crc_buf = NULL;
 10105              		.loc 1 2608 5 view .LVU2950
 10106              	.LVL1091:
2609:System/storage/Storage.c ****     uint16_t crc = 0;
 10107              		.loc 1 2609 5 view .LVU2951
2610:System/storage/Storage.c ****     uint16_t crc_len = 0;
 10108              		.loc 1 2610 5 view .LVU2952
2611:System/storage/Storage.c ****     uint16_t data_len = 0;
 10109              		.loc 1 2611 5 view .LVU2953
2612:System/storage/Storage.c ****     uint32_t data_addr = 0;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 277


 10110              		.loc 1 2612 5 view .LVU2954
2613:System/storage/Storage.c ****     Shell *shell_obj = Shell_GetInstence();
 10111              		.loc 1 2613 5 view .LVU2955
 10112              		.loc 1 2613 24 is_stmt 0 view .LVU2956
 10113 0012 FFF7FEFF 		bl	Shell_GetInstence
 10114              	.LVL1092:
 10115              		.loc 1 2613 24 view .LVU2957
 10116 0016 0546     		mov	r5, r0
 10117              	.LVL1093:
2614:System/storage/Storage.c ****     uint8_t *p_read_out = NULL;
 10118              		.loc 1 2614 5 is_stmt 1 view .LVU2958
2615:System/storage/Storage.c ****     uint16_t i = 0;
 10119              		.loc 1 2615 5 view .LVU2959
2616:System/storage/Storage.c **** 
2617:System/storage/Storage.c ****     memset(&ItemSearch, 0, sizeof(ItemSearch));
 10120              		.loc 1 2617 5 view .LVU2960
 10121 0018 4522     		movs	r2, #69
 10122 001a 2146     		mov	r1, r4
 10123 001c 14A8     		add	r0, sp, #80
 10124              	.LVL1094:
 10125              		.loc 1 2617 5 is_stmt 0 view .LVU2961
 10126 001e FFF7FEFF 		bl	memset
 10127              	.LVL1095:
2618:System/storage/Storage.c ****     memset(&DataSlot, 0, sizeof(DataSlot));
 10128              		.loc 1 2618 5 is_stmt 1 view .LVU2962
 10129 0022 4022     		movs	r2, #64
 10130 0024 2146     		mov	r1, r4
 10131 0026 26A8     		add	r0, sp, #152
 10132 0028 FFF7FEFF 		bl	memset
 10133              	.LVL1096:
2619:System/storage/Storage.c **** 
2620:System/storage/Storage.c ****     if ((shell_obj == NULL) || \
 10134              		.loc 1 2620 5 view .LVU2963
 10135              		.loc 1 2620 8 is_stmt 0 view .LVU2964
 10136 002c 15B1     		cbz	r5, .L706
 10137              		.loc 1 2620 29 discriminator 1 view .LVU2965
 10138 002e 0EB1     		cbz	r6, .L706
2621:System/storage/Storage.c ****         (name == NULL) || \
2622:System/storage/Storage.c ****         (strlen((char *)name) == 0))
 10139              		.loc 1 2622 31 view .LVU2966
 10140 0030 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
2621:System/storage/Storage.c ****         (name == NULL) || \
 10141              		.loc 1 2621 24 view .LVU2967
 10142 0032 13B9     		cbnz	r3, .L730
 10143              	.LVL1097:
 10144              	.L706:
2623:System/storage/Storage.c ****         return;
2624:System/storage/Storage.c ****     
2625:System/storage/Storage.c ****     if (!Storage_Get_Flash_Section_IOAPI(shell_obj, class, &p_Flash, &p_Sec))
2626:System/storage/Storage.c ****     {
2627:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[Flash Section IO_API Get Error]\r\n");
2628:System/storage/Storage.c ****         return;
2629:System/storage/Storage.c ****     }
2630:System/storage/Storage.c **** 
2631:System/storage/Storage.c ****     ItemSearch = Storage_Search(class, (const char *)name);
2632:System/storage/Storage.c ****     if (ItemSearch.item.data_addr)
2633:System/storage/Storage.c ****     {
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 278


2634:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[tab item %s matched]\r\n", name);
2635:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[data size : %d]\r\n", ItemSearch.item.len);
2636:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[data name : %s]\r\n", ItemSearch.item.name);
2637:System/storage/Storage.c ****         shellPrint(shell_obj, "\t\r\n");
2638:System/storage/Storage.c **** 
2639:System/storage/Storage.c ****         data_len = ItemSearch.item.len;
2640:System/storage/Storage.c ****         data_addr = ItemSearch.item.data_addr;
2641:System/storage/Storage.c **** 
2642:System/storage/Storage.c ****         while(data_len)
2643:System/storage/Storage.c ****         {
2644:System/storage/Storage.c ****             if (!Storage_ExtFlash_ParaSec_Read(data_addr, page_data_tmp, data_len + sizeof(Storage_
2645:System/storage/Storage.c ****             {
2646:System/storage/Storage.c ****                 shellPrint(shell_obj, "\t[Read %s Data failed]\r\n", name);
2647:System/storage/Storage.c ****                 return;
2648:System/storage/Storage.c ****             }
2649:System/storage/Storage.c **** 
2650:System/storage/Storage.c ****             p_read_out = page_data_tmp;
2651:System/storage/Storage.c ****             memcpy(&DataSlot.head_tag, p_read_out, sizeof(DataSlot.head_tag));
2652:System/storage/Storage.c ****             p_read_out += sizeof(DataSlot.head_tag);
2653:System/storage/Storage.c ****             if (DataSlot.head_tag != STORAGE_SLOT_HEAD_TAG)
2654:System/storage/Storage.c ****             {
2655:System/storage/Storage.c ****                 shellPrint(shell_obj, "\t[Data %s header tag error]\r\n", name);
2656:System/storage/Storage.c ****                 return;
2657:System/storage/Storage.c ****             }
2658:System/storage/Storage.c **** 
2659:System/storage/Storage.c ****             memcpy(DataSlot.name, p_read_out, STORAGE_NAME_LEN);
2660:System/storage/Storage.c ****             p_read_out += STORAGE_NAME_LEN;
2661:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[Slot name : %s]\r\n", DataSlot.name);
2662:System/storage/Storage.c **** 
2663:System/storage/Storage.c ****             memcpy(&DataSlot.total_data_size, p_read_out, sizeof(DataSlot.total_data_size));
2664:System/storage/Storage.c ****             p_read_out += sizeof(DataSlot.total_data_size);
2665:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[total data size: %d]\r\n", DataSlot.total_data_size);
2666:System/storage/Storage.c ****             if (DataSlot.total_data_size == 0)
2667:System/storage/Storage.c ****             {
2668:System/storage/Storage.c ****                 shellPrint(shell_obj, "\t[Total data size error]\r\n");
2669:System/storage/Storage.c ****                 return;
2670:System/storage/Storage.c ****             }
2671:System/storage/Storage.c **** 
2672:System/storage/Storage.c ****             memcpy(&DataSlot.cur_slot_size, p_read_out, sizeof(DataSlot.cur_slot_size));
2673:System/storage/Storage.c ****             p_read_out += sizeof(DataSlot.cur_slot_size);
2674:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[current slot size: %d]\r\n", DataSlot.cur_slot_size);
2675:System/storage/Storage.c ****             if (DataSlot.cur_slot_size == 0)
2676:System/storage/Storage.c ****             {
2677:System/storage/Storage.c ****                 shellPrint(shell_obj, "\t[Current slot data size error]\r\n");
2678:System/storage/Storage.c ****                 return;
2679:System/storage/Storage.c ****             }
2680:System/storage/Storage.c **** 
2681:System/storage/Storage.c ****             memcpy(&DataSlot.nxt_addr, p_read_out, sizeof(DataSlot.nxt_addr));
2682:System/storage/Storage.c ****             p_read_out += sizeof(DataSlot.nxt_addr);
2683:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[next segment data slot address: %d]\r\n", DataSlot.nxt_addr);
2684:System/storage/Storage.c **** 
2685:System/storage/Storage.c ****             memcpy(&DataSlot.align_size, p_read_out, sizeof(DataSlot.align_size));
2686:System/storage/Storage.c ****             p_read_out += sizeof(DataSlot.align_size);
2687:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[align size : %d]\r\n", DataSlot.align_size);
2688:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[current slot data size %d]\r\n", DataSlot.cur_slot_size - Dat
2689:System/storage/Storage.c **** 
2690:System/storage/Storage.c ****             crc_buf = p_read_out;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 279


2691:System/storage/Storage.c ****             crc_len = DataSlot.cur_slot_size;
2692:System/storage/Storage.c ****             crc = Common_CRC16(crc_buf, crc_len);
2693:System/storage/Storage.c **** 
2694:System/storage/Storage.c ****             p_read_out += DataSlot.cur_slot_size;
2695:System/storage/Storage.c ****             memcpy(&DataSlot.slot_crc, p_read_out, sizeof(DataSlot.slot_crc));
2696:System/storage/Storage.c ****             p_read_out += sizeof(DataSlot.slot_crc);
2697:System/storage/Storage.c ****             if (crc != DataSlot.slot_crc)
2698:System/storage/Storage.c ****             {
2699:System/storage/Storage.c ****                 shellPrint(shell_obj, "\t[comput crc %04x slot crc %04x]\r\n", crc, DataSlot.slot_c
2700:System/storage/Storage.c ****                 shellPrint(shell_obj, "\t[Slot crc error]\r\n");
2701:System/storage/Storage.c ****                 return;
2702:System/storage/Storage.c ****             }
2703:System/storage/Storage.c **** 
2704:System/storage/Storage.c ****             memcpy(&DataSlot.end_tag, p_read_out, sizeof(DataSlot.end_tag));
2705:System/storage/Storage.c ****             if (DataSlot.end_tag != STORAGE_SLOT_END_TAG)
2706:System/storage/Storage.c ****             {
2707:System/storage/Storage.c ****                 shellPrint(shell_obj, "\t[Data %s ender tag error]\r\n", name);
2708:System/storage/Storage.c ****                 return;
2709:System/storage/Storage.c ****             }
2710:System/storage/Storage.c **** 
2711:System/storage/Storage.c ****             /* display data as hex */
2712:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[");
2713:System/storage/Storage.c ****             for (i = 0; i < DataSlot.cur_slot_size - DataSlot.align_size; i++)
2714:System/storage/Storage.c ****             {
2715:System/storage/Storage.c ****                 shellPrint(shell_obj, " %02x ", crc_buf[i]);
2716:System/storage/Storage.c ****             }
2717:System/storage/Storage.c ****             shellPrint(shell_obj, "]\r\n");
2718:System/storage/Storage.c **** 
2719:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[ ");
2720:System/storage/Storage.c ****             for (i = 0; i < DataSlot.cur_slot_size - DataSlot.align_size; i++)
2721:System/storage/Storage.c ****             {
2722:System/storage/Storage.c ****                 shellPrint(shell_obj, "%c", crc_buf[i]);
2723:System/storage/Storage.c ****             }
2724:System/storage/Storage.c ****             shellPrint(shell_obj, " ]\r\n");
2725:System/storage/Storage.c **** 
2726:System/storage/Storage.c ****             data_len -= DataSlot.cur_slot_size;
2727:System/storage/Storage.c ****             if (data_len == 0)
2728:System/storage/Storage.c ****             {
2729:System/storage/Storage.c ****                 if (DataSlot.nxt_addr == 0)
2730:System/storage/Storage.c ****                 {
2731:System/storage/Storage.c ****                     shellPrint(shell_obj, "\t[ ----- END ----- ]\r\n");
2732:System/storage/Storage.c ****                 }
2733:System/storage/Storage.c ****                 else
2734:System/storage/Storage.c ****                     shellPrint(shell_obj, "\t[ All data dumped but still linked to another slot ]\r
2735:System/storage/Storage.c **** 
2736:System/storage/Storage.c ****                 return;
2737:System/storage/Storage.c ****             }
2738:System/storage/Storage.c **** 
2739:System/storage/Storage.c ****             if (DataSlot.nxt_addr)
2740:System/storage/Storage.c ****                 data_addr = DataSlot.nxt_addr;
2741:System/storage/Storage.c ****         }
2742:System/storage/Storage.c ****     }
2743:System/storage/Storage.c ****     else
2744:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[Storage no %s found in type %d class %d]\r\n", name, medium, clas
2745:System/storage/Storage.c **** }
 10145              		.loc 1 2745 1 view .LVU2968
 10146 0034 39B0     		add	sp, sp, #228
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 280


 10147              	.LCFI115:
 10148              		.cfi_remember_state
 10149              		.cfi_def_cfa_offset 28
 10150              		@ sp needed
 10151 0036 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 10152              	.LVL1098:
 10153              	.L730:
 10154              	.LCFI116:
 10155              		.cfi_restore_state
2625:System/storage/Storage.c ****     {
 10156              		.loc 1 2625 5 is_stmt 1 view .LVU2969
2625:System/storage/Storage.c ****     {
 10157              		.loc 1 2625 10 is_stmt 0 view .LVU2970
 10158 003a 36AB     		add	r3, sp, #216
 10159 003c 37AA     		add	r2, sp, #220
 10160 003e 3946     		mov	r1, r7
 10161 0040 2846     		mov	r0, r5
 10162 0042 FFF7FEFF 		bl	Storage_Get_Flash_Section_IOAPI
 10163              	.LVL1099:
2625:System/storage/Storage.c ****     {
 10164              		.loc 1 2625 8 view .LVU2971
 10165 0046 38B3     		cbz	r0, .L731
2631:System/storage/Storage.c ****     if (ItemSearch.item.data_addr)
 10166              		.loc 1 2631 5 is_stmt 1 view .LVU2972
2631:System/storage/Storage.c ****     if (ItemSearch.item.data_addr)
 10167              		.loc 1 2631 18 is_stmt 0 view .LVU2973
 10168 0048 3246     		mov	r2, r6
 10169 004a 3946     		mov	r1, r7
 10170 004c 02A8     		add	r0, sp, #8
 10171 004e FFF7FEFF 		bl	Storage_Search
 10172              	.LVL1100:
 10173 0052 4522     		movs	r2, #69
 10174 0054 02A9     		add	r1, sp, #8
 10175 0056 14A8     		add	r0, sp, #80
 10176 0058 FFF7FEFF 		bl	memcpy
 10177              	.LVL1101:
2632:System/storage/Storage.c ****     {
 10178              		.loc 1 2632 5 is_stmt 1 view .LVU2974
2632:System/storage/Storage.c ****     {
 10179              		.loc 1 2632 24 is_stmt 0 view .LVU2975
 10180 005c 209B     		ldr	r3, [sp, #128]
2632:System/storage/Storage.c ****     {
 10181              		.loc 1 2632 8 view .LVU2976
 10182 005e 002B     		cmp	r3, #0
 10183 0060 00F00081 		beq	.L709
2634:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[data size : %d]\r\n", ItemSearch.item.len);
 10184              		.loc 1 2634 9 is_stmt 1 view .LVU2977
 10185 0064 3246     		mov	r2, r6
 10186 0066 8349     		ldr	r1, .L739
 10187 0068 2846     		mov	r0, r5
 10188 006a FFF7FEFF 		bl	shellPrint
 10189              	.LVL1102:
2635:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[data name : %s]\r\n", ItemSearch.item.name);
 10190              		.loc 1 2635 9 view .LVU2978
 10191 006e BDF88420 		ldrh	r2, [sp, #132]
 10192 0072 8149     		ldr	r1, .L739+4
 10193 0074 2846     		mov	r0, r5
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 281


 10194 0076 FFF7FEFF 		bl	shellPrint
 10195              	.LVL1103:
2636:System/storage/Storage.c ****         shellPrint(shell_obj, "\t\r\n");
 10196              		.loc 1 2636 9 view .LVU2979
 10197 007a 0DF15702 		add	r2, sp, #87
 10198 007e 7F49     		ldr	r1, .L739+8
 10199 0080 2846     		mov	r0, r5
 10200 0082 FFF7FEFF 		bl	shellPrint
 10201              	.LVL1104:
2637:System/storage/Storage.c **** 
 10202              		.loc 1 2637 9 view .LVU2980
 10203 0086 7E49     		ldr	r1, .L739+12
 10204 0088 2846     		mov	r0, r5
 10205 008a FFF7FEFF 		bl	shellPrint
 10206              	.LVL1105:
2639:System/storage/Storage.c ****         data_addr = ItemSearch.item.data_addr;
 10207              		.loc 1 2639 9 view .LVU2981
2639:System/storage/Storage.c ****         data_addr = ItemSearch.item.data_addr;
 10208              		.loc 1 2639 18 is_stmt 0 view .LVU2982
 10209 008e BDF88470 		ldrh	r7, [sp, #132]
 10210              	.LVL1106:
2640:System/storage/Storage.c **** 
 10211              		.loc 1 2640 9 is_stmt 1 view .LVU2983
2640:System/storage/Storage.c **** 
 10212              		.loc 1 2640 19 is_stmt 0 view .LVU2984
 10213 0092 DDF88080 		ldr	r8, [sp, #128]
 10214              	.LVL1107:
2642:System/storage/Storage.c ****         {
 10215              		.loc 1 2642 9 is_stmt 1 view .LVU2985
2642:System/storage/Storage.c ****         {
 10216              		.loc 1 2642 14 is_stmt 0 view .LVU2986
 10217 0096 60E0     		b	.L710
 10218              	.LVL1108:
 10219              	.L731:
2627:System/storage/Storage.c ****         return;
 10220              		.loc 1 2627 9 is_stmt 1 view .LVU2987
 10221 0098 7A49     		ldr	r1, .L739+16
 10222 009a 2846     		mov	r0, r5
 10223 009c FFF7FEFF 		bl	shellPrint
 10224              	.LVL1109:
2628:System/storage/Storage.c ****     }
 10225              		.loc 1 2628 9 view .LVU2988
 10226 00a0 C8E7     		b	.L706
 10227              	.LVL1110:
 10228              	.L733:
2646:System/storage/Storage.c ****                 return;
 10229              		.loc 1 2646 17 view .LVU2989
 10230 00a2 3246     		mov	r2, r6
 10231 00a4 7849     		ldr	r1, .L739+20
 10232 00a6 2846     		mov	r0, r5
 10233 00a8 FFF7FEFF 		bl	shellPrint
 10234              	.LVL1111:
2647:System/storage/Storage.c ****             }
 10235              		.loc 1 2647 17 view .LVU2990
 10236 00ac C2E7     		b	.L706
 10237              	.LVL1112:
 10238              	.L734:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 282


2655:System/storage/Storage.c ****                 return;
 10239              		.loc 1 2655 17 view .LVU2991
 10240 00ae 3246     		mov	r2, r6
 10241 00b0 7649     		ldr	r1, .L739+24
 10242 00b2 2846     		mov	r0, r5
 10243 00b4 FFF7FEFF 		bl	shellPrint
 10244              	.LVL1113:
2656:System/storage/Storage.c ****             }
 10245              		.loc 1 2656 17 view .LVU2992
 10246 00b8 BCE7     		b	.L706
 10247              	.LVL1114:
 10248              	.L735:
2668:System/storage/Storage.c ****                 return;
 10249              		.loc 1 2668 17 view .LVU2993
 10250 00ba 7549     		ldr	r1, .L739+28
 10251 00bc 2846     		mov	r0, r5
 10252 00be FFF7FEFF 		bl	shellPrint
 10253              	.LVL1115:
2669:System/storage/Storage.c ****             }
 10254              		.loc 1 2669 17 view .LVU2994
 10255 00c2 B7E7     		b	.L706
 10256              	.LVL1116:
 10257              	.L736:
2677:System/storage/Storage.c ****                 return;
 10258              		.loc 1 2677 17 view .LVU2995
 10259 00c4 7349     		ldr	r1, .L739+32
 10260 00c6 2846     		mov	r0, r5
 10261 00c8 FFF7FEFF 		bl	shellPrint
 10262              	.LVL1117:
2678:System/storage/Storage.c ****             }
 10263              		.loc 1 2678 17 view .LVU2996
 10264 00cc B2E7     		b	.L706
 10265              	.LVL1118:
 10266              	.L737:
2699:System/storage/Storage.c ****                 shellPrint(shell_obj, "\t[Slot crc error]\r\n");
 10267              		.loc 1 2699 17 view .LVU2997
 10268 00ce 0246     		mov	r2, r0
 10269              	.LVL1119:
2699:System/storage/Storage.c ****                 shellPrint(shell_obj, "\t[Slot crc error]\r\n");
 10270              		.loc 1 2699 17 is_stmt 0 view .LVU2998
 10271 00d0 7149     		ldr	r1, .L739+36
 10272 00d2 2846     		mov	r0, r5
 10273              	.LVL1120:
2699:System/storage/Storage.c ****                 shellPrint(shell_obj, "\t[Slot crc error]\r\n");
 10274              		.loc 1 2699 17 view .LVU2999
 10275 00d4 FFF7FEFF 		bl	shellPrint
 10276              	.LVL1121:
2700:System/storage/Storage.c ****                 return;
 10277              		.loc 1 2700 17 is_stmt 1 view .LVU3000
 10278 00d8 7049     		ldr	r1, .L739+40
 10279 00da 2846     		mov	r0, r5
 10280 00dc FFF7FEFF 		bl	shellPrint
 10281              	.LVL1122:
2701:System/storage/Storage.c ****             }
 10282              		.loc 1 2701 17 view .LVU3001
 10283 00e0 A8E7     		b	.L706
 10284              	.LVL1123:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 283


 10285              	.L738:
2707:System/storage/Storage.c ****                 return;
 10286              		.loc 1 2707 17 view .LVU3002
 10287 00e2 3246     		mov	r2, r6
 10288 00e4 6E49     		ldr	r1, .L739+44
 10289 00e6 2846     		mov	r0, r5
 10290              	.LVL1124:
2707:System/storage/Storage.c ****                 return;
 10291              		.loc 1 2707 17 is_stmt 0 view .LVU3003
 10292 00e8 FFF7FEFF 		bl	shellPrint
 10293              	.LVL1125:
2708:System/storage/Storage.c ****             }
 10294              		.loc 1 2708 17 is_stmt 1 view .LVU3004
 10295 00ec A2E7     		b	.L706
 10296              	.LVL1126:
 10297              	.L718:
2715:System/storage/Storage.c ****             }
 10298              		.loc 1 2715 17 discriminator 3 view .LVU3005
 10299 00ee 6D4B     		ldr	r3, .L739+48
 10300              	.LVL1127:
2715:System/storage/Storage.c ****             }
 10301              		.loc 1 2715 17 is_stmt 0 discriminator 3 view .LVU3006
 10302 00f0 1A5D     		ldrb	r2, [r3, r4]	@ zero_extendqisi2
 10303 00f2 6D49     		ldr	r1, .L739+52
 10304 00f4 2846     		mov	r0, r5
 10305 00f6 FFF7FEFF 		bl	shellPrint
 10306              	.LVL1128:
2713:System/storage/Storage.c ****             {
 10307              		.loc 1 2713 75 is_stmt 1 discriminator 3 view .LVU3007
2713:System/storage/Storage.c ****             {
 10308              		.loc 1 2713 76 is_stmt 0 discriminator 3 view .LVU3008
 10309 00fa 0134     		adds	r4, r4, #1
 10310              	.LVL1129:
2713:System/storage/Storage.c ****             {
 10311              		.loc 1 2713 76 discriminator 3 view .LVU3009
 10312 00fc A4B2     		uxth	r4, r4
 10313              	.LVL1130:
 10314              	.L717:
2713:System/storage/Storage.c ****             {
 10315              		.loc 1 2713 25 is_stmt 1 discriminator 1 view .LVU3010
2713:System/storage/Storage.c ****             {
 10316              		.loc 1 2713 37 is_stmt 0 discriminator 1 view .LVU3011
 10317 00fe DDF8C930 		ldr	r3, [sp, #201]	@ unaligned
2713:System/storage/Storage.c ****             {
 10318              		.loc 1 2713 62 discriminator 1 view .LVU3012
 10319 0102 9DF8D120 		ldrb	r2, [sp, #209]	@ zero_extendqisi2
2713:System/storage/Storage.c ****             {
 10320              		.loc 1 2713 52 discriminator 1 view .LVU3013
 10321 0106 9B1A     		subs	r3, r3, r2
2713:System/storage/Storage.c ****             {
 10322              		.loc 1 2713 13 discriminator 1 view .LVU3014
 10323 0108 9C42     		cmp	r4, r3
 10324 010a F0D3     		bcc	.L718
2717:System/storage/Storage.c **** 
 10325              		.loc 1 2717 13 is_stmt 1 view .LVU3015
 10326 010c 6749     		ldr	r1, .L739+56
 10327 010e 2846     		mov	r0, r5
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 284


 10328 0110 FFF7FEFF 		bl	shellPrint
 10329              	.LVL1131:
2719:System/storage/Storage.c ****             for (i = 0; i < DataSlot.cur_slot_size - DataSlot.align_size; i++)
 10330              		.loc 1 2719 13 view .LVU3016
 10331 0114 6649     		ldr	r1, .L739+60
 10332 0116 2846     		mov	r0, r5
 10333 0118 FFF7FEFF 		bl	shellPrint
 10334              	.LVL1132:
2720:System/storage/Storage.c ****             {
 10335              		.loc 1 2720 13 view .LVU3017
2720:System/storage/Storage.c ****             {
 10336              		.loc 1 2720 20 is_stmt 0 view .LVU3018
 10337 011c 0024     		movs	r4, #0
2720:System/storage/Storage.c ****             {
 10338              		.loc 1 2720 13 view .LVU3019
 10339 011e 07E0     		b	.L719
 10340              	.LVL1133:
 10341              	.L720:
2722:System/storage/Storage.c ****             }
 10342              		.loc 1 2722 17 is_stmt 1 discriminator 3 view .LVU3020
 10343 0120 604B     		ldr	r3, .L739+48
 10344              	.LVL1134:
2722:System/storage/Storage.c ****             }
 10345              		.loc 1 2722 17 is_stmt 0 discriminator 3 view .LVU3021
 10346 0122 1A5D     		ldrb	r2, [r3, r4]	@ zero_extendqisi2
 10347 0124 6349     		ldr	r1, .L739+64
 10348 0126 2846     		mov	r0, r5
 10349 0128 FFF7FEFF 		bl	shellPrint
 10350              	.LVL1135:
2720:System/storage/Storage.c ****             {
 10351              		.loc 1 2720 75 is_stmt 1 discriminator 3 view .LVU3022
2720:System/storage/Storage.c ****             {
 10352              		.loc 1 2720 76 is_stmt 0 discriminator 3 view .LVU3023
 10353 012c 0134     		adds	r4, r4, #1
 10354              	.LVL1136:
2720:System/storage/Storage.c ****             {
 10355              		.loc 1 2720 76 discriminator 3 view .LVU3024
 10356 012e A4B2     		uxth	r4, r4
 10357              	.LVL1137:
 10358              	.L719:
2720:System/storage/Storage.c ****             {
 10359              		.loc 1 2720 25 is_stmt 1 discriminator 1 view .LVU3025
2720:System/storage/Storage.c ****             {
 10360              		.loc 1 2720 37 is_stmt 0 discriminator 1 view .LVU3026
 10361 0130 DDF8C930 		ldr	r3, [sp, #201]	@ unaligned
2720:System/storage/Storage.c ****             {
 10362              		.loc 1 2720 62 discriminator 1 view .LVU3027
 10363 0134 9DF8D120 		ldrb	r2, [sp, #209]	@ zero_extendqisi2
2720:System/storage/Storage.c ****             {
 10364              		.loc 1 2720 52 discriminator 1 view .LVU3028
 10365 0138 9B1A     		subs	r3, r3, r2
2720:System/storage/Storage.c ****             {
 10366              		.loc 1 2720 13 discriminator 1 view .LVU3029
 10367 013a 9C42     		cmp	r4, r3
 10368 013c F0D3     		bcc	.L720
2724:System/storage/Storage.c **** 
 10369              		.loc 1 2724 13 is_stmt 1 view .LVU3030
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 285


 10370 013e 5E49     		ldr	r1, .L739+68
 10371 0140 2846     		mov	r0, r5
 10372 0142 FFF7FEFF 		bl	shellPrint
 10373              	.LVL1138:
2726:System/storage/Storage.c ****             if (data_len == 0)
 10374              		.loc 1 2726 13 view .LVU3031
2726:System/storage/Storage.c ****             if (data_len == 0)
 10375              		.loc 1 2726 33 is_stmt 0 view .LVU3032
 10376 0146 DDF8C930 		ldr	r3, [sp, #201]	@ unaligned
2726:System/storage/Storage.c ****             if (data_len == 0)
 10377              		.loc 1 2726 22 view .LVU3033
 10378 014a FF1A     		subs	r7, r7, r3
 10379              	.LVL1139:
2726:System/storage/Storage.c ****             if (data_len == 0)
 10380              		.loc 1 2726 22 view .LVU3034
 10381 014c BFB2     		uxth	r7, r7
 10382              	.LVL1140:
2727:System/storage/Storage.c ****             {
 10383              		.loc 1 2727 13 is_stmt 1 view .LVU3035
2727:System/storage/Storage.c ****             {
 10384              		.loc 1 2727 16 is_stmt 0 view .LVU3036
 10385 014e 002F     		cmp	r7, #0
 10386 0150 7BD0     		beq	.L732
2739:System/storage/Storage.c ****                 data_addr = DataSlot.nxt_addr;
 10387              		.loc 1 2739 13 is_stmt 1 view .LVU3037
2739:System/storage/Storage.c ****                 data_addr = DataSlot.nxt_addr;
 10388              		.loc 1 2739 25 is_stmt 0 view .LVU3038
 10389 0152 DDF8CD30 		ldr	r3, [sp, #205]	@ unaligned
2739:System/storage/Storage.c ****                 data_addr = DataSlot.nxt_addr;
 10390              		.loc 1 2739 16 view .LVU3039
 10391 0156 03B1     		cbz	r3, .L710
2740:System/storage/Storage.c ****         }
 10392              		.loc 1 2740 27 view .LVU3040
 10393 0158 9846     		mov	r8, r3
 10394              	.LVL1141:
 10395              	.L710:
2642:System/storage/Storage.c ****         {
 10396              		.loc 1 2642 14 is_stmt 1 view .LVU3041
 10397 015a 002F     		cmp	r7, #0
 10398 015c 3FF46AAF 		beq	.L706
2644:System/storage/Storage.c ****             {
 10399              		.loc 1 2644 13 view .LVU3042
2644:System/storage/Storage.c ****             {
 10400              		.loc 1 2644 18 is_stmt 0 view .LVU3043
 10401 0160 07F14002 		add	r2, r7, #64
 10402 0164 5549     		ldr	r1, .L739+72
 10403 0166 4046     		mov	r0, r8
 10404 0168 FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Read
 10405              	.LVL1142:
2644:System/storage/Storage.c ****             {
 10406              		.loc 1 2644 16 view .LVU3044
 10407 016c 0028     		cmp	r0, #0
 10408 016e 98D0     		beq	.L733
2650:System/storage/Storage.c ****             memcpy(&DataSlot.head_tag, p_read_out, sizeof(DataSlot.head_tag));
 10409              		.loc 1 2650 13 is_stmt 1 view .LVU3045
 10410              	.LVL1143:
2651:System/storage/Storage.c ****             p_read_out += sizeof(DataSlot.head_tag);
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 286


 10411              		.loc 1 2651 13 view .LVU3046
 10412 0170 524B     		ldr	r3, .L739+72
 10413 0172 1B68     		ldr	r3, [r3]
 10414 0174 2693     		str	r3, [sp, #152]
2652:System/storage/Storage.c ****             if (DataSlot.head_tag != STORAGE_SLOT_HEAD_TAG)
 10415              		.loc 1 2652 13 view .LVU3047
 10416              	.LVL1144:
2653:System/storage/Storage.c ****             {
 10417              		.loc 1 2653 13 view .LVU3048
2653:System/storage/Storage.c ****             {
 10418              		.loc 1 2653 16 is_stmt 0 view .LVU3049
 10419 0176 524A     		ldr	r2, .L739+76
 10420 0178 9342     		cmp	r3, r2
 10421 017a 98D1     		bne	.L734
2659:System/storage/Storage.c ****             p_read_out += STORAGE_NAME_LEN;
 10422              		.loc 1 2659 13 is_stmt 1 view .LVU3050
 10423 017c DFF83C91 		ldr	r9, .L739+72
 10424 0180 27AC     		add	r4, sp, #156
 10425 0182 09F1040C 		add	ip, r9, #4
 10426 0186 BCE80F00 		ldmia	ip!, {r0, r1, r2, r3}
 10427 018a 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 10428 018c BCE80F00 		ldmia	ip!, {r0, r1, r2, r3}
 10429 0190 0FC4     		stmia	r4!, {r0, r1, r2, r3}
 10430 0192 9CE80700 		ldm	ip, {r0, r1, r2}
 10431 0196 03C4     		stmia	r4!, {r0, r1}
 10432 0198 2270     		strb	r2, [r4]
2660:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[Slot name : %s]\r\n", DataSlot.name);
 10433              		.loc 1 2660 13 view .LVU3051
 10434              	.LVL1145:
2661:System/storage/Storage.c **** 
 10435              		.loc 1 2661 13 view .LVU3052
 10436 019a 27AA     		add	r2, sp, #156
 10437 019c 4949     		ldr	r1, .L739+80
 10438 019e 2846     		mov	r0, r5
 10439 01a0 FFF7FEFF 		bl	shellPrint
 10440              	.LVL1146:
2663:System/storage/Storage.c ****             p_read_out += sizeof(DataSlot.total_data_size);
 10441              		.loc 1 2663 13 view .LVU3053
 10442 01a4 D9F82D20 		ldr	r2, [r9, #45]	@ unaligned
 10443 01a8 CDF8C520 		str	r2, [sp, #197]	@ unaligned
2664:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[total data size: %d]\r\n", DataSlot.total_data_size);
 10444              		.loc 1 2664 13 view .LVU3054
 10445              	.LVL1147:
2665:System/storage/Storage.c ****             if (DataSlot.total_data_size == 0)
 10446              		.loc 1 2665 13 view .LVU3055
 10447 01ac 4649     		ldr	r1, .L739+84
 10448 01ae 2846     		mov	r0, r5
 10449 01b0 FFF7FEFF 		bl	shellPrint
 10450              	.LVL1148:
2666:System/storage/Storage.c ****             {
 10451              		.loc 1 2666 13 view .LVU3056
2666:System/storage/Storage.c ****             {
 10452              		.loc 1 2666 25 is_stmt 0 view .LVU3057
 10453 01b4 DDF8C530 		ldr	r3, [sp, #197]	@ unaligned
2666:System/storage/Storage.c ****             {
 10454              		.loc 1 2666 16 view .LVU3058
 10455 01b8 002B     		cmp	r3, #0
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 287


 10456 01ba 3FF47EAF 		beq	.L735
2672:System/storage/Storage.c ****             p_read_out += sizeof(DataSlot.cur_slot_size);
 10457              		.loc 1 2672 13 is_stmt 1 view .LVU3059
 10458 01be 3F4B     		ldr	r3, .L739+72
 10459 01c0 D3F83120 		ldr	r2, [r3, #49]	@ unaligned
 10460 01c4 CDF8C920 		str	r2, [sp, #201]	@ unaligned
2673:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[current slot size: %d]\r\n", DataSlot.cur_slot_size);
 10461              		.loc 1 2673 13 view .LVU3060
 10462              	.LVL1149:
2674:System/storage/Storage.c ****             if (DataSlot.cur_slot_size == 0)
 10463              		.loc 1 2674 13 view .LVU3061
 10464 01c8 4049     		ldr	r1, .L739+88
 10465 01ca 2846     		mov	r0, r5
 10466 01cc FFF7FEFF 		bl	shellPrint
 10467              	.LVL1150:
2675:System/storage/Storage.c ****             {
 10468              		.loc 1 2675 13 view .LVU3062
2675:System/storage/Storage.c ****             {
 10469              		.loc 1 2675 25 is_stmt 0 view .LVU3063
 10470 01d0 DDF8C930 		ldr	r3, [sp, #201]	@ unaligned
2675:System/storage/Storage.c ****             {
 10471              		.loc 1 2675 16 view .LVU3064
 10472 01d4 002B     		cmp	r3, #0
 10473 01d6 3FF475AF 		beq	.L736
2681:System/storage/Storage.c ****             p_read_out += sizeof(DataSlot.nxt_addr);
 10474              		.loc 1 2681 13 is_stmt 1 view .LVU3065
 10475 01da 384C     		ldr	r4, .L739+72
 10476 01dc D4F83520 		ldr	r2, [r4, #53]	@ unaligned
 10477 01e0 CDF8CD20 		str	r2, [sp, #205]	@ unaligned
2682:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[next segment data slot address: %d]\r\n", DataSlot.nxt_addr);
 10478              		.loc 1 2682 13 view .LVU3066
 10479              	.LVL1151:
2683:System/storage/Storage.c **** 
 10480              		.loc 1 2683 13 view .LVU3067
 10481 01e4 3A49     		ldr	r1, .L739+92
 10482 01e6 2846     		mov	r0, r5
 10483 01e8 FFF7FEFF 		bl	shellPrint
 10484              	.LVL1152:
2685:System/storage/Storage.c ****             p_read_out += sizeof(DataSlot.align_size);
 10485              		.loc 1 2685 13 view .LVU3068
 10486 01ec 94F83920 		ldrb	r2, [r4, #57]	@ zero_extendqisi2
 10487 01f0 8DF8D120 		strb	r2, [sp, #209]
2686:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[align size : %d]\r\n", DataSlot.align_size);
 10488              		.loc 1 2686 13 view .LVU3069
 10489              	.LVL1153:
2687:System/storage/Storage.c ****             shellPrint(shell_obj, "\t[current slot data size %d]\r\n", DataSlot.cur_slot_size - Dat
 10490              		.loc 1 2687 13 view .LVU3070
 10491 01f4 3749     		ldr	r1, .L739+96
 10492 01f6 2846     		mov	r0, r5
 10493 01f8 FFF7FEFF 		bl	shellPrint
 10494              	.LVL1154:
2688:System/storage/Storage.c **** 
 10495              		.loc 1 2688 13 view .LVU3071
2688:System/storage/Storage.c **** 
 10496              		.loc 1 2688 80 is_stmt 0 view .LVU3072
 10497 01fc DDF8C920 		ldr	r2, [sp, #201]	@ unaligned
2688:System/storage/Storage.c **** 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 288


 10498              		.loc 1 2688 105 view .LVU3073
 10499 0200 9DF8D130 		ldrb	r3, [sp, #209]	@ zero_extendqisi2
2688:System/storage/Storage.c **** 
 10500              		.loc 1 2688 13 view .LVU3074
 10501 0204 D21A     		subs	r2, r2, r3
 10502 0206 3449     		ldr	r1, .L739+100
 10503 0208 2846     		mov	r0, r5
 10504 020a FFF7FEFF 		bl	shellPrint
 10505              	.LVL1155:
2690:System/storage/Storage.c ****             crc_len = DataSlot.cur_slot_size;
 10506              		.loc 1 2690 13 is_stmt 1 view .LVU3075
2691:System/storage/Storage.c ****             crc = Common_CRC16(crc_buf, crc_len);
 10507              		.loc 1 2691 13 view .LVU3076
2691:System/storage/Storage.c ****             crc = Common_CRC16(crc_buf, crc_len);
 10508              		.loc 1 2691 31 is_stmt 0 view .LVU3077
 10509 020e DDF8C910 		ldr	r1, [sp, #201]	@ unaligned
 10510              	.LVL1156:
2692:System/storage/Storage.c **** 
 10511              		.loc 1 2692 13 is_stmt 1 view .LVU3078
2692:System/storage/Storage.c **** 
 10512              		.loc 1 2692 19 is_stmt 0 view .LVU3079
 10513 0212 3A34     		adds	r4, r4, #58
 10514 0214 89B2     		uxth	r1, r1
2692:System/storage/Storage.c **** 
 10515              		.loc 1 2692 19 view .LVU3080
 10516 0216 2046     		mov	r0, r4
 10517 0218 FFF7FEFF 		bl	Common_CRC16
 10518              	.LVL1157:
2692:System/storage/Storage.c **** 
 10519              		.loc 1 2692 17 view .LVU3081
 10520 021c 80B2     		uxth	r0, r0
 10521              	.LVL1158:
2694:System/storage/Storage.c ****             memcpy(&DataSlot.slot_crc, p_read_out, sizeof(DataSlot.slot_crc));
 10522              		.loc 1 2694 13 is_stmt 1 view .LVU3082
2694:System/storage/Storage.c ****             memcpy(&DataSlot.slot_crc, p_read_out, sizeof(DataSlot.slot_crc));
 10523              		.loc 1 2694 35 is_stmt 0 view .LVU3083
 10524 021e DDF8C930 		ldr	r3, [sp, #201]	@ unaligned
2694:System/storage/Storage.c ****             memcpy(&DataSlot.slot_crc, p_read_out, sizeof(DataSlot.slot_crc));
 10525              		.loc 1 2694 24 view .LVU3084
 10526 0222 1A19     		adds	r2, r3, r4
 10527              	.LVL1159:
2695:System/storage/Storage.c ****             p_read_out += sizeof(DataSlot.slot_crc);
 10528              		.loc 1 2695 13 is_stmt 1 view .LVU3085
 10529 0224 E35A     		ldrh	r3, [r4, r3]	@ unaligned
 10530 0226 ADF8D230 		strh	r3, [sp, #210]	@ movhi
2696:System/storage/Storage.c ****             if (crc != DataSlot.slot_crc)
 10531              		.loc 1 2696 13 view .LVU3086
 10532              	.LVL1160:
2697:System/storage/Storage.c ****             {
 10533              		.loc 1 2697 13 view .LVU3087
2697:System/storage/Storage.c ****             {
 10534              		.loc 1 2697 16 is_stmt 0 view .LVU3088
 10535 022a 9842     		cmp	r0, r3
 10536 022c 7FF44FAF 		bne	.L737
2704:System/storage/Storage.c ****             if (DataSlot.end_tag != STORAGE_SLOT_END_TAG)
 10537              		.loc 1 2704 13 is_stmt 1 view .LVU3089
 10538 0230 D2F80230 		ldr	r3, [r2, #2]	@ unaligned
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 289


 10539 0234 3593     		str	r3, [sp, #212]
2705:System/storage/Storage.c ****             {
 10540              		.loc 1 2705 13 view .LVU3090
2705:System/storage/Storage.c ****             {
 10541              		.loc 1 2705 16 is_stmt 0 view .LVU3091
 10542 0236 294A     		ldr	r2, .L739+104
 10543              	.LVL1161:
2705:System/storage/Storage.c ****             {
 10544              		.loc 1 2705 16 view .LVU3092
 10545 0238 9342     		cmp	r3, r2
 10546 023a 7FF452AF 		bne	.L738
2712:System/storage/Storage.c ****             for (i = 0; i < DataSlot.cur_slot_size - DataSlot.align_size; i++)
 10547              		.loc 1 2712 13 is_stmt 1 view .LVU3093
 10548 023e 2849     		ldr	r1, .L739+108
 10549 0240 2846     		mov	r0, r5
 10550              	.LVL1162:
2712:System/storage/Storage.c ****             for (i = 0; i < DataSlot.cur_slot_size - DataSlot.align_size; i++)
 10551              		.loc 1 2712 13 is_stmt 0 view .LVU3094
 10552 0242 FFF7FEFF 		bl	shellPrint
 10553              	.LVL1163:
2713:System/storage/Storage.c ****             {
 10554              		.loc 1 2713 13 is_stmt 1 view .LVU3095
2713:System/storage/Storage.c ****             {
 10555              		.loc 1 2713 20 is_stmt 0 view .LVU3096
 10556 0246 0024     		movs	r4, #0
2713:System/storage/Storage.c ****             {
 10557              		.loc 1 2713 13 view .LVU3097
 10558 0248 59E7     		b	.L717
 10559              	.LVL1164:
 10560              	.L732:
2729:System/storage/Storage.c ****                 {
 10561              		.loc 1 2729 17 is_stmt 1 view .LVU3098
2729:System/storage/Storage.c ****                 {
 10562              		.loc 1 2729 29 is_stmt 0 view .LVU3099
 10563 024a DDF8CD30 		ldr	r3, [sp, #205]	@ unaligned
2729:System/storage/Storage.c ****                 {
 10564              		.loc 1 2729 20 view .LVU3100
 10565 024e 23B9     		cbnz	r3, .L722
2731:System/storage/Storage.c ****                 }
 10566              		.loc 1 2731 21 is_stmt 1 view .LVU3101
 10567 0250 2449     		ldr	r1, .L739+112
 10568 0252 2846     		mov	r0, r5
 10569 0254 FFF7FEFF 		bl	shellPrint
 10570              	.LVL1165:
 10571 0258 ECE6     		b	.L706
 10572              	.L722:
2734:System/storage/Storage.c **** 
 10573              		.loc 1 2734 21 view .LVU3102
 10574 025a 2349     		ldr	r1, .L739+116
 10575 025c 2846     		mov	r0, r5
 10576 025e FFF7FEFF 		bl	shellPrint
 10577              	.LVL1166:
2736:System/storage/Storage.c ****             }
 10578              		.loc 1 2736 17 view .LVU3103
 10579 0262 E7E6     		b	.L706
 10580              	.LVL1167:
 10581              	.L709:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 290


2744:System/storage/Storage.c **** }
 10582              		.loc 1 2744 9 view .LVU3104
 10583 0264 0097     		str	r7, [sp]
 10584 0266 4346     		mov	r3, r8
 10585 0268 3246     		mov	r2, r6
 10586 026a 2049     		ldr	r1, .L739+120
 10587 026c 2846     		mov	r0, r5
 10588 026e FFF7FEFF 		bl	shellPrint
 10589              	.LVL1168:
 10590 0272 DFE6     		b	.L706
 10591              	.L740:
 10592              		.align	2
 10593              	.L739:
 10594 0274 00000000 		.word	.LC126
 10595 0278 1C000000 		.word	.LC127
 10596 027c 30000000 		.word	.LC128
 10597 0280 44000000 		.word	.LC129
 10598 0284 20000000 		.word	.LC118
 10599 0288 48000000 		.word	.LC130
 10600 028c 64000000 		.word	.LC131
 10601 0290 B4000000 		.word	.LC134
 10602 0294 EC000000 		.word	.LC136
 10603 0298 70010000 		.word	.LC140
 10604 029c 94010000 		.word	.LC141
 10605 02a0 A8010000 		.word	.LC142
 10606 02a4 3A000000 		.word	page_data_tmp+58
 10607 02a8 CC010000 		.word	.LC144
 10608 02ac D4010000 		.word	.LC145
 10609 02b0 D8010000 		.word	.LC146
 10610 02b4 DC010000 		.word	.LC147
 10611 02b8 E0010000 		.word	.LC148
 10612 02bc 00000000 		.word	page_data_tmp
 10613 02c0 EF1001EF 		.word	-285142801
 10614 02c4 84000000 		.word	.LC132
 10615 02c8 98000000 		.word	.LC133
 10616 02cc D0000000 		.word	.LC135
 10617 02d0 10010000 		.word	.LC137
 10618 02d4 38010000 		.word	.LC138
 10619 02d8 50010000 		.word	.LC139
 10620 02dc FE0110FE 		.word	-32505346
 10621 02e0 C8010000 		.word	.LC143
 10622 02e4 E8010000 		.word	.LC149
 10623 02e8 00020000 		.word	.LC150
 10624 02ec 38020000 		.word	.LC151
 10625              		.cfi_endproc
 10626              	.LFE191:
 10628              		.section	.rodata.Storage_Show_Tab.str1.4,"aMS",%progbits,1
 10629              		.align	2
 10630              	.LC152:
 10631 0000 5B53746F 		.ascii	"[Storage Shell] Dump Storage Tab\015\012\000"
 10631      72616765 
 10631      20536865 
 10631      6C6C5D20 
 10631      44756D70 
 10632 0023 00       		.align	2
 10633              	.LC153:
 10634 0024 09095B74 		.ascii	"\011\011[tab page index : %d]\015\012\000"
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 291


 10634      61622070 
 10634      61676520 
 10634      696E6465 
 10634      78203A20 
 10635 003e 0000     		.align	2
 10636              	.LC154:
 10637 0040 09095B74 		.ascii	"\011\011[tab page addr  : %d]\015\012\000"
 10637      61622070 
 10637      61676520 
 10637      61646472 
 10637      20203A20 
 10638 005a 0000     		.align	2
 10639              	.LC155:
 10640 005c 5B2E2E2E 		.ascii	"[...tab address read error...]\015\012\000"
 10640      74616220 
 10640      61646472 
 10640      65737320 
 10640      72656164 
 10641 007d 000000   		.align	2
 10642              	.LC156:
 10643 0080 5B2E2E2E 		.ascii	"[............ halt ..........]\015\012\000"
 10643      2E2E2E2E 
 10643      2E2E2E2E 
 10643      2E206861 
 10643      6C74202E 
 10644 00a1 000000   		.align	2
 10645              	.LC157:
 10646 00a4 5B00     		.ascii	"[\000"
 10647 00a6 0000     		.align	2
 10648              	.LC158:
 10649 00a8 20253038 		.ascii	" %08x \000"
 10649      782000
 10650 00af 00       		.align	2
 10651              	.LC159:
 10652 00b0 09095B69 		.ascii	"\011\011[item class    : %d]\015\012\000"
 10652      74656D20 
 10652      636C6173 
 10652      73202020 
 10652      203A2025 
 10653 00c9 000000   		.align	2
 10654              	.LC160:
 10655 00cc 09095B69 		.ascii	"\011\011[item name     : %s]\015\012\000"
 10655      74656D20 
 10655      6E616D65 
 10655      20202020 
 10655      203A2025 
 10656 00e5 000000   		.align	2
 10657              	.LC161:
 10658 00e8 09095B69 		.ascii	"\011\011[item address  : %d]\015\012\000"
 10658      74656D20 
 10658      61646472 
 10658      65737320 
 10658      203A2025 
 10659 0101 000000   		.align	2
 10660              	.LC162:
 10661 0104 09095B69 		.ascii	"\011\011[item data len : %d]\015\012\000"
 10661      74656D20 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 292


 10661      64617461 
 10661      206C656E 
 10661      203A2025 
 10662 011d 000000   		.align	2
 10663              	.LC163:
 10664 0120 0909095B 		.ascii	"\011\011\011[error item num in tab : %d]\015\012\000"
 10664      6572726F 
 10664      72206974 
 10664      656D206E 
 10664      756D2069 
 10665 0142 0000     		.align	2
 10666              	.LC164:
 10667 0144 095B616C 		.ascii	"\011[all tab size          : %d]\015\012\000"
 10667      6C207461 
 10667      62207369 
 10667      7A652020 
 10667      20202020 
 10668              		.align	2
 10669              	.LC165:
 10670 0164 095B7369 		.ascii	"\011[singal tab size       : %d]\015\012\000"
 10670      6E67616C 
 10670      20746162 
 10670      2073697A 
 10670      65202020 
 10671              		.align	2
 10672              	.LC166:
 10673 0184 095B6974 		.ascii	"\011[item per tab          : %d]\015\012\000"
 10673      656D2070 
 10673      65722074 
 10673      61622020 
 10673      20202020 
 10674              		.align	2
 10675              	.LC167:
 10676 01a4 095B7461 		.ascii	"\011[tab start addr        : %d]\015\012\000"
 10676      62207374 
 10676      61727420 
 10676      61646472 
 10676      20202020 
 10677              		.align	2
 10678              	.LC168:
 10679 01c4 095B7461 		.ascii	"\011[tab address           : %d]\015\012\000"
 10679      62206164 
 10679      64726573 
 10679      73202020 
 10679      20202020 
 10680              		.align	2
 10681              	.LC169:
 10682 01e4 095B7461 		.ascii	"\011[tab page num          : %d]\015\012\000"
 10682      62207061 
 10682      6765206E 
 10682      756D2020 
 10682      20202020 
 10683              		.align	2
 10684              	.LC170:
 10685 0204 095B7061 		.ascii	"\011[para num              : %d]\015\012\000"
 10685      7261206E 
 10685      756D2020 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 293


 10685      20202020 
 10685      20202020 
 10686              		.align	2
 10687              	.LC171:
 10688 0224 095B7061 		.ascii	"\011[para size             : %d]\015\012\000"
 10688      72612073 
 10688      697A6520 
 10688      20202020 
 10688      20202020 
 10689              		.align	2
 10690              	.LC172:
 10691 0244 095B6D61 		.ascii	"\011[matched data item num : %d]\015\012\000"
 10691      74636865 
 10691      64206461 
 10691      74612069 
 10691      74656D20 
 10692              		.align	2
 10693              	.LC173:
 10694 0264 095B6D61 		.ascii	"\011[matched free item num : %d]\015\012\000"
 10694      74636865 
 10694      64206672 
 10694      65652069 
 10694      74656D20 
 10695              		.align	2
 10696              	.LC174:
 10697 0284 095B6572 		.ascii	"\011[error item num        : %d]\015\012\000"
 10697      726F7220 
 10697      6974656D 
 10697      206E756D 
 10697      20202020 
 10698              		.align	2
 10699              	.LC175:
 10700 02a4 5B467265 		.ascii	"[Free slot info read failed]\015\012\000"
 10700      6520736C 
 10700      6F742069 
 10700      6E666F20 
 10700      72656164 
 10701 02c3 00       		.align	2
 10702              	.LC176:
 10703 02c4 5B2E2E2E 		.ascii	"[.......... halt ..........]\015\012\000"
 10703      2E2E2E2E 
 10703      2E2E2E20 
 10703      68616C74 
 10703      202E2E2E 
 10704 02e3 00       		.align	2
 10705              	.LC177:
 10706 02e4 095B6672 		.ascii	"\011[free slot address     : %d]\015\012\000"
 10706      65652073 
 10706      6C6F7420 
 10706      61646472 
 10706      65737320 
 10707              		.align	2
 10708              	.LC178:
 10709 0304 095B6375 		.ascii	"\011[current free slot size: %d]\015\012\000"
 10709      7272656E 
 10709      74206672 
 10709      65652073 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 294


 10709      6C6F7420 
 10710              		.align	2
 10711              	.LC179:
 10712 0324 095B6E65 		.ascii	"\011[next free slot address: %d]\015\012\000"
 10712      78742066 
 10712      72656520 
 10712      736C6F74 
 10712      20616464 
 10713              		.align	2
 10714              	.LC180:
 10715 0344 095B6672 		.ascii	"\011[free slot read error]\015\012\000"
 10715      65652073 
 10715      6C6F7420 
 10715      72656164 
 10715      20657272 
 10716 035e 0000     		.align	2
 10717              	.LC181:
 10718 0360 5B776172 		.ascii	"[warnning stored parameter number]\015\012\000"
 10718      6E6E696E 
 10718      67207374 
 10718      6F726564 
 10718      20706172 
 10719              		.section	.text.Storage_Show_Tab,"ax",%progbits
 10720              		.align	1
 10721              		.syntax unified
 10722              		.thumb
 10723              		.thumb_func
 10725              	Storage_Show_Tab:
 10726              	.LVL1169:
 10727              	.LFB192:
2746:System/storage/Storage.c **** SHELL_EXPORT_CMD(SHELL_CMD_PERMISSION(0) | SHELL_CMD_TYPE(SHELL_TYPE_CMD_FUNC) | SHELL_CMD_DISABLE_
2747:System/storage/Storage.c **** 
2748:System/storage/Storage.c **** static void Storage_Show_Tab(Storage_MediumType_List medium, Storage_ParaClassType_List class)
2749:System/storage/Storage.c **** {
 10728              		.loc 1 2749 1 view -0
 10729              		.cfi_startproc
 10730              		@ args = 0, pretend = 0, frame = 40
 10731              		@ frame_needed = 0, uses_anonymous_args = 0
 10732              		.loc 1 2749 1 is_stmt 0 view .LVU3106
 10733 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 10734              	.LCFI117:
 10735              		.cfi_def_cfa_offset 36
 10736              		.cfi_offset 4, -36
 10737              		.cfi_offset 5, -32
 10738              		.cfi_offset 6, -28
 10739              		.cfi_offset 7, -24
 10740              		.cfi_offset 8, -20
 10741              		.cfi_offset 9, -16
 10742              		.cfi_offset 10, -12
 10743              		.cfi_offset 11, -8
 10744              		.cfi_offset 14, -4
 10745 0004 8BB0     		sub	sp, sp, #44
 10746              	.LCFI118:
 10747              		.cfi_def_cfa_offset 80
 10748 0006 0C46     		mov	r4, r1
2750:System/storage/Storage.c ****     Storage_FlashInfo_TypeDef *p_Flash = NULL;
 10749              		.loc 1 2750 5 is_stmt 1 view .LVU3107
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 295


 10750              		.loc 1 2750 32 is_stmt 0 view .LVU3108
 10751 0008 0023     		movs	r3, #0
 10752 000a 0993     		str	r3, [sp, #36]
2751:System/storage/Storage.c ****     Storage_BaseSecInfo_TypeDef *p_Sec = NULL;
 10753              		.loc 1 2751 5 is_stmt 1 view .LVU3109
 10754              		.loc 1 2751 34 is_stmt 0 view .LVU3110
 10755 000c 0893     		str	r3, [sp, #32]
2752:System/storage/Storage.c ****     Storage_Item_TypeDef *item_list = NULL;
 10756              		.loc 1 2752 5 is_stmt 1 view .LVU3111
 10757              	.LVL1170:
2753:System/storage/Storage.c ****     uint16_t singal_tab_size = 0;
 10758              		.loc 1 2753 5 view .LVU3112
2754:System/storage/Storage.c ****     uint8_t item_per_tab = 0;
 10759              		.loc 1 2754 5 view .LVU3113
2755:System/storage/Storage.c ****     uint32_t tab_addr = 0;
 10760              		.loc 1 2755 5 view .LVU3114
2756:System/storage/Storage.c ****     uint32_t matched_item_num = 0;
 10761              		.loc 1 2756 5 view .LVU3115
2757:System/storage/Storage.c ****     uint32_t free_item_num = 0;
 10762              		.loc 1 2757 5 view .LVU3116
2758:System/storage/Storage.c ****     uint32_t error_item_num = 0;
 10763              		.loc 1 2758 5 view .LVU3117
2759:System/storage/Storage.c ****     uint8_t *crc_buf = NULL;
 10764              		.loc 1 2759 5 view .LVU3118
2760:System/storage/Storage.c ****     uint16_t crc = 0;
 10765              		.loc 1 2760 5 view .LVU3119
2761:System/storage/Storage.c ****     uint16_t crc_len = 0;
 10766              		.loc 1 2761 5 view .LVU3120
2762:System/storage/Storage.c ****     uint16_t crc_error = 0;
 10767              		.loc 1 2762 5 view .LVU3121
2763:System/storage/Storage.c ****     Storage_FreeSlot_TypeDef *p_FreeSlot = NULL;
 10768              		.loc 1 2763 5 view .LVU3122
2764:System/storage/Storage.c ****     Shell *shell_obj = Shell_GetInstence();
 10769              		.loc 1 2764 5 view .LVU3123
 10770              		.loc 1 2764 24 is_stmt 0 view .LVU3124
 10771 000e FFF7FEFF 		bl	Shell_GetInstence
 10772              	.LVL1171:
2765:System/storage/Storage.c ****     
2766:System/storage/Storage.c ****     if (shell_obj == NULL)
 10773              		.loc 1 2766 5 is_stmt 1 view .LVU3125
 10774              		.loc 1 2766 8 is_stmt 0 view .LVU3126
 10775 0012 0028     		cmp	r0, #0
 10776 0014 35D0     		beq	.L741
 10777 0016 0546     		mov	r5, r0
2767:System/storage/Storage.c ****         return;
2768:System/storage/Storage.c ****     
2769:System/storage/Storage.c ****     shellPrint(shell_obj, "[Storage Shell] Dump Storage Tab\r\n");
 10778              		.loc 1 2769 5 is_stmt 1 view .LVU3127
 10779 0018 A549     		ldr	r1, .L775
 10780 001a FFF7FEFF 		bl	shellPrint
 10781              	.LVL1172:
2770:System/storage/Storage.c ****     if (!Storage_Monitor.init_state)
 10782              		.loc 1 2770 5 view .LVU3128
 10783              		.loc 1 2770 25 is_stmt 0 view .LVU3129
 10784 001e A54B     		ldr	r3, .L775+4
 10785 0020 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 10786              		.loc 1 2770 8 view .LVU3130
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 296


 10787 0022 E3B1     		cbz	r3, .L764
 10788              	.L743:
2771:System/storage/Storage.c ****     {
2772:System/storage/Storage.c ****         shellPrint(shell_obj, "\thalt by init state\r\n");
2773:System/storage/Storage.c ****     }
2774:System/storage/Storage.c ****     
2775:System/storage/Storage.c ****     if (!Storage_Get_Flash_Section_IOAPI(shell_obj, class, &p_Flash, &p_Sec))
 10789              		.loc 1 2775 5 is_stmt 1 view .LVU3131
 10790              		.loc 1 2775 10 is_stmt 0 view .LVU3132
 10791 0024 08AB     		add	r3, sp, #32
 10792 0026 09AA     		add	r2, sp, #36
 10793 0028 2146     		mov	r1, r4
 10794 002a 2846     		mov	r0, r5
 10795 002c FFF7FEFF 		bl	Storage_Get_Flash_Section_IOAPI
 10796              	.LVL1173:
 10797              		.loc 1 2775 8 view .LVU3133
 10798 0030 D0B1     		cbz	r0, .L765
2776:System/storage/Storage.c ****     {
2777:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[Flash Section IO_API Get Error]\r\n");
2778:System/storage/Storage.c ****         return;
2779:System/storage/Storage.c ****     }
2780:System/storage/Storage.c **** 
2781:System/storage/Storage.c ****     singal_tab_size = p_Sec->tab_size / p_Sec->page_num;
 10799              		.loc 1 2781 5 is_stmt 1 view .LVU3134
 10800              		.loc 1 2781 28 is_stmt 0 view .LVU3135
 10801 0032 089B     		ldr	r3, [sp, #32]
 10802 0034 1969     		ldr	r1, [r3, #16]	@ unaligned
 10803              		.loc 1 2781 46 view .LVU3136
 10804 0036 DA68     		ldr	r2, [r3, #12]	@ unaligned
 10805              		.loc 1 2781 39 view .LVU3137
 10806 0038 B1FBF2F2 		udiv	r2, r1, r2
 10807 003c 0292     		str	r2, [sp, #8]
 10808              		.loc 1 2781 21 view .LVU3138
 10809 003e 1FFA82F8 		uxth	r8, r2
 10810              	.LVL1174:
2782:System/storage/Storage.c ****     item_per_tab = singal_tab_size / sizeof(Storage_Item_TypeDef);
 10811              		.loc 1 2782 5 is_stmt 1 view .LVU3139
 10812              		.loc 1 2782 18 is_stmt 0 view .LVU3140
 10813 0042 C2F38717 		ubfx	r7, r2, #6, #8
 10814              	.LVL1175:
2783:System/storage/Storage.c ****     tab_addr = p_Sec->tab_addr;
 10815              		.loc 1 2783 5 is_stmt 1 view .LVU3141
 10816              		.loc 1 2783 14 is_stmt 0 view .LVU3142
 10817 0046 D3F800A0 		ldr	r10, [r3]	@ unaligned
 10818              	.LVL1176:
2784:System/storage/Storage.c **** 
2785:System/storage/Storage.c ****     for (uint8_t i = 0; i < p_Sec->page_num; i++)
 10819              		.loc 1 2785 5 is_stmt 1 view .LVU3143
 10820              	.LBB41:
 10821              		.loc 1 2785 10 view .LVU3144
 10822              		.loc 1 2785 18 is_stmt 0 view .LVU3145
 10823 004a 4FF0000B 		mov	fp, #0
 10824              	.LBE41:
2758:System/storage/Storage.c ****     uint8_t *crc_buf = NULL;
 10825              		.loc 1 2758 14 view .LVU3146
 10826 004e CDF810B0 		str	fp, [sp, #16]
2757:System/storage/Storage.c ****     uint32_t error_item_num = 0;
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 297


 10827              		.loc 1 2757 14 view .LVU3147
 10828 0052 CDF81CB0 		str	fp, [sp, #28]
2756:System/storage/Storage.c ****     uint32_t free_item_num = 0;
 10829              		.loc 1 2756 14 view .LVU3148
 10830 0056 CDF818B0 		str	fp, [sp, #24]
 10831 005a D146     		mov	r9, r10
 10832              	.LBB48:
 10833              		.loc 1 2785 5 view .LVU3149
 10834 005c 88E0     		b	.L745
 10835              	.LVL1177:
 10836              	.L764:
 10837              		.loc 1 2785 5 view .LVU3150
 10838              	.LBE48:
2772:System/storage/Storage.c ****     }
 10839              		.loc 1 2772 9 is_stmt 1 view .LVU3151
 10840 005e 9649     		ldr	r1, .L775+8
 10841 0060 2846     		mov	r0, r5
 10842 0062 FFF7FEFF 		bl	shellPrint
 10843              	.LVL1178:
 10844 0066 DDE7     		b	.L743
 10845              	.L765:
2777:System/storage/Storage.c ****         return;
 10846              		.loc 1 2777 9 view .LVU3152
 10847 0068 9449     		ldr	r1, .L775+12
 10848 006a 2846     		mov	r0, r5
 10849 006c FFF7FEFF 		bl	shellPrint
 10850              	.LVL1179:
2778:System/storage/Storage.c ****     }
 10851              		.loc 1 2778 9 view .LVU3153
 10852 0070 07E0     		b	.L741
 10853              	.LVL1180:
 10854              	.L771:
 10855              	.LBB49:
2786:System/storage/Storage.c ****     {
2787:System/storage/Storage.c ****         shellPrint(shell_obj, "\t\t[tab page index : %d]\r\n", i);
2788:System/storage/Storage.c ****         shellPrint(shell_obj, "\t\t[tab page addr  : %d]\r\n", tab_addr);
2789:System/storage/Storage.c **** 
2790:System/storage/Storage.c ****         if (!Storage_ExtFlash_ParaSec_Read(tab_addr, page_data_tmp, singal_tab_size))
2791:System/storage/Storage.c ****         {
2792:System/storage/Storage.c ****             shellPrint(shell_obj, "[...tab address read error...]\r\n");
 10856              		.loc 1 2792 13 view .LVU3154
 10857 0072 9349     		ldr	r1, .L775+16
 10858 0074 2846     		mov	r0, r5
 10859 0076 FFF7FEFF 		bl	shellPrint
 10860              	.LVL1181:
2793:System/storage/Storage.c ****             shellPrint(shell_obj, "[............ halt ..........]\r\n");
 10861              		.loc 1 2793 13 view .LVU3155
 10862 007a 9249     		ldr	r1, .L775+20
 10863 007c 2846     		mov	r0, r5
 10864 007e FFF7FEFF 		bl	shellPrint
 10865              	.LVL1182:
2794:System/storage/Storage.c ****             return;
 10866              		.loc 1 2794 13 view .LVU3156
 10867              	.L741:
 10868              		.loc 1 2794 13 is_stmt 0 view .LVU3157
 10869              	.LBE49:
2795:System/storage/Storage.c ****         }
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 298


2796:System/storage/Storage.c ****         else
2797:System/storage/Storage.c ****         {
2798:System/storage/Storage.c ****             /* dump raw tab */
2799:System/storage/Storage.c ****             for (uint16_t t = 0; t < (singal_tab_size / 16); t++)
2800:System/storage/Storage.c ****             {
2801:System/storage/Storage.c ****                 shellPrint(shell_obj, "[");
2802:System/storage/Storage.c ****                 for (uint8_t t_i = 0; t_i < 4; t_i++)
2803:System/storage/Storage.c ****                     shellPrint(shell_obj, " %08x ", *((uint32_t *)&page_data_tmp[(t_i * 4) + (t * 1
2804:System/storage/Storage.c ****                 shellPrint(shell_obj, "]\r\n");
2805:System/storage/Storage.c ****             }
2806:System/storage/Storage.c **** 
2807:System/storage/Storage.c ****             /* convert raw data to tab item list */
2808:System/storage/Storage.c ****             item_list = (Storage_Item_TypeDef *)page_data_tmp;
2809:System/storage/Storage.c ****             crc_error = 0;
2810:System/storage/Storage.c ****             for (uint8_t j = 0; j < item_per_tab; j++)
2811:System/storage/Storage.c ****             {
2812:System/storage/Storage.c ****                 if ((item_list[j].head_tag == STORAGE_ITEM_HEAD_TAG) && \
2813:System/storage/Storage.c ****                     (item_list[j].end_tag == STORAGE_ITEM_END_TAG))
2814:System/storage/Storage.c ****                 {
2815:System/storage/Storage.c ****                     crc_buf = ((uint8_t *)&item_list[j]) + sizeof(item_list[j].head_tag);
2816:System/storage/Storage.c ****                     crc_len = sizeof(Storage_Item_TypeDef);
2817:System/storage/Storage.c ****                     crc_len -= sizeof(item_list[j].head_tag);
2818:System/storage/Storage.c ****                     crc_len -= sizeof(item_list[j].end_tag);
2819:System/storage/Storage.c ****                     crc_len -= sizeof(item_list[j].crc16);
2820:System/storage/Storage.c ****                     crc = Common_CRC16(crc_buf, crc_len);
2821:System/storage/Storage.c **** 
2822:System/storage/Storage.c ****                     shellPrint(shell_obj, "\t\t[item class    : %d]\r\n", item_list[j]._class);
2823:System/storage/Storage.c ****                     shellPrint(shell_obj, "\t\t[item name     : %s]\r\n", item_list[j].name);
2824:System/storage/Storage.c ****                     shellPrint(shell_obj, "\t\t[item address  : %d]\r\n", item_list[j].data_addr);
2825:System/storage/Storage.c ****                     shellPrint(shell_obj, "\t\t[item data len : %d]\r\n", item_list[j].len);
2826:System/storage/Storage.c ****                     shellPrint(shell_obj, "\r\n");
2827:System/storage/Storage.c **** 
2828:System/storage/Storage.c ****                     if (crc == item_list[j].crc16)
2829:System/storage/Storage.c ****                     {
2830:System/storage/Storage.c ****                         if (memcmp(item_list[j].name, STORAGE_FREEITEM_NAME, strlen(STORAGE_FREEITE
2831:System/storage/Storage.c ****                         {
2832:System/storage/Storage.c ****                             free_item_num ++;
2833:System/storage/Storage.c ****                         }
2834:System/storage/Storage.c ****                         else
2835:System/storage/Storage.c ****                             matched_item_num ++;
2836:System/storage/Storage.c ****                     }
2837:System/storage/Storage.c ****                     else
2838:System/storage/Storage.c ****                     {
2839:System/storage/Storage.c ****                         crc_error ++;
2840:System/storage/Storage.c ****                         error_item_num ++;
2841:System/storage/Storage.c ****                     }
2842:System/storage/Storage.c ****                 }
2843:System/storage/Storage.c ****             }
2844:System/storage/Storage.c **** 
2845:System/storage/Storage.c ****             if (crc_error)
2846:System/storage/Storage.c ****                 shellPrint(shell_obj, "\t\t\t[error item num in tab : %d]\r\n", crc_error);
2847:System/storage/Storage.c ****         }
2848:System/storage/Storage.c **** 
2849:System/storage/Storage.c ****         tab_addr += singal_tab_size;
2850:System/storage/Storage.c ****     }
2851:System/storage/Storage.c ****  
2852:System/storage/Storage.c ****     shellPrint(shell_obj, "\t[all tab size          : %d]\r\n", p_Sec->tab_size);
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 299


2853:System/storage/Storage.c ****     shellPrint(shell_obj, "\t[singal tab size       : %d]\r\n", singal_tab_size);
2854:System/storage/Storage.c ****     shellPrint(shell_obj, "\t[item per tab          : %d]\r\n", item_per_tab);
2855:System/storage/Storage.c ****     shellPrint(shell_obj, "\t[tab start addr        : %d]\r\n", tab_addr);
2856:System/storage/Storage.c ****     shellPrint(shell_obj, "\t[tab address           : %d]\r\n", p_Sec->tab_addr);
2857:System/storage/Storage.c ****     shellPrint(shell_obj, "\t[tab page num          : %d]\r\n", p_Sec->page_num);
2858:System/storage/Storage.c ****     shellPrint(shell_obj, "\t[para num              : %d]\r\n", p_Sec->para_num);
2859:System/storage/Storage.c ****     shellPrint(shell_obj, "\t[para size             : %d]\r\n", p_Sec->para_size);
2860:System/storage/Storage.c ****     shellPrint(shell_obj, "\r\n");
2861:System/storage/Storage.c **** 
2862:System/storage/Storage.c ****     shellPrint(shell_obj, "\t[matched data item num : %d]\r\n", matched_item_num);
2863:System/storage/Storage.c ****     shellPrint(shell_obj, "\t[matched free item num : %d]\r\n", free_item_num);
2864:System/storage/Storage.c ****     shellPrint(shell_obj, "\t[error item num        : %d]\r\n", error_item_num);
2865:System/storage/Storage.c ****     
2866:System/storage/Storage.c ****     /* show free address */
2867:System/storage/Storage.c ****     if (!Storage_ExtFlash_ParaSec_Read(p_Sec->free_slot_addr, page_data_tmp, sizeof( Storage_FreeSl
2868:System/storage/Storage.c ****     {
2869:System/storage/Storage.c ****         shellPrint(shell_obj, "[Free slot info read failed]\r\n");
2870:System/storage/Storage.c ****         shellPrint(shell_obj, "[.......... halt ..........]\r\n");
2871:System/storage/Storage.c ****         return;
2872:System/storage/Storage.c ****     }
2873:System/storage/Storage.c **** 
2874:System/storage/Storage.c ****     p_FreeSlot = (Storage_FreeSlot_TypeDef *)page_data_tmp;
2875:System/storage/Storage.c ****     if ((p_FreeSlot->head_tag == STORAGE_SLOT_HEAD_TAG) && \
2876:System/storage/Storage.c ****         (p_FreeSlot->end_tag == STORAGE_SLOT_END_TAG))
2877:System/storage/Storage.c ****     {
2878:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[free slot address     : %d]\r\n", p_Sec->free_slot_addr);
2879:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[current free slot size: %d]\r\n", p_FreeSlot->cur_slot_size);
2880:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[next free slot address: %d]\r\n", p_FreeSlot->nxt_addr);
2881:System/storage/Storage.c ****     }
2882:System/storage/Storage.c ****     else
2883:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[free slot read error]\r\n");
2884:System/storage/Storage.c **** 
2885:System/storage/Storage.c ****     if (matched_item_num != p_Sec->para_num)
2886:System/storage/Storage.c ****         shellPrint(shell_obj, "[warnning stored parameter number]\r\n");
2887:System/storage/Storage.c **** 
2888:System/storage/Storage.c ****     shellPrint(shell_obj, "\r\n");
2889:System/storage/Storage.c **** }
 10870              		.loc 1 2889 1 view .LVU3158
 10871 0082 0BB0     		add	sp, sp, #44
 10872              	.LCFI119:
 10873              		.cfi_remember_state
 10874              		.cfi_def_cfa_offset 36
 10875              		@ sp needed
 10876 0084 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 10877              	.LVL1183:
 10878              	.L748:
 10879              	.LCFI120:
 10880              		.cfi_restore_state
 10881              	.LBB50:
 10882              	.LBB42:
 10883              	.LBB43:
2803:System/storage/Storage.c ****                 shellPrint(shell_obj, "]\r\n");
 10884              		.loc 1 2803 21 is_stmt 1 discriminator 3 view .LVU3159
2803:System/storage/Storage.c ****                 shellPrint(shell_obj, "]\r\n");
 10885              		.loc 1 2803 92 is_stmt 0 discriminator 3 view .LVU3160
 10886 0088 04EB8602 		add	r2, r4, r6, lsl #2
2803:System/storage/Storage.c ****                 shellPrint(shell_obj, "]\r\n");
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 300


 10887              		.loc 1 2803 21 discriminator 3 view .LVU3161
 10888 008c 8E4B     		ldr	r3, .L775+24
 10889 008e 53F82220 		ldr	r2, [r3, r2, lsl #2]
 10890 0092 8E49     		ldr	r1, .L775+28
 10891 0094 2846     		mov	r0, r5
 10892 0096 FFF7FEFF 		bl	shellPrint
 10893              	.LVL1184:
2802:System/storage/Storage.c ****                     shellPrint(shell_obj, " %08x ", *((uint32_t *)&page_data_tmp[(t_i * 4) + (t * 1
 10894              		.loc 1 2802 48 is_stmt 1 discriminator 3 view .LVU3162
2802:System/storage/Storage.c ****                     shellPrint(shell_obj, " %08x ", *((uint32_t *)&page_data_tmp[(t_i * 4) + (t * 1
 10895              		.loc 1 2802 51 is_stmt 0 discriminator 3 view .LVU3163
 10896 009a 0134     		adds	r4, r4, #1
 10897              	.LVL1185:
2802:System/storage/Storage.c ****                     shellPrint(shell_obj, " %08x ", *((uint32_t *)&page_data_tmp[(t_i * 4) + (t * 1
 10898              		.loc 1 2802 51 discriminator 3 view .LVU3164
 10899 009c E4B2     		uxtb	r4, r4
 10900              	.LVL1186:
 10901              	.L747:
2802:System/storage/Storage.c ****                     shellPrint(shell_obj, " %08x ", *((uint32_t *)&page_data_tmp[(t_i * 4) + (t * 1
 10902              		.loc 1 2802 39 is_stmt 1 discriminator 1 view .LVU3165
2802:System/storage/Storage.c ****                     shellPrint(shell_obj, " %08x ", *((uint32_t *)&page_data_tmp[(t_i * 4) + (t * 1
 10903              		.loc 1 2802 17 is_stmt 0 discriminator 1 view .LVU3166
 10904 009e 032C     		cmp	r4, #3
 10905 00a0 F2D9     		bls	.L748
 10906              	.LBE43:
2804:System/storage/Storage.c ****             }
 10907              		.loc 1 2804 17 is_stmt 1 discriminator 2 view .LVU3167
 10908 00a2 8B49     		ldr	r1, .L775+32
 10909 00a4 2846     		mov	r0, r5
 10910 00a6 FFF7FEFF 		bl	shellPrint
 10911              	.LVL1187:
2799:System/storage/Storage.c ****             {
 10912              		.loc 1 2799 62 discriminator 2 view .LVU3168
2799:System/storage/Storage.c ****             {
 10913              		.loc 1 2799 63 is_stmt 0 discriminator 2 view .LVU3169
 10914 00aa 0136     		adds	r6, r6, #1
 10915              	.LVL1188:
2799:System/storage/Storage.c ****             {
 10916              		.loc 1 2799 63 discriminator 2 view .LVU3170
 10917 00ac B6B2     		uxth	r6, r6
 10918              	.LVL1189:
 10919              	.L746:
2799:System/storage/Storage.c ****             {
 10920              		.loc 1 2799 34 is_stmt 1 discriminator 1 view .LVU3171
2799:System/storage/Storage.c ****             {
 10921              		.loc 1 2799 13 is_stmt 0 discriminator 1 view .LVU3172
 10922 00ae B6EB181F 		cmp	r6, r8, lsr #4
 10923 00b2 05D2     		bcs	.L766
2801:System/storage/Storage.c ****                 for (uint8_t t_i = 0; t_i < 4; t_i++)
 10924              		.loc 1 2801 17 is_stmt 1 view .LVU3173
 10925 00b4 8749     		ldr	r1, .L775+36
 10926 00b6 2846     		mov	r0, r5
 10927 00b8 FFF7FEFF 		bl	shellPrint
 10928              	.LVL1190:
2802:System/storage/Storage.c ****                     shellPrint(shell_obj, " %08x ", *((uint32_t *)&page_data_tmp[(t_i * 4) + (t * 1
 10929              		.loc 1 2802 17 view .LVU3174
 10930              	.LBB44:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 301


2802:System/storage/Storage.c ****                     shellPrint(shell_obj, " %08x ", *((uint32_t *)&page_data_tmp[(t_i * 4) + (t * 1
 10931              		.loc 1 2802 22 view .LVU3175
2802:System/storage/Storage.c ****                     shellPrint(shell_obj, " %08x ", *((uint32_t *)&page_data_tmp[(t_i * 4) + (t * 1
 10932              		.loc 1 2802 30 is_stmt 0 view .LVU3176
 10933 00bc 0024     		movs	r4, #0
2802:System/storage/Storage.c ****                     shellPrint(shell_obj, " %08x ", *((uint32_t *)&page_data_tmp[(t_i * 4) + (t * 1
 10934              		.loc 1 2802 17 view .LVU3177
 10935 00be EEE7     		b	.L747
 10936              	.LVL1191:
 10937              	.L766:
2802:System/storage/Storage.c ****                     shellPrint(shell_obj, " %08x ", *((uint32_t *)&page_data_tmp[(t_i * 4) + (t * 1
 10938              		.loc 1 2802 17 view .LVU3178
 10939              	.LBE44:
 10940              	.LBE42:
 10941              	.LBB45:
2810:System/storage/Storage.c ****             {
 10942              		.loc 1 2810 26 view .LVU3179
 10943 00c0 0024     		movs	r4, #0
 10944              	.LBE45:
2809:System/storage/Storage.c ****             for (uint8_t j = 0; j < item_per_tab; j++)
 10945              		.loc 1 2809 23 view .LVU3180
 10946 00c2 0194     		str	r4, [sp, #4]
 10947 00c4 0BE0     		b	.L750
 10948              	.LVL1192:
 10949              	.L768:
 10950              	.LBB46:
2830:System/storage/Storage.c ****                         {
 10951              		.loc 1 2830 25 is_stmt 1 view .LVU3181
2830:System/storage/Storage.c ****                         {
 10952              		.loc 1 2830 29 is_stmt 0 view .LVU3182
 10953 00c6 0E22     		movs	r2, #14
 10954 00c8 8349     		ldr	r1, .L775+40
 10955 00ca 0598     		ldr	r0, [sp, #20]
 10956 00cc FFF7FEFF 		bl	memcmp
 10957              	.LVL1193:
2830:System/storage/Storage.c ****                         {
 10958              		.loc 1 2830 28 view .LVU3183
 10959 00d0 0028     		cmp	r0, #0
 10960 00d2 42D1     		bne	.L753
2832:System/storage/Storage.c ****                         }
 10961              		.loc 1 2832 29 is_stmt 1 view .LVU3184
2832:System/storage/Storage.c ****                         }
 10962              		.loc 1 2832 43 is_stmt 0 view .LVU3185
 10963 00d4 079B     		ldr	r3, [sp, #28]
 10964 00d6 0133     		adds	r3, r3, #1
 10965 00d8 0793     		str	r3, [sp, #28]
 10966              	.LVL1194:
 10967              	.L751:
2810:System/storage/Storage.c ****             {
 10968              		.loc 1 2810 51 is_stmt 1 discriminator 2 view .LVU3186
2810:System/storage/Storage.c ****             {
 10969              		.loc 1 2810 52 is_stmt 0 discriminator 2 view .LVU3187
 10970 00da 0134     		adds	r4, r4, #1
 10971              	.LVL1195:
2810:System/storage/Storage.c ****             {
 10972              		.loc 1 2810 52 discriminator 2 view .LVU3188
 10973 00dc E4B2     		uxtb	r4, r4
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 302


 10974              	.LVL1196:
 10975              	.L750:
2810:System/storage/Storage.c ****             {
 10976              		.loc 1 2810 33 is_stmt 1 discriminator 1 view .LVU3189
2810:System/storage/Storage.c ****             {
 10977              		.loc 1 2810 13 is_stmt 0 discriminator 1 view .LVU3190
 10978 00de BC42     		cmp	r4, r7
 10979 00e0 3FD2     		bcs	.L767
2812:System/storage/Storage.c ****                     (item_list[j].end_tag == STORAGE_ITEM_END_TAG))
 10980              		.loc 1 2812 17 is_stmt 1 view .LVU3191
2812:System/storage/Storage.c ****                     (item_list[j].end_tag == STORAGE_ITEM_END_TAG))
 10981              		.loc 1 2812 31 is_stmt 0 view .LVU3192
 10982 00e2 A201     		lsls	r2, r4, #6
 10983 00e4 784B     		ldr	r3, .L775+24
 10984 00e6 03EB8416 		add	r6, r3, r4, lsl #6
2812:System/storage/Storage.c ****                     (item_list[j].end_tag == STORAGE_ITEM_END_TAG))
 10985              		.loc 1 2812 34 view .LVU3193
 10986 00ea D35C     		ldrb	r3, [r2, r3]	@ zero_extendqisi2
2812:System/storage/Storage.c ****                     (item_list[j].end_tag == STORAGE_ITEM_END_TAG))
 10987              		.loc 1 2812 20 view .LVU3194
 10988 00ec AA2B     		cmp	r3, #170
 10989 00ee F4D1     		bne	.L751
2813:System/storage/Storage.c ****                 {
 10990              		.loc 1 2813 34 discriminator 1 view .LVU3195
 10991 00f0 96F83F30 		ldrb	r3, [r6, #63]	@ zero_extendqisi2
2812:System/storage/Storage.c ****                     (item_list[j].end_tag == STORAGE_ITEM_END_TAG))
 10992              		.loc 1 2812 70 discriminator 1 view .LVU3196
 10993 00f4 BB2B     		cmp	r3, #187
 10994 00f6 F0D1     		bne	.L751
2815:System/storage/Storage.c ****                     crc_len = sizeof(Storage_Item_TypeDef);
 10995              		.loc 1 2815 21 is_stmt 1 view .LVU3197
2815:System/storage/Storage.c ****                     crc_len = sizeof(Storage_Item_TypeDef);
 10996              		.loc 1 2815 29 is_stmt 0 view .LVU3198
 10997 00f8 0132     		adds	r2, r2, #1
 10998              	.LVL1197:
2816:System/storage/Storage.c ****                     crc_len -= sizeof(item_list[j].head_tag);
 10999              		.loc 1 2816 21 is_stmt 1 view .LVU3199
2817:System/storage/Storage.c ****                     crc_len -= sizeof(item_list[j].end_tag);
 11000              		.loc 1 2817 21 view .LVU3200
2818:System/storage/Storage.c ****                     crc_len -= sizeof(item_list[j].crc16);
 11001              		.loc 1 2818 21 view .LVU3201
2819:System/storage/Storage.c ****                     crc = Common_CRC16(crc_buf, crc_len);
 11002              		.loc 1 2819 21 view .LVU3202
2820:System/storage/Storage.c **** 
 11003              		.loc 1 2820 21 view .LVU3203
2820:System/storage/Storage.c **** 
 11004              		.loc 1 2820 27 is_stmt 0 view .LVU3204
 11005 00fa 3C21     		movs	r1, #60
 11006 00fc 7248     		ldr	r0, .L775+24
 11007 00fe 1044     		add	r0, r0, r2
 11008              	.LVL1198:
2820:System/storage/Storage.c **** 
 11009              		.loc 1 2820 27 view .LVU3205
 11010 0100 FFF7FEFF 		bl	Common_CRC16
 11011              	.LVL1199:
2820:System/storage/Storage.c **** 
 11012              		.loc 1 2820 25 view .LVU3206
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 303


 11013 0104 83B2     		uxth	r3, r0
 11014 0106 0393     		str	r3, [sp, #12]
 11015              	.LVL1200:
2822:System/storage/Storage.c ****                     shellPrint(shell_obj, "\t\t[item name     : %s]\r\n", item_list[j].name);
 11016              		.loc 1 2822 21 is_stmt 1 view .LVU3207
 11017 0108 7278     		ldrb	r2, [r6, #1]	@ zero_extendqisi2
 11018 010a 7449     		ldr	r1, .L775+44
 11019 010c 2846     		mov	r0, r5
 11020 010e FFF7FEFF 		bl	shellPrint
 11021              	.LVL1201:
2823:System/storage/Storage.c ****                     shellPrint(shell_obj, "\t\t[item address  : %d]\r\n", item_list[j].data_addr);
 11022              		.loc 1 2823 21 view .LVU3208
2823:System/storage/Storage.c ****                     shellPrint(shell_obj, "\t\t[item address  : %d]\r\n", item_list[j].data_addr);
 11023              		.loc 1 2823 87 is_stmt 0 view .LVU3209
 11024 0112 B31C     		adds	r3, r6, #2
 11025 0114 0593     		str	r3, [sp, #20]
2823:System/storage/Storage.c ****                     shellPrint(shell_obj, "\t\t[item address  : %d]\r\n", item_list[j].data_addr);
 11026              		.loc 1 2823 21 view .LVU3210
 11027 0116 1A46     		mov	r2, r3
 11028 0118 7149     		ldr	r1, .L775+48
 11029 011a 2846     		mov	r0, r5
 11030 011c FFF7FEFF 		bl	shellPrint
 11031              	.LVL1202:
2824:System/storage/Storage.c ****                     shellPrint(shell_obj, "\t\t[item data len : %d]\r\n", item_list[j].len);
 11032              		.loc 1 2824 21 is_stmt 1 view .LVU3211
 11033 0120 D6F82B20 		ldr	r2, [r6, #43]	@ unaligned
 11034 0124 6F49     		ldr	r1, .L775+52
 11035 0126 2846     		mov	r0, r5
 11036 0128 FFF7FEFF 		bl	shellPrint
 11037              	.LVL1203:
2825:System/storage/Storage.c ****                     shellPrint(shell_obj, "\r\n");
 11038              		.loc 1 2825 21 view .LVU3212
 11039 012c B6F82F20 		ldrh	r2, [r6, #47]	@ unaligned
 11040 0130 6D49     		ldr	r1, .L775+56
 11041 0132 2846     		mov	r0, r5
 11042 0134 FFF7FEFF 		bl	shellPrint
 11043              	.LVL1204:
2826:System/storage/Storage.c **** 
 11044              		.loc 1 2826 21 view .LVU3213
 11045 0138 6C49     		ldr	r1, .L775+60
 11046 013a 2846     		mov	r0, r5
 11047 013c FFF7FEFF 		bl	shellPrint
 11048              	.LVL1205:
2828:System/storage/Storage.c ****                     {
 11049              		.loc 1 2828 21 view .LVU3214
2828:System/storage/Storage.c ****                     {
 11050              		.loc 1 2828 44 is_stmt 0 view .LVU3215
 11051 0140 B6F83D30 		ldrh	r3, [r6, #61]	@ unaligned
2828:System/storage/Storage.c ****                     {
 11052              		.loc 1 2828 24 view .LVU3216
 11053 0144 039A     		ldr	r2, [sp, #12]
 11054 0146 9342     		cmp	r3, r2
 11055 0148 BDD0     		beq	.L768
2839:System/storage/Storage.c ****                         error_item_num ++;
 11056              		.loc 1 2839 25 is_stmt 1 view .LVU3217
2839:System/storage/Storage.c ****                         error_item_num ++;
 11057              		.loc 1 2839 35 is_stmt 0 view .LVU3218
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 304


 11058 014a 019B     		ldr	r3, [sp, #4]
 11059 014c 0133     		adds	r3, r3, #1
 11060 014e 9BB2     		uxth	r3, r3
 11061 0150 0193     		str	r3, [sp, #4]
 11062              	.LVL1206:
2840:System/storage/Storage.c ****                     }
 11063              		.loc 1 2840 25 is_stmt 1 view .LVU3219
2840:System/storage/Storage.c ****                     }
 11064              		.loc 1 2840 40 is_stmt 0 view .LVU3220
 11065 0152 049B     		ldr	r3, [sp, #16]
 11066 0154 0133     		adds	r3, r3, #1
 11067 0156 0493     		str	r3, [sp, #16]
 11068              	.LVL1207:
2840:System/storage/Storage.c ****                     }
 11069              		.loc 1 2840 40 view .LVU3221
 11070 0158 BFE7     		b	.L751
 11071              	.LVL1208:
 11072              	.L753:
2835:System/storage/Storage.c ****                     }
 11073              		.loc 1 2835 29 is_stmt 1 view .LVU3222
2835:System/storage/Storage.c ****                     }
 11074              		.loc 1 2835 46 is_stmt 0 view .LVU3223
 11075 015a 069B     		ldr	r3, [sp, #24]
 11076 015c 0133     		adds	r3, r3, #1
 11077 015e 0693     		str	r3, [sp, #24]
 11078              	.LVL1209:
2835:System/storage/Storage.c ****                     }
 11079              		.loc 1 2835 46 view .LVU3224
 11080 0160 BBE7     		b	.L751
 11081              	.LVL1210:
 11082              	.L767:
2835:System/storage/Storage.c ****                     }
 11083              		.loc 1 2835 46 view .LVU3225
 11084              	.LBE46:
2845:System/storage/Storage.c ****                 shellPrint(shell_obj, "\t\t\t[error item num in tab : %d]\r\n", crc_error);
 11085              		.loc 1 2845 13 is_stmt 1 view .LVU3226
2845:System/storage/Storage.c ****                 shellPrint(shell_obj, "\t\t\t[error item num in tab : %d]\r\n", crc_error);
 11086              		.loc 1 2845 16 is_stmt 0 view .LVU3227
 11087 0162 019B     		ldr	r3, [sp, #4]
 11088 0164 F3B9     		cbnz	r3, .L769
 11089              	.L755:
2849:System/storage/Storage.c ****     }
 11090              		.loc 1 2849 9 is_stmt 1 discriminator 2 view .LVU3228
2849:System/storage/Storage.c ****     }
 11091              		.loc 1 2849 18 is_stmt 0 discriminator 2 view .LVU3229
 11092 0166 D144     		add	r9, r9, r10
 11093              	.LVL1211:
2785:System/storage/Storage.c ****     {
 11094              		.loc 1 2785 46 is_stmt 1 discriminator 2 view .LVU3230
2785:System/storage/Storage.c ****     {
 11095              		.loc 1 2785 47 is_stmt 0 discriminator 2 view .LVU3231
 11096 0168 0BF1010B 		add	fp, fp, #1
 11097              	.LVL1212:
2785:System/storage/Storage.c ****     {
 11098              		.loc 1 2785 47 discriminator 2 view .LVU3232
 11099 016c 5FFA8BFB 		uxtb	fp, fp
 11100              	.LVL1213:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 305


 11101              	.L745:
2785:System/storage/Storage.c ****     {
 11102              		.loc 1 2785 25 is_stmt 1 discriminator 1 view .LVU3233
2785:System/storage/Storage.c ****     {
 11103              		.loc 1 2785 34 is_stmt 0 discriminator 1 view .LVU3234
 11104 0170 089B     		ldr	r3, [sp, #32]
 11105 0172 DA68     		ldr	r2, [r3, #12]	@ unaligned
2785:System/storage/Storage.c ****     {
 11106              		.loc 1 2785 5 discriminator 1 view .LVU3235
 11107 0174 9345     		cmp	fp, r2
 11108 0176 1BD2     		bcs	.L770
2787:System/storage/Storage.c ****         shellPrint(shell_obj, "\t\t[tab page addr  : %d]\r\n", tab_addr);
 11109              		.loc 1 2787 9 is_stmt 1 view .LVU3236
 11110 0178 5A46     		mov	r2, fp
 11111 017a 5D49     		ldr	r1, .L775+64
 11112 017c 2846     		mov	r0, r5
 11113 017e FFF7FEFF 		bl	shellPrint
 11114              	.LVL1214:
2788:System/storage/Storage.c **** 
 11115              		.loc 1 2788 9 view .LVU3237
 11116 0182 4A46     		mov	r2, r9
 11117 0184 5B49     		ldr	r1, .L775+68
 11118 0186 2846     		mov	r0, r5
 11119 0188 FFF7FEFF 		bl	shellPrint
 11120              	.LVL1215:
2790:System/storage/Storage.c ****         {
 11121              		.loc 1 2790 9 view .LVU3238
 11122 018c BDF808A0 		ldrh	r10, [sp, #8]
2790:System/storage/Storage.c ****         {
 11123              		.loc 1 2790 14 is_stmt 0 view .LVU3239
 11124 0190 5246     		mov	r2, r10
 11125 0192 4D49     		ldr	r1, .L775+24
 11126 0194 4846     		mov	r0, r9
 11127 0196 FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Read
 11128              	.LVL1216:
2790:System/storage/Storage.c ****         {
 11129              		.loc 1 2790 12 view .LVU3240
 11130 019a 0028     		cmp	r0, #0
 11131 019c 3FF469AF 		beq	.L771
 11132              	.LBB47:
2799:System/storage/Storage.c ****             {
 11133              		.loc 1 2799 27 view .LVU3241
 11134 01a0 0026     		movs	r6, #0
 11135 01a2 84E7     		b	.L746
 11136              	.LVL1217:
 11137              	.L769:
2799:System/storage/Storage.c ****             {
 11138              		.loc 1 2799 27 view .LVU3242
 11139              	.LBE47:
2846:System/storage/Storage.c ****         }
 11140              		.loc 1 2846 17 is_stmt 1 view .LVU3243
 11141 01a4 1A46     		mov	r2, r3
 11142 01a6 5449     		ldr	r1, .L775+72
 11143 01a8 2846     		mov	r0, r5
 11144 01aa FFF7FEFF 		bl	shellPrint
 11145              	.LVL1218:
 11146 01ae DAE7     		b	.L755
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 306


 11147              	.LVL1219:
 11148              	.L770:
2846:System/storage/Storage.c ****         }
 11149              		.loc 1 2846 17 is_stmt 0 view .LVU3244
 11150              	.LBE50:
2852:System/storage/Storage.c ****     shellPrint(shell_obj, "\t[singal tab size       : %d]\r\n", singal_tab_size);
 11151              		.loc 1 2852 5 is_stmt 1 view .LVU3245
 11152 01b0 1A69     		ldr	r2, [r3, #16]	@ unaligned
 11153 01b2 5249     		ldr	r1, .L775+76
 11154 01b4 2846     		mov	r0, r5
 11155 01b6 FFF7FEFF 		bl	shellPrint
 11156              	.LVL1220:
2853:System/storage/Storage.c ****     shellPrint(shell_obj, "\t[item per tab          : %d]\r\n", item_per_tab);
 11157              		.loc 1 2853 5 view .LVU3246
 11158 01ba BDF80820 		ldrh	r2, [sp, #8]
 11159 01be 5049     		ldr	r1, .L775+80
 11160 01c0 2846     		mov	r0, r5
 11161 01c2 FFF7FEFF 		bl	shellPrint
 11162              	.LVL1221:
2854:System/storage/Storage.c ****     shellPrint(shell_obj, "\t[tab start addr        : %d]\r\n", tab_addr);
 11163              		.loc 1 2854 5 view .LVU3247
 11164 01c6 3A46     		mov	r2, r7
 11165 01c8 4E49     		ldr	r1, .L775+84
 11166 01ca 2846     		mov	r0, r5
 11167 01cc FFF7FEFF 		bl	shellPrint
 11168              	.LVL1222:
2855:System/storage/Storage.c ****     shellPrint(shell_obj, "\t[tab address           : %d]\r\n", p_Sec->tab_addr);
 11169              		.loc 1 2855 5 view .LVU3248
 11170 01d0 4A46     		mov	r2, r9
 11171 01d2 4D49     		ldr	r1, .L775+88
 11172 01d4 2846     		mov	r0, r5
 11173 01d6 FFF7FEFF 		bl	shellPrint
 11174              	.LVL1223:
2856:System/storage/Storage.c ****     shellPrint(shell_obj, "\t[tab page num          : %d]\r\n", p_Sec->page_num);
 11175              		.loc 1 2856 5 view .LVU3249
 11176 01da 089B     		ldr	r3, [sp, #32]
 11177 01dc 1A68     		ldr	r2, [r3]	@ unaligned
 11178 01de 4B49     		ldr	r1, .L775+92
 11179 01e0 2846     		mov	r0, r5
 11180 01e2 FFF7FEFF 		bl	shellPrint
 11181              	.LVL1224:
2857:System/storage/Storage.c ****     shellPrint(shell_obj, "\t[para num              : %d]\r\n", p_Sec->para_num);
 11182              		.loc 1 2857 5 view .LVU3250
 11183 01e6 089B     		ldr	r3, [sp, #32]
 11184 01e8 DA68     		ldr	r2, [r3, #12]	@ unaligned
 11185 01ea 4949     		ldr	r1, .L775+96
 11186 01ec 2846     		mov	r0, r5
 11187 01ee FFF7FEFF 		bl	shellPrint
 11188              	.LVL1225:
2858:System/storage/Storage.c ****     shellPrint(shell_obj, "\t[para size             : %d]\r\n", p_Sec->para_size);
 11189              		.loc 1 2858 5 view .LVU3251
 11190 01f2 089B     		ldr	r3, [sp, #32]
 11191 01f4 1A6A     		ldr	r2, [r3, #32]	@ unaligned
 11192 01f6 4749     		ldr	r1, .L775+100
 11193 01f8 2846     		mov	r0, r5
 11194 01fa FFF7FEFF 		bl	shellPrint
 11195              	.LVL1226:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 307


2859:System/storage/Storage.c ****     shellPrint(shell_obj, "\r\n");
 11196              		.loc 1 2859 5 view .LVU3252
 11197 01fe 089B     		ldr	r3, [sp, #32]
 11198 0200 DA69     		ldr	r2, [r3, #28]	@ unaligned
 11199 0202 4549     		ldr	r1, .L775+104
 11200 0204 2846     		mov	r0, r5
 11201 0206 FFF7FEFF 		bl	shellPrint
 11202              	.LVL1227:
2860:System/storage/Storage.c **** 
 11203              		.loc 1 2860 5 view .LVU3253
 11204 020a 3849     		ldr	r1, .L775+60
 11205 020c 2846     		mov	r0, r5
 11206 020e FFF7FEFF 		bl	shellPrint
 11207              	.LVL1228:
2862:System/storage/Storage.c ****     shellPrint(shell_obj, "\t[matched free item num : %d]\r\n", free_item_num);
 11208              		.loc 1 2862 5 view .LVU3254
 11209 0212 069A     		ldr	r2, [sp, #24]
 11210 0214 4149     		ldr	r1, .L775+108
 11211 0216 2846     		mov	r0, r5
 11212 0218 FFF7FEFF 		bl	shellPrint
 11213              	.LVL1229:
2863:System/storage/Storage.c ****     shellPrint(shell_obj, "\t[error item num        : %d]\r\n", error_item_num);
 11214              		.loc 1 2863 5 view .LVU3255
 11215 021c 079A     		ldr	r2, [sp, #28]
 11216 021e 4049     		ldr	r1, .L775+112
 11217 0220 2846     		mov	r0, r5
 11218 0222 FFF7FEFF 		bl	shellPrint
 11219              	.LVL1230:
2864:System/storage/Storage.c ****     
 11220              		.loc 1 2864 5 view .LVU3256
 11221 0226 049A     		ldr	r2, [sp, #16]
 11222 0228 3E49     		ldr	r1, .L775+116
 11223 022a 2846     		mov	r0, r5
 11224 022c FFF7FEFF 		bl	shellPrint
 11225              	.LVL1231:
2867:System/storage/Storage.c ****     {
 11226              		.loc 1 2867 5 view .LVU3257
2867:System/storage/Storage.c ****     {
 11227              		.loc 1 2867 10 is_stmt 0 view .LVU3258
 11228 0230 1022     		movs	r2, #16
 11229 0232 2549     		ldr	r1, .L775+24
 11230 0234 089B     		ldr	r3, [sp, #32]
 11231 0236 5869     		ldr	r0, [r3, #20]	@ unaligned
 11232 0238 FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Read
 11233              	.LVL1232:
2867:System/storage/Storage.c ****     {
 11234              		.loc 1 2867 8 view .LVU3259
 11235 023c B8B1     		cbz	r0, .L772
2874:System/storage/Storage.c ****     if ((p_FreeSlot->head_tag == STORAGE_SLOT_HEAD_TAG) && \
 11236              		.loc 1 2874 5 is_stmt 1 view .LVU3260
 11237              	.LVL1233:
2875:System/storage/Storage.c ****         (p_FreeSlot->end_tag == STORAGE_SLOT_END_TAG))
 11238              		.loc 1 2875 5 view .LVU3261
2875:System/storage/Storage.c ****         (p_FreeSlot->end_tag == STORAGE_SLOT_END_TAG))
 11239              		.loc 1 2875 20 is_stmt 0 view .LVU3262
 11240 023e 224B     		ldr	r3, .L775+24
 11241 0240 1A68     		ldr	r2, [r3]
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 308


2875:System/storage/Storage.c ****         (p_FreeSlot->end_tag == STORAGE_SLOT_END_TAG))
 11242              		.loc 1 2875 8 view .LVU3263
 11243 0242 394B     		ldr	r3, .L775+120
 11244 0244 9A42     		cmp	r2, r3
 11245 0246 04D1     		bne	.L758
2876:System/storage/Storage.c ****     {
 11246              		.loc 1 2876 20 discriminator 1 view .LVU3264
 11247 0248 1F4B     		ldr	r3, .L775+24
 11248 024a DA68     		ldr	r2, [r3, #12]
2875:System/storage/Storage.c ****         (p_FreeSlot->end_tag == STORAGE_SLOT_END_TAG))
 11249              		.loc 1 2875 57 discriminator 1 view .LVU3265
 11250 024c 374B     		ldr	r3, .L775+124
 11251 024e 9A42     		cmp	r2, r3
 11252 0250 16D0     		beq	.L773
 11253              	.L758:
2883:System/storage/Storage.c **** 
 11254              		.loc 1 2883 9 is_stmt 1 view .LVU3266
 11255 0252 3749     		ldr	r1, .L775+128
 11256 0254 2846     		mov	r0, r5
 11257 0256 FFF7FEFF 		bl	shellPrint
 11258              	.LVL1234:
 11259              	.L759:
2885:System/storage/Storage.c ****         shellPrint(shell_obj, "[warnning stored parameter number]\r\n");
 11260              		.loc 1 2885 5 view .LVU3267
2885:System/storage/Storage.c ****         shellPrint(shell_obj, "[warnning stored parameter number]\r\n");
 11261              		.loc 1 2885 34 is_stmt 0 view .LVU3268
 11262 025a 089B     		ldr	r3, [sp, #32]
 11263 025c 1B6A     		ldr	r3, [r3, #32]	@ unaligned
2885:System/storage/Storage.c ****         shellPrint(shell_obj, "[warnning stored parameter number]\r\n");
 11264              		.loc 1 2885 8 view .LVU3269
 11265 025e 069A     		ldr	r2, [sp, #24]
 11266 0260 9342     		cmp	r3, r2
 11267 0262 1FD1     		bne	.L774
 11268              	.L760:
2888:System/storage/Storage.c **** }
 11269              		.loc 1 2888 5 is_stmt 1 view .LVU3270
 11270 0264 2149     		ldr	r1, .L775+60
 11271 0266 2846     		mov	r0, r5
 11272 0268 FFF7FEFF 		bl	shellPrint
 11273              	.LVL1235:
 11274 026c 09E7     		b	.L741
 11275              	.LVL1236:
 11276              	.L772:
2869:System/storage/Storage.c ****         shellPrint(shell_obj, "[.......... halt ..........]\r\n");
 11277              		.loc 1 2869 9 view .LVU3271
 11278 026e 3149     		ldr	r1, .L775+132
 11279 0270 2846     		mov	r0, r5
 11280 0272 FFF7FEFF 		bl	shellPrint
 11281              	.LVL1237:
2870:System/storage/Storage.c ****         return;
 11282              		.loc 1 2870 9 view .LVU3272
 11283 0276 3049     		ldr	r1, .L775+136
 11284 0278 2846     		mov	r0, r5
 11285 027a FFF7FEFF 		bl	shellPrint
 11286              	.LVL1238:
2871:System/storage/Storage.c ****     }
 11287              		.loc 1 2871 9 view .LVU3273
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 309


 11288 027e 00E7     		b	.L741
 11289              	.LVL1239:
 11290              	.L773:
2878:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[current free slot size: %d]\r\n", p_FreeSlot->cur_slot_size);
 11291              		.loc 1 2878 9 view .LVU3274
 11292 0280 089B     		ldr	r3, [sp, #32]
 11293 0282 5A69     		ldr	r2, [r3, #20]	@ unaligned
 11294 0284 2D49     		ldr	r1, .L775+140
 11295 0286 2846     		mov	r0, r5
 11296 0288 FFF7FEFF 		bl	shellPrint
 11297              	.LVL1240:
2879:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[next free slot address: %d]\r\n", p_FreeSlot->nxt_addr);
 11298              		.loc 1 2879 9 view .LVU3275
 11299 028c 0E4C     		ldr	r4, .L775+24
 11300 028e 6268     		ldr	r2, [r4, #4]
 11301 0290 2B49     		ldr	r1, .L775+144
 11302 0292 2846     		mov	r0, r5
 11303 0294 FFF7FEFF 		bl	shellPrint
 11304              	.LVL1241:
2880:System/storage/Storage.c ****     }
 11305              		.loc 1 2880 9 view .LVU3276
 11306 0298 A268     		ldr	r2, [r4, #8]
 11307 029a 2A49     		ldr	r1, .L775+148
 11308 029c 2846     		mov	r0, r5
 11309 029e FFF7FEFF 		bl	shellPrint
 11310              	.LVL1242:
 11311 02a2 DAE7     		b	.L759
 11312              	.L774:
2886:System/storage/Storage.c **** 
 11313              		.loc 1 2886 9 view .LVU3277
 11314 02a4 2849     		ldr	r1, .L775+152
 11315 02a6 2846     		mov	r0, r5
 11316 02a8 FFF7FEFF 		bl	shellPrint
 11317              	.LVL1243:
 11318 02ac DAE7     		b	.L760
 11319              	.L776:
 11320 02ae 00BF     		.align	2
 11321              	.L775:
 11322 02b0 00000000 		.word	.LC152
 11323 02b4 00000000 		.word	.LANCHOR0
 11324 02b8 20000000 		.word	.LC55
 11325 02bc 20000000 		.word	.LC118
 11326 02c0 5C000000 		.word	.LC155
 11327 02c4 80000000 		.word	.LC156
 11328 02c8 00000000 		.word	page_data_tmp
 11329 02cc A8000000 		.word	.LC158
 11330 02d0 D4010000 		.word	.LC145
 11331 02d4 A4000000 		.word	.LC157
 11332 02d8 00000000 		.word	.LC37
 11333 02dc B0000000 		.word	.LC159
 11334 02e0 CC000000 		.word	.LC160
 11335 02e4 E8000000 		.word	.LC161
 11336 02e8 04010000 		.word	.LC162
 11337 02ec 58000000 		.word	.LC67
 11338 02f0 24000000 		.word	.LC153
 11339 02f4 40000000 		.word	.LC154
 11340 02f8 20010000 		.word	.LC163
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 310


 11341 02fc 44010000 		.word	.LC164
 11342 0300 64010000 		.word	.LC165
 11343 0304 84010000 		.word	.LC166
 11344 0308 A4010000 		.word	.LC167
 11345 030c C4010000 		.word	.LC168
 11346 0310 E4010000 		.word	.LC169
 11347 0314 04020000 		.word	.LC170
 11348 0318 24020000 		.word	.LC171
 11349 031c 44020000 		.word	.LC172
 11350 0320 64020000 		.word	.LC173
 11351 0324 84020000 		.word	.LC174
 11352 0328 EF1001EF 		.word	-285142801
 11353 032c FE0110FE 		.word	-32505346
 11354 0330 44030000 		.word	.LC180
 11355 0334 A4020000 		.word	.LC175
 11356 0338 C4020000 		.word	.LC176
 11357 033c E4020000 		.word	.LC177
 11358 0340 04030000 		.word	.LC178
 11359 0344 24030000 		.word	.LC179
 11360 0348 60030000 		.word	.LC181
 11361              		.cfi_endproc
 11362              	.LFE192:
 11364              		.section	.rodata.Storage_Dump_DataSection.str1.4,"aMS",%progbits,1
 11365              		.align	2
 11366              	.LC182:
 11367 0000 5B53746F 		.ascii	"[Storage Shell] Dump Data Section\015\012\000"
 11367      72616765 
 11367      20536865 
 11367      6C6C5D20 
 11367      44756D70 
 11368              		.align	2
 11369              	.LC183:
 11370 0024 09446174 		.ascii	"\011Data Section Address : %d\015\012\000"
 11370      61205365 
 11370      6374696F 
 11370      6E204164 
 11370      64726573 
 11371 0041 000000   		.align	2
 11372              	.LC184:
 11373 0044 0944756D 		.ascii	"\011Dump Size            : %d\015\012\000"
 11373      70205369 
 11373      7A652020 
 11373      20202020 
 11373      20202020 
 11374 0061 000000   		.align	2
 11375              	.LC185:
 11376 0064 09446174 		.ascii	"\011Data Section Read Error\015\012\000"
 11376      61205365 
 11376      6374696F 
 11376      6E205265 
 11376      61642045 
 11377 007f 00       		.align	2
 11378              	.LC186:
 11379 0080 0968616C 		.ascii	"\011halt\015\012\000"
 11379      740D0A00 
 11380              		.section	.text.Storage_Dump_DataSection,"ax",%progbits
 11381              		.align	1
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 311


 11382              		.syntax unified
 11383              		.thumb
 11384              		.thumb_func
 11386              	Storage_Dump_DataSection:
 11387              	.LVL1244:
 11388              	.LFB193:
2890:System/storage/Storage.c **** SHELL_EXPORT_CMD(SHELL_CMD_PERMISSION(0) | SHELL_CMD_TYPE(SHELL_TYPE_CMD_FUNC) | SHELL_CMD_DISABLE_
2891:System/storage/Storage.c **** 
2892:System/storage/Storage.c **** static void Storage_Dump_DataSection(Storage_ParaClassType_List class)
2893:System/storage/Storage.c **** {
 11389              		.loc 1 2893 1 view -0
 11390              		.cfi_startproc
 11391              		@ args = 0, pretend = 0, frame = 40
 11392              		@ frame_needed = 0, uses_anonymous_args = 0
 11393              		.loc 1 2893 1 is_stmt 0 view .LVU3279
 11394 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 11395              	.LCFI121:
 11396              		.cfi_def_cfa_offset 32
 11397              		.cfi_offset 4, -32
 11398              		.cfi_offset 5, -28
 11399              		.cfi_offset 6, -24
 11400              		.cfi_offset 7, -20
 11401              		.cfi_offset 8, -16
 11402              		.cfi_offset 9, -12
 11403              		.cfi_offset 10, -8
 11404              		.cfi_offset 14, -4
 11405 0004 8AB0     		sub	sp, sp, #40
 11406              	.LCFI122:
 11407              		.cfi_def_cfa_offset 72
 11408 0006 0446     		mov	r4, r0
2894:System/storage/Storage.c ****     uint32_t flash_sector_size = 0;
 11409              		.loc 1 2894 5 is_stmt 1 view .LVU3280
 11410              	.LVL1245:
2895:System/storage/Storage.c ****     uint32_t remain_dump_size = 0;
 11411              		.loc 1 2895 5 view .LVU3281
2896:System/storage/Storage.c ****     uint32_t dump_size = 0;
 11412              		.loc 1 2896 5 view .LVU3282
2897:System/storage/Storage.c ****     uint32_t dump_addr = 0;
 11413              		.loc 1 2897 5 view .LVU3283
2898:System/storage/Storage.c ****     Storage_FlashInfo_TypeDef *p_Flash = NULL;
 11414              		.loc 1 2898 5 view .LVU3284
 11415              		.loc 1 2898 32 is_stmt 0 view .LVU3285
 11416 0008 0023     		movs	r3, #0
 11417 000a 0293     		str	r3, [sp, #8]
2899:System/storage/Storage.c ****     Storage_BaseSecInfo_TypeDef *p_Sec = NULL;
 11418              		.loc 1 2899 5 is_stmt 1 view .LVU3286
 11419              		.loc 1 2899 34 is_stmt 0 view .LVU3287
 11420 000c 0193     		str	r3, [sp, #4]
2900:System/storage/Storage.c ****     Shell *shell_obj = Shell_GetInstence();
 11421              		.loc 1 2900 5 is_stmt 1 view .LVU3288
 11422              		.loc 1 2900 24 is_stmt 0 view .LVU3289
 11423 000e FFF7FEFF 		bl	Shell_GetInstence
 11424              	.LVL1246:
2901:System/storage/Storage.c ****     StorageDevObj_TypeDef *ext_dev = NULL;
 11425              		.loc 1 2901 5 is_stmt 1 view .LVU3290
2902:System/storage/Storage.c **** 
2903:System/storage/Storage.c ****     if (shell_obj == NULL)
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 312


 11426              		.loc 1 2903 5 view .LVU3291
 11427              		.loc 1 2903 8 is_stmt 0 view .LVU3292
 11428 0012 F8B1     		cbz	r0, .L777
 11429 0014 0646     		mov	r6, r0
2904:System/storage/Storage.c ****         return;
2905:System/storage/Storage.c ****     
2906:System/storage/Storage.c ****     shellPrint(shell_obj, "[Storage Shell] Dump Data Section\r\n");
 11430              		.loc 1 2906 5 is_stmt 1 view .LVU3293
 11431 0016 3B49     		ldr	r1, .L801
 11432 0018 FFF7FEFF 		bl	shellPrint
 11433              	.LVL1247:
2907:System/storage/Storage.c ****     if (!Storage_Monitor.init_state)
 11434              		.loc 1 2907 5 view .LVU3294
 11435              		.loc 1 2907 25 is_stmt 0 view .LVU3295
 11436 001c 3A4B     		ldr	r3, .L801+4
 11437 001e 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 11438              		.loc 1 2907 8 view .LVU3296
 11439 0020 A3B1     		cbz	r3, .L796
2908:System/storage/Storage.c ****     {
2909:System/storage/Storage.c ****         shellPrint(shell_obj, "\thalt by init state\r\n");
2910:System/storage/Storage.c ****         return;
2911:System/storage/Storage.c ****     }
2912:System/storage/Storage.c **** 
2913:System/storage/Storage.c ****     if (!Storage_Get_Flash_Section_IOAPI(shell_obj, class, &p_Flash, &p_Sec))
 11440              		.loc 1 2913 5 is_stmt 1 view .LVU3297
 11441              		.loc 1 2913 10 is_stmt 0 view .LVU3298
 11442 0022 01AB     		add	r3, sp, #4
 11443 0024 02AA     		add	r2, sp, #8
 11444 0026 2146     		mov	r1, r4
 11445 0028 3046     		mov	r0, r6
 11446 002a FFF7FEFF 		bl	Storage_Get_Flash_Section_IOAPI
 11447              	.LVL1248:
 11448              		.loc 1 2913 8 view .LVU3299
 11449 002e A0B1     		cbz	r0, .L797
2914:System/storage/Storage.c ****     {
2915:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[Flash Section IO_API Get Error]\r\n");
2916:System/storage/Storage.c ****         return;
2917:System/storage/Storage.c ****     }
2918:System/storage/Storage.c **** 
2919:System/storage/Storage.c ****     if (Storage_Monitor.ExtDev_ptr)
 11450              		.loc 1 2919 5 is_stmt 1 view .LVU3300
 11451              		.loc 1 2919 24 is_stmt 0 view .LVU3301
 11452 0030 354B     		ldr	r3, .L801+4
 11453 0032 9B68     		ldr	r3, [r3, #8]
 11454              		.loc 1 2919 8 view .LVU3302
 11455 0034 F3B1     		cbz	r3, .L791
2920:System/storage/Storage.c ****     {
2921:System/storage/Storage.c ****         ext_dev = (StorageDevObj_TypeDef *)Storage_Monitor.ExtDev_ptr;
 11456              		.loc 1 2921 9 is_stmt 1 view .LVU3303
 11457              	.LVL1249:
2922:System/storage/Storage.c ****         if (ext_dev->chip_type == Storage_ChipType_W25Qxx)
 11458              		.loc 1 2922 9 view .LVU3304
 11459              		.loc 1 2922 20 is_stmt 0 view .LVU3305
 11460 0036 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
 11461              		.loc 1 2922 12 view .LVU3306
 11462 0038 012A     		cmp	r2, #1
 11463 003a 13D0     		beq	.L798
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 313


2894:System/storage/Storage.c ****     uint32_t remain_dump_size = 0;
 11464              		.loc 1 2894 14 view .LVU3307
 11465 003c 4FF0000A 		mov	r10, #0
 11466              	.LVL1250:
 11467              	.L781:
2923:System/storage/Storage.c ****         {
2924:System/storage/Storage.c ****             flash_sector_size = To_DevW25Qxx_API(ext_dev->api)->info(ext_dev->obj).subsector_size;
2925:System/storage/Storage.c ****         }
2926:System/storage/Storage.c ****     }
2927:System/storage/Storage.c **** 
2928:System/storage/Storage.c ****     remain_dump_size = p_Sec->data_sec_size;
 11468              		.loc 1 2928 5 is_stmt 1 view .LVU3308
 11469              		.loc 1 2928 29 is_stmt 0 view .LVU3309
 11470 0040 019B     		ldr	r3, [sp, #4]
 11471              		.loc 1 2928 22 view .LVU3310
 11472 0042 D3F80880 		ldr	r8, [r3, #8]	@ unaligned
 11473              	.LVL1251:
2929:System/storage/Storage.c ****     dump_size = remain_dump_size;
 11474              		.loc 1 2929 5 is_stmt 1 view .LVU3311
2930:System/storage/Storage.c ****     dump_addr = p_Sec->data_sec_addr;
 11475              		.loc 1 2930 5 view .LVU3312
 11476              		.loc 1 2930 15 is_stmt 0 view .LVU3313
 11477 0046 D3F80490 		ldr	r9, [r3, #4]	@ unaligned
 11478              	.LVL1252:
2931:System/storage/Storage.c ****     while(remain_dump_size)
 11479              		.loc 1 2931 5 is_stmt 1 view .LVU3314
 11480              		.loc 1 2931 10 is_stmt 0 view .LVU3315
 11481 004a 4CE0     		b	.L782
 11482              	.LVL1253:
 11483              	.L796:
2909:System/storage/Storage.c ****         return;
 11484              		.loc 1 2909 9 is_stmt 1 view .LVU3316
 11485 004c 2F49     		ldr	r1, .L801+8
 11486 004e 3046     		mov	r0, r6
 11487 0050 FFF7FEFF 		bl	shellPrint
 11488              	.LVL1254:
2910:System/storage/Storage.c ****     }
 11489              		.loc 1 2910 9 view .LVU3317
 11490              	.L777:
2932:System/storage/Storage.c ****     {
2933:System/storage/Storage.c ****         if (dump_size >= flash_sector_size)
2934:System/storage/Storage.c ****             dump_size = flash_sector_size;
2935:System/storage/Storage.c **** 
2936:System/storage/Storage.c ****         if (!Storage_ExtFlash_ParaSec_Read(dump_addr, page_data_tmp, dump_size))
2937:System/storage/Storage.c ****         {
2938:System/storage/Storage.c ****             shellPrint(shell_obj, "\tData Section Address : %d\r\n", dump_addr);
2939:System/storage/Storage.c ****             shellPrint(shell_obj, "\tDump Size            : %d\r\n", dump_size);
2940:System/storage/Storage.c ****             shellPrint(shell_obj, "\tData Section Read Error\r\n");
2941:System/storage/Storage.c ****             shellPrint(shell_obj, "\thalt\r\n");
2942:System/storage/Storage.c ****             return;
2943:System/storage/Storage.c ****         }
2944:System/storage/Storage.c **** 
2945:System/storage/Storage.c ****         for (uint16_t i = 0; i < (dump_size / 16); i++)
2946:System/storage/Storage.c ****         {
2947:System/storage/Storage.c ****             shellPrint(shell_obj, "[");
2948:System/storage/Storage.c ****             for (uint8_t j = 0; j < 4; j++)
2949:System/storage/Storage.c ****                 shellPrint(shell_obj, " %08x ", *((uint32_t *)&page_data_tmp[(i * 16) + (j * 4)]));
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 314


2950:System/storage/Storage.c ****             shellPrint(shell_obj, "]\r\n");
2951:System/storage/Storage.c ****         }
2952:System/storage/Storage.c **** 
2953:System/storage/Storage.c ****         dump_addr += dump_size;
2954:System/storage/Storage.c ****         if (remain_dump_size >= dump_size)
2955:System/storage/Storage.c ****             remain_dump_size -= dump_size;
2956:System/storage/Storage.c ****         dump_size = remain_dump_size;
2957:System/storage/Storage.c ****     }
2958:System/storage/Storage.c **** }
 11491              		.loc 1 2958 1 is_stmt 0 view .LVU3318
 11492 0054 0AB0     		add	sp, sp, #40
 11493              	.LCFI123:
 11494              		.cfi_remember_state
 11495              		.cfi_def_cfa_offset 32
 11496              		@ sp needed
 11497 0056 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 11498              	.LVL1255:
 11499              	.L797:
 11500              	.LCFI124:
 11501              		.cfi_restore_state
2915:System/storage/Storage.c ****         return;
 11502              		.loc 1 2915 9 is_stmt 1 view .LVU3319
 11503 005a 2D49     		ldr	r1, .L801+12
 11504 005c 3046     		mov	r0, r6
 11505 005e FFF7FEFF 		bl	shellPrint
 11506              	.LVL1256:
2916:System/storage/Storage.c ****     }
 11507              		.loc 1 2916 9 view .LVU3320
 11508 0062 F7E7     		b	.L777
 11509              	.LVL1257:
 11510              	.L798:
2924:System/storage/Storage.c ****         }
 11511              		.loc 1 2924 13 view .LVU3321
2924:System/storage/Storage.c ****         }
 11512              		.loc 1 2924 33 is_stmt 0 view .LVU3322
 11513 0064 1A6B     		ldr	r2, [r3, #48]
2924:System/storage/Storage.c ****         }
 11514              		.loc 1 2924 63 view .LVU3323
 11515 0066 5269     		ldr	r2, [r2, #20]
2924:System/storage/Storage.c ****         }
 11516              		.loc 1 2924 33 view .LVU3324
 11517 0068 D96A     		ldr	r1, [r3, #44]
 11518 006a 03A8     		add	r0, sp, #12
 11519 006c 9047     		blx	r2
 11520              	.LVL1258:
2924:System/storage/Storage.c ****         }
 11521              		.loc 1 2924 31 view .LVU3325
 11522 006e DDF81CA0 		ldr	r10, [sp, #28]
 11523              	.LVL1259:
2924:System/storage/Storage.c ****         }
 11524              		.loc 1 2924 31 view .LVU3326
 11525 0072 E5E7     		b	.L781
 11526              	.LVL1260:
 11527              	.L791:
2894:System/storage/Storage.c ****     uint32_t remain_dump_size = 0;
 11528              		.loc 1 2894 14 view .LVU3327
 11529 0074 4FF0000A 		mov	r10, #0
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 315


 11530 0078 E2E7     		b	.L781
 11531              	.LVL1261:
 11532              	.L793:
2934:System/storage/Storage.c **** 
 11533              		.loc 1 2934 23 view .LVU3328
 11534 007a 5746     		mov	r7, r10
 11535 007c 39E0     		b	.L783
 11536              	.LVL1262:
 11537              	.L800:
2938:System/storage/Storage.c ****             shellPrint(shell_obj, "\tDump Size            : %d\r\n", dump_size);
 11538              		.loc 1 2938 13 is_stmt 1 view .LVU3329
 11539 007e 4A46     		mov	r2, r9
 11540 0080 2449     		ldr	r1, .L801+16
 11541 0082 3046     		mov	r0, r6
 11542 0084 FFF7FEFF 		bl	shellPrint
 11543              	.LVL1263:
2939:System/storage/Storage.c ****             shellPrint(shell_obj, "\tData Section Read Error\r\n");
 11544              		.loc 1 2939 13 view .LVU3330
 11545 0088 3A46     		mov	r2, r7
 11546 008a 2349     		ldr	r1, .L801+20
 11547 008c 3046     		mov	r0, r6
 11548 008e FFF7FEFF 		bl	shellPrint
 11549              	.LVL1264:
2940:System/storage/Storage.c ****             shellPrint(shell_obj, "\thalt\r\n");
 11550              		.loc 1 2940 13 view .LVU3331
 11551 0092 2249     		ldr	r1, .L801+24
 11552 0094 3046     		mov	r0, r6
 11553 0096 FFF7FEFF 		bl	shellPrint
 11554              	.LVL1265:
2941:System/storage/Storage.c ****             return;
 11555              		.loc 1 2941 13 view .LVU3332
 11556 009a 2149     		ldr	r1, .L801+28
 11557 009c 3046     		mov	r0, r6
 11558 009e FFF7FEFF 		bl	shellPrint
 11559              	.LVL1266:
2942:System/storage/Storage.c ****         }
 11560              		.loc 1 2942 13 view .LVU3333
 11561 00a2 D7E7     		b	.L777
 11562              	.LVL1267:
 11563              	.L786:
 11564              	.LBB51:
 11565              	.LBB52:
2949:System/storage/Storage.c ****             shellPrint(shell_obj, "]\r\n");
 11566              		.loc 1 2949 17 discriminator 3 view .LVU3334
2949:System/storage/Storage.c ****             shellPrint(shell_obj, "]\r\n");
 11567              		.loc 1 2949 87 is_stmt 0 discriminator 3 view .LVU3335
 11568 00a4 04EB8502 		add	r2, r4, r5, lsl #2
2949:System/storage/Storage.c ****             shellPrint(shell_obj, "]\r\n");
 11569              		.loc 1 2949 17 discriminator 3 view .LVU3336
 11570 00a8 1E4B     		ldr	r3, .L801+32
 11571 00aa 53F82220 		ldr	r2, [r3, r2, lsl #2]
 11572 00ae 1E49     		ldr	r1, .L801+36
 11573 00b0 3046     		mov	r0, r6
 11574 00b2 FFF7FEFF 		bl	shellPrint
 11575              	.LVL1268:
2948:System/storage/Storage.c ****                 shellPrint(shell_obj, " %08x ", *((uint32_t *)&page_data_tmp[(i * 16) + (j * 4)]));
 11576              		.loc 1 2948 40 is_stmt 1 discriminator 3 view .LVU3337
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 316


2948:System/storage/Storage.c ****                 shellPrint(shell_obj, " %08x ", *((uint32_t *)&page_data_tmp[(i * 16) + (j * 4)]));
 11577              		.loc 1 2948 41 is_stmt 0 discriminator 3 view .LVU3338
 11578 00b6 0134     		adds	r4, r4, #1
 11579              	.LVL1269:
2948:System/storage/Storage.c ****                 shellPrint(shell_obj, " %08x ", *((uint32_t *)&page_data_tmp[(i * 16) + (j * 4)]));
 11580              		.loc 1 2948 41 discriminator 3 view .LVU3339
 11581 00b8 E4B2     		uxtb	r4, r4
 11582              	.LVL1270:
 11583              	.L785:
2948:System/storage/Storage.c ****                 shellPrint(shell_obj, " %08x ", *((uint32_t *)&page_data_tmp[(i * 16) + (j * 4)]));
 11584              		.loc 1 2948 33 is_stmt 1 discriminator 1 view .LVU3340
2948:System/storage/Storage.c ****                 shellPrint(shell_obj, " %08x ", *((uint32_t *)&page_data_tmp[(i * 16) + (j * 4)]));
 11585              		.loc 1 2948 13 is_stmt 0 discriminator 1 view .LVU3341
 11586 00ba 032C     		cmp	r4, #3
 11587 00bc F2D9     		bls	.L786
 11588              	.LBE52:
2950:System/storage/Storage.c ****         }
 11589              		.loc 1 2950 13 is_stmt 1 discriminator 2 view .LVU3342
 11590 00be 1B49     		ldr	r1, .L801+40
 11591 00c0 3046     		mov	r0, r6
 11592 00c2 FFF7FEFF 		bl	shellPrint
 11593              	.LVL1271:
2945:System/storage/Storage.c ****         {
 11594              		.loc 1 2945 52 discriminator 2 view .LVU3343
2945:System/storage/Storage.c ****         {
 11595              		.loc 1 2945 53 is_stmt 0 discriminator 2 view .LVU3344
 11596 00c6 0135     		adds	r5, r5, #1
 11597              	.LVL1272:
2945:System/storage/Storage.c ****         {
 11598              		.loc 1 2945 53 discriminator 2 view .LVU3345
 11599 00c8 ADB2     		uxth	r5, r5
 11600              	.LVL1273:
 11601              	.L784:
2945:System/storage/Storage.c ****         {
 11602              		.loc 1 2945 30 is_stmt 1 discriminator 1 view .LVU3346
2945:System/storage/Storage.c ****         {
 11603              		.loc 1 2945 9 is_stmt 0 discriminator 1 view .LVU3347
 11604 00ca B5EB171F 		cmp	r5, r7, lsr #4
 11605 00ce 05D2     		bcs	.L799
2947:System/storage/Storage.c ****             for (uint8_t j = 0; j < 4; j++)
 11606              		.loc 1 2947 13 is_stmt 1 view .LVU3348
 11607 00d0 1749     		ldr	r1, .L801+44
 11608 00d2 3046     		mov	r0, r6
 11609 00d4 FFF7FEFF 		bl	shellPrint
 11610              	.LVL1274:
2948:System/storage/Storage.c ****                 shellPrint(shell_obj, " %08x ", *((uint32_t *)&page_data_tmp[(i * 16) + (j * 4)]));
 11611              		.loc 1 2948 13 view .LVU3349
 11612              	.LBB53:
2948:System/storage/Storage.c ****                 shellPrint(shell_obj, " %08x ", *((uint32_t *)&page_data_tmp[(i * 16) + (j * 4)]));
 11613              		.loc 1 2948 18 view .LVU3350
2948:System/storage/Storage.c ****                 shellPrint(shell_obj, " %08x ", *((uint32_t *)&page_data_tmp[(i * 16) + (j * 4)]));
 11614              		.loc 1 2948 26 is_stmt 0 view .LVU3351
 11615 00d8 0024     		movs	r4, #0
2948:System/storage/Storage.c ****                 shellPrint(shell_obj, " %08x ", *((uint32_t *)&page_data_tmp[(i * 16) + (j * 4)]));
 11616              		.loc 1 2948 13 view .LVU3352
 11617 00da EEE7     		b	.L785
 11618              	.LVL1275:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 317


 11619              	.L799:
2948:System/storage/Storage.c ****                 shellPrint(shell_obj, " %08x ", *((uint32_t *)&page_data_tmp[(i * 16) + (j * 4)]));
 11620              		.loc 1 2948 13 view .LVU3353
 11621              	.LBE53:
 11622              	.LBE51:
2953:System/storage/Storage.c ****         if (remain_dump_size >= dump_size)
 11623              		.loc 1 2953 9 is_stmt 1 view .LVU3354
2953:System/storage/Storage.c ****         if (remain_dump_size >= dump_size)
 11624              		.loc 1 2953 19 is_stmt 0 view .LVU3355
 11625 00dc B944     		add	r9, r9, r7
 11626              	.LVL1276:
2954:System/storage/Storage.c ****             remain_dump_size -= dump_size;
 11627              		.loc 1 2954 9 is_stmt 1 view .LVU3356
2954:System/storage/Storage.c ****             remain_dump_size -= dump_size;
 11628              		.loc 1 2954 12 is_stmt 0 view .LVU3357
 11629 00de B845     		cmp	r8, r7
 11630 00e0 01D3     		bcc	.L782
2955:System/storage/Storage.c ****         dump_size = remain_dump_size;
 11631              		.loc 1 2955 13 is_stmt 1 view .LVU3358
2955:System/storage/Storage.c ****         dump_size = remain_dump_size;
 11632              		.loc 1 2955 30 is_stmt 0 view .LVU3359
 11633 00e2 A8EB0708 		sub	r8, r8, r7
 11634              	.LVL1277:
 11635              	.L782:
2931:System/storage/Storage.c ****     {
 11636              		.loc 1 2931 10 is_stmt 1 view .LVU3360
 11637 00e6 B8F1000F 		cmp	r8, #0
 11638 00ea B3D0     		beq	.L777
2933:System/storage/Storage.c ****             dump_size = flash_sector_size;
 11639              		.loc 1 2933 9 view .LVU3361
2933:System/storage/Storage.c ****             dump_size = flash_sector_size;
 11640              		.loc 1 2933 12 is_stmt 0 view .LVU3362
 11641 00ec C245     		cmp	r10, r8
 11642 00ee C4D9     		bls	.L793
 11643 00f0 4746     		mov	r7, r8
 11644              	.L783:
 11645              	.LVL1278:
2936:System/storage/Storage.c ****         {
 11646              		.loc 1 2936 9 is_stmt 1 view .LVU3363
2936:System/storage/Storage.c ****         {
 11647              		.loc 1 2936 14 is_stmt 0 view .LVU3364
 11648 00f2 3A46     		mov	r2, r7
 11649 00f4 0B49     		ldr	r1, .L801+32
 11650 00f6 4846     		mov	r0, r9
 11651 00f8 FFF7FEFF 		bl	Storage_ExtFlash_ParaSec_Read
 11652              	.LVL1279:
2936:System/storage/Storage.c ****         {
 11653              		.loc 1 2936 12 view .LVU3365
 11654 00fc 0028     		cmp	r0, #0
 11655 00fe BED0     		beq	.L800
 11656              	.LBB54:
2945:System/storage/Storage.c ****         {
 11657              		.loc 1 2945 23 view .LVU3366
 11658 0100 0025     		movs	r5, #0
 11659 0102 E2E7     		b	.L784
 11660              	.L802:
 11661              		.align	2
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 318


 11662              	.L801:
 11663 0104 00000000 		.word	.LC182
 11664 0108 00000000 		.word	.LANCHOR0
 11665 010c 20000000 		.word	.LC55
 11666 0110 20000000 		.word	.LC118
 11667 0114 24000000 		.word	.LC183
 11668 0118 44000000 		.word	.LC184
 11669 011c 64000000 		.word	.LC185
 11670 0120 80000000 		.word	.LC186
 11671 0124 00000000 		.word	page_data_tmp
 11672 0128 A8000000 		.word	.LC158
 11673 012c D4010000 		.word	.LC145
 11674 0130 A4000000 		.word	.LC157
 11675              	.LBE54:
 11676              		.cfi_endproc
 11677              	.LFE193:
 11679              		.section	.rodata.Storage_UpdateData.str1.4,"aMS",%progbits,1
 11680              		.align	2
 11681              	.LC187:
 11682 0000 095B4974 		.ascii	"\011[Item slot error]\015\012\000"
 11682      656D2073 
 11682      6C6F7420 
 11682      6572726F 
 11682      725D0D0A 
 11683 0015 000000   		.align	2
 11684              	.LC188:
 11685 0018 095B4461 		.ascii	"\011[Data update failed %s]\015\012\000"
 11685      74612075 
 11685      70646174 
 11685      65206661 
 11685      696C6564 
 11686 0033 00       		.align	2
 11687              	.LC189:
 11688 0034 095B4461 		.ascii	"\011[DataSlot Update accomplished]\015\012\000"
 11688      7461536C 
 11688      6F742055 
 11688      70646174 
 11688      65206163 
 11689              		.section	.text.Storage_UpdateData,"ax",%progbits
 11690              		.align	1
 11691              		.syntax unified
 11692              		.thumb
 11693              		.thumb_func
 11695              	Storage_UpdateData:
 11696              	.LVL1280:
 11697              	.LFB194:
2959:System/storage/Storage.c **** SHELL_EXPORT_CMD(SHELL_CMD_PERMISSION(0) | SHELL_CMD_TYPE(SHELL_TYPE_CMD_FUNC) | SHELL_CMD_DISABLE_
2960:System/storage/Storage.c **** 
2961:System/storage/Storage.c **** static void Storage_UpdateData(Storage_MediumType_List medium, Storage_ParaClassType_List class, ch
2962:System/storage/Storage.c **** {
 11698              		.loc 1 2962 1 is_stmt 1 view -0
 11699              		.cfi_startproc
 11700              		@ args = 0, pretend = 0, frame = 152
 11701              		@ frame_needed = 0, uses_anonymous_args = 0
 11702              		.loc 1 2962 1 is_stmt 0 view .LVU3368
 11703 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 11704              	.LCFI125:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 319


 11705              		.cfi_def_cfa_offset 20
 11706              		.cfi_offset 4, -20
 11707              		.cfi_offset 5, -16
 11708              		.cfi_offset 6, -12
 11709              		.cfi_offset 7, -8
 11710              		.cfi_offset 14, -4
 11711 0002 A7B0     		sub	sp, sp, #156
 11712              	.LCFI126:
 11713              		.cfi_def_cfa_offset 176
 11714 0004 0F46     		mov	r7, r1
 11715 0006 1446     		mov	r4, r2
 11716 0008 1E46     		mov	r6, r3
2963:System/storage/Storage.c ****     Shell *shell_obj = Shell_GetInstence();
 11717              		.loc 1 2963 5 is_stmt 1 view .LVU3369
 11718              		.loc 1 2963 24 is_stmt 0 view .LVU3370
 11719 000a FFF7FEFF 		bl	Shell_GetInstence
 11720              	.LVL1281:
 11721              		.loc 1 2963 24 view .LVU3371
 11722 000e 0546     		mov	r5, r0
 11723              	.LVL1282:
2964:System/storage/Storage.c ****     Storage_FlashInfo_TypeDef *p_Flash = NULL;
 11724              		.loc 1 2964 5 is_stmt 1 view .LVU3372
 11725              		.loc 1 2964 32 is_stmt 0 view .LVU3373
 11726 0010 0021     		movs	r1, #0
 11727 0012 2591     		str	r1, [sp, #148]
2965:System/storage/Storage.c ****     Storage_BaseSecInfo_TypeDef *p_Sec = NULL;
 11728              		.loc 1 2965 5 is_stmt 1 view .LVU3374
 11729              		.loc 1 2965 34 is_stmt 0 view .LVU3375
 11730 0014 2491     		str	r1, [sp, #144]
2966:System/storage/Storage.c ****     Storage_ItemSearchOut_TypeDef ItemSearch;
 11731              		.loc 1 2966 5 is_stmt 1 view .LVU3376
2967:System/storage/Storage.c ****     Storage_ErrorCode_List update_error_code = Storage_Error_None;
 11732              		.loc 1 2967 5 view .LVU3377
 11733              	.LVL1283:
2968:System/storage/Storage.c ****     
2969:System/storage/Storage.c ****     memset(&ItemSearch, 0, sizeof(ItemSearch));
 11734              		.loc 1 2969 5 view .LVU3378
 11735 0016 4522     		movs	r2, #69
 11736 0018 12A8     		add	r0, sp, #72
 11737              	.LVL1284:
 11738              		.loc 1 2969 5 is_stmt 0 view .LVU3379
 11739 001a FFF7FEFF 		bl	memset
 11740              	.LVL1285:
2970:System/storage/Storage.c **** 
2971:System/storage/Storage.c ****     if ((shell_obj == NULL) || \
 11741              		.loc 1 2971 5 is_stmt 1 view .LVU3380
 11742              		.loc 1 2971 8 is_stmt 0 view .LVU3381
 11743 001e 2DB1     		cbz	r5, .L803
 11744              		.loc 1 2971 29 discriminator 1 view .LVU3382
 11745 0020 24B1     		cbz	r4, .L803
2972:System/storage/Storage.c ****         (test_name == NULL) || \
 11746              		.loc 1 2972 29 view .LVU3383
 11747 0022 1EB1     		cbz	r6, .L803
2973:System/storage/Storage.c ****         (test_data == NULL) || \
2974:System/storage/Storage.c ****         (strlen(test_name) == 0) || \
 11748              		.loc 1 2974 28 view .LVU3384
 11749 0024 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 320


2973:System/storage/Storage.c ****         (test_data == NULL) || \
 11750              		.loc 1 2973 29 view .LVU3385
 11751 0026 0BB1     		cbz	r3, .L803
2975:System/storage/Storage.c ****         (strlen(test_data) == 0))
 11752              		.loc 1 2975 28 view .LVU3386
 11753 0028 3378     		ldrb	r3, [r6]	@ zero_extendqisi2
2974:System/storage/Storage.c ****         (strlen(test_data) == 0))
 11754              		.loc 1 2974 34 view .LVU3387
 11755 002a 0BB9     		cbnz	r3, .L811
 11756              	.LVL1286:
 11757              	.L803:
2976:System/storage/Storage.c ****         return;
2977:System/storage/Storage.c **** 
2978:System/storage/Storage.c ****     if (!Storage_Get_Flash_Section_IOAPI(shell_obj, class, &p_Flash, &p_Sec))
2979:System/storage/Storage.c ****     {
2980:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[Flash Section IO_API Get Error]\r\n");
2981:System/storage/Storage.c ****         return;
2982:System/storage/Storage.c ****     }
2983:System/storage/Storage.c **** 
2984:System/storage/Storage.c ****     ItemSearch = Storage_Search(class, test_name);
2985:System/storage/Storage.c ****     if ((ItemSearch.item.head_tag != STORAGE_ITEM_HEAD_TAG) || \
2986:System/storage/Storage.c ****         (ItemSearch.item.end_tag != STORAGE_ITEM_END_TAG) || \
2987:System/storage/Storage.c ****         (ItemSearch.item.data_addr == 0))
2988:System/storage/Storage.c ****     {
2989:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[Item slot error]\r\n");
2990:System/storage/Storage.c ****         return;
2991:System/storage/Storage.c ****     }
2992:System/storage/Storage.c **** 
2993:System/storage/Storage.c ****     update_error_code = Storage_SlotData_Update(class, ItemSearch.item.data_addr, (uint8_t *)test_d
2994:System/storage/Storage.c ****     if (update_error_code != Storage_Error_None)
2995:System/storage/Storage.c ****     {
2996:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[Data update failed %s]\r\n", Storage_Error_Print(update_error_cod
2997:System/storage/Storage.c ****         return;
2998:System/storage/Storage.c ****     }
2999:System/storage/Storage.c ****     else
3000:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[DataSlot Update accomplished]\r\n");
3001:System/storage/Storage.c **** }
 11758              		.loc 1 3001 1 view .LVU3388
 11759 002c 27B0     		add	sp, sp, #156
 11760              	.LCFI127:
 11761              		.cfi_remember_state
 11762              		.cfi_def_cfa_offset 20
 11763              		@ sp needed
 11764 002e F0BD     		pop	{r4, r5, r6, r7, pc}
 11765              	.LVL1287:
 11766              	.L811:
 11767              	.LCFI128:
 11768              		.cfi_restore_state
2978:System/storage/Storage.c ****     {
 11769              		.loc 1 2978 5 is_stmt 1 view .LVU3389
2978:System/storage/Storage.c ****     {
 11770              		.loc 1 2978 10 is_stmt 0 view .LVU3390
 11771 0030 24AB     		add	r3, sp, #144
 11772 0032 25AA     		add	r2, sp, #148
 11773 0034 3946     		mov	r1, r7
 11774 0036 2846     		mov	r0, r5
 11775 0038 FFF7FEFF 		bl	Storage_Get_Flash_Section_IOAPI
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 321


 11776              	.LVL1288:
2978:System/storage/Storage.c ****     {
 11777              		.loc 1 2978 8 view .LVU3391
 11778 003c C0B1     		cbz	r0, .L812
2984:System/storage/Storage.c ****     if ((ItemSearch.item.head_tag != STORAGE_ITEM_HEAD_TAG) || \
 11779              		.loc 1 2984 5 is_stmt 1 view .LVU3392
2984:System/storage/Storage.c ****     if ((ItemSearch.item.head_tag != STORAGE_ITEM_HEAD_TAG) || \
 11780              		.loc 1 2984 18 is_stmt 0 view .LVU3393
 11781 003e 2246     		mov	r2, r4
 11782 0040 3946     		mov	r1, r7
 11783 0042 6846     		mov	r0, sp
 11784 0044 FFF7FEFF 		bl	Storage_Search
 11785              	.LVL1289:
 11786 0048 4522     		movs	r2, #69
 11787 004a 6946     		mov	r1, sp
 11788 004c 12A8     		add	r0, sp, #72
 11789 004e FFF7FEFF 		bl	memcpy
 11790              	.LVL1290:
2985:System/storage/Storage.c ****         (ItemSearch.item.end_tag != STORAGE_ITEM_END_TAG) || \
 11791              		.loc 1 2985 5 is_stmt 1 view .LVU3394
2985:System/storage/Storage.c ****         (ItemSearch.item.end_tag != STORAGE_ITEM_END_TAG) || \
 11792              		.loc 1 2985 25 is_stmt 0 view .LVU3395
 11793 0052 9DF84D30 		ldrb	r3, [sp, #77]	@ zero_extendqisi2
2985:System/storage/Storage.c ****         (ItemSearch.item.end_tag != STORAGE_ITEM_END_TAG) || \
 11794              		.loc 1 2985 8 view .LVU3396
 11795 0056 AA2B     		cmp	r3, #170
 11796 0058 05D1     		bne	.L806
2986:System/storage/Storage.c ****         (ItemSearch.item.data_addr == 0))
 11797              		.loc 1 2986 25 discriminator 1 view .LVU3397
 11798 005a 9DF88C30 		ldrb	r3, [sp, #140]	@ zero_extendqisi2
2985:System/storage/Storage.c ****         (ItemSearch.item.end_tag != STORAGE_ITEM_END_TAG) || \
 11799              		.loc 1 2985 61 discriminator 1 view .LVU3398
 11800 005e BB2B     		cmp	r3, #187
 11801 0060 01D1     		bne	.L806
2987:System/storage/Storage.c ****     {
 11802              		.loc 1 2987 25 view .LVU3399
 11803 0062 1E9C     		ldr	r4, [sp, #120]
 11804              	.LVL1291:
2986:System/storage/Storage.c ****         (ItemSearch.item.data_addr == 0))
 11805              		.loc 1 2986 59 view .LVU3400
 11806 0064 4CB9     		cbnz	r4, .L807
 11807              	.L806:
2989:System/storage/Storage.c ****         return;
 11808              		.loc 1 2989 9 is_stmt 1 view .LVU3401
 11809 0066 1049     		ldr	r1, .L814
 11810 0068 2846     		mov	r0, r5
 11811 006a FFF7FEFF 		bl	shellPrint
 11812              	.LVL1292:
2990:System/storage/Storage.c ****     }
 11813              		.loc 1 2990 9 view .LVU3402
 11814 006e DDE7     		b	.L803
 11815              	.LVL1293:
 11816              	.L812:
2980:System/storage/Storage.c ****         return;
 11817              		.loc 1 2980 9 view .LVU3403
 11818 0070 0E49     		ldr	r1, .L814+4
 11819 0072 2846     		mov	r0, r5
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 322


 11820 0074 FFF7FEFF 		bl	shellPrint
 11821              	.LVL1294:
2981:System/storage/Storage.c ****     }
 11822              		.loc 1 2981 9 view .LVU3404
 11823 0078 D8E7     		b	.L803
 11824              	.LVL1295:
 11825              	.L807:
2993:System/storage/Storage.c ****     if (update_error_code != Storage_Error_None)
 11826              		.loc 1 2993 5 view .LVU3405
2993:System/storage/Storage.c ****     if (update_error_code != Storage_Error_None)
 11827              		.loc 1 2993 105 is_stmt 0 view .LVU3406
 11828 007a 3046     		mov	r0, r6
 11829 007c FFF7FEFF 		bl	strlen
 11830              	.LVL1296:
2993:System/storage/Storage.c ****     if (update_error_code != Storage_Error_None)
 11831              		.loc 1 2993 25 view .LVU3407
 11832 0080 83B2     		uxth	r3, r0
 11833 0082 3246     		mov	r2, r6
 11834 0084 2146     		mov	r1, r4
 11835 0086 3846     		mov	r0, r7
 11836 0088 FFF7FEFF 		bl	Storage_SlotData_Update
 11837              	.LVL1297:
2994:System/storage/Storage.c ****     {
 11838              		.loc 1 2994 5 is_stmt 1 view .LVU3408
2994:System/storage/Storage.c ****     {
 11839              		.loc 1 2994 8 is_stmt 0 view .LVU3409
 11840 008c 20B9     		cbnz	r0, .L813
3000:System/storage/Storage.c **** }
 11841              		.loc 1 3000 9 is_stmt 1 view .LVU3410
 11842 008e 0849     		ldr	r1, .L814+8
 11843 0090 2846     		mov	r0, r5
 11844              	.LVL1298:
3000:System/storage/Storage.c **** }
 11845              		.loc 1 3000 9 is_stmt 0 view .LVU3411
 11846 0092 FFF7FEFF 		bl	shellPrint
 11847              	.LVL1299:
 11848 0096 C9E7     		b	.L803
 11849              	.LVL1300:
 11850              	.L813:
2996:System/storage/Storage.c ****         return;
 11851              		.loc 1 2996 9 is_stmt 1 view .LVU3412
 11852 0098 FFF7FEFF 		bl	Storage_Error_Print
 11853              	.LVL1301:
2996:System/storage/Storage.c ****         return;
 11854              		.loc 1 2996 9 is_stmt 0 view .LVU3413
 11855 009c 0246     		mov	r2, r0
 11856 009e 0549     		ldr	r1, .L814+12
 11857 00a0 2846     		mov	r0, r5
 11858 00a2 FFF7FEFF 		bl	shellPrint
 11859              	.LVL1302:
2997:System/storage/Storage.c ****     }
 11860              		.loc 1 2997 9 is_stmt 1 view .LVU3414
 11861 00a6 C1E7     		b	.L803
 11862              	.L815:
 11863              		.align	2
 11864              	.L814:
 11865 00a8 00000000 		.word	.LC187
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 323


 11866 00ac 20000000 		.word	.LC118
 11867 00b0 34000000 		.word	.LC189
 11868 00b4 18000000 		.word	.LC188
 11869              		.cfi_endproc
 11870              	.LFE194:
 11872              		.section	.rodata.Storage_DeleteData_Test.str1.4,"aMS",%progbits,1
 11873              		.align	2
 11874              	.LC190:
 11875 0000 095B4974 		.ascii	"\011[Item Delete Error]\015\012\000"
 11875      656D2044 
 11875      656C6574 
 11875      65204572 
 11875      726F725D 
 11876 0017 00       		.align	2
 11877              	.LC191:
 11878 0018 095B4974 		.ascii	"\011[Item Delete Accomplished]\015\012\000"
 11878      656D2044 
 11878      656C6574 
 11878      65204163 
 11878      636F6D70 
 11879              		.section	.text.Storage_DeleteData_Test,"ax",%progbits
 11880              		.align	1
 11881              		.syntax unified
 11882              		.thumb
 11883              		.thumb_func
 11885              	Storage_DeleteData_Test:
 11886              	.LVL1303:
 11887              	.LFB195:
3002:System/storage/Storage.c **** SHELL_EXPORT_CMD(SHELL_CMD_PERMISSION(0) | SHELL_CMD_TYPE(SHELL_TYPE_CMD_FUNC) | SHELL_CMD_DISABLE_
3003:System/storage/Storage.c **** 
3004:System/storage/Storage.c **** /* untested */
3005:System/storage/Storage.c **** static void Storage_DeleteData_Test(Storage_ParaClassType_List class, char *test_name)
3006:System/storage/Storage.c **** {
 11888              		.loc 1 3006 1 view -0
 11889              		.cfi_startproc
 11890              		@ args = 0, pretend = 0, frame = 152
 11891              		@ frame_needed = 0, uses_anonymous_args = 0
 11892              		.loc 1 3006 1 is_stmt 0 view .LVU3416
 11893 0000 70B5     		push	{r4, r5, r6, lr}
 11894              	.LCFI129:
 11895              		.cfi_def_cfa_offset 16
 11896              		.cfi_offset 4, -16
 11897              		.cfi_offset 5, -12
 11898              		.cfi_offset 6, -8
 11899              		.cfi_offset 14, -4
 11900 0002 A6B0     		sub	sp, sp, #152
 11901              	.LCFI130:
 11902              		.cfi_def_cfa_offset 168
 11903 0004 0446     		mov	r4, r0
 11904 0006 0D46     		mov	r5, r1
3007:System/storage/Storage.c ****     Shell *shell_obj = Shell_GetInstence();
 11905              		.loc 1 3007 5 is_stmt 1 view .LVU3417
 11906              		.loc 1 3007 24 is_stmt 0 view .LVU3418
 11907 0008 FFF7FEFF 		bl	Shell_GetInstence
 11908              	.LVL1304:
3008:System/storage/Storage.c ****     Storage_FlashInfo_TypeDef *p_Flash = NULL;
 11909              		.loc 1 3008 5 is_stmt 1 view .LVU3419
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 324


 11910              		.loc 1 3008 32 is_stmt 0 view .LVU3420
 11911 000c 0023     		movs	r3, #0
 11912 000e 2593     		str	r3, [sp, #148]
3009:System/storage/Storage.c ****     Storage_BaseSecInfo_TypeDef *p_Sec = NULL;
 11913              		.loc 1 3009 5 is_stmt 1 view .LVU3421
 11914              		.loc 1 3009 34 is_stmt 0 view .LVU3422
 11915 0010 2493     		str	r3, [sp, #144]
3010:System/storage/Storage.c ****     Storage_ItemSearchOut_TypeDef ItemSearch;
 11916              		.loc 1 3010 5 is_stmt 1 view .LVU3423
3011:System/storage/Storage.c ****     
3012:System/storage/Storage.c ****     if (shell_obj == NULL)
 11917              		.loc 1 3012 5 view .LVU3424
 11918              		.loc 1 3012 8 is_stmt 0 view .LVU3425
 11919 0012 F0B1     		cbz	r0, .L816
 11920 0014 0646     		mov	r6, r0
3013:System/storage/Storage.c ****         return;
3014:System/storage/Storage.c ****     
3015:System/storage/Storage.c ****     if (!Storage_Get_Flash_Section_IOAPI(shell_obj, class, &p_Flash, &p_Sec))
 11921              		.loc 1 3015 5 is_stmt 1 view .LVU3426
 11922              		.loc 1 3015 10 is_stmt 0 view .LVU3427
 11923 0016 24AB     		add	r3, sp, #144
 11924 0018 25AA     		add	r2, sp, #148
 11925 001a 2146     		mov	r1, r4
 11926 001c FFF7FEFF 		bl	Storage_Get_Flash_Section_IOAPI
 11927              	.LVL1305:
 11928              		.loc 1 3015 8 view .LVU3428
 11929 0020 C8B1     		cbz	r0, .L825
3016:System/storage/Storage.c ****     {
3017:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[Flash Section IO_API Get Error]\r\n");
3018:System/storage/Storage.c ****         return;
3019:System/storage/Storage.c ****     }
3020:System/storage/Storage.c **** 
3021:System/storage/Storage.c ****     /* search */
3022:System/storage/Storage.c ****     ItemSearch = Storage_Search(class, test_name);
 11930              		.loc 1 3022 5 is_stmt 1 view .LVU3429
 11931              		.loc 1 3022 18 is_stmt 0 view .LVU3430
 11932 0022 2A46     		mov	r2, r5
 11933 0024 2146     		mov	r1, r4
 11934 0026 6846     		mov	r0, sp
 11935 0028 FFF7FEFF 		bl	Storage_Search
 11936              	.LVL1306:
 11937 002c 4522     		movs	r2, #69
 11938 002e 6946     		mov	r1, sp
 11939 0030 12A8     		add	r0, sp, #72
 11940 0032 FFF7FEFF 		bl	memcpy
 11941              	.LVL1307:
3023:System/storage/Storage.c ****     if ((ItemSearch.item.head_tag != STORAGE_ITEM_HEAD_TAG) || \
 11942              		.loc 1 3023 5 is_stmt 1 view .LVU3431
 11943              		.loc 1 3023 25 is_stmt 0 view .LVU3432
 11944 0036 9DF84D30 		ldrb	r3, [sp, #77]	@ zero_extendqisi2
 11945              		.loc 1 3023 8 view .LVU3433
 11946 003a AA2B     		cmp	r3, #170
 11947 003c 05D1     		bne	.L819
3024:System/storage/Storage.c ****         (ItemSearch.item.end_tag != STORAGE_ITEM_END_TAG) || \
 11948              		.loc 1 3024 25 discriminator 1 view .LVU3434
 11949 003e 9DF88C30 		ldrb	r3, [sp, #140]	@ zero_extendqisi2
3023:System/storage/Storage.c ****     if ((ItemSearch.item.head_tag != STORAGE_ITEM_HEAD_TAG) || \
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 325


 11950              		.loc 1 3023 61 discriminator 1 view .LVU3435
 11951 0042 BB2B     		cmp	r3, #187
 11952 0044 01D1     		bne	.L819
3025:System/storage/Storage.c ****         (ItemSearch.item.data_addr == 0))
 11953              		.loc 1 3025 25 view .LVU3436
 11954 0046 1E98     		ldr	r0, [sp, #120]
3024:System/storage/Storage.c ****         (ItemSearch.item.end_tag != STORAGE_ITEM_END_TAG) || \
 11955              		.loc 1 3024 59 view .LVU3437
 11956 0048 50B9     		cbnz	r0, .L820
 11957              	.L819:
3026:System/storage/Storage.c ****     {
3027:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[Item slot error]\r\n");
 11958              		.loc 1 3027 9 is_stmt 1 view .LVU3438
 11959 004a 0E49     		ldr	r1, .L826
 11960 004c 3046     		mov	r0, r6
 11961 004e FFF7FEFF 		bl	shellPrint
 11962              	.LVL1308:
3028:System/storage/Storage.c ****         return;
 11963              		.loc 1 3028 9 view .LVU3439
 11964              	.L816:
3029:System/storage/Storage.c ****     }
3030:System/storage/Storage.c **** 
3031:System/storage/Storage.c ****     if (!Storage_DeleteAllDataSlot(ItemSearch.item.data_addr, (char *)ItemSearch.item.name, ItemSea
3032:System/storage/Storage.c ****     {
3033:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[Item Delete Error]\r\n");
3034:System/storage/Storage.c ****     }
3035:System/storage/Storage.c ****     else
3036:System/storage/Storage.c ****         shellPrint(shell_obj, "\t[Item Delete Accomplished]\r\n");
3037:System/storage/Storage.c **** }
 11965              		.loc 1 3037 1 is_stmt 0 view .LVU3440
 11966 0052 26B0     		add	sp, sp, #152
 11967              	.LCFI131:
 11968              		.cfi_remember_state
 11969              		.cfi_def_cfa_offset 16
 11970              		@ sp needed
 11971 0054 70BD     		pop	{r4, r5, r6, pc}
 11972              	.LVL1309:
 11973              	.L825:
 11974              	.LCFI132:
 11975              		.cfi_restore_state
3017:System/storage/Storage.c ****         return;
 11976              		.loc 1 3017 9 is_stmt 1 view .LVU3441
 11977 0056 0C49     		ldr	r1, .L826+4
 11978 0058 3046     		mov	r0, r6
 11979 005a FFF7FEFF 		bl	shellPrint
 11980              	.LVL1310:
3018:System/storage/Storage.c ****     }
 11981              		.loc 1 3018 9 view .LVU3442
 11982 005e F8E7     		b	.L816
 11983              	.L820:
3031:System/storage/Storage.c ****     {
 11984              		.loc 1 3031 5 view .LVU3443
3031:System/storage/Storage.c ****     {
 11985              		.loc 1 3031 10 is_stmt 0 view .LVU3444
 11986 0060 249B     		ldr	r3, [sp, #144]
 11987 0062 BDF87C20 		ldrh	r2, [sp, #124]
 11988 0066 0DF14F01 		add	r1, sp, #79
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 326


 11989 006a FFF7FEFF 		bl	Storage_DeleteAllDataSlot
 11990              	.LVL1311:
3031:System/storage/Storage.c ****     {
 11991              		.loc 1 3031 8 view .LVU3445
 11992 006e 20B9     		cbnz	r0, .L821
3033:System/storage/Storage.c ****     }
 11993              		.loc 1 3033 9 is_stmt 1 view .LVU3446
 11994 0070 0649     		ldr	r1, .L826+8
 11995 0072 3046     		mov	r0, r6
 11996 0074 FFF7FEFF 		bl	shellPrint
 11997              	.LVL1312:
 11998 0078 EBE7     		b	.L816
 11999              	.L821:
3036:System/storage/Storage.c **** }
 12000              		.loc 1 3036 9 view .LVU3447
 12001 007a 0549     		ldr	r1, .L826+12
 12002 007c 3046     		mov	r0, r6
 12003 007e FFF7FEFF 		bl	shellPrint
 12004              	.LVL1313:
 12005 0082 E6E7     		b	.L816
 12006              	.L827:
 12007              		.align	2
 12008              	.L826:
 12009 0084 00000000 		.word	.LC187
 12010 0088 20000000 		.word	.LC118
 12011 008c 00000000 		.word	.LC190
 12012 0090 18000000 		.word	.LC191
 12013              		.cfi_endproc
 12014              	.LFE195:
 12016              		.global	shellCommandStorage_DeleteData
 12017              		.global	shellDescStorage_DeleteData
 12018              		.global	shellCmdStorage_DeleteData
 12019              		.global	shellCommandStorage_UpdateData
 12020              		.global	shellDescStorage_UpdateData
 12021              		.global	shellCmdStorage_UpdateData
 12022              		.global	shellCommandStorage_DumpSection
 12023              		.global	shellDescStorage_DumpSection
 12024              		.global	shellCmdStorage_DumpSection
 12025              		.global	shellCommandStorage_DumpTab
 12026              		.global	shellDescStorage_DumpTab
 12027              		.global	shellCmdStorage_DumpTab
 12028              		.global	shellCommandStorage_Search
 12029              		.global	shellDescStorage_Search
 12030              		.global	shellCmdStorage_Search
 12031              		.global	shellCommandStorage_Show_FreeSlot
 12032              		.global	shellDescStorage_Show_FreeSlot
 12033              		.global	shellCmdStorage_Show_FreeSlot
 12034              		.global	shellCommandStorage_Show_ModuleInfo
 12035              		.global	shellDescStorage_Show_ModuleInfo
 12036              		.global	shellCmdStorage_Show_ModuleInfo
 12037              		.global	shellCommandStorage_Module_Format
 12038              		.global	shellDescStorage_Module_Format
 12039              		.global	shellCmdStorage_Module_Format
 12040              		.global	shellCommandStorage_Test
 12041              		.global	shellDescStorage_Test
 12042              		.global	shellCmdStorage_Test
 12043              		.global	shellCommandStorage_BaseInfo
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 327


 12044              		.global	shellDescStorage_BaseInfo
 12045              		.global	shellCmdStorage_BaseInfo
 12046              		.global	Storage
 12047              		.global	Storage_Monitor
 12048              		.section	.Perph_Section,"aw"
 12049              		.align	2
 12052              	flash_read_tmp:
 12053 0000 00000000 		.space	8192
 12053      00000000 
 12053      00000000 
 12053      00000000 
 12053      00000000 
 12056              	flash_write_tmp:
 12057 2000 00000000 		.space	8192
 12057      00000000 
 12057      00000000 
 12057      00000000 
 12057      00000000 
 12058              		.section	.bss.Storage_Monitor,"aw",%nobits
 12059              		.align	2
 12060              		.set	.LANCHOR0,. + 0
 12063              	Storage_Monitor:
 12064 0000 00000000 		.space	180
 12064      00000000 
 12064      00000000 
 12064      00000000 
 12064      00000000 
 12065              		.section	.bss.page_data_tmp,"aw",%nobits
 12066              		.align	2
 12069              	page_data_tmp:
 12070 0000 00000000 		.space	8192
 12070      00000000 
 12070      00000000 
 12070      00000000 
 12070      00000000 
 12071              		.section	.data.Storage,"aw"
 12072              		.align	2
 12075              	Storage:
 12076 0000 00000000 		.word	Storage_Init
 12077 0004 00000000 		.word	Storage_Search
 12078 0008 00000000 		.word	Storage_CreateItem
 12079 000c 00000000 		.word	Storage_SlotData_Update
 12080 0010 00000000 		.word	Storage_Get_Data
 12081 0014 00000000 		.word	Storage_Get_DevInfo
 12082 0018 00000000 		.word	Storage_Write_Section
 12083 001c 00000000 		.word	Storage_Read_Section
 12084 0020 00000000 		.word	Storage_Erase_Section
 12085 0024 00000000 		.word	Storage_Firmware_Format
 12086 0028 00000000 		.word	Storage_Frimware_Read
 12087 002c 00000000 		.word	Storage_Firmware_Write
 12088              		.section	.rodata.shellCmdStorage_BaseInfo,"a"
 12089              		.align	2
 12092              	shellCmdStorage_BaseInfo:
 12093 0000 53746F72 		.ascii	"Storage_BaseInfo\000"
 12093      6167655F 
 12093      42617365 
 12093      496E666F 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 328


 12093      00
 12094              		.section	.rodata.shellCmdStorage_DeleteData,"a"
 12095              		.align	2
 12098              	shellCmdStorage_DeleteData:
 12099 0000 53746F72 		.ascii	"Storage_DeleteData\000"
 12099      6167655F 
 12099      44656C65 
 12099      74654461 
 12099      746100
 12100              		.section	.rodata.shellCmdStorage_DumpSection,"a"
 12101              		.align	2
 12104              	shellCmdStorage_DumpSection:
 12105 0000 53746F72 		.ascii	"Storage_DumpSection\000"
 12105      6167655F 
 12105      44756D70 
 12105      53656374 
 12105      696F6E00 
 12106              		.section	.rodata.shellCmdStorage_DumpTab,"a"
 12107              		.align	2
 12110              	shellCmdStorage_DumpTab:
 12111 0000 53746F72 		.ascii	"Storage_DumpTab\000"
 12111      6167655F 
 12111      44756D70 
 12111      54616200 
 12112              		.section	.rodata.shellCmdStorage_Module_Format,"a"
 12113              		.align	2
 12116              	shellCmdStorage_Module_Format:
 12117 0000 53746F72 		.ascii	"Storage_Module_Format\000"
 12117      6167655F 
 12117      4D6F6475 
 12117      6C655F46 
 12117      6F726D61 
 12118              		.section	.rodata.shellCmdStorage_Search,"a"
 12119              		.align	2
 12122              	shellCmdStorage_Search:
 12123 0000 53746F72 		.ascii	"Storage_Search\000"
 12123      6167655F 
 12123      53656172 
 12123      636800
 12124              		.section	.rodata.shellCmdStorage_Show_FreeSlot,"a"
 12125              		.align	2
 12128              	shellCmdStorage_Show_FreeSlot:
 12129 0000 53746F72 		.ascii	"Storage_Show_FreeSlot\000"
 12129      6167655F 
 12129      53686F77 
 12129      5F467265 
 12129      65536C6F 
 12130              		.section	.rodata.shellCmdStorage_Show_ModuleInfo,"a"
 12131              		.align	2
 12134              	shellCmdStorage_Show_ModuleInfo:
 12135 0000 53746F72 		.ascii	"Storage_Show_ModuleInfo\000"
 12135      6167655F 
 12135      53686F77 
 12135      5F4D6F64 
 12135      756C6549 
 12136              		.section	.rodata.shellCmdStorage_Test,"a"
 12137              		.align	2
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 329


 12140              	shellCmdStorage_Test:
 12141 0000 53746F72 		.ascii	"Storage_Test\000"
 12141      6167655F 
 12141      54657374 
 12141      00
 12142              		.section	.rodata.shellCmdStorage_UpdateData,"a"
 12143              		.align	2
 12146              	shellCmdStorage_UpdateData:
 12147 0000 53746F72 		.ascii	"Storage_UpdateData\000"
 12147      6167655F 
 12147      55706461 
 12147      74654461 
 12147      746100
 12148              		.section	.rodata.shellDescStorage_BaseInfo,"a"
 12149              		.align	2
 12152              	shellDescStorage_BaseInfo:
 12153 0000 53746F72 		.ascii	"Storage base info\000"
 12153      61676520 
 12153      62617365 
 12153      20696E66 
 12153      6F00
 12154              		.section	.rodata.shellDescStorage_DeleteData,"a"
 12155              		.align	2
 12158              	shellDescStorage_DeleteData:
 12159 0000 53746F72 		.ascii	"Storage delete data\000"
 12159      61676520 
 12159      64656C65 
 12159      74652064 
 12159      61746100 
 12160              		.section	.rodata.shellDescStorage_DumpSection,"a"
 12161              		.align	2
 12164              	shellDescStorage_DumpSection:
 12165 0000 53746F72 		.ascii	"Storage dump data section\000"
 12165      61676520 
 12165      64756D70 
 12165      20646174 
 12165      61207365 
 12166              		.section	.rodata.shellDescStorage_DumpTab,"a"
 12167              		.align	2
 12170              	shellDescStorage_DumpTab:
 12171 0000 53746F72 		.ascii	"Storage dump Tab\000"
 12171      61676520 
 12171      64756D70 
 12171      20546162 
 12171      00
 12172              		.section	.rodata.shellDescStorage_Module_Format,"a"
 12173              		.align	2
 12176              	shellDescStorage_Module_Format:
 12177 0000 53746F72 		.ascii	"Storage Format\000"
 12177      61676520 
 12177      466F726D 
 12177      617400
 12178              		.section	.rodata.shellDescStorage_Search,"a"
 12179              		.align	2
 12182              	shellDescStorage_Search:
 12183 0000 53746F72 		.ascii	"Storage Search Data\000"
 12183      61676520 
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 330


 12183      53656172 
 12183      63682044 
 12183      61746100 
 12184              		.section	.rodata.shellDescStorage_Show_FreeSlot,"a"
 12185              		.align	2
 12188              	shellDescStorage_Show_FreeSlot:
 12189 0000 53746F72 		.ascii	"Storage Show Free Slot\000"
 12189      61676520 
 12189      53686F77 
 12189      20467265 
 12189      6520536C 
 12190              		.section	.rodata.shellDescStorage_Show_ModuleInfo,"a"
 12191              		.align	2
 12194              	shellDescStorage_Show_ModuleInfo:
 12195 0000 53746F72 		.ascii	"Storage Format\000"
 12195      61676520 
 12195      466F726D 
 12195      617400
 12196              		.section	.rodata.shellDescStorage_Test,"a"
 12197              		.align	2
 12200              	shellDescStorage_Test:
 12201 0000 44617461 		.ascii	"Data Storage Test\000"
 12201      2053746F 
 12201      72616765 
 12201      20546573 
 12201      7400
 12202              		.section	.rodata.shellDescStorage_UpdateData,"a"
 12203              		.align	2
 12206              	shellDescStorage_UpdateData:
 12207 0000 53746F72 		.ascii	"Storage update data\000"
 12207      61676520 
 12207      75706461 
 12207      74652064 
 12207      61746100 
 12208              		.section	shellCommand,"a"
 12209              		.align	2
 12212              	shellCommandStorage_DeleteData:
 12213 0000 00210000 		.word	8448
 12214 0004 00000000 		.word	shellCmdStorage_DeleteData
 12215 0008 00000000 		.word	Storage_DeleteData_Test
 12216 000c 00000000 		.word	shellDescStorage_DeleteData
 12219              	shellCommandStorage_UpdateData:
 12220 0010 00210000 		.word	8448
 12221 0014 00000000 		.word	shellCmdStorage_UpdateData
 12222 0018 00000000 		.word	Storage_UpdateData
 12223 001c 00000000 		.word	shellDescStorage_UpdateData
 12226              	shellCommandStorage_DumpSection:
 12227 0020 00210000 		.word	8448
 12228 0024 00000000 		.word	shellCmdStorage_DumpSection
 12229 0028 00000000 		.word	Storage_Dump_DataSection
 12230 002c 00000000 		.word	shellDescStorage_DumpSection
 12233              	shellCommandStorage_DumpTab:
 12234 0030 00210000 		.word	8448
 12235 0034 00000000 		.word	shellCmdStorage_DumpTab
 12236 0038 00000000 		.word	Storage_Show_Tab
 12237 003c 00000000 		.word	shellDescStorage_DumpTab
 12240              	shellCommandStorage_Search:
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 331


 12241 0040 00210000 		.word	8448
 12242 0044 00000000 		.word	shellCmdStorage_Search
 12243 0048 00000000 		.word	Storage_SearchData
 12244 004c 00000000 		.word	shellDescStorage_Search
 12247              	shellCommandStorage_Show_FreeSlot:
 12248 0050 00210000 		.word	8448
 12249 0054 00000000 		.word	shellCmdStorage_Show_FreeSlot
 12250 0058 00000000 		.word	Storage_Show_FreeSlot
 12251 005c 00000000 		.word	shellDescStorage_Show_FreeSlot
 12254              	shellCommandStorage_Show_ModuleInfo:
 12255 0060 00210000 		.word	8448
 12256 0064 00000000 		.word	shellCmdStorage_Show_ModuleInfo
 12257 0068 00000000 		.word	Storage_Show_ModuleInfo
 12258 006c 00000000 		.word	shellDescStorage_Show_ModuleInfo
 12261              	shellCommandStorage_Module_Format:
 12262 0070 00210000 		.word	8448
 12263 0074 00000000 		.word	shellCmdStorage_Module_Format
 12264 0078 00000000 		.word	Storage_Module_Format
 12265 007c 00000000 		.word	shellDescStorage_Module_Format
 12268              	shellCommandStorage_Test:
 12269 0080 00210000 		.word	8448
 12270 0084 00000000 		.word	shellCmdStorage_Test
 12271 0088 00000000 		.word	Storage_Test
 12272 008c 00000000 		.word	shellDescStorage_Test
 12275              	shellCommandStorage_BaseInfo:
 12276 0090 00210000 		.word	8448
 12277 0094 00000000 		.word	shellCmdStorage_BaseInfo
 12278 0098 00000000 		.word	Storage_Shell_Get_BaseInfo
 12279 009c 00000000 		.word	shellDescStorage_BaseInfo
 12280              		.text
 12281              	.Letext0:
 12282              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\lib\\gcc\\arm-none-eabi\
 12283              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 12284              		.file 4 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\\
 12285              		.file 5 "HW_Lib/Port_Def/Bsp_Flash_Port_Def.h"
 12286              		.file 6 "debug/debug_util.h"
 12287              		.file 7 "common/Error_Log/../../common/gen_physic_def/imu_data.h"
 12288              		.file 8 "Device/Dev_W25Qxx.h"
 12289              		.file 9 "HW_Lib/AT32F435/bsp/Bsp_Flash.h"
 12290              		.file 10 "HW_Lib/AT32F435/PinPort_Def/CCRC_AT32_20/HW_Def.h"
 12291              		.file 11 "System/FreeRTOS/include/portable.h"
 12292              		.file 12 "Service/Srv_OsCommon.h"
 12293              		.file 13 "Service/../FCHW_Config.h"
 12294              		.file 14 "Service/control_data.h"
 12295              		.file 15 "Device/Dev_W25Nxx.h"
 12296              		.file 16 "System/storage/Storage_Bus_Port.h"
 12297              		.file 17 "System/storage/Storage.h"
 12298              		.file 18 "System/shell/shell.h"
 12299              		.file 19 "System/FreeRTOS/FreeRTOSConfig.h"
 12300              		.file 20 "System/shell/shell_port.h"
 12301              		.file 21 "<built-in>"
 12302              		.file 22 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2021.10\\arm-none-eabi\\include\
 12303              		.file 23 "common/util.h"
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 332


DEFINED SYMBOLS
                            *ABS*:00000000 Storage.c
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:20     .text.Storage_Get_SecInfo:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:25     .text.Storage_Get_SecInfo:00000000 Storage_Get_SecInfo
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:79     .text.Storage_Erase_Section:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:84     .text.Storage_Erase_Section:00000000 Storage_Erase_Section
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:261    .text.Storage_Erase_Section:0000007c $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:267    .text.Storage_Firmware_Format:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:272    .text.Storage_Firmware_Format:00000000 Storage_Firmware_Format
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:392    .text.Storage_Firmware_Format:00000068 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:398    .text.Storage_ExtFlash_ParaSec_Erase:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:403    .text.Storage_ExtFlash_ParaSec_Erase:00000000 Storage_ExtFlash_ParaSec_Erase
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:537    .text.Storage_ExtFlash_ParaSec_Erase:0000005c $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:542    .text.Storage_Set_DeviceObj:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:547    .text.Storage_Set_DeviceObj:00000000 Storage_Set_DeviceObj
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:902    .text.Storage_Set_DeviceObj:0000014c $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:908    .text.Storage_Device_Init:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:913    .text.Storage_Device_Init:00000000 Storage_Device_Init
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:1124   .text.Storage_Device_Init:000000a8 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:1129   .rodata.Storage_Error_Print.str1.4:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:1229   .text.Storage_Error_Print:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:1234   .text.Storage_Error_Print:00000000 Storage_Error_Print
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:1247   .text.Storage_Error_Print:00000008 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:1544   .text.Storage_Error_Print:000000b0 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:1581   .text.Storage_Firmware_Write:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:1586   .text.Storage_Firmware_Write:00000000 Storage_Firmware_Write
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:1895   .text.Storage_Firmware_Write:000000f4 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12052  .Perph_Section:00000000 flash_read_tmp
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:1903   .text.Storage_Frimware_Read:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:1908   .text.Storage_Frimware_Read:00000000 Storage_Frimware_Read
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:2068   .text.Storage_Frimware_Read:0000007c $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:2074   .text.Storage_Get_DevInfo:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:2079   .text.Storage_Get_DevInfo:00000000 Storage_Get_DevInfo
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:2169   .text.Storage_Get_DevInfo:00000054 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:2174   .text.Storage_ExtFlash_ParaSec_Read:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:2179   .text.Storage_ExtFlash_ParaSec_Read:00000000 Storage_ExtFlash_ParaSec_Read
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:2498   .text.Storage_ExtFlash_ParaSec_Read:00000114 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:2504   .text.Storage_Format:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:2509   .text.Storage_Format:00000000 Storage_Format
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:2651   .text.Storage_Format:0000005c $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12069  .bss.page_data_tmp:00000000 page_data_tmp
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:2656   .text.Storage_ExtFlash_ParaSec_Write:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:2661   .text.Storage_ExtFlash_ParaSec_Write:00000000 Storage_ExtFlash_ParaSec_Write
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:3030   .text.Storage_ExtFlash_ParaSec_Write:00000134 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12056  .Perph_Section:00002000 flash_write_tmp
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:3037   .text.Storage_Clear_Tab:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:3042   .text.Storage_Clear_Tab:00000000 Storage_Clear_Tab
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:3144   .text.Storage_Clear_Tab:00000048 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:3149   .text.Storage_Link_FreeSlot:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:3154   .text.Storage_Link_FreeSlot:00000000 Storage_Link_FreeSlot
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:3310   .text.Storage_FreeSlot_CheckMerge:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:3315   .text.Storage_FreeSlot_CheckMerge:00000000 Storage_FreeSlot_CheckMerge
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:3691   .text.Storage_FreeSlot_CheckMerge:00000170 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:3697   .text.Storage_DeleteSingleDataSlot:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:3702   .text.Storage_DeleteSingleDataSlot:00000000 Storage_DeleteSingleDataSlot
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:3912   .text.Storage_DeleteSingleDataSlot:000000c0 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:3918   .rodata.Storage_Read_Section.str1.4:00000000 $d
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 333


C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:3925   .text.Storage_Read_Section:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:3930   .text.Storage_Read_Section:00000000 Storage_Read_Section
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:4144   .text.Storage_Read_Section:000000b8 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:4153   .rodata.Storage_Write_Section.str1.4:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:4160   .text.Storage_Write_Section:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:4165   .text.Storage_Write_Section:00000000 Storage_Write_Section
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:4394   .text.Storage_Write_Section:000000c8 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:4404   .text.Storage_Get_Data:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:4409   .text.Storage_Get_Data:00000000 Storage_Get_Data
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:4692   .text.Storage_Get_Data:00000120 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:4699   .text.Storage_SlotData_Update:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:4704   .text.Storage_SlotData_Update:00000000 Storage_SlotData_Update
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:5219   .text.Storage_SlotData_Update:00000210 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:5228   .text.Storage_Comput_ItemSlot_CRC:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:5233   .text.Storage_Comput_ItemSlot_CRC:00000000 Storage_Comput_ItemSlot_CRC
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:5284   .text.Storage_Compare_ItemSlot_CRC:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:5289   .text.Storage_Compare_ItemSlot_CRC:00000000 Storage_Compare_ItemSlot_CRC
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:5356   .text.Storage_Check_Tab:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:5361   .text.Storage_Check_Tab:00000000 Storage_Check_Tab
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:5651   .text.Storage_Check_Tab:00000100 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:5658   .text.Storage_Establish_Tab:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:5663   .text.Storage_Establish_Tab:00000000 Storage_Establish_Tab
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:5945   .text.Storage_Establish_Tab:00000120 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:5953   .rodata.Storage_CreateItem.str1.4:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:5957   .text.Storage_CreateItem:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:5962   .text.Storage_CreateItem:00000000 Storage_CreateItem
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:6652   .text.Storage_CreateItem:00000360 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:6661   .text.Storage_CreateItem:00000378 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:6831   .text.Storage_CreateItem:00000444 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:6837   .text.Storage_Search:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:6842   .text.Storage_Search:00000000 Storage_Search
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:7156   .text.Storage_Search:00000168 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:7163   .rodata.Storage_Build_StorageInfo.str1.4:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:7167   .text.Storage_Build_StorageInfo:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:7172   .text.Storage_Build_StorageInfo:00000000 Storage_Build_StorageInfo
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:7450   .text.Storage_Build_StorageInfo:0000012c $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:7461   .text.Storage_DeleteAllDataSlot:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:7466   .text.Storage_DeleteAllDataSlot:00000000 Storage_DeleteAllDataSlot
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:7790   .text.Storage_DeleteAllDataSlot:00000140 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:7799   .text.Storage_Get_StorageInfo:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:7804   .text.Storage_Get_StorageInfo:00000000 Storage_Get_StorageInfo
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:8010   .text.Storage_Get_StorageInfo:000000e4 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:8017   .rodata.Storage_Init.str1.4:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:8036   .text.Storage_Init:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:8041   .text.Storage_Init:00000000 Storage_Init
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:8343   .text.Storage_Init:00000138 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:8359   .rodata.Storage_SecInfo_Print.str1.4:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:8387   .text.Storage_SecInfo_Print:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:8392   .text.Storage_SecInfo_Print:00000000 Storage_SecInfo_Print
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:8482   .text.Storage_SecInfo_Print:00000064 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:8495   .rodata.Storage_Shell_Get_BaseInfo.str1.4:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:8523   .text.Storage_Shell_Get_BaseInfo:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:8528   .text.Storage_Shell_Get_BaseInfo:00000000 Storage_Shell_Get_BaseInfo
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:8645   .text.Storage_Shell_Get_BaseInfo:00000098 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:8661   .rodata.Storage_ClassType_Print.str1.4:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:8677   .text.Storage_ClassType_Print:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:8682   .text.Storage_ClassType_Print:00000000 Storage_ClassType_Print
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 334


C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:8739   .text.Storage_ClassType_Print:00000038 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:8748   .rodata.Storage_SelectedClass_Print.str1.4:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:8761   .text.Storage_SelectedClass_Print:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:8766   .text.Storage_SelectedClass_Print:00000000 Storage_SelectedClass_Print
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:8852   .text.Storage_SelectedClass_Print:0000003c $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:8860   .rodata.Storage_Test.str1.4:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:8915   .text.Storage_Test:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:8920   .text.Storage_Test:00000000 Storage_Test
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:9159   .text.Storage_Test:00000128 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:9183   .rodata.Storage_Module_Format.str1.4:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:9204   .text.Storage_Module_Format:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:9209   .text.Storage_Module_Format:00000000 Storage_Module_Format
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:9297   .text.Storage_Module_Format:0000005c $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:9309   .rodata.Storage_Show_ModuleInfo.str1.4:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:9371   .text.Storage_Show_ModuleInfo:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:9376   .text.Storage_Show_ModuleInfo:00000000 Storage_Show_ModuleInfo
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:9594   .text.Storage_Show_ModuleInfo:00000100 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:9619   .rodata.Storage_Get_Flash_Section_IOAPI.str1.4:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:9623   .text.Storage_Get_Flash_Section_IOAPI:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:9628   .text.Storage_Get_Flash_Section_IOAPI:00000000 Storage_Get_Flash_Section_IOAPI
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:9728   .text.Storage_Get_Flash_Section_IOAPI:00000054 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:9738   .rodata.Storage_Show_FreeSlot.str1.4:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:9766   .text.Storage_Show_FreeSlot:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:9771   .text.Storage_Show_FreeSlot:00000000 Storage_Show_FreeSlot
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:9967   .text.Storage_Show_FreeSlot:000000d4 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:9986   .rodata.Storage_SearchData.str1.4:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:10067  .text.Storage_SearchData:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:10072  .text.Storage_SearchData:00000000 Storage_SearchData
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:10594  .text.Storage_SearchData:00000274 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:10629  .rodata.Storage_Show_Tab.str1.4:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:10720  .text.Storage_Show_Tab:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:10725  .text.Storage_Show_Tab:00000000 Storage_Show_Tab
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:11322  .text.Storage_Show_Tab:000002b0 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:11365  .rodata.Storage_Dump_DataSection.str1.4:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:11381  .text.Storage_Dump_DataSection:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:11386  .text.Storage_Dump_DataSection:00000000 Storage_Dump_DataSection
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:11663  .text.Storage_Dump_DataSection:00000104 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:11680  .rodata.Storage_UpdateData.str1.4:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:11690  .text.Storage_UpdateData:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:11695  .text.Storage_UpdateData:00000000 Storage_UpdateData
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:11865  .text.Storage_UpdateData:000000a8 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:11873  .rodata.Storage_DeleteData_Test.str1.4:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:11880  .text.Storage_DeleteData_Test:00000000 $t
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:11885  .text.Storage_DeleteData_Test:00000000 Storage_DeleteData_Test
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12009  .text.Storage_DeleteData_Test:00000084 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12212  shellCommand:00000000 shellCommandStorage_DeleteData
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12158  .rodata.shellDescStorage_DeleteData:00000000 shellDescStorage_DeleteData
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12098  .rodata.shellCmdStorage_DeleteData:00000000 shellCmdStorage_DeleteData
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12219  shellCommand:00000010 shellCommandStorage_UpdateData
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12206  .rodata.shellDescStorage_UpdateData:00000000 shellDescStorage_UpdateData
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12146  .rodata.shellCmdStorage_UpdateData:00000000 shellCmdStorage_UpdateData
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12226  shellCommand:00000020 shellCommandStorage_DumpSection
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12164  .rodata.shellDescStorage_DumpSection:00000000 shellDescStorage_DumpSection
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12104  .rodata.shellCmdStorage_DumpSection:00000000 shellCmdStorage_DumpSection
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12233  shellCommand:00000030 shellCommandStorage_DumpTab
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12170  .rodata.shellDescStorage_DumpTab:00000000 shellDescStorage_DumpTab
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12110  .rodata.shellCmdStorage_DumpTab:00000000 shellCmdStorage_DumpTab
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 335


C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12240  shellCommand:00000040 shellCommandStorage_Search
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12182  .rodata.shellDescStorage_Search:00000000 shellDescStorage_Search
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12122  .rodata.shellCmdStorage_Search:00000000 shellCmdStorage_Search
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12247  shellCommand:00000050 shellCommandStorage_Show_FreeSlot
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12188  .rodata.shellDescStorage_Show_FreeSlot:00000000 shellDescStorage_Show_FreeSlot
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12128  .rodata.shellCmdStorage_Show_FreeSlot:00000000 shellCmdStorage_Show_FreeSlot
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12254  shellCommand:00000060 shellCommandStorage_Show_ModuleInfo
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12194  .rodata.shellDescStorage_Show_ModuleInfo:00000000 shellDescStorage_Show_ModuleInfo
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12134  .rodata.shellCmdStorage_Show_ModuleInfo:00000000 shellCmdStorage_Show_ModuleInfo
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12261  shellCommand:00000070 shellCommandStorage_Module_Format
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12176  .rodata.shellDescStorage_Module_Format:00000000 shellDescStorage_Module_Format
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12116  .rodata.shellCmdStorage_Module_Format:00000000 shellCmdStorage_Module_Format
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12268  shellCommand:00000080 shellCommandStorage_Test
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12200  .rodata.shellDescStorage_Test:00000000 shellDescStorage_Test
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12140  .rodata.shellCmdStorage_Test:00000000 shellCmdStorage_Test
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12275  shellCommand:00000090 shellCommandStorage_BaseInfo
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12152  .rodata.shellDescStorage_BaseInfo:00000000 shellDescStorage_BaseInfo
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12092  .rodata.shellCmdStorage_BaseInfo:00000000 shellCmdStorage_BaseInfo
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12075  .data.Storage:00000000 Storage
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12063  .bss.Storage_Monitor:00000000 Storage_Monitor
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12049  .Perph_Section:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12059  .bss.Storage_Monitor:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12066  .bss.page_data_tmp:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12072  .data.Storage:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12089  .rodata.shellCmdStorage_BaseInfo:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12095  .rodata.shellCmdStorage_DeleteData:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12101  .rodata.shellCmdStorage_DumpSection:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12107  .rodata.shellCmdStorage_DumpTab:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12113  .rodata.shellCmdStorage_Module_Format:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12119  .rodata.shellCmdStorage_Search:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12125  .rodata.shellCmdStorage_Show_FreeSlot:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12131  .rodata.shellCmdStorage_Show_ModuleInfo:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12137  .rodata.shellCmdStorage_Test:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12143  .rodata.shellCmdStorage_UpdateData:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12149  .rodata.shellDescStorage_BaseInfo:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12155  .rodata.shellDescStorage_DeleteData:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12161  .rodata.shellDescStorage_DumpSection:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12167  .rodata.shellDescStorage_DumpTab:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12173  .rodata.shellDescStorage_Module_Format:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12179  .rodata.shellDescStorage_Search:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12185  .rodata.shellDescStorage_Show_FreeSlot:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12191  .rodata.shellDescStorage_Show_ModuleInfo:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12197  .rodata.shellDescStorage_Test:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12203  .rodata.shellDescStorage_UpdateData:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:12209  shellCommand:00000000 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:1280   .text.Storage_Error_Print:00000029 $d
C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s:1280   .text.Storage_Error_Print:0000002a $t

UNDEFINED SYMBOLS
SrvOsCommon
StoragePort_Api
memcpy
memset
BspFlash
__boot_e
Debug_Print
DebugPort
ARM GAS  C:\Users\8bit\AppData\Local\Temp\ccRfux6x.s 			page 336


Common_CRC16
strlen
memcmp
strcmp
shellPrint
Shell_GetInstence
